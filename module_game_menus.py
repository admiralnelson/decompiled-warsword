# -*- coding: UTF-8 -*-
####################################################################################################################
# Generated by Warband Module Decompiler
# All rights of the module belong to their respective owners
####################################################################################################################

from header_game_menus import *
from header_parties import *
from header_items import *
from header_mission_templates import *
from header_music import *
from header_terrain_types import *
from header_troops import *
from module_constants import *

####################################################################################################################
#  (menu-id, menu-flags, menu_text, mesh-name, [<operations>], [<options>]),
#
#   Each game menu is a tuple that contains the following fields:
#  
#  1) Game-menu id (string): used for referencing game-menus in other files.
#     The prefix menu_ is automatically added before each game-menu-id
#
#  2) Game-menu flags (int). See header_game_menus.py for a list of available flags.
#     You can also specify menu text color here, with the menu_text_color macro
#  3) Game-menu text (string).
#  4) mesh-name (string). Not currently used. Must be the string "none"
#  5) Operations block (list). A list of operations. See header_operations.py for reference.
#     The operations block is executed when the game menu is activated.
#  6) List of Menu options (List).
#     Each menu-option record is a tuple containing the following fields:
#   6.1) Menu-option-id (string) used for referencing game-menus in other files.
#        The prefix mno_ is automatically added before each menu-option.
#   6.2) Conditions block (list). This must be a valid operation block. See header_operations.py for reference. 
#        The conditions are executed for each menu option to decide whether the option will be shown to the player or not.
#   6.3) Menu-option text (string).
#   6.4) Consequences block (list). This must be a valid operation block. See header_operations.py for reference. 
#        The consequences are executed for the menu option that has been selected by the player.
#
#
# Note: The first Menu is the initial character creation menu.
####################################################################################################################

game_menus = [
  ("start_game_0", menu_text_color(0xFF000000)|mnf_disable_all_keys,
    "Welcome, adventurer, to Warsword Conquest. Before you can start playing the game you must create a character. To begin, select your character's species or race.",
    "none",
    [],
    [
      ("continue",
      [],
      "Continue...",
      [
        (store_attribute_level, ":var0", "trp_player", ca_strength),
        (store_attribute_level, ":var1", "trp_player", ca_agility),
        (store_attribute_level, ":var2", "trp_player", ca_intelligence),
        (store_attribute_level, ":var3", "trp_player", ca_charisma),
        (assign, reg0, ":var0"),
        (assign, reg1, ":var1"),
        (assign, reg2, ":var2"),
        (assign, reg3, ":var3"),
        (display_message, "@{!} Str {reg0}  Agi {reg1}  Int {reg2}  Cha {reg3}"),
        (val_sub, reg0, ":var0"),
        (val_sub, reg1, ":var1"),
        (val_sub, reg2, ":var2"),
        (val_sub, reg3, ":var3"),
        (troop_raise_attribute, "trp_player", ca_strength, reg0),
        (troop_raise_attribute, "trp_player", ca_agility, reg1),
        (troop_raise_attribute, "trp_player", ca_intelligence, reg2),
        (troop_raise_attribute, "trp_player", ca_charisma, reg3),
        (store_attribute_level, ":var0", "trp_player", ca_strength),
        (store_attribute_level, ":var1", "trp_player", ca_agility),
        (store_attribute_level, ":var2", "trp_player", ca_intelligence),
        (store_attribute_level, ":var3", "trp_player", ca_charisma),
        (assign, reg0, ":var0"),
        (assign, reg1, ":var1"),
        (assign, reg2, ":var2"),
        (assign, reg3, ":var3"),
        (display_message, "@{!} Str {reg0}  Agi {reg1}  Int {reg2}  Cha {reg3}"),
        (try_for_range, ":var4", "skl_trade", "skl_reserved_18"),
          (store_skill_level, ":var5", ":var4", "trp_player"),
          (assign, reg0, 0),
          (val_sub, reg0, ":var5"),
          (troop_raise_skill, "trp_player", ":var4", reg0),
        (try_end),
        (troop_set_proficiency, "trp_player", wpt_one_handed_weapon, 30),
        (troop_set_proficiency, "trp_player", wpt_two_handed_weapon, 30),
        (troop_set_proficiency, "trp_player", wpt_polearm, 30),
        (troop_set_proficiency, "trp_player", wpt_archery, 30),
        (troop_set_proficiency, "trp_player", wpt_crossbow, 30),
        (troop_set_proficiency, "trp_player", wpt_throwing, 30),
        (troop_set_proficiency, "trp_player", wpt_firearm, 30),
        (assign, "$background_type", 0),
        (assign, "$background_answer_11", 0),
        (assign, "$background_answer_12", 0),
        (assign, "$background_answer_13", 0),
        (assign, "$background_answer_14", 0),
        (assign, "$background_answer_15", 0),
        (assign, "$background_answer_16", 0),
        (assign, "$background_answer_17", 0),
        (assign, "$background_answer_18", 0),
        (assign, "$background_answer_19", 0),
        (assign, "$background_answer_20", 0),
        (assign, "$background_answer_21", 0),
        (assign, "$background_answer_22", 0),
        (assign, "$background_answer_23", 0),
        (assign, "$background_answer_24", 0),
        (assign, "$background_answer_25", 0),
        (assign, "$background_answer_26", 0),
        (assign, "$background_answer_27", 0),
        (assign, "$background_answer_28", 0),
        (assign, "$background_answer_29", 0),
        (assign, "$background_answer_30", 0),
        (assign, "$background_answer_31", 0),
        (assign, "$background_answer_32", 0),
        (assign, "$background_answer_33", 0),
        (assign, "$background_answer_34", 0),
        (assign, "$background_answer_35", 0),
        (assign, "$background_answer_36", 0),
        (assign, "$background_answer_37", 0),
        (assign, "$background_answer_38", 0),
        (assign, "$background_answer_39", 0),
        (assign, "$background_answer_40", 0),
        (assign, "$background_answer_41", 0),
        (assign, "$background_answer_42", 0),
        (assign, "$background_answer_43", 0),
        (assign, "$background_answer_44", 0),
        (assign, "$background_answer_45", 0),
        (assign, "$background_answer_46", 0),
        (assign, "$background_answer_47", 0),
        (assign, "$background_answer_48", 0),
        (assign, "$background_answer_49", 0),
        (assign, "$background_answer_50", 0),
        (assign, "$background_answer_51", 0),
        (assign, "$background_answer_52", 0),
        (assign, "$background_answer_53", 0),
        (troop_clear_inventory, "trp_player"),
        (try_for_range, ":var6", 0, 9),
          (troop_get_inventory_slot, ":var7", "trp_player", ":var6"),
          (gt, ":var7", -1),
          (troop_remove_item, "trp_player", ":var7"),
        (try_end),
        (try_for_range, ":var8", "fac_kingdom_1", "fac_kingdoms_end"),
          (set_relation, ":var8", "fac_player_faction", 0),
          (set_relation, ":var8", "fac_player_supporters_faction", 0),
        (try_end),
        (jump_to_menu, "mnu_start_game_1"),
      ]
      ),

      ("go_back",
      [],
      "Go_back",
      [
        (change_screen_quit),
      ]
      ),
    ],
  ),

  ("start_phase_2", mnf_disable_all_keys,
    "You live in the Old World, lands torn between rival kingdoms and races battling each other for supremacy, a haven for knights and mercenaries,  cutthroats and adventurers, all willing to risk their lives in pursuit of fortune, power, or glory... You take a deep breathe and consider your plans for your future. You could be a mighty warrior, a merchant, a mercenary, a tournament champion, a lord, maybe even a king. Whatever your destiny, whether it be one, some, maybe all of those things you will need to be assertive, fearless and talented at the arts of war. So prepare yourself for the adventures that lie ahead, your destiny is in your hands and unless you have the strength and skill to succeed you will just be another forgotten soul among millions.",
    "none",
    [],
    [
      ("town_1",
      [
        (eq, "$current_startup_quest_phase", 0),
      ],
      "travel_to_Altdorf,_in_the_Empire.",
      [
        (assign, "$current_town", "p_town_24"),
        (assign, "$g_starting_town", "$current_town"),
        (assign, "$g_journey_string", "str_journey_to_praven"),
        (party_relocate_near_party, "p_main_party", "$g_starting_town", 2),
        (change_screen_return),
      ]
      ),

      ("town_2",
      [
        (eq, "$current_startup_quest_phase", 0),
      ],
      "Start_at_Karak_Kadrin,_in_the_Kingdom_of_the_Dwarfs.",
      [
        (assign, "$current_town", "p_town_8"),
        (assign, "$g_starting_town", "$current_town"),
        (assign, "$g_journey_string", "str_journey_to_reyvadin"),
        (party_relocate_near_party, "p_main_party", "$g_starting_town", 2),
        (change_screen_return),
      ]
      ),

      ("town_3",
      [
        (eq, "$current_startup_quest_phase", 0),
      ],
      "travel_to_Bloodhorn,_in_the_Badlands_Goblins_Kingdom.",
      [
        (assign, "$current_town", "p_town_10"),
        (assign, "$g_starting_town", "$current_town"),
        (assign, "$g_journey_string", "str_journey_to_tulga"),
        (party_relocate_near_party, "p_main_party", "$g_starting_town", 2),
        (change_screen_return),
      ]
      ),

      ("town_4",
      [
        (eq, "$current_startup_quest_phase", 0),
      ],
      "travel_to_Grom_Peak,_in_the_Orc_Kingdom.",
      [
        (assign, "$current_town", "p_town_5"),
        (assign, "$g_starting_town", "$current_town"),
        (assign, "$g_journey_string", "str_journey_to_jelkala"),
        (party_relocate_near_party, "p_main_party", "$g_starting_town", 2),
        (change_screen_return),
      ]
      ),

      ("town_5",
      [
        (eq, "$current_startup_quest_phase", 0),
      ],
      "join_a_caravan_to_Khemri,_in_the_Tomb_Kings_Empire.",
      [
        (assign, "$current_town", "p_town_19"),
        (assign, "$g_starting_town", "$current_town"),
        (assign, "$g_journey_string", "str_journey_to_shariz"),
        (party_relocate_near_party, "p_main_party", "$g_starting_town", 2),
        (change_screen_return),
      ]
      ),

      ("town_6",
      [
        (eq, "$current_startup_quest_phase", 0),
      ],
      "join_a_caravan_to_Tlanxla,_in_the_Lizardman_Kingdom.",
      [
        (assign, "$current_town", "p_town_7"),
        (assign, "$g_starting_town", "$current_town"),
        (assign, "$g_journey_string", "str_journey_to_jelkala"),
        (party_relocate_near_party, "p_main_party", "$g_starting_town", 2),
        (change_screen_return),
      ]
      ),

      ("town_7",
      [
        (eq, "$current_startup_quest_phase", 0),
      ],
      "take_a_ship_to_Lothern,_in_the_High_Elf_Kingdom",
      [
        (assign, "$current_town", "p_town_27"),
        (assign, "$g_starting_town", "$current_town"),
        (assign, "$g_journey_string", "str_journey_to_jelkala"),
        (party_relocate_near_party, "p_main_party", "$g_starting_town", 2),
        (change_screen_return),
      ]
      ),

      ("town_8",
      [
        (eq, "$current_startup_quest_phase", 0),
      ],
      "travel_to_Couronne,_in_the_Kingdom_of_Bretonnia",
      [
        (assign, "$current_town", "p_town_30"),
        (assign, "$g_starting_town", "$current_town"),
        (assign, "$g_journey_string", "str_journey_to_jelkala"),
        (party_relocate_near_party, "p_main_party", "$g_starting_town", 2),
        (change_screen_return),
      ]
      ),

      ("town_9",
      [
        (eq, "$current_startup_quest_phase", 0),
      ],
      "travel_to_Mount_Vanir,_in_the_Realm_Of_Chaos",
      [
        (assign, "$current_town", "p_town_31"),
        (assign, "$g_starting_town", "$current_town"),
        (assign, "$g_journey_string", "str_journey_to_jelkala"),
        (party_relocate_near_party, "p_main_party", "$g_starting_town", 2),
        (change_screen_return),
      ]
      ),

      ("town_10",
      [
        (eq, "$current_startup_quest_phase", 0),
      ],
      "start_at_Skavenblight,_in_the_Skaven_Underworld",
      [
        (assign, "$current_town", "p_town_18"),
        (assign, "$g_starting_town", "$current_town"),
        (assign, "$g_journey_string", "str_journey_to_jelkala"),
        (party_relocate_near_party, "p_main_party", "$g_starting_town", 2),
        (change_screen_return),
      ]
      ),

      ("town_11",
      [
        (eq, "$current_startup_quest_phase", 0),
      ],
      "travel_to_Clar_Karond,_in_the_Dark_Elf_Kingdom",
      [
        (assign, "$current_town", "p_town_16"),
        (assign, "$g_starting_town", "$current_town"),
        (assign, "$g_journey_string", "str_journey_to_jelkala"),
        (party_relocate_near_party, "p_main_party", "$g_starting_town", 2),
        (change_screen_return),
      ]
      ),

      ("town_12",
      [
        (eq, "$current_startup_quest_phase", 0),
      ],
      "travel_to_Great_Ogham,_in_the_Chaos_Dwarf_Colonies",
      [
        (assign, "$current_town", "p_town_49"),
        (assign, "$g_starting_town", "$current_town"),
        (assign, "$g_journey_string", "str_journey_to_jelkala"),
        (party_relocate_near_party, "p_main_party", "$g_starting_town", 2),
        (change_screen_return),
      ]
      ),

      ("town_13",
      [
        (eq, "$current_startup_quest_phase", 0),
      ],
      "Start_at_The_Great_Horn,_in_the_Beastman_Domain",
      [
        (assign, "$current_town", "p_town_38"),
        (assign, "$g_starting_town", "$current_town"),
        (assign, "$g_journey_string", "str_journey_to_jelkala"),
        (party_relocate_near_party, "p_main_party", "$g_starting_town", 2),
        (change_screen_return),
      ]
      ),

      ("town_14",
      [
        (eq, "$current_startup_quest_phase", 0),
      ],
      "Start_at_Kyominato,_a_town_in_the_Nippon_Colonies",
      [
        (assign, "$current_town", "p_town_39"),
        (assign, "$g_starting_town", "$current_town"),
        (assign, "$g_journey_string", "str_journey_to_jelkala"),
        (party_relocate_near_party, "p_main_party", "$g_starting_town", 2),
        (change_screen_return),
      ]
      ),

      ("town_15",
      [
        (eq, "$current_startup_quest_phase", 0),
      ],
      "Start_at_Drakenhof,_a_town_in_Sylvania",
      [
        (assign, "$current_town", "p_town_44"),
        (assign, "$g_starting_town", "$current_town"),
        (assign, "$g_journey_string", "str_journey_to_jelkala"),
        (party_relocate_near_party, "p_main_party", "$g_starting_town", 2),
        (change_screen_return),
      ]
      ),

      ("town_16",
      [
        (eq, "$current_startup_quest_phase", 0),
      ],
      "Start_at_Kings_Glade,_capital_of_the_Wood_Elves",
      [
        (assign, "$current_town", "p_town_46"),
        (assign, "$g_starting_town", "$current_town"),
        (assign, "$g_journey_string", "str_journey_to_jelkala"),
        (party_relocate_near_party, "p_main_party", "$g_starting_town", 2),
        (change_screen_return),
      ]
      ),

      ("tutorial_cheat",
      [
        (eq, 1, 0),
      ],
      "{!}CHEAT!",
      [
        (change_screen_return),
        (assign, "$cheat_mode", 1),
        (set_show_messages, 0),
        (party_add_members, "p_main_party", "trp_swadian_knight", 10),
        (party_add_members, "p_main_party", "trp_vaegir_knight", 10),
        (party_add_members, "p_main_party", "trp_vaegir_archer", 10),
        (party_add_members, "p_main_party", "trp_swadian_sharpshooter", 10),
        (troop_add_item, "trp_player", "itm_scale_armor", 0),
        (troop_add_item, "trp_player", "itm_full_helm", 0),
        (troop_add_item, "trp_player", "itm_hafted_blade_b", 0),
        (troop_add_item, "trp_player", "itm_hafted_blade_a", 0),
        (troop_add_item, "trp_player", "itm_morningstar", 0),
        (troop_add_item, "trp_player", "itm_tutorial_spear", 0),
        (troop_add_item, "trp_player", "itm_tutorial_staff", 0),
        (troop_add_item, "trp_player", "itm_tutorial_staff_no_attack", 0),
        (troop_add_item, "trp_player", "itm_arena_lance", 0),
        (troop_add_item, "trp_player", "itm_practice_staff", 0),
        (troop_add_item, "trp_player", "itm_practice_lance", 0),
        (troop_add_item, "trp_player", "itm_practice_javelin", 0),
        (troop_add_item, "trp_player", "itm_scythe", 0),
        (troop_add_item, "trp_player", "itm_pitch_fork", 0),
        (troop_add_item, "trp_player", "itm_military_fork", 0),
        (troop_add_item, "trp_player", "itm_battle_fork", 0),
        (troop_add_item, "trp_player", "itm_boar_spear", 0),
        (troop_add_item, "trp_player", "itm_jousting_lance", 0),
        (troop_add_item, "trp_player", "itm_double_sided_lance", 0),
        (troop_add_item, "trp_player", "itm_glaive", 0),
        (troop_add_item, "trp_player", "itm_poleaxe", 0),
        (troop_add_item, "trp_player", "itm_polehammer", 0),
        (troop_add_item, "trp_player", "itm_staff", 0),
        (troop_add_item, "trp_player", "itm_quarter_staff", 0),
        (troop_add_item, "trp_player", "itm_iron_staff", 0),
        (troop_add_item, "trp_player", "itm_shortened_spear", 0),
        (troop_add_item, "trp_player", "itm_spear", 0),
        (troop_add_item, "trp_player", "itm_war_spear", 0),
        (troop_add_item, "trp_player", "itm_military_scythe", 0),
        (troop_add_item, "trp_player", "itm_light_lance", 0),
        (troop_add_item, "trp_player", "itm_lance", 0),
        (troop_add_item, "trp_player", "itm_heavy_lance", 0),
        (troop_add_item, "trp_player", "itm_great_lance", 0),
        (troop_add_item, "trp_player", "itm_pike", 0),
        (troop_add_item, "trp_player", "itm_ashwood_pike", 0),
        (troop_add_item, "trp_player", "itm_awlpike", 0),
        (troop_add_item, "trp_player", "itm_throwing_spears", 0),
        (troop_add_item, "trp_player", "itm_javelin", 0),
        (troop_add_item, "trp_player", "itm_jarid", 0),
        (troop_add_item, "trp_player", "itm_long_axe_b", 0),
        (set_show_messages, 1),
        (try_for_range, ":var0", "scn_town_1_center", "scn_castle_1_exterior"),
          (scene_set_slot, ":var0", 0, 1),
        (try_end),
        (call_script, "script_get_player_party_morale_values"),
        (party_set_morale, "p_main_party", reg0),
      ]
      ),
    ],
  ),

  ("start_game_3", mnf_disable_all_keys,
    "Choose your scenario:",
    "none",
    [
      (assign, "$g_custom_battle_scenario", 0),
      (assign, "$g_custom_battle_scenario", "$g_custom_battle_scenario"),
    ],
    [
      ("go_back",
      [],
      "Go_back",
      [
        (change_screen_quit),
      ]
      ),
    ],
  ),

  ("tutorial", mnf_disable_all_keys,
    "You approach a field where the locals are training with weapons. You can practice here to improve your combat skills.",
    "none",
    [
      (try_begin),
        (eq, "$g_tutorial_entered", 1),
        (change_screen_quit),
      (else_try),
        (set_passage_menu, "mnu_tutorial"),
        (assign, "$g_tutorial_entered", 1),
      (try_end),
    ],
    [
      ("continue",
      [],
      "Continue...",
      [
        (modify_visitors_at_site, "scn_tutorial_training_ground"),
        (reset_visitors, 0),
        (set_player_troop, "trp_player"),
        (assign, "$g_player_troop", "trp_player"),
        (troop_clear_inventory, "$g_player_troop"),
        (troop_add_item, "$g_player_troop", "itm_leather_jerkin", 0),
        (troop_add_item, "$g_player_troop", "itm_leather_boots", 0),
        (troop_add_item, "$g_player_troop", "itm_practice_sword", 0),
        (troop_add_item, "$g_player_troop", "itm_quarter_staff", 0),
        (troop_equip_items, "$g_player_troop"),
        (set_visitor, 0, "trp_player"),
        (set_visitor, 32, "trp_tutorial_fighter_1"),
        (set_visitor, 33, "trp_tutorial_fighter_2"),
        (set_visitor, 34, "trp_tutorial_fighter_3"),
        (set_visitor, 35, "trp_tutorial_fighter_4"),
        (set_visitor, 40, "trp_tutorial_master_archer"),
        (set_visitor, 41, "trp_tutorial_archer_1"),
        (set_visitor, 42, "trp_tutorial_archer_1"),
        (set_visitor, 60, "trp_tutorial_master_horseman"),
        (set_visitor, 61, "trp_tutorial_rider_1"),
        (set_visitor, 62, "trp_tutorial_rider_1"),
        (set_visitor, 63, "trp_tutorial_rider_2"),
        (set_visitor, 64, "trp_tutorial_rider_2"),
        (set_jump_mission, "mt_tutorial_training_ground"),
        (jump_to_scene, "scn_tutorial_training_ground"),
        (change_screen_mission),
      ]
      ),

      ("go_back_dot",
      [],
      "Go_back.",
      [
        (change_screen_quit),
      ]
      ),
    ],
  ),

  ("reports", 0,
    "Character Renown: {reg5}^Character Reputation: {reg6}^Party Morale: {reg8}^Party Size Limit: {reg7}^{s1}",
    "none",
    [
      (call_script, "script_game_get_party_companion_limit"),
      (assign, ":var0", reg0),
      (troop_get_slot, ":var1", "trp_player", 7),
      (assign, reg5, ":var1"),
      (assign, reg6, "$player_honor"),
      (assign, reg7, ":var0"),
      (party_get_morale, reg8, "p_main_party"),
      (str_clear, s1),
      (try_begin),
        (gt, "$g_next_pay_time", 0),
        (str_store_date, s1, "$g_next_pay_time"),
        (str_store_string, s1, "@ Next pay day: {s1}"),
      (try_end),
    ],
    [
      ("cheat_faction_orders",
      [
        (ge, "$cheat_mode", 1),
      ],
      "{!}Cheat:_Faction_orders.",
      [
        (jump_to_menu, "mnu_faction_orders"),
      ]
      ),

      ("action_view_troop_trees",
      [],
      "View_troop_trees.",
      [
        (start_presentation, "prsnt_faction_troop_trees"),
      ]
      ),

      ("view_character_report",
      [],
      "View_character_report.",
      [
        (jump_to_menu, "mnu_character_report"),
      ]
      ),

      ("view_party_size_report",
      [],
      "View_party_size_report.",
      [
        (jump_to_menu, "mnu_party_size_report"),
      ]
      ),

      ("view_npc_mission_report",
      [],
      "View_companion_mission_report.",
      [
        (jump_to_menu, "mnu_companion_report"),
        (assign, "$g_player_troop", "trp_player"),
      ]
      ),

      ("view_weekly_budget_report",
      [],
      "View_weekly_budget_report.",
      [
        (assign, "$g_apply_budget_report_to_gold", 0),
        (start_presentation, "prsnt_budget_report"),
      ]
      ),

      ("view_morale_report",
      [],
      "View_party_morale_report.",
      [
        (jump_to_menu, "mnu_morale_report"),
      ]
      ),

      ("lord_relations",
      [],
      "View_list_of_known_lords_by_relation.",
      [
        (assign, "$g_jrider_pres_called_from_menu", 1),
        (assign, "$g_character_presentation_type", 1),
        (start_presentation, "prsnt_jrider_character_relation_report"),
      ]
      ),

      ("view_affiliated_family_report",
      [
        (this_or_next|eq, "$cheat_mode", 1),
        (is_between, "$g_player_affiliated_troop", "fac_player_supporters_faction", "fac_kingdoms_end"),
      ],
      "View_affiliated_family_member_/_spouse_report.",
      [
        (jump_to_menu, "mnu_dplmc_affiliated_family_report"),
      ]
      ),

      ("courtship_relations",
      [],
      "View_courtship_relations.",
      [
        (jump_to_menu, "mnu_courtship_relations"),
      ]
      ),

      ("status_check",
      [
        (eq, "$cheat_mode", 1),
      ],
      "{!}NPC_status_check.",
      [
        (try_for_range, ":var0", "trp_npc1", "trp_kingdom_1_lord"),
          (main_party_has_troop, ":var0"),
          (str_store_troop_name, s4, ":var0"),
          (troop_get_slot, reg3, ":var0", 61),
          (troop_get_slot, reg4, ":var0", 65),
          (troop_get_slot, reg5, ":var0", 72),
          (troop_get_slot, reg6, ":var0", 74),
          (troop_get_slot, reg7, ":var0", 76),
          (display_message, "@{!}{s4}: M{reg3}, 2M{reg4}, PC{reg5}, 2PC{reg6}, PM{reg7}"),
        (try_end),
      ]
      ),

      ("view_faction_relations_report3",
      [],
      "View_faction_relations_report_(with_prejudice).",
      [
        (start_presentation, "prsnt_jrider_faction_relations_report3"),
      ]
      ),

      ("view_faction_relations_report2",
      [],
      "View_faction_relations_report_[page_2]_(with_prejudice).",
      [
        (start_presentation, "prsnt_jrider_faction_relations_report2"),
      ]
      ),

      ("view_reference_materials",
      [],
      "Reference_Material",
      [
        (jump_to_menu, "mnu_reference_reports"),
      ]
      ),

      ("resume_travelling",
      [],
      "Resume_travelling.",
      [
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("reference_reports", 0,
    "Reference Material: use notes, recent messages to view output",
    "none",
    [],
    [
      ("view_reference_materials_a",
      [
        (ge, "$cheat_mode", 1),
      ],
      "view_trade_routes",
      [
        (jump_to_menu, "mnu_reference_reports_a"),
      ]
      ),

      ("show_raw_prejudice1",
      [
        (ge, "$cheat_mode", 1),
      ],
      "show_first_5_races_raw_prejudice",
      [
        (try_for_range, ":var0", 0, 5),
          (try_for_range, ":var1", 0, 22),
            (str_clear, s1),
            (str_clear, s2),
            (store_add, ":var2", "str_skin00", ":var0"),
            (str_store_string, s1, ":var2"),
            (store_add, ":var3", "str_skin00", ":var1"),
            (str_store_string, s2, ":var3"),
            (store_mul, ":var4", ":var0", 23),
            (val_add, ":var4", ":var1"),
            (val_add, ":var4", 1),
            (call_script, "script_list_at_nc", "trp_list_07", ":var4"),
            (val_div, reg1, 5),
            (display_message, "@: prej {s1} & {s2} = {reg1}"),
          (try_end),
        (try_end),
      ]
      ),

      ("show_raw_prejudice2",
      [
        (ge, "$cheat_mode", 1),
      ],
      "show_2nd_5_races_raw_prejudice",
      [
        (try_for_range, ":var0", 5, 10),
          (try_for_range, ":var1", 0, 22),
            (str_clear, s1),
            (str_clear, s2),
            (store_add, ":var2", "str_skin00", ":var0"),
            (str_store_string, s1, ":var2"),
            (store_add, ":var3", "str_skin00", ":var1"),
            (str_store_string, s2, ":var3"),
            (store_mul, ":var4", ":var0", 23),
            (val_add, ":var4", ":var1"),
            (val_add, ":var4", 1),
            (call_script, "script_list_at_nc", "trp_list_07", ":var4"),
            (val_div, reg1, 5),
            (display_message, "@: prej {s1} & {s2} = {reg1}"),
          (try_end),
        (try_end),
      ]
      ),

      ("show_raw_prejudice3",
      [
        (ge, "$cheat_mode", 1),
      ],
      "show_3rd_5_races_raw_prejudice",
      [
        (try_for_range, ":var0", 10, 15),
          (try_for_range, ":var1", 0, 22),
            (str_clear, s1),
            (str_clear, s2),
            (store_add, ":var2", "str_skin00", ":var0"),
            (str_store_string, s1, ":var2"),
            (store_add, ":var3", "str_skin00", ":var1"),
            (str_store_string, s2, ":var3"),
            (store_mul, ":var4", ":var0", 23),
            (val_add, ":var4", ":var1"),
            (val_add, ":var4", 1),
            (call_script, "script_list_at_nc", "trp_list_07", ":var4"),
            (val_div, reg1, 5),
            (display_message, "@: prej {s1} & {s2} = {reg1}"),
          (try_end),
        (try_end),
      ]
      ),

      ("show_raw_prejudice4",
      [
        (ge, "$cheat_mode", 1),
      ],
      "show_4th_6_races_raw_prejudice",
      [
        (try_for_range, ":var0", 15, 21),
          (try_for_range, ":var1", 0, 22),
            (str_clear, s1),
            (str_clear, s2),
            (store_add, ":var2", "str_skin00", ":var0"),
            (str_store_string, s1, ":var2"),
            (store_add, ":var3", "str_skin00", ":var1"),
            (str_store_string, s2, ":var3"),
            (store_mul, ":var4", ":var0", 23),
            (val_add, ":var4", ":var1"),
            (val_add, ":var4", 1),
            (call_script, "script_list_at_nc", "trp_list_07", ":var4"),
            (val_div, reg1, 5),
            (display_message, "@: prej {s1} & {s2} = {reg1}"),
          (try_end),
        (try_end),
      ]
      ),

      ("show_party_prej_random",
      [],
      "show_prejudice:_player_party_vs_random_troop",
      [
        (store_random_in_range, ":var0", "trp_farmer", "trp_spy_walker_1"),
        (try_begin),
          (call_script, "script_cf_evaluate_troop_prejudice", "p_main_party", ":var0"),
        (try_end),
        (str_clear, s4),
        (str_store_troop_name, s4, ":var0"),
        (display_message, "@party reaction adjust for  {s4}: {reg1}"),
      ]
      ),

      ("set_deep_debug",
      [
        (ge, "$cheat_mode", 1),
      ],
      "set_deep_debug_messages_(use_PBOD_cheat_mode_toggle_to_go_back_to_normal",
      [
        (assign, "$cheat_mode", 5),
      ]
      ),

      ("dplmc_show_economic_report",
      [],
      "View_prosperity_report.",
      [
        (jump_to_menu, "mnu_dplmc_economic_report"),
      ]
      ),

      ("action_view_all_troops1",
      [],
      "View_All_Troops_(main_factions)",
      [
        (assign, "$vai_region_value", 0),
        (assign, "$vai_region_kingdom", "fac_player_supporters_faction"),
        (start_presentation, "prsnt_all_troops"),
      ]
      ),

      ("action_view_all_troops2",
      [],
      "View_All_Lords",
      [
        (try_for_range, ":var0", "trp_kingdom_heroes_including_player_begin", "trp_heroes_end"),
          (call_script, "script_ce_get_troop_encumbrance", ":var0"),
          (call_script, "script_ce_put_troop_encumbrance", ":var0", 0),
        (try_end),
        (assign, "$vai_region_value", 0),
        (assign, "$vai_region_kingdom", "fac_player_supporters_faction"),
        (start_presentation, "prsnt_all_troops2"),
      ]
      ),

      ("action_view_all_troops3",
      [],
      "View_All_Mercs_and_Misc",
      [
        (try_for_range, ":var0", "trp_kingdom_heroes_including_player_begin", "trp_heroes_end"),
          (call_script, "script_ce_get_troop_encumbrance", ":var0"),
          (call_script, "script_ce_put_troop_encumbrance", ":var0", 0),
        (try_end),
        (assign, "$vai_region_value", 0),
        (start_presentation, "prsnt_all_troops3"),
      ]
      ),

      ("action_view_all_troops4",
      [],
      "View_Player_and_Kingdom_Ladies",
      [
        (try_for_range, ":var0", "trp_kingdom_heroes_including_player_begin", "trp_heroes_end"),
          (call_script, "script_ce_get_troop_encumbrance", ":var0"),
          (call_script, "script_ce_put_troop_encumbrance", ":var0", 0),
        (try_end),
        (call_script, "script_ce_get_troop_encumbrance", "trp_player"),
        (call_script, "script_ce_put_troop_encumbrance", "trp_player", 0),
        (assign, "$vai_region_value", 0),
        (start_presentation, "prsnt_all_troops4"),
      ]
      ),

      ("action_view_all_items",
      [],
      "View_All_Items",
      [
        (assign, "$temp", 0),
        (assign, "$vai_region_value", 0),
        (start_presentation, "prsnt_all_items"),
      ]
      ),

      ("metrics_for_parties",
      [],
      "{!}Measure_parties_counts.",
      [
        (jump_to_menu, "mnu_metrics_for_parties1"),
      ]
      ),

      ("return",
      [],
      "Return",
      [
        (jump_to_menu, "mnu_reports"),
      ]
      ),
    ],
  ),

  ("metrics_for_parties1", 0,
    "{s16}^{s17}^{s15}",
    "none",
    [
      (assign, ":var0", 0),
      (assign, ":var1", 0),
      (assign, ":var2", 0),
      (assign, ":var3", 0),
      (assign, ":var4", 0),
      (assign, ":var5", 0),
      (assign, ":var6", 0),
      (assign, ":var7", 0),
      (assign, ":var8", 0),
      (assign, ":var9", 0),
      (assign, ":var10", 0),
      (assign, ":var11", 0),
      (assign, ":var12", 0),
      (try_for_parties, ":var13"),
        (val_add, ":var0", 1),
        (try_begin),
          (le, ":var13", "p_spawn_points_end"),
          (val_add, ":var7", 1),
        (try_end),
        (gt, ":var13", "p_spawn_points_end"),
        (party_get_template_id, ":var14", ":var13"),
        (store_faction_of_party, ":var15", ":var13"),
        (try_begin),
          (party_is_active, ":var13"),
          (try_begin),
            (party_slot_eq, ":var13", 0, 11),
            (val_add, ":var4", 1),
          (else_try),
            (eq, ":var14", "pt_looters"),
            (val_add, ":var2", 1),
          (else_try),
            (eq, ":var14", "pt_deserters"),
            (val_add, ":var3", 1),
          (else_try),
            (eq, ":var14", "pt_patrol_party"),
            (val_add, ":var6", 1),
          (else_try),
            (this_or_next|eq, ":var14", "pt_forager_party"),
            (eq, ":var14", "pt_scout_party"),
            (val_add, ":var12", 1),
          (else_try),
            (is_between, ":var15", "fac_kingdom_1", "fac_kingdoms_end"),
            (val_add, ":var8", 1),
          (else_try),
            (eq, ":var15", "fac_commoners"),
            (val_add, ":var10", 1),
          (else_try),
            (is_between, ":var14", "pt_steppe_bandits", "pt_troublesome_bandits"),
            (val_add, ":var9", 1),
          (else_try),
            (eq, ":var15", "fac_outlaws"),
            (val_add, ":var11", 1),
          (try_end),
        (else_try),
          (val_add, ":var1", 1),
          (try_begin),
            (party_slot_eq, ":var13", 0, 11),
            (val_add, ":var5", 1),
          (try_end),
        (try_end),
      (try_end),
      (assign, reg3, ":var0"),
      (assign, reg4, ":var1"),
      (store_num_parties_of_template, reg5, "pt_looters"),
      (assign, reg6, ":var2"),
      (str_store_string, s16, "@Total Parties: {reg3}   Inactive: {reg4}^Looters: {reg5}  active: {reg6}^"),
      (store_num_parties_of_template, reg3, "pt_deserters"),
      (assign, reg4, ":var3"),
      (assign, reg5, ":var4"),
      (assign, reg6, ":var5"),
      (store_num_parties_of_template, reg7, "pt_patrol_party"),
      (assign, reg8, ":var6"),
      (str_store_string, s17, "@Deserters: {reg3}  counted: {reg4}^Royal Traders: {reg5}  inactive: {reg6}^Patrols: {reg7}  counted: {reg8}^"),
      (assign, reg16, ":var7"),
      (assign, reg17, ":var8"),
      (assign, reg18, ":var9"),
      (assign, reg19, ":var10"),
      (assign, reg20, ":var11"),
      (assign, reg21, ":var12"),
      (str_store_string, s15, "@Centers and Lairs: {reg16}  Kingdom Parties: {reg17}  Laired Bandits: {reg18}^Commoners: {reg19}  Outlaws: {reg20} Foragers: {reg21}"),
    ],
    [
      ("return",
      [],
      "Return",
      [
        (jump_to_menu, "mnu_reports"),
      ]
      ),
    ],
  ),

  ("reference_reports_a", 0,
    "trade routes sub menu",
    "none",
    [],
    [
      ("show_first_trade_routes",
      [],
      "list_first_7_cities_trade_routes",
      [
        (store_add, ":var0", "p_town_1", 6),
        (try_for_range, ":var1", "p_town_1", ":var0"),
          (str_store_party_name, s1, ":var1"),
          (store_sub, reg2, ":var1", "p_town_1"),
          (val_add, reg2, 1),
          (display_message, "@{!}town:{reg2} name:{s1} has routes:"),
          (assign, ":var2", 0),
          (try_for_range, ":var3", 200, 215),
            (party_get_slot, ":var4", ":var1", ":var3"),
            (gt, ":var4", 0),
            (val_add, ":var2", 1),
            (assign, reg1, ":var2"),
            (store_sub, reg2, ":var4", "p_town_1"),
            (val_add, reg2, 1),
            (str_store_party_name, s2, ":var4"),
            (display_message, "@{!}#:{reg1}  town:{reg2} name:{s2}"),
          (try_end),
        (try_end),
      ]
      ),

      ("show_second_trade_routes",
      [],
      "list_second_7_cities_trade_routes",
      [
        (store_add, ":var0", "p_town_1", 6),
        (store_add, ":var1", "p_town_1", 14),
        (try_for_range, ":var2", ":var0", ":var1"),
          (str_store_party_name, s1, ":var2"),
          (store_sub, reg2, ":var2", "p_town_1"),
          (val_add, reg2, 1),
          (display_message, "@{!}town:{reg2} name:{s1} has routes:"),
          (assign, ":var3", 0),
          (try_for_range, ":var4", 200, 215),
            (party_get_slot, ":var5", ":var2", ":var4"),
            (gt, ":var5", 0),
            (val_add, ":var3", 1),
            (assign, reg1, ":var3"),
            (store_sub, reg2, ":var5", "p_town_1"),
            (val_add, reg2, 1),
            (str_store_party_name, s2, ":var5"),
            (display_message, "@{!}#:{reg1}  town:{reg2} name:{s2}"),
          (try_end),
        (try_end),
      ]
      ),

      ("show_third_trade_routes",
      [],
      "list_3rd_7_cities_trade_routes",
      [
        (store_add, ":var0", "p_town_1", 14),
        (store_add, ":var1", "p_town_1", 21),
        (try_for_range, ":var2", ":var0", ":var1"),
          (str_store_party_name, s1, ":var2"),
          (store_sub, reg2, ":var2", "p_town_1"),
          (val_add, reg2, 1),
          (display_message, "@{!}town:{reg2} name:{s1} has routes:"),
          (assign, ":var3", 0),
          (try_for_range, ":var4", 200, 215),
            (party_get_slot, ":var5", ":var2", ":var4"),
            (gt, ":var5", 0),
            (val_add, ":var3", 1),
            (assign, reg1, ":var3"),
            (store_sub, reg2, ":var5", "p_town_1"),
            (val_add, reg2, 1),
            (str_store_party_name, s2, ":var5"),
            (display_message, "@{!}#:{reg1}  town:{reg2} name:{s2}"),
          (try_end),
        (try_end),
      ]
      ),

      ("show_fourth_trade_routes",
      [],
      "list_4th_7_cities_trade_routes",
      [
        (store_add, ":var0", "p_town_1", 21),
        (store_add, ":var1", "p_town_1", 28),
        (try_for_range, ":var2", ":var0", ":var1"),
          (str_store_party_name, s1, ":var2"),
          (store_sub, reg2, ":var2", "p_town_1"),
          (val_add, reg2, 1),
          (display_message, "@{!}town:{reg2} name:{s1} has routes:"),
          (assign, ":var3", 0),
          (try_for_range, ":var4", 200, 215),
            (party_get_slot, ":var5", ":var2", ":var4"),
            (gt, ":var5", 0),
            (val_add, ":var3", 1),
            (assign, reg1, ":var3"),
            (store_sub, reg2, ":var5", "p_town_1"),
            (val_add, reg2, 1),
            (str_store_party_name, s2, ":var5"),
            (display_message, "@{!}#:{reg1}  town:{reg2} name:{s2}"),
          (try_end),
        (try_end),
      ]
      ),

      ("show_fifth_trade_routes",
      [],
      "list_5th_7_cities_trade_routes",
      [
        (store_add, ":var0", "p_town_1", 28),
        (store_add, ":var1", "p_town_1", 36),
        (try_for_range, ":var2", ":var0", ":var1"),
          (str_store_party_name, s1, ":var2"),
          (store_sub, reg2, ":var2", "p_town_1"),
          (val_add, reg2, 1),
          (display_message, "@{!}town:{reg2} name:{s1} has routes:"),
          (assign, ":var3", 0),
          (try_for_range, ":var4", 200, 215),
            (party_get_slot, ":var5", ":var2", ":var4"),
            (gt, ":var5", 0),
            (val_add, ":var3", 1),
            (assign, reg1, ":var3"),
            (store_sub, reg2, ":var5", "p_town_1"),
            (val_add, reg2, 1),
            (str_store_party_name, s2, ":var5"),
            (display_message, "@{!}#:{reg1}  town:{reg2} name:{s2}"),
          (try_end),
        (try_end),
      ]
      ),

      ("show_sixth_trade_routes",
      [],
      "list_6th_7_cities_trade_routes",
      [
        (store_add, ":var0", "p_town_1", 36),
        (store_add, ":var1", "p_town_1", 43),
        (try_for_range, ":var2", ":var0", ":var1"),
          (str_store_party_name, s1, ":var2"),
          (store_sub, reg2, ":var2", "p_town_1"),
          (val_add, reg2, 1),
          (display_message, "@{!}town:{reg2} name:{s1} has routes:"),
          (assign, ":var3", 0),
          (try_for_range, ":var4", 200, 215),
            (party_get_slot, ":var5", ":var2", ":var4"),
            (gt, ":var5", 0),
            (val_add, ":var3", 1),
            (assign, reg1, ":var3"),
            (store_sub, reg2, ":var5", "p_town_1"),
            (val_add, reg2, 1),
            (str_store_party_name, s2, ":var5"),
            (display_message, "@{!}#:{reg1}  town:{reg2} name:{s2}"),
          (try_end),
        (try_end),
      ]
      ),

      ("show_sixth_trade_routes",
      [],
      "list_7th_7_cities_trade_routes",
      [
        (store_add, ":var0", "p_town_1", 43),
        (try_for_range, ":var1", ":var0", "p_castle_1"),
          (str_store_party_name, s1, ":var1"),
          (store_sub, reg2, ":var1", "p_town_1"),
          (val_add, reg2, 1),
          (display_message, "@{!}town:{reg2} name:{s1} has routes:"),
          (assign, ":var2", 0),
          (try_for_range, ":var3", 200, 215),
            (party_get_slot, ":var4", ":var1", ":var3"),
            (gt, ":var4", 0),
            (val_add, ":var2", 1),
            (assign, reg1, ":var2"),
            (store_sub, reg2, ":var4", "p_town_1"),
            (val_add, reg2, 1),
            (str_store_party_name, s2, ":var4"),
            (display_message, "@{!}#:{reg1}  town:{reg2} name:{s2}"),
          (try_end),
        (try_end),
      ]
      ),

      ("return",
      [],
      "Return",
      [
        (jump_to_menu, "mnu_reference_reports"),
      ]
      ),
    ],
  ),

  ("custom_battle_scene", menu_text_color(0xFF000000)|mnf_disable_all_keys,
    "(NO TRANS)",
    "none",
    [],
    [
      ("quick_battle_scene_1",
      [],
      "{!}quick_battle_scene_1",
      [
        (set_jump_mission, "mt_ai_training"),
        (jump_to_scene, "scn_quick_battle_scene_1"),
        (change_screen_mission),
      ]
      ),

      ("quick_battle_scene_2",
      [],
      "{!}quick_battle_scene_2",
      [
        (set_jump_mission, "mt_ai_training"),
        (jump_to_scene, "scn_quick_battle_scene_2"),
        (change_screen_mission),
      ]
      ),

      ("quick_battle_scene_3",
      [],
      "{!}quick_battle_scene_3",
      [
        (set_jump_mission, "mt_ai_training"),
        (jump_to_scene, "scn_quick_battle_scene_3"),
        (change_screen_mission),
      ]
      ),

      ("quick_battle_scene_4",
      [],
      "{!}quick_battle_scene_4",
      [
        (set_jump_mission, "mt_ai_training"),
        (jump_to_scene, "scn_quick_battle_scene_4"),
        (change_screen_mission),
      ]
      ),

      ("quick_battle_scene_5",
      [],
      "{!}quick_battle_scene_5",
      [
        (set_jump_mission, "mt_ai_training"),
        (jump_to_scene, "scn_quick_battle_scene_5"),
        (change_screen_mission),
      ]
      ),

      ("go_back",
      [],
      "{!}Go_back",
      [
        (change_screen_quit),
      ]
      ),
    ],
  ),

  ("custom_battle_end", mnf_disable_all_keys,
    "The battle is over. {s1} Your side killed {reg5} enemies and lost {reg6} troops over the battle. You personally slew {reg7} men in the fighting.",
    "none",
    [
      (music_set_situation, 0),
      (assign, reg5, "$g_custom_battle_team2_death_count"),
      (assign, reg6, "$g_custom_battle_team1_death_count"),
      (get_player_agent_kill_count, ":var0"),
      (get_player_agent_kill_count, ":var1", 1),
      (store_add, reg7, ":var0", ":var1"),
      (try_begin),
        (eq, "$g_battle_result", 1),
        (str_store_string, s1, "str_battle_won"),
      (else_try),
        (str_store_string, s1, "str_battle_lost"),
      (try_end),
      (try_begin),
        (ge, "$g_custom_battle_team2_death_count", 100),
        (unlock_achievement, 4),
      (try_end),
    ],
    [
      ("continue",
      [],
      "Continue.",
      [
        (change_screen_quit),
      ]
      ),
    ],
  ),

  ("start_game_1", menu_text_color(0xFF000000)|mnf_disable_all_keys,
    "Select your character's gender.",
    "none",
    [],
    [
      ("start_male",
      [],
      "Male_Human",
      [
        (troop_set_type, "trp_player", 0),
        (assign, "$character_gender", 0),
        (jump_to_menu, "mnu_start_character_1"),
        (troop_add_item, "trp_player", "itm_coarse_tunic", 0),
        (troop_add_item, "trp_player", "itm_hunter_boots", 0),
        (troop_add_item, "trp_player", "itm_sword_medieval_b_small", 0),
        (troop_add_item, "trp_player", "itm_grain", 0),
        (assign, "$disposition", 1),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_5", -5),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_6", -5),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_8", -5),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_4", -5),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_10", -5),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_12", -5),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_13", -5),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_15", -5),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_17", -5),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_1", 10),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_9", 10),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_11", 10),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_14", 10),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_16", 10),
      ]
      ),

      ("start_female",
      [],
      "Female_Human",
      [
        (troop_set_type, "trp_player", 1),
        (assign, "$character_gender", 1),
        (jump_to_menu, "mnu_start_character_1"),
        (troop_add_item, "trp_player", "itm_peasant_dress", 0),
        (troop_add_item, "trp_player", "itm_blue_hose", 0),
        (troop_add_item, "trp_player", "itm_dagger", 0),
        (troop_add_item, "trp_player", "itm_grain", 0),
        (assign, "$disposition", 1),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_5", -5),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_6", -5),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_8", -5),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_4", -5),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_10", -5),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_12", -5),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_13", -5),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_15", -5),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_17", -5),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_1", 10),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_9", 10),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_11", 10),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_14", 10),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_16", 10),
      ]
      ),

      ("start_beastman",
      [],
      "Beastman",
      [
        (troop_set_type, "trp_player", 13),
        (assign, "$character_gender", 0),
        (assign, ":var0", "fac_culture_15"),
        (faction_set_slot, "fac_player_supporters_faction", 10, ":var0"),
        (faction_set_slot, "fac_player_faction", 10, ":var0"),
        (faction_set_slot, "fac_player_supporters_faction", 41, "trp_ungor"),
        (faction_set_slot, "fac_player_supporters_faction", 42, "trp_beastman_gor"),
        (faction_set_slot, "fac_player_supporters_faction", 43, "trp_beastman_foe_render"),
        (faction_set_slot, "fac_player_supporters_faction", 44, "trp_beastman_wargor"),
        (faction_set_slot, "fac_player_supporters_faction", 45, "trp_razorgor_thunderhoof"),
        (faction_set_slot, "fac_player_supporters_faction", 46, "trp_minotaur"),
        (faction_set_slot, "fac_player_supporters_faction", 75, "pt_kingdom_15_reinforcements_a"),
        (faction_set_slot, "fac_player_supporters_faction", 76, "pt_kingdom_15_reinforcements_b"),
        (faction_set_slot, "fac_player_supporters_faction", 77, "pt_kingdom_15_reinforcements_c"),
        (faction_set_slot, "fac_player_supporters_faction", 78, "pt_kingdom_15_reinforcements_d"),
        (faction_set_slot, "fac_player_supporters_faction", 79, "pt_kingdom_15_reinforcements_e"),
        (faction_set_slot, "fac_player_supporters_faction", 111, "pt_kingdom_15_reinforcements_f"),
        (faction_set_slot, "fac_player_supporters_faction", 112, "pt_kingdom_15_reinforcements_g"),
        (faction_set_slot, "fac_player_supporters_faction", 49, "trp_beastman_bestigor"),
        (faction_set_slot, "fac_player_supporters_faction", 51, "trp_beastman_prison_guard"),
        (faction_set_slot, "fac_player_supporters_faction", 52, "trp_beastman_castle_guard"),
        (faction_set_slot, "fac_player_supporters_faction", 53, "trp_beastman_walker"),
        (faction_set_slot, "fac_player_supporters_faction", 54, "trp_ungor_walker"),
        (faction_set_slot, "fac_player_supporters_faction", 55, "trp_beastman_walker"),
        (faction_set_slot, "fac_player_supporters_faction", 56, "trp_ungor_walker"),
        (faction_set_slot, "fac_player_supporters_faction", 28, 13),
        (faction_set_slot, "fac_player_supporters_faction", 29, 13),
        (faction_set_slot, "fac_player_supporters_faction", 251, "itm_bray_armour"),
        (faction_set_slot, "fac_player_supporters_faction", 252, "itm_tuskgor_armour2"),
        (faction_set_slot, "fac_player_supporters_faction", 253, "itm_fur_legs"),
        (faction_set_slot, "fac_player_supporters_faction", 255, "fac_kingdom_15"),
        (jump_to_menu, "mnu_start_character_37"),
        (troop_add_item, "trp_player", "itm_beastman_armour", 0),
        (troop_add_item, "trp_player", "itm_beastmen_axe", 0),
        (troop_add_item, "trp_player", "itm_dried_meat", 0),
        (assign, "$disposition", 2),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_15", 15),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_5", 10),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_4", 5),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_1", -5),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_2", -5),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_3", -5),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_7", -5),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_11", -5),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_14", -5),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_16", -5),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_18", -5),
      ]
      ),

      ("start_chaos",
      [],
      "Chaos",
      [
        (troop_set_type, "trp_player", 6),
        (assign, "$character_gender", 0),
        (assign, ":var0", "fac_culture_5"),
        (faction_set_slot, "fac_player_supporters_faction", 10, ":var0"),
        (faction_set_slot, "fac_player_faction", 10, ":var0"),
        (faction_set_slot, "fac_player_supporters_faction", 41, "trp_chaos_recruit"),
        (faction_set_slot, "fac_player_supporters_faction", 42, "trp_chaos_footman"),
        (faction_set_slot, "fac_player_supporters_faction", 43, "trp_chaos_trained_footman"),
        (faction_set_slot, "fac_player_supporters_faction", 44, "trp_chaos_warrior"),
        (faction_set_slot, "fac_player_supporters_faction", 45, "trp_chaos_knight"),
        (faction_set_slot, "fac_player_supporters_faction", 46, "trp_herald"),
        (faction_set_slot, "fac_player_supporters_faction", 75, "pt_kingdom_5_reinforcements_a"),
        (faction_set_slot, "fac_player_supporters_faction", 76, "pt_kingdom_5_reinforcements_b"),
        (faction_set_slot, "fac_player_supporters_faction", 77, "pt_kingdom_5_reinforcements_c"),
        (faction_set_slot, "fac_player_supporters_faction", 78, "pt_kingdom_5_reinforcements_d"),
        (faction_set_slot, "fac_player_supporters_faction", 79, "pt_kingdom_5_reinforcements_e"),
        (faction_set_slot, "fac_player_supporters_faction", 111, "pt_kingdom_5_reinforcements_f"),
        (faction_set_slot, "fac_player_supporters_faction", 112, "pt_kingdom_5_reinforcements_g"),
        (faction_set_slot, "fac_player_supporters_faction", 49, "trp_chaos_knight"),
        (faction_set_slot, "fac_player_supporters_faction", 51, "trp_chaos_prison_guard"),
        (faction_set_slot, "fac_player_supporters_faction", 52, "trp_chaos_castle_guard"),
        (faction_set_slot, "fac_player_supporters_faction", 53, "trp_town_walker_7"),
        (faction_set_slot, "fac_player_supporters_faction", 54, "trp_town_walker_8"),
        (faction_set_slot, "fac_player_supporters_faction", 55, "trp_town_walker_7"),
        (faction_set_slot, "fac_player_supporters_faction", 56, "trp_town_walker_8"),
        (faction_set_slot, "fac_player_supporters_faction", 28, 6),
        (faction_set_slot, "fac_player_supporters_faction", 29, 1),
        (faction_set_slot, "fac_player_supporters_faction", 251, "itm_marauder_lightarmour3"),
        (faction_set_slot, "fac_player_supporters_faction", 252, "itm_chaosrecruit_armor"),
        (faction_set_slot, "fac_player_supporters_faction", 253, "itm_marauder_boots"),
        (faction_set_slot, "fac_player_supporters_faction", 255, "fac_kingdom_5"),
        (jump_to_menu, "mnu_start_character_2"),
        (troop_add_item, "trp_player", "itm_chaosrecruit_armor", 0),
        (troop_add_item, "trp_player", "itm_chaosrecruit_boots", 0),
        (troop_add_item, "trp_player", "itm_mar_axe", 0),
        (troop_add_item, "trp_player", "itm_grain", 0),
        (assign, "$disposition", 2),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_5", 15),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_15", 10),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_4", 5),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_1", -5),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_2", -5),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_3", -5),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_7", -5),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_11", -5),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_14", -5),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_16", -5),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_18", -5),
      ]
      ),

      ("start_saurus",
      [],
      "Saurus",
      [
        (troop_set_type, "trp_player", 10),
        (assign, "$character_gender", 0),
        (assign, ":var0", "fac_culture_7"),
        (faction_set_slot, "fac_player_supporters_faction", 10, ":var0"),
        (faction_set_slot, "fac_player_faction", 10, ":var0"),
        (faction_set_slot, "fac_player_supporters_faction", 41, "trp_saurus_youngblood"),
        (faction_set_slot, "fac_player_supporters_faction", 42, "trp_saurus_warrior"),
        (faction_set_slot, "fac_player_supporters_faction", 43, "trp_spawning_champion"),
        (faction_set_slot, "fac_player_supporters_faction", 44, "trp_scar_veteran"),
        (faction_set_slot, "fac_player_supporters_faction", 45, "trp_revered_guardian"),
        (faction_set_slot, "fac_player_supporters_faction", 46, "trp_kroxigor"),
        (faction_set_slot, "fac_player_supporters_faction", 75, "pt_kingdom_7_reinforcements_a"),
        (faction_set_slot, "fac_player_supporters_faction", 76, "pt_kingdom_7_reinforcements_b"),
        (faction_set_slot, "fac_player_supporters_faction", 77, "pt_kingdom_7_reinforcements_c"),
        (faction_set_slot, "fac_player_supporters_faction", 78, "pt_kingdom_7_reinforcements_d"),
        (faction_set_slot, "fac_player_supporters_faction", 79, "pt_kingdom_7_reinforcements_e"),
        (faction_set_slot, "fac_player_supporters_faction", 111, "pt_kingdom_7_reinforcements_f"),
        (faction_set_slot, "fac_player_supporters_faction", 112, "pt_kingdom_7_reinforcements_g"),
        (faction_set_slot, "fac_player_supporters_faction", 49, "trp_revered_guardian"),
        (faction_set_slot, "fac_player_supporters_faction", 51, "trp_saurus_prison_guard"),
        (faction_set_slot, "fac_player_supporters_faction", 52, "trp_saurus_castle_guard"),
        (faction_set_slot, "fac_player_supporters_faction", 53, "trp_town_walker_4"),
        (faction_set_slot, "fac_player_supporters_faction", 54, "trp_town_walker_3"),
        (faction_set_slot, "fac_player_supporters_faction", 55, "trp_town_walker_3"),
        (faction_set_slot, "fac_player_supporters_faction", 56, "trp_town_walker_4"),
        (faction_set_slot, "fac_player_supporters_faction", 28, 10),
        (faction_set_slot, "fac_player_supporters_faction", 29, 10),
        (faction_set_slot, "fac_player_supporters_faction", 251, "itm_saurus_bluebody"),
        (faction_set_slot, "fac_player_supporters_faction", 252, "itm_saurus_bluebody"),
        (faction_set_slot, "fac_player_supporters_faction", 255, "fac_kingdom_7"),
        (jump_to_menu, "mnu_start_character_3"),
        (troop_add_item, "trp_player", "itm_saurus_head", 0),
        (troop_add_item, "trp_player", "itm_saurus_bluebody", 0),
        (troop_add_item, "trp_player", "itm_saurus_club", 0),
        (troop_add_item, "trp_player", "itm_grain", 0),
        (assign, "$disposition", 1),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_5", -5),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_15", -5),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_12", -5),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_4", -5),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_7", 5),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_17", -5),
      ]
      ),

      ("start_skeleton",
      [],
      "Skeleton",
      [
        (troop_set_type, "trp_player", 2),
        (assign, "$character_gender", 0),
        (assign, ":var0", "fac_culture_6"),
        (faction_set_slot, "fac_player_supporters_faction", 10, ":var0"),
        (faction_set_slot, "fac_player_faction", 10, ":var0"),
        (faction_set_slot, "fac_player_supporters_faction", 41, "trp_rhodok_tribesman"),
        (faction_set_slot, "fac_player_supporters_faction", 42, "trp_rhodok_spearman"),
        (faction_set_slot, "fac_player_supporters_faction", 43, "trp_rhodok_trained_spearman"),
        (faction_set_slot, "fac_player_supporters_faction", 44, "trp_rhodok_veteran_spearman"),
        (faction_set_slot, "fac_player_supporters_faction", 45, "trp_rhodok_sergeant"),
        (faction_set_slot, "fac_player_supporters_faction", 46, "trp_ushabti"),
        (faction_set_slot, "fac_player_supporters_faction", 75, "pt_kingdom_6_reinforcements_a"),
        (faction_set_slot, "fac_player_supporters_faction", 76, "pt_kingdom_6_reinforcements_b"),
        (faction_set_slot, "fac_player_supporters_faction", 77, "pt_kingdom_6_reinforcements_c"),
        (faction_set_slot, "fac_player_supporters_faction", 78, "pt_kingdom_6_reinforcements_d"),
        (faction_set_slot, "fac_player_supporters_faction", 79, "pt_kingdom_6_reinforcements_e"),
        (faction_set_slot, "fac_player_supporters_faction", 111, "pt_kingdom_6_reinforcements_f"),
        (faction_set_slot, "fac_player_supporters_faction", 112, "pt_kingdom_6_reinforcements_g"),
        (faction_set_slot, "fac_player_supporters_faction", 49, "trp_rhodok_sergeant"),
        (faction_set_slot, "fac_player_supporters_faction", 51, "trp_rhodok_prison_guard"),
        (faction_set_slot, "fac_player_supporters_faction", 52, "trp_rhodok_castle_guard"),
        (faction_set_slot, "fac_player_supporters_faction", 53, "trp_town_walker_9"),
        (faction_set_slot, "fac_player_supporters_faction", 54, "trp_town_walker_10"),
        (faction_set_slot, "fac_player_supporters_faction", 55, "trp_town_walker_9"),
        (faction_set_slot, "fac_player_supporters_faction", 56, "trp_town_walker_10"),
        (faction_set_slot, "fac_player_supporters_faction", 28, 2),
        (faction_set_slot, "fac_player_supporters_faction", 29, 2),
        (faction_set_slot, "fac_player_supporters_faction", 251, "itm_skeleton_archer"),
        (faction_set_slot, "fac_player_supporters_faction", 252, "itm_skel_warrior_gold"),
        (faction_set_slot, "fac_player_supporters_faction", 255, "fac_kingdom_6"),
        (jump_to_menu, "mnu_start_character_1"),
        (troop_add_item, "trp_player", "itm_tomb_archer", 0),
        (troop_add_item, "trp_player", "itm_spear", 0),
        (troop_add_item, "trp_player", "itm_grain", 0),
        (assign, "$disposition", 2),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_2", -5),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_1", -5),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_11", -5),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_3", -5),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_9", -5),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_14", -5),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_16", -5),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_6", 10),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_18", -5),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_17", 10),
      ]
      ),

      ("start_orc",
      [],
      "Orc",
      [
        (troop_set_type, "trp_player", 12),
        (assign, "$character_gender", 0),
        (assign, ":var0", "fac_culture_10"),
        (faction_set_slot, "fac_player_supporters_faction", 10, ":var0"),
        (faction_set_slot, "fac_player_faction", 10, ":var0"),
        (faction_set_slot, "fac_player_supporters_faction", 41, "trp_orc"),
        (faction_set_slot, "fac_player_supporters_faction", 42, "trp_orc_warrior"),
        (faction_set_slot, "fac_player_supporters_faction", 43, "trp_orc_big"),
        (faction_set_slot, "fac_player_supporters_faction", 44, "trp_orc_blackorc"),
        (faction_set_slot, "fac_player_supporters_faction", 45, "trp_orc_veteran_boar"),
        (faction_set_slot, "fac_player_supporters_faction", 46, "trp_orc_troll"),
        (faction_set_slot, "fac_player_supporters_faction", 75, "pt_kingdom_10_reinforcements_a"),
        (faction_set_slot, "fac_player_supporters_faction", 76, "pt_kingdom_10_reinforcements_b"),
        (faction_set_slot, "fac_player_supporters_faction", 77, "pt_kingdom_10_reinforcements_c"),
        (faction_set_slot, "fac_player_supporters_faction", 78, "pt_kingdom_10_reinforcements_d"),
        (faction_set_slot, "fac_player_supporters_faction", 79, "pt_kingdom_10_reinforcements_e"),
        (faction_set_slot, "fac_player_supporters_faction", 111, "pt_kingdom_10_reinforcements_f"),
        (faction_set_slot, "fac_player_supporters_faction", 112, "pt_kingdom_10_reinforcements_g"),
        (faction_set_slot, "fac_player_supporters_faction", 49, "trp_orc_blackorc_boss"),
        (faction_set_slot, "fac_player_supporters_faction", 51, "trp_orc_prison_guard"),
        (faction_set_slot, "fac_player_supporters_faction", 52, "trp_orc_castle_guard"),
        (faction_set_slot, "fac_player_supporters_faction", 53, "trp_orc_townsman"),
        (faction_set_slot, "fac_player_supporters_faction", 54, "trp_orc_townswoman"),
        (faction_set_slot, "fac_player_supporters_faction", 55, "trp_orc_townsman"),
        (faction_set_slot, "fac_player_supporters_faction", 56, "trp_orc_townswoman"),
        (faction_set_slot, "fac_player_supporters_faction", 28, 12),
        (faction_set_slot, "fac_player_supporters_faction", 29, 12),
        (faction_set_slot, "fac_player_supporters_faction", 251, "itm_orc_armour"),
        (faction_set_slot, "fac_player_supporters_faction", 252, "itm_orc_medarmor2"),
        (faction_set_slot, "fac_player_supporters_faction", 253, "itm_orc_boots"),
        (faction_set_slot, "fac_player_supporters_faction", 255, "fac_kingdom_10"),
        (jump_to_menu, "mnu_start_character_5"),
        (troop_add_item, "trp_player", "itm_orc_armour", 0),
        (troop_add_item, "trp_player", "itm_orc_boots", 0),
        (troop_add_item, "trp_player", "itm_choppa2", 0),
        (troop_add_item, "trp_player", "itm_grain", 0),
        (assign, "$disposition", 2),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_2", -20),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_1", -5),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_11", -5),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_3", -5),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_10", 5),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_18", -5),
      ]
      ),

      ("start_goblin",
      [],
      "_Night_Goblin",
      [
        (troop_set_type, "trp_player", 14),
        (assign, "$character_gender", 0),
        (assign, ":var0", "fac_culture_8"),
        (faction_set_slot, "fac_player_supporters_faction", 10, ":var0"),
        (faction_set_slot, "fac_player_faction", 10, ":var0"),
        (faction_set_slot, "fac_player_supporters_faction", 41, "trp_goblin_recruit"),
        (faction_set_slot, "fac_player_supporters_faction", 42, "trp_night_goblin_stabba"),
        (faction_set_slot, "fac_player_supporters_faction", 43, "trp_night_vet"),
        (faction_set_slot, "fac_player_supporters_faction", 44, "trp_night_wolfrider"),
        (faction_set_slot, "fac_player_supporters_faction", 45, "trp_squig_rider"),
        (faction_set_slot, "fac_player_supporters_faction", 46, "trp_goblin_troll"),
        (faction_set_slot, "fac_player_supporters_faction", 75, "pt_kingdom_8_reinforcements_a"),
        (faction_set_slot, "fac_player_supporters_faction", 76, "pt_kingdom_8_reinforcements_b"),
        (faction_set_slot, "fac_player_supporters_faction", 77, "pt_kingdom_8_reinforcements_c"),
        (faction_set_slot, "fac_player_supporters_faction", 78, "pt_kingdom_8_reinforcements_d"),
        (faction_set_slot, "fac_player_supporters_faction", 79, "pt_kingdom_8_reinforcements_e"),
        (faction_set_slot, "fac_player_supporters_faction", 111, "pt_kingdom_8_reinforcements_f"),
        (faction_set_slot, "fac_player_supporters_faction", 112, "pt_kingdom_8_reinforcements_g"),
        (faction_set_slot, "fac_player_supporters_faction", 49, "trp_goblin_bodyguard"),
        (faction_set_slot, "fac_player_supporters_faction", 51, "trp_goblin_prison_guard"),
        (faction_set_slot, "fac_player_supporters_faction", 52, "trp_goblin_castle_guard"),
        (faction_set_slot, "fac_player_supporters_faction", 53, "trp_khergit_townsman"),
        (faction_set_slot, "fac_player_supporters_faction", 54, "trp_khergit_townswoman"),
        (faction_set_slot, "fac_player_supporters_faction", 55, "trp_khergit_townsman"),
        (faction_set_slot, "fac_player_supporters_faction", 56, "trp_khergit_townswoman"),
        (faction_set_slot, "fac_player_supporters_faction", 28, 14),
        (faction_set_slot, "fac_player_supporters_faction", 29, 14),
        (faction_set_slot, "fac_player_supporters_faction", 251, "itm_gob_scale_armor"),
        (faction_set_slot, "fac_player_supporters_faction", 252, "itm_goblin_armoured_robe"),
        (faction_set_slot, "fac_player_supporters_faction", 253, "itm_goblin_nomad_boots"),
        (faction_set_slot, "fac_player_supporters_faction", 255, "fac_kingdom_8"),
        (jump_to_menu, "mnu_start_character_6"),
        (troop_add_item, "trp_player", "itm_goblin_robe", 0),
        (troop_add_item, "trp_player", "itm_club", 0),
        (troop_add_item, "trp_player", "itm_grain", 0),
        (assign, "$disposition", 2),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_2", -20),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_1", -5),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_11", -5),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_3", -5),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_8", 15),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_18", -5),
      ]
      ),

      ("start_chaos_dwarf",
      [],
      "Chaos_Dwarf",
      [
        (troop_set_type, "trp_player", 3),
        (assign, "$character_gender", 0),
        (assign, ":var0", "fac_culture_4"),
        (faction_set_slot, "fac_player_supporters_faction", 10, ":var0"),
        (faction_set_slot, "fac_player_faction", 10, ":var0"),
        (faction_set_slot, "fac_player_supporters_faction", 41, "trp_chaos_dwarf_slaver"),
        (faction_set_slot, "fac_player_supporters_faction", 42, "trp_chaos_dwarf_warrior"),
        (faction_set_slot, "fac_player_supporters_faction", 43, "trp_chaos_dwarf_veteran"),
        (faction_set_slot, "fac_player_supporters_faction", 44, "trp_chaos_dwarf_castellan"),
        (faction_set_slot, "fac_player_supporters_faction", 45, "trp_chaos_dwarf_obsidian"),
        (faction_set_slot, "fac_player_supporters_faction", 46, "trp_chaos_dwarf_inferno"),
        (faction_set_slot, "fac_player_supporters_faction", 75, "pt_kingdom_4_reinforcements_a"),
        (faction_set_slot, "fac_player_supporters_faction", 76, "pt_kingdom_4_reinforcements_b"),
        (faction_set_slot, "fac_player_supporters_faction", 77, "pt_kingdom_4_reinforcements_c"),
        (faction_set_slot, "fac_player_supporters_faction", 78, "pt_kingdom_4_reinforcements_d"),
        (faction_set_slot, "fac_player_supporters_faction", 79, "pt_kingdom_4_reinforcements_e"),
        (faction_set_slot, "fac_player_supporters_faction", 111, "pt_kingdom_4_reinforcements_f"),
        (faction_set_slot, "fac_player_supporters_faction", 112, "pt_kingdom_4_reinforcements_g"),
        (faction_set_slot, "fac_player_supporters_faction", 49, "trp_chaos_dwarf_veteran"),
        (faction_set_slot, "fac_player_supporters_faction", 51, "trp_chaos_dwarf_veteran"),
        (faction_set_slot, "fac_player_supporters_faction", 52, "trp_chaos_dwarf_castellan"),
        (faction_set_slot, "fac_player_supporters_faction", 53, "trp_town_walker_11"),
        (faction_set_slot, "fac_player_supporters_faction", 54, "trp_town_walker_12"),
        (faction_set_slot, "fac_player_supporters_faction", 55, "trp_town_walker_11"),
        (faction_set_slot, "fac_player_supporters_faction", 56, "trp_town_walker_12"),
        (faction_set_slot, "fac_player_supporters_faction", 28, 3),
        (faction_set_slot, "fac_player_supporters_faction", 29, 3),
        (faction_set_slot, "fac_player_supporters_faction", 251, "itm_chaosdwarf_shirt_black"),
        (faction_set_slot, "fac_player_supporters_faction", 252, "itm_dwarf_tunic_2"),
        (faction_set_slot, "fac_player_supporters_faction", 253, "itm_chaosdwarf_boots_1"),
        (faction_set_slot, "fac_player_supporters_faction", 254, "itm_chaosdwarf_hat_fake"),
        (faction_set_slot, "fac_player_supporters_faction", 255, "fac_kingdom_4"),
        (jump_to_menu, "mnu_start_character_51"),
        (troop_add_item, "trp_player", "itm_chaosdwarf_shirt_red", 0),
        (troop_add_item, "trp_player", "itm_chaosdwarf_hat", 0),
        (troop_add_item, "trp_player", "itm_chaos_dwarf_fighting_axe", 0),
        (troop_add_item, "trp_player", "itm_chaosdwarf_boots_1", 0),
        (troop_add_item, "trp_player", "itm_grain", 0),
        (assign, "$disposition", 2),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_5", 15),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_15", 10),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_4", 5),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_1", -5),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_2", -50),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_3", -5),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_7", -5),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_11", -5),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_14", -5),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_16", -5),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_18", -5),
      ]
      ),

      ("start_elf",
      [],
      "any_Elf_-_High,_Wood,_or_Dark_(and_male_OR_female)_Elf",
      [
        (jump_to_menu, "mnu_start_character_1e"),
      ]
      ),

      ("start_dwarf",
      [],
      "Dwarf",
      [
        (troop_set_type, "trp_player", 4),
        (assign, "$character_gender", 0),
        (assign, ":var0", "fac_culture_2"),
        (faction_set_slot, "fac_player_supporters_faction", 10, ":var0"),
        (faction_set_slot, "fac_player_faction", 10, ":var0"),
        (faction_set_slot, "fac_player_supporters_faction", 41, "trp_vaegir_recruit"),
        (faction_set_slot, "fac_player_supporters_faction", 42, "trp_vaegir_footman"),
        (faction_set_slot, "fac_player_supporters_faction", 43, "trp_vaegir_veteran"),
        (faction_set_slot, "fac_player_supporters_faction", 44, "trp_vaegir_infantry"),
        (faction_set_slot, "fac_player_supporters_faction", 45, "trp_vaegir_knight"),
        (faction_set_slot, "fac_player_supporters_faction", 46, "trp_dwarf_daemon_slayer"),
        (faction_set_slot, "fac_player_supporters_faction", 75, "pt_kingdom_2_reinforcements_a"),
        (faction_set_slot, "fac_player_supporters_faction", 76, "pt_kingdom_2_reinforcements_b"),
        (faction_set_slot, "fac_player_supporters_faction", 77, "pt_kingdom_2_reinforcements_c"),
        (faction_set_slot, "fac_player_supporters_faction", 78, "pt_kingdom_2_reinforcements_d"),
        (faction_set_slot, "fac_player_supporters_faction", 79, "pt_kingdom_2_reinforcements_e"),
        (faction_set_slot, "fac_player_supporters_faction", 111, "pt_kingdom_2_reinforcements_f"),
        (faction_set_slot, "fac_player_supporters_faction", 112, "pt_kingdom_2_reinforcements_g"),
        (faction_set_slot, "fac_player_supporters_faction", 49, "trp_vaegir_knight"),
        (faction_set_slot, "fac_player_supporters_faction", 51, "trp_vaegir_prison_guard"),
        (faction_set_slot, "fac_player_supporters_faction", 52, "trp_vaegir_castle_guard"),
        (faction_set_slot, "fac_player_supporters_faction", 53, "trp_town_walker_5"),
        (faction_set_slot, "fac_player_supporters_faction", 54, "trp_town_walker_6"),
        (faction_set_slot, "fac_player_supporters_faction", 55, "trp_town_walker_5"),
        (faction_set_slot, "fac_player_supporters_faction", 56, "trp_town_walker_6"),
        (faction_set_slot, "fac_player_supporters_faction", 28, 4),
        (faction_set_slot, "fac_player_supporters_faction", 29, 4),
        (faction_set_slot, "fac_player_supporters_faction", 251, "itm_dwarf_leather"),
        (faction_set_slot, "fac_player_supporters_faction", 252, "itm_dwarf_tunic_2"),
        (faction_set_slot, "fac_player_supporters_faction", 253, "itm_dwarf_boots_1"),
        (faction_set_slot, "fac_player_supporters_faction", 254, "itm_dwarf_hat1"),
        (faction_set_slot, "fac_player_supporters_faction", 255, "fac_kingdom_2"),
        (jump_to_menu, "mnu_start_character_9"),
        (troop_add_item, "trp_player", "itm_dwarf_axe", 0),
        (troop_add_item, "trp_player", "itm_dwarf_tunic", 0),
        (troop_add_item, "trp_player", "itm_dwarf_boots_1", 0),
        (troop_add_item, "trp_player", "itm_grain", 0),
        (assign, "$disposition", 1),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_8", -20),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_10", -20),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_13", -20),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_5", -5),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_2", 15),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_4", -50),
      ]
      ),

      ("start_skaven",
      [],
      "Skaven",
      [
        (troop_set_type, "trp_player", 15),
        (assign, "$character_gender", 0),
        (assign, ":var0", "fac_culture_13"),
        (faction_set_slot, "fac_player_supporters_faction", 10, ":var0"),
        (faction_set_slot, "fac_player_faction", 10, ":var0"),
        (faction_set_slot, "fac_player_supporters_faction", 41, "trp_skaven_slave"),
        (faction_set_slot, "fac_player_supporters_faction", 42, "trp_clanrat"),
        (faction_set_slot, "fac_player_supporters_faction", 43, "trp_claw_vermin"),
        (faction_set_slot, "fac_player_supporters_faction", 44, "trp_storm_vermin"),
        (faction_set_slot, "fac_player_supporters_faction", 45, "trp_fang_vermin"),
        (faction_set_slot, "fac_player_supporters_faction", 46, "trp_rat_ogre"),
        (faction_set_slot, "fac_player_supporters_faction", 75, "pt_kingdom_13_reinforcements_a"),
        (faction_set_slot, "fac_player_supporters_faction", 76, "pt_kingdom_13_reinforcements_b"),
        (faction_set_slot, "fac_player_supporters_faction", 77, "pt_kingdom_13_reinforcements_c"),
        (faction_set_slot, "fac_player_supporters_faction", 78, "pt_kingdom_13_reinforcements_d"),
        (faction_set_slot, "fac_player_supporters_faction", 79, "pt_kingdom_13_reinforcements_e"),
        (faction_set_slot, "fac_player_supporters_faction", 111, "pt_kingdom_13_reinforcements_g"),
        (faction_set_slot, "fac_player_supporters_faction", 111, "pt_kingdom_13_reinforcements_g"),
        (faction_set_slot, "fac_player_supporters_faction", 49, "trp_fang_vermin"),
        (faction_set_slot, "fac_player_supporters_faction", 51, "trp_skaven_prison_guard"),
        (faction_set_slot, "fac_player_supporters_faction", 52, "trp_skaven_castle_guard"),
        (faction_set_slot, "fac_player_supporters_faction", 53, "trp_skaven_townsman"),
        (faction_set_slot, "fac_player_supporters_faction", 54, "trp_skaven_townswoman"),
        (faction_set_slot, "fac_player_supporters_faction", 55, "trp_skaven_townsman"),
        (faction_set_slot, "fac_player_supporters_faction", 56, "trp_skaven_townswoman"),
        (faction_set_slot, "fac_player_supporters_faction", 28, 15),
        (faction_set_slot, "fac_player_supporters_faction", 29, 15),
        (faction_set_slot, "fac_player_supporters_faction", 251, "itm_skaven_outfit2"),
        (faction_set_slot, "fac_player_supporters_faction", 252, "itm_nightrunner_outfit"),
        (faction_set_slot, "fac_player_supporters_faction", 253, "itm_rat_ankle"),
        (faction_set_slot, "fac_player_supporters_faction", 255, "fac_kingdom_13"),
        (jump_to_menu, "mnu_start_character_10"),
        (troop_add_item, "trp_player", "itm_skryre_shirt", 0),
        (troop_add_item, "trp_player", "itm_spear", 0),
        (troop_add_item, "trp_player", "itm_grain", 0),
        (assign, "$disposition", 2),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_2", -5),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_1", -5),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_3", -5),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_7", -5),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_14", -5),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_16", -5),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_11", -5),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_13", 15),
      ]
      ),

      ("start_halfling",
      [],
      "Halfling",
      [
        (troop_set_type, "trp_player", 11),
        (assign, "$character_gender", 0),
        (faction_set_slot, "fac_player_supporters_faction", 41, "trp_halfling_militia"),
        (faction_set_slot, "fac_player_supporters_faction", 42, "trp_halfling_fieldwarden"),
        (faction_set_slot, "fac_player_supporters_faction", 43, "trp_halfling_vigilante"),
        (faction_set_slot, "fac_player_supporters_faction", 44, "trp_halfling_chef"),
        (faction_set_slot, "fac_player_supporters_faction", 45, "trp_halfling_moot_knight"),
        (faction_set_slot, "fac_player_supporters_faction", 46, "trp_halfling_ogre"),
        (faction_set_slot, "fac_player_supporters_faction", 75, "pt_halfling_reinforcements_a"),
        (faction_set_slot, "fac_player_supporters_faction", 76, "pt_halfling_reinforcements_b"),
        (faction_set_slot, "fac_player_supporters_faction", 77, "pt_halfling_reinforcements_c"),
        (faction_set_slot, "fac_player_supporters_faction", 78, "pt_halfling_reinforcements_d"),
        (faction_set_slot, "fac_player_supporters_faction", 79, "pt_halfling_reinforcements_e"),
        (faction_set_slot, "fac_player_supporters_faction", 111, "pt_halfling_reinforcements_f"),
        (faction_set_slot, "fac_player_supporters_faction", 112, "pt_halfling_reinforcements_g"),
        (faction_set_slot, "fac_player_supporters_faction", 49, "trp_halfling_pantry_guard"),
        (faction_set_slot, "fac_player_supporters_faction", 51, "trp_halfling_prison_guard"),
        (faction_set_slot, "fac_player_supporters_faction", 52, "trp_halfling_castle_guard"),
        (faction_set_slot, "fac_player_supporters_faction", 53, "trp_halfling_walker"),
        (faction_set_slot, "fac_player_supporters_faction", 54, "trp_halfling_walker"),
        (faction_set_slot, "fac_player_supporters_faction", 55, "trp_halfling_walker"),
        (faction_set_slot, "fac_player_supporters_faction", 56, "trp_halfling_walker"),
        (faction_set_slot, "fac_player_supporters_faction", 28, 11),
        (faction_set_slot, "fac_player_supporters_faction", 29, 11),
        (faction_set_slot, "fac_player_supporters_faction", 251, "itm_halfling_militia"),
        (faction_set_slot, "fac_player_supporters_faction", 252, "itm_halfling_ranger"),
        (faction_set_slot, "fac_player_supporters_faction", 253, "itm_halfling_feet"),
        (jump_to_menu, "mnu_start_character_40"),
        (troop_add_item, "trp_player", "itm_halfling_feet", 0),
        (troop_add_item, "trp_player", "itm_halfling_militia", 0),
        (troop_add_item, "trp_player", "itm_halfling_militia_cap", 0),
        (troop_add_item, "trp_player", "itm_grain", 0),
        (assign, "$disposition", 1),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_5", -5),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_6", -5),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_4", -5),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_8", -5),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_10", -5),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_12", -5),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_13", -5),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_15", -5),
      ]
      ),

      ("start_vampire",
      [],
      "Vampire",
      [
        (troop_set_type, "trp_player", 9),
        (assign, "$character_gender", 0),
        (assign, ":var0", "fac_culture_17"),
        (faction_set_slot, "fac_player_supporters_faction", 10, ":var0"),
        (faction_set_slot, "fac_player_faction", 10, ":var0"),
        (faction_set_slot, "fac_player_supporters_faction", 41, "trp_zombie"),
        (faction_set_slot, "fac_player_supporters_faction", 42, "trp_vc_skeleton_warrior"),
        (faction_set_slot, "fac_player_supporters_faction", 43, "trp_grave_guard"),
        (faction_set_slot, "fac_player_supporters_faction", 44, "trp_wight_champion"),
        (faction_set_slot, "fac_player_supporters_faction", 45, "trp_hell_knight"),
        (faction_set_slot, "fac_player_supporters_faction", 46, "trp_blood_knight"),
        (faction_set_slot, "fac_player_supporters_faction", 75, "pt_kingdom_17_reinforcements_a"),
        (faction_set_slot, "fac_player_supporters_faction", 76, "pt_kingdom_17_reinforcements_b"),
        (faction_set_slot, "fac_player_supporters_faction", 77, "pt_kingdom_17_reinforcements_c"),
        (faction_set_slot, "fac_player_supporters_faction", 78, "pt_kingdom_17_reinforcements_d"),
        (faction_set_slot, "fac_player_supporters_faction", 79, "pt_kingdom_17_reinforcements_e"),
        (faction_set_slot, "fac_player_supporters_faction", 111, "pt_kingdom_17_reinforcements_f"),
        (faction_set_slot, "fac_player_supporters_faction", 112, "pt_kingdom_17_reinforcements_g"),
        (faction_set_slot, "fac_player_supporters_faction", 49, "trp_wight"),
        (faction_set_slot, "fac_player_supporters_faction", 51, "trp_sylvania_prison_guard"),
        (faction_set_slot, "fac_player_supporters_faction", 52, "trp_sylvania_castle_guard"),
        (faction_set_slot, "fac_player_supporters_faction", 53, "trp_town_walker_1_sylvania"),
        (faction_set_slot, "fac_player_supporters_faction", 54, "trp_town_walker_1_sylvania"),
        (faction_set_slot, "fac_player_supporters_faction", 55, "trp_town_walker_1_sylvania"),
        (faction_set_slot, "fac_player_supporters_faction", 56, "trp_town_walker_1_sylvania"),
        (faction_set_slot, "fac_player_supporters_faction", 28, 9),
        (faction_set_slot, "fac_player_supporters_faction", 29, 9),
        (faction_set_slot, "fac_player_supporters_faction", 251, "itm_leather_jerkin"),
        (faction_set_slot, "fac_player_supporters_faction", 252, "itm_courtly_outfit"),
        (faction_set_slot, "fac_player_supporters_faction", 253, "itm_leather_boots"),
        (faction_set_slot, "fac_player_supporters_faction", 255, "fac_kingdom_17"),
        (jump_to_menu, "mnu_start_character_45"),
        (assign, "$disposition", 2),
        (troop_add_item, "trp_player", "itm_house_shoes", 0),
        (troop_add_item, "trp_player", "itm_house_waistcoat", 0),
        (troop_add_item, "trp_player", "itm_sword_medieval_a", 0),
        (troop_add_item, "trp_player", "itm_grain", 0),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_5", 15),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_15", 15),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_1", -5),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_2", -5),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_3", -5),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_7", -5),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_11", -5),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_14", -5),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_16", -5),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_18", -5),
      ]
      ),

      ("go_back",
      [],
      "Go_back",
      [
        (jump_to_menu, "mnu_start_game_0"),
      ]
      ),
    ],
  ),

  ("start_character_1", mnf_disable_all_keys,
    "You were born years ago, a descendant of....",
    "none",
    [
      (str_clear, s10),
      (str_clear, s11),
      (str_clear, s12),
      (str_clear, s13),
      (str_clear, s14),
      (str_clear, s15),
    ],
    [
      ("start_imperial",
      [],
      "The_Empire_of_Sigmar.",
      [
        (troop_get_type, ":var0", "trp_player"),
        (try_begin),
          (neq, ":var0", 2),
          (assign, "$background_type", 2),
          (assign, ":var1", "fac_culture_1"),
          (faction_set_slot, "fac_player_supporters_faction", 10, ":var1"),
          (faction_set_slot, "fac_player_faction", 10, ":var1"),
          (faction_set_slot, "fac_player_supporters_faction", 41, "trp_swadian_recruit"),
          (faction_set_slot, "fac_player_supporters_faction", 42, "trp_swadian_militia"),
          (faction_set_slot, "fac_player_supporters_faction", 43, "trp_swadian_footman"),
          (faction_set_slot, "fac_player_supporters_faction", 44, "trp_swadian_infantry"),
          (faction_set_slot, "fac_player_supporters_faction", 45, "trp_swadian_knight"),
          (faction_set_slot, "fac_player_supporters_faction", 46, "trp_warrior_priest"),
          (faction_set_slot, "fac_player_supporters_faction", 75, "pt_kingdom_1_reinforcements_a"),
          (faction_set_slot, "fac_player_supporters_faction", 76, "pt_kingdom_1_reinforcements_b"),
          (faction_set_slot, "fac_player_supporters_faction", 77, "pt_kingdom_1_reinforcements_c"),
          (faction_set_slot, "fac_player_supporters_faction", 78, "pt_kingdom_1_reinforcements_d"),
          (faction_set_slot, "fac_player_supporters_faction", 79, "pt_kingdom_1_reinforcements_e"),
          (faction_set_slot, "fac_player_supporters_faction", 111, "pt_kingdom_1_reinforcements_f"),
          (faction_set_slot, "fac_player_supporters_faction", 112, "pt_kingdom_1_reinforcements_g"),
          (faction_set_slot, "fac_player_supporters_faction", 49, "trp_swadian_sergeant"),
          (faction_set_slot, "fac_player_supporters_faction", 51, "trp_swadian_prison_guard"),
          (faction_set_slot, "fac_player_supporters_faction", 52, "trp_swadian_castle_guard"),
          (faction_set_slot, "fac_player_supporters_faction", 53, "trp_town_walker_1"),
          (faction_set_slot, "fac_player_supporters_faction", 54, "trp_town_walker_2"),
          (faction_set_slot, "fac_player_supporters_faction", 55, "trp_village_walker_1"),
          (faction_set_slot, "fac_player_supporters_faction", 56, "trp_village_walker_2"),
          (faction_set_slot, "fac_player_supporters_faction", 28, 0),
          (faction_set_slot, "fac_player_supporters_faction", 29, 1),
          (faction_set_slot, "fac_player_supporters_faction", 251, "itm_leather_jerkin"),
          (faction_set_slot, "fac_player_supporters_faction", 252, "itm_courtly_outfit"),
          (faction_set_slot, "fac_player_supporters_faction", 253, "itm_leather_boots"),
          (faction_set_slot, "fac_player_supporters_faction", 255, "fac_kingdom_1"),
          (assign, reg3, "$character_gender"),
        (try_end),
        (str_store_string, s10, "@You were born as a citizen of the Empire under the rule of Karl Franz.^The Empire is a large country with many provinces containing large, wealthy cities. Technological and military advancement is key to Imperial philosophy. Your time has come to make the journey too."),
        (jump_to_menu, "mnu_start_character_11"),
      ]
      ),

      ("start_bretonnian",
      [],
      "The_Kingdom_of_Bretonnia.",
      [
        (troop_get_type, ":var0", "trp_player"),
        (try_begin),
          (neq, ":var0", 2),
          (assign, "$background_type", 3),
          (assign, ":var1", "fac_culture_11"),
          (faction_set_slot, "fac_player_supporters_faction", 10, ":var1"),
          (faction_set_slot, "fac_player_faction", 10, ":var1"),
          (faction_set_slot, "fac_player_supporters_faction", 41, "trp_bretonnian_peasant"),
          (faction_set_slot, "fac_player_supporters_faction", 42, "trp_bretonnian_man_at_arms"),
          (faction_set_slot, "fac_player_supporters_faction", 43, "trp_bretonnian_veteran_man_at_arms"),
          (faction_set_slot, "fac_player_supporters_faction", 44, "trp_bretonnian_errant"),
          (faction_set_slot, "fac_player_supporters_faction", 45, "trp_bretonnian_realm"),
          (faction_set_slot, "fac_player_supporters_faction", 46, "trp_paladin"),
          (faction_set_slot, "fac_player_supporters_faction", 75, "pt_kingdom_11_reinforcements_a"),
          (faction_set_slot, "fac_player_supporters_faction", 76, "pt_kingdom_11_reinforcements_b"),
          (faction_set_slot, "fac_player_supporters_faction", 77, "pt_kingdom_11_reinforcements_c"),
          (faction_set_slot, "fac_player_supporters_faction", 78, "pt_kingdom_11_reinforcements_d"),
          (faction_set_slot, "fac_player_supporters_faction", 79, "pt_kingdom_11_reinforcements_e"),
          (faction_set_slot, "fac_player_supporters_faction", 111, "pt_kingdom_11_reinforcements_f"),
          (faction_set_slot, "fac_player_supporters_faction", 112, "pt_kingdom_11_reinforcements_g"),
          (faction_set_slot, "fac_player_supporters_faction", 49, "trp_paladin"),
          (faction_set_slot, "fac_player_supporters_faction", 51, "trp_bretonnian_prison_guard"),
          (faction_set_slot, "fac_player_supporters_faction", 52, "trp_bretonnian_castle_guard"),
          (faction_set_slot, "fac_player_supporters_faction", 53, "trp_town_walker_1"),
          (faction_set_slot, "fac_player_supporters_faction", 54, "trp_town_walker_2"),
          (faction_set_slot, "fac_player_supporters_faction", 55, "trp_village_walker_1"),
          (faction_set_slot, "fac_player_supporters_faction", 56, "trp_village_walker_2"),
          (faction_set_slot, "fac_player_supporters_faction", 28, 0),
          (faction_set_slot, "fac_player_supporters_faction", 29, 1),
          (faction_set_slot, "fac_player_supporters_faction", 251, "itm_leather_jerkin"),
          (faction_set_slot, "fac_player_supporters_faction", 252, "itm_courtly_outfit"),
          (faction_set_slot, "fac_player_supporters_faction", 253, "itm_leather_boots"),
          (faction_set_slot, "fac_player_supporters_faction", 255, "fac_kingdom_11"),
          (assign, reg3, "$character_gender"),
        (try_end),
        (str_store_string, s10, "@You were born in the great Kingdom of Bretonnia.^ A kingdom famed for it's gallant fully armoured knights and feudal Lords who fight for their King Louen Leoncoeur. Chivalry and honour mix with poverty and inequality in this great land west of the Grey mountains."),
        (jump_to_menu, "mnu_start_character_12"),
      ]
      ),

      ("start_araby",
      [],
      "The_Sultanate_of_Araby.",
      [
        (troop_get_type, ":var0", "trp_player"),
        (try_begin),
          (neq, ":var0", 2),
          (assign, "$background_type", 4),
          (assign, ":var1", "fac_culture_9"),
          (faction_set_slot, "fac_player_supporters_faction", 10, ":var1"),
          (faction_set_slot, "fac_player_faction", 10, ":var1"),
          (faction_set_slot, "fac_player_supporters_faction", 41, "trp_sarranid_recruit"),
          (faction_set_slot, "fac_player_supporters_faction", 42, "trp_sarranid_footman"),
          (faction_set_slot, "fac_player_supporters_faction", 43, "trp_sarranid_archer"),
          (faction_set_slot, "fac_player_supporters_faction", 44, "trp_sarranid_horseman"),
          (faction_set_slot, "fac_player_supporters_faction", 45, "trp_sarranid_mamluke"),
          (faction_set_slot, "fac_player_supporters_faction", 46, "trp_sand_wraith"),
          (faction_set_slot, "fac_player_supporters_faction", 75, "pt_kingdom_9_reinforcements_a"),
          (faction_set_slot, "fac_player_supporters_faction", 76, "pt_kingdom_9_reinforcements_b"),
          (faction_set_slot, "fac_player_supporters_faction", 77, "pt_kingdom_9_reinforcements_c"),
          (faction_set_slot, "fac_player_supporters_faction", 78, "pt_kingdom_9_reinforcements_d"),
          (faction_set_slot, "fac_player_supporters_faction", 79, "pt_kingdom_9_reinforcements_e"),
          (faction_set_slot, "fac_player_supporters_faction", 111, "pt_kingdom_9_reinforcements_f"),
          (faction_set_slot, "fac_player_supporters_faction", 112, "pt_kingdom_9_reinforcements_g"),
          (faction_set_slot, "fac_player_supporters_faction", 49, "trp_sarranid_guard"),
          (faction_set_slot, "fac_player_supporters_faction", 51, "trp_sarranid_prison_guard"),
          (faction_set_slot, "fac_player_supporters_faction", 52, "trp_sarranid_castle_guard"),
          (faction_set_slot, "fac_player_supporters_faction", 53, "trp_sarranid_townsman"),
          (faction_set_slot, "fac_player_supporters_faction", 54, "trp_sarranid_townswoman"),
          (faction_set_slot, "fac_player_supporters_faction", 55, "trp_sarranid_townsman"),
          (faction_set_slot, "fac_player_supporters_faction", 56, "trp_sarranid_townswoman"),
          (faction_set_slot, "fac_player_supporters_faction", 28, 0),
          (faction_set_slot, "fac_player_supporters_faction", 29, 1),
          (faction_set_slot, "fac_player_supporters_faction", 251, "itm_shirt"),
          (faction_set_slot, "fac_player_supporters_faction", 252, "itm_courtly_outfit"),
          (faction_set_slot, "fac_player_supporters_faction", 253, "itm_leather_boots"),
          (faction_set_slot, "fac_player_supporters_faction", 255, "fac_kingdom_9"),
          (assign, reg3, "$character_gender"),
        (try_end),
        (str_store_string, s10, "@You were born in the rich and desertous land of Araby,^one of the main intellectual and cultural hubs in the world. You grew up in the shadow of the Tomb Kings^and the hatred of the dead and you learnt from a young age that sometimes the sword is the only way to have peace."),
        (jump_to_menu, "mnu_start_character_13"),
      ]
      ),

      ("start_kislev",
      [],
      "The_Tsardom_of_Kislev.",
      [
        (troop_get_type, ":var0", "trp_player"),
        (try_begin),
          (neq, ":var0", 2),
          (assign, "$background_type", 67),
          (assign, ":var1", "fac_culture_14"),
          (faction_set_slot, "fac_player_supporters_faction", 10, ":var1"),
          (faction_set_slot, "fac_player_faction", 10, ":var1"),
          (faction_set_slot, "fac_player_supporters_faction", 41, "trp_khergit_tribesman"),
          (faction_set_slot, "fac_player_supporters_faction", 42, "trp_kislev_axeman"),
          (faction_set_slot, "fac_player_supporters_faction", 43, "trp_kislev_kossar"),
          (faction_set_slot, "fac_player_supporters_faction", 44, "trp_kislev_bohka"),
          (faction_set_slot, "fac_player_supporters_faction", 45, "trp_kislev_gryphon"),
          (faction_set_slot, "fac_player_supporters_faction", 46, "trp_sons_of_ursun"),
          (faction_set_slot, "fac_player_supporters_faction", 75, "pt_kingdom_14_reinforcements_a"),
          (faction_set_slot, "fac_player_supporters_faction", 76, "pt_kingdom_14_reinforcements_b"),
          (faction_set_slot, "fac_player_supporters_faction", 77, "pt_kingdom_14_reinforcements_c"),
          (faction_set_slot, "fac_player_supporters_faction", 78, "pt_kingdom_14_reinforcements_d"),
          (faction_set_slot, "fac_player_supporters_faction", 79, "pt_kingdom_14_reinforcements_e"),
          (faction_set_slot, "fac_player_supporters_faction", 111, "pt_kingdom_14_reinforcements_f"),
          (faction_set_slot, "fac_player_supporters_faction", 112, "pt_kingdom_14_reinforcements_g"),
          (faction_set_slot, "fac_player_supporters_faction", 49, "trp_kislev_bohka"),
          (faction_set_slot, "fac_player_supporters_faction", 51, "trp_khergit_prison_guard"),
          (faction_set_slot, "fac_player_supporters_faction", 52, "trp_khergit_castle_guard"),
          (faction_set_slot, "fac_player_supporters_faction", 53, "trp_town_walker_1"),
          (faction_set_slot, "fac_player_supporters_faction", 54, "trp_town_walker_2"),
          (faction_set_slot, "fac_player_supporters_faction", 55, "trp_village_walker_1"),
          (faction_set_slot, "fac_player_supporters_faction", 56, "trp_village_walker_2"),
          (faction_set_slot, "fac_player_supporters_faction", 28, 0),
          (faction_set_slot, "fac_player_supporters_faction", 29, 1),
          (faction_set_slot, "fac_player_supporters_faction", 251, "itm_fur_coat"),
          (faction_set_slot, "fac_player_supporters_faction", 252, "itm_courtly_outfit"),
          (faction_set_slot, "fac_player_supporters_faction", 253, "itm_leather_boots"),
          (faction_set_slot, "fac_player_supporters_faction", 255, "fac_kingdom_14"),
          (assign, reg3, "$character_gender"),
        (try_end),
        (str_store_string, s10, "@You were born in the snowy Tsardom of Kislev. The front line of civilisation against the terrible threat of the north. Life is hard and so are the people of Kislev who fight the realm of chaos and the northern trolls on a daily basis. Famed for their winged charges and disciplined archers the armies of Kislev will stand unflinching against all those who try and claim the land that is theirs by right."),
        (jump_to_menu, "mnu_start_character_43"),
      ]
      ),

      ("start_bandit",
      [],
      "The_Empire_of_Nippon.",
      [
        (troop_get_type, ":var0", "trp_player"),
        (try_begin),
          (neq, ":var0", 2),
          (assign, "$background_type", 5),
          (assign, ":var1", "fac_culture_16"),
          (faction_set_slot, "fac_player_supporters_faction", 10, ":var1"),
          (faction_set_slot, "fac_player_faction", 10, ":var1"),
          (faction_set_slot, "fac_culture_16", 41, "trp_doshin"),
          (faction_set_slot, "fac_culture_16", 42, "trp_nippon_gunso"),
          (faction_set_slot, "fac_culture_16", 43, "trp_samurai"),
          (faction_set_slot, "fac_culture_16", 44, "trp_nippon_hatamoto"),
          (faction_set_slot, "fac_culture_16", 45, "trp_red_devil"),
          (faction_set_slot, "fac_culture_16", 46, "trp_great_guard"),
          (faction_set_slot, "fac_player_supporters_faction", 75, "pt_kingdom_16_reinforcements_a"),
          (faction_set_slot, "fac_player_supporters_faction", 76, "pt_kingdom_16_reinforcements_b"),
          (faction_set_slot, "fac_player_supporters_faction", 77, "pt_kingdom_16_reinforcements_c"),
          (faction_set_slot, "fac_player_supporters_faction", 78, "pt_kingdom_16_reinforcements_d"),
          (faction_set_slot, "fac_player_supporters_faction", 79, "pt_kingdom_16_reinforcements_e"),
          (faction_set_slot, "fac_player_supporters_faction", 111, "pt_kingdom_16_reinforcements_f"),
          (faction_set_slot, "fac_player_supporters_faction", 112, "pt_kingdom_16_reinforcements_g"),
          (faction_set_slot, "fac_player_supporters_faction", 49, "trp_samurai"),
          (faction_set_slot, "fac_player_supporters_faction", 51, "trp_nippon_gunso"),
          (faction_set_slot, "fac_player_supporters_faction", 52, "trp_samurai"),
          (faction_set_slot, "fac_player_supporters_faction", 53, "trp_town_walker_1_nippon"),
          (faction_set_slot, "fac_player_supporters_faction", 54, "trp_town_walker_2_nippon"),
          (faction_set_slot, "fac_player_supporters_faction", 55, "trp_village_walker_1_nippon"),
          (faction_set_slot, "fac_player_supporters_faction", 56, "trp_village_walker_2_nippon"),
          (faction_set_slot, "fac_player_supporters_faction", 57, "trp_spy_walker_1"),
          (faction_set_slot, "fac_player_supporters_faction", 58, "trp_spy_walker_2"),
          (faction_set_slot, "fac_player_supporters_faction", 28, 0),
          (faction_set_slot, "fac_player_supporters_faction", 29, 1),
          (faction_set_slot, "fac_player_supporters_faction", 251, "itm_shugenja_kinomo3"),
          (faction_set_slot, "fac_player_supporters_faction", 252, "itm_courtly_outfit"),
          (faction_set_slot, "fac_player_supporters_faction", 253, "itm_leather_boots"),
          (faction_set_slot, "fac_player_supporters_faction", 255, "fac_kingdom_16"),
          (assign, reg3, "$character_gender"),
        (try_end),
        (str_store_string, s10, "@You were born in the land of the rising sun, far to the east but a great natural disaster has forced the Shogun to find a new land so that his many displaced citizens can have a place to call home. You follow the Shogun's army on their journey."),
        (jump_to_menu, "mnu_start_character_14"),
      ]
      ),

      ("start_pirate",
      [],
      "The_Brotherhood_of_Pirates.",
      [
        (troop_get_type, ":var0", "trp_player"),
        (try_begin),
          (neq, ":var0", 2),
          (assign, "$background_type", 6),
          (assign, ":var1", "fac_culture_1"),
          (faction_set_slot, "fac_player_supporters_faction", 10, ":var1"),
          (faction_set_slot, "fac_player_faction", 10, ":var1"),
          (faction_set_slot, "fac_player_supporters_faction", 41, "trp_nord_recruit"),
          (faction_set_slot, "fac_player_supporters_faction", 42, "trp_nord_footman"),
          (faction_set_slot, "fac_player_supporters_faction", 43, "trp_nord_trained_footman"),
          (faction_set_slot, "fac_player_supporters_faction", 44, "trp_nord_warrior"),
          (faction_set_slot, "fac_player_supporters_faction", 45, "trp_nord_veteran"),
          (faction_set_slot, "fac_player_supporters_faction", 46, "trp_pirate_ogre"),
          (faction_set_slot, "fac_player_supporters_faction", 75, "pt_kingdom_4_reinforcements_a"),
          (faction_set_slot, "fac_player_supporters_faction", 76, "pt_kingdom_4_reinforcements_b"),
          (faction_set_slot, "fac_player_supporters_faction", 77, "pt_kingdom_4_reinforcements_c"),
          (faction_set_slot, "fac_player_supporters_faction", 78, "pt_kingdom_4_reinforcements_d"),
          (faction_set_slot, "fac_player_supporters_faction", 79, "pt_kingdom_4_reinforcements_e"),
          (faction_set_slot, "fac_player_supporters_faction", 111, "pt_kingdom_4_reinforcements_f"),
          (faction_set_slot, "fac_player_supporters_faction", 112, "pt_kingdom_4_reinforcements_g"),
          (faction_set_slot, "fac_player_supporters_faction", 49, "trp_nord_champion"),
          (faction_set_slot, "fac_player_supporters_faction", 51, "trp_nord_trained_footman"),
          (faction_set_slot, "fac_player_supporters_faction", 52, "trp_nord_veteran"),
          (faction_set_slot, "fac_player_supporters_faction", 53, "trp_town_walker_1"),
          (faction_set_slot, "fac_player_supporters_faction", 54, "trp_town_walker_2"),
          (faction_set_slot, "fac_player_supporters_faction", 55, "trp_village_walker_1"),
          (faction_set_slot, "fac_player_supporters_faction", 56, "trp_village_walker_2"),
          (faction_set_slot, "fac_player_supporters_faction", 28, 0),
          (faction_set_slot, "fac_player_supporters_faction", 29, 1),
          (faction_set_slot, "fac_player_supporters_faction", 251, "itm_shirt"),
          (faction_set_slot, "fac_player_supporters_faction", 252, "itm_courtly_outfit"),
          (faction_set_slot, "fac_player_supporters_faction", 253, "itm_leather_boots"),
          (assign, reg3, "$character_gender"),
        (try_end),
        (str_store_string, s10, "@You were born in the Brotherhood of Pirates. They have no set borders but rather^whatever land they can take for themselves. The pirates follow the code with each other but concerning others they^lie, cheat and steal whatever they can. Hated by all the pirates have to be calculated and clinical in their endeavours^and as a consequence have some of the smartest and most charismatic leaders in the World. Time for you to take your fill."),
        (jump_to_menu, "mnu_start_character_15"),
      ]
      ),
    ],
  ),

  ("start_character_1e", mnf_disable_all_keys,
    "You select one of the Elf races.  You will become:",
    "none",
    [
      (str_clear, s10),
      (str_clear, s11),
    ],
    [
      ("start_high_elf_male",
      [],
      "a_Son_of_the_High_Elves.",
      [
        (troop_set_type, "trp_player", 8),
        (assign, "$character_gender", 0),
        (assign, ":var0", "fac_culture_3"),
        (faction_set_slot, "fac_player_supporters_faction", 10, ":var0"),
        (faction_set_slot, "fac_player_faction", 10, ":var0"),
        (faction_set_slot, "fac_player_supporters_faction", 41, "trp_highelf_recruit"),
        (faction_set_slot, "fac_player_supporters_faction", 42, "trp_highelf_footman"),
        (faction_set_slot, "fac_player_supporters_faction", 43, "trp_highelf_veteran"),
        (faction_set_slot, "fac_player_supporters_faction", 44, "trp_highelf_guard"),
        (faction_set_slot, "fac_player_supporters_faction", 45, "trp_highelf_knight"),
        (faction_set_slot, "fac_player_supporters_faction", 46, "trp_white_lion_rider"),
        (faction_set_slot, "fac_player_supporters_faction", 75, "pt_kingdom_3_reinforcements_a"),
        (faction_set_slot, "fac_player_supporters_faction", 76, "pt_kingdom_3_reinforcements_b"),
        (faction_set_slot, "fac_player_supporters_faction", 77, "pt_kingdom_3_reinforcements_c"),
        (faction_set_slot, "fac_player_supporters_faction", 78, "pt_kingdom_3_reinforcements_d"),
        (faction_set_slot, "fac_player_supporters_faction", 79, "pt_kingdom_3_reinforcements_e"),
        (faction_set_slot, "fac_player_supporters_faction", 111, "pt_kingdom_3_reinforcements_f"),
        (faction_set_slot, "fac_player_supporters_faction", 112, "pt_kingdom_3_reinforcements_g"),
        (faction_set_slot, "fac_player_supporters_faction", 49, "trp_highelf_bladelord"),
        (faction_set_slot, "fac_player_supporters_faction", 51, "trp_highelf_prison_guard"),
        (faction_set_slot, "fac_player_supporters_faction", 52, "trp_highelf_castle_guard"),
        (faction_set_slot, "fac_player_supporters_faction", 53, "trp_town_walker_elf"),
        (faction_set_slot, "fac_player_supporters_faction", 54, "trp_town_walker_elfwoman"),
        (faction_set_slot, "fac_player_supporters_faction", 55, "trp_town_walker_elf"),
        (faction_set_slot, "fac_player_supporters_faction", 56, "trp_town_walker_elfwoman"),
        (faction_set_slot, "fac_player_supporters_faction", 28, 8),
        (faction_set_slot, "fac_player_supporters_faction", 29, 5),
        (faction_set_slot, "fac_player_supporters_faction", 251, "itm_leather_jerkin"),
        (faction_set_slot, "fac_player_supporters_faction", 252, "itm_courtly_outfit"),
        (faction_set_slot, "fac_player_supporters_faction", 253, "itm_leather_boots"),
        (faction_set_slot, "fac_player_supporters_faction", 255, "fac_kingdom_3"),
        (jump_to_menu, "mnu_start_character_7"),
        (troop_add_item, "trp_player", "itm_elf_tabard", 0),
        (troop_add_item, "trp_player", "itm_leather_boots", 0),
        (troop_add_item, "trp_player", "itm_sword_medieval_b_small", 0),
        (troop_add_item, "trp_player", "itm_grain", 0),
        (assign, "$disposition", 1),
        (assign, "$high_elf", 1),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_12", -10),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_5", -10),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_10", -5),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_13", -5),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_6", -5),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_3", 15),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_18", 10),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_4", -5),
      ]
      ),

      ("start_high_elf_female",
      [],
      "a_Daughter_of_the_High_Elves.",
      [
        (troop_set_type, "trp_player", 5),
        (assign, "$character_gender", 1),
        (assign, ":var0", "fac_culture_3"),
        (faction_set_slot, "fac_player_supporters_faction", 10, ":var0"),
        (faction_set_slot, "fac_player_faction", 10, ":var0"),
        (faction_set_slot, "fac_player_supporters_faction", 41, "trp_highelf_recruit"),
        (faction_set_slot, "fac_player_supporters_faction", 42, "trp_highelf_footman"),
        (faction_set_slot, "fac_player_supporters_faction", 43, "trp_highelf_veteran"),
        (faction_set_slot, "fac_player_supporters_faction", 44, "trp_highelf_guard"),
        (faction_set_slot, "fac_player_supporters_faction", 45, "trp_highelf_knight"),
        (faction_set_slot, "fac_player_supporters_faction", 46, "trp_white_lion_rider"),
        (faction_set_slot, "fac_player_supporters_faction", 75, "pt_kingdom_3_reinforcements_a"),
        (faction_set_slot, "fac_player_supporters_faction", 76, "pt_kingdom_3_reinforcements_b"),
        (faction_set_slot, "fac_player_supporters_faction", 77, "pt_kingdom_3_reinforcements_c"),
        (faction_set_slot, "fac_player_supporters_faction", 78, "pt_kingdom_3_reinforcements_d"),
        (faction_set_slot, "fac_player_supporters_faction", 79, "pt_kingdom_3_reinforcements_e"),
        (faction_set_slot, "fac_player_supporters_faction", 111, "pt_kingdom_3_reinforcements_f"),
        (faction_set_slot, "fac_player_supporters_faction", 112, "pt_kingdom_3_reinforcements_g"),
        (faction_set_slot, "fac_player_supporters_faction", 49, "trp_highelf_bladelord"),
        (faction_set_slot, "fac_player_supporters_faction", 51, "trp_highelf_prison_guard"),
        (faction_set_slot, "fac_player_supporters_faction", 52, "trp_highelf_castle_guard"),
        (faction_set_slot, "fac_player_supporters_faction", 53, "trp_town_walker_elf"),
        (faction_set_slot, "fac_player_supporters_faction", 54, "trp_town_walker_elfwoman"),
        (faction_set_slot, "fac_player_supporters_faction", 55, "trp_town_walker_elf"),
        (faction_set_slot, "fac_player_supporters_faction", 56, "trp_town_walker_elfwoman"),
        (faction_set_slot, "fac_player_supporters_faction", 28, 8),
        (faction_set_slot, "fac_player_supporters_faction", 29, 5),
        (faction_set_slot, "fac_player_supporters_faction", 251, "itm_leather_jerkin"),
        (faction_set_slot, "fac_player_supporters_faction", 252, "itm_courtly_outfit"),
        (faction_set_slot, "fac_player_supporters_faction", 253, "itm_leather_boots"),
        (faction_set_slot, "fac_player_supporters_faction", 255, "fac_kingdom_3"),
        (jump_to_menu, "mnu_start_character_7"),
        (troop_add_item, "trp_player", "itm_elf_tabard", 0),
        (troop_add_item, "trp_player", "itm_leather_boots", 0),
        (troop_add_item, "trp_player", "itm_sword_medieval_b_small", 0),
        (troop_add_item, "trp_player", "itm_grain", 0),
        (assign, "$disposition", 1),
        (assign, "$high_elf", 1),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_12", -10),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_5", -10),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_10", -5),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_13", -5),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_6", -5),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_3", 15),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_18", 10),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_4", -5),
      ]
      ),

      ("start_wood_elf_male",
      [],
      "a_Son_of_the_Wood_Elves.",
      [
        (troop_set_type, "trp_player", 8),
        (assign, "$character_gender", 0),
        (assign, ":var0", "fac_culture_18"),
        (faction_set_slot, "fac_player_supporters_faction", 10, ":var0"),
        (faction_set_slot, "fac_player_faction", 10, ":var0"),
        (faction_set_slot, "fac_player_supporters_faction", 41, "trp_woodelf_recruit"),
        (faction_set_slot, "fac_player_supporters_faction", 42, "trp_forest_guard"),
        (faction_set_slot, "fac_player_supporters_faction", 43, "trp_glade_guard"),
        (faction_set_slot, "fac_player_supporters_faction", 44, "trp_glade_rider"),
        (faction_set_slot, "fac_player_supporters_faction", 45, "trp_wild_hunter"),
        (faction_set_slot, "fac_player_supporters_faction", 46, "trp_treekin"),
        (faction_set_slot, "fac_player_supporters_faction", 75, "pt_kingdom_18_reinforcements_a"),
        (faction_set_slot, "fac_player_supporters_faction", 76, "pt_kingdom_18_reinforcements_b"),
        (faction_set_slot, "fac_player_supporters_faction", 77, "pt_kingdom_18_reinforcements_c"),
        (faction_set_slot, "fac_player_supporters_faction", 78, "pt_kingdom_18_reinforcements_d"),
        (faction_set_slot, "fac_player_supporters_faction", 79, "pt_kingdom_18_reinforcements_e"),
        (faction_set_slot, "fac_player_supporters_faction", 111, "pt_kingdom_18_reinforcements_f"),
        (faction_set_slot, "fac_player_supporters_faction", 112, "pt_kingdom_18_reinforcements_g"),
        (faction_set_slot, "fac_player_supporters_faction", 49, "trp_shadow_lord"),
        (faction_set_slot, "fac_player_supporters_faction", 51, "trp_woodelf_prison_guard"),
        (faction_set_slot, "fac_player_supporters_faction", 52, "trp_woodelf_castle_guard"),
        (faction_set_slot, "fac_player_supporters_faction", 53, "trp_town_walker_elf"),
        (faction_set_slot, "fac_player_supporters_faction", 54, "trp_town_walker_elfwoman"),
        (faction_set_slot, "fac_player_supporters_faction", 55, "trp_town_walker_elf"),
        (faction_set_slot, "fac_player_supporters_faction", 56, "trp_town_walker_elfwoman"),
        (faction_set_slot, "fac_player_supporters_faction", 28, 8),
        (faction_set_slot, "fac_player_supporters_faction", 29, 5),
        (faction_set_slot, "fac_player_supporters_faction", 251, "itm_leather_jerkin"),
        (faction_set_slot, "fac_player_supporters_faction", 252, "itm_courtly_outfit"),
        (faction_set_slot, "fac_player_supporters_faction", 253, "itm_leather_boots"),
        (faction_set_slot, "fac_player_supporters_faction", 255, "fac_kingdom_18"),
        (jump_to_menu, "mnu_start_character_48"),
        (troop_add_item, "trp_player", "itm_elf_armour", 0),
        (troop_add_item, "trp_player", "itm_leather_boots", 0),
        (troop_add_item, "trp_player", "itm_sword_medieval_b_small", 0),
        (troop_add_item, "trp_player", "itm_grain", 0),
        (assign, "$disposition", 1),
        (assign, "$wood_elf", 1),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_12", -10),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_5", -10),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_10", -5),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_13", -5),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_6", -5),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_3", 10),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_18", 15),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_4", -5),
      ]
      ),

      ("start_wood_elf_female",
      [],
      "a_Daughter_of_the_Wood_Elves.",
      [
        (troop_set_type, "trp_player", 5),
        (assign, "$character_gender", 1),
        (assign, ":var0", "fac_culture_18"),
        (faction_set_slot, "fac_player_supporters_faction", 10, ":var0"),
        (faction_set_slot, "fac_player_faction", 10, ":var0"),
        (faction_set_slot, "fac_player_supporters_faction", 41, "trp_woodelf_recruit"),
        (faction_set_slot, "fac_player_supporters_faction", 42, "trp_forest_guard"),
        (faction_set_slot, "fac_player_supporters_faction", 43, "trp_glade_guard"),
        (faction_set_slot, "fac_player_supporters_faction", 44, "trp_glade_rider"),
        (faction_set_slot, "fac_player_supporters_faction", 45, "trp_wild_rider"),
        (faction_set_slot, "fac_player_supporters_faction", 46, "trp_treekin"),
        (faction_set_slot, "fac_player_supporters_faction", 75, "pt_kingdom_18_reinforcements_a"),
        (faction_set_slot, "fac_player_supporters_faction", 76, "pt_kingdom_18_reinforcements_b"),
        (faction_set_slot, "fac_player_supporters_faction", 77, "pt_kingdom_18_reinforcements_c"),
        (faction_set_slot, "fac_player_supporters_faction", 78, "pt_kingdom_18_reinforcements_d"),
        (faction_set_slot, "fac_player_supporters_faction", 79, "pt_kingdom_18_reinforcements_e"),
        (faction_set_slot, "fac_player_supporters_faction", 111, "pt_kingdom_18_reinforcements_f"),
        (faction_set_slot, "fac_player_supporters_faction", 112, "pt_kingdom_18_reinforcements_g"),
        (faction_set_slot, "fac_player_supporters_faction", 49, "trp_shadow_lord"),
        (faction_set_slot, "fac_player_supporters_faction", 51, "trp_woodelf_prison_guard"),
        (faction_set_slot, "fac_player_supporters_faction", 52, "trp_woodelf_castle_guard"),
        (faction_set_slot, "fac_player_supporters_faction", 53, "trp_town_walker_elf"),
        (faction_set_slot, "fac_player_supporters_faction", 54, "trp_town_walker_elfwoman"),
        (faction_set_slot, "fac_player_supporters_faction", 55, "trp_town_walker_elf"),
        (faction_set_slot, "fac_player_supporters_faction", 56, "trp_town_walker_elfwoman"),
        (faction_set_slot, "fac_player_supporters_faction", 28, 8),
        (faction_set_slot, "fac_player_supporters_faction", 29, 5),
        (faction_set_slot, "fac_player_supporters_faction", 251, "itm_leather_jerkin"),
        (faction_set_slot, "fac_player_supporters_faction", 252, "itm_courtly_outfit"),
        (faction_set_slot, "fac_player_supporters_faction", 253, "itm_leather_boots"),
        (faction_set_slot, "fac_player_supporters_faction", 255, "fac_kingdom_18"),
        (jump_to_menu, "mnu_start_character_48"),
        (troop_add_item, "trp_player", "itm_elf_armour", 0),
        (troop_add_item, "trp_player", "itm_leather_boots", 0),
        (troop_add_item, "trp_player", "itm_sword_medieval_b_small", 0),
        (troop_add_item, "trp_player", "itm_grain", 0),
        (assign, "$disposition", 1),
        (assign, "$wood_elf", 1),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_12", -10),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_5", -10),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_10", -5),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_13", -5),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_6", -5),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_3", 10),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_18", 15),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_4", -5),
      ]
      ),

      ("start_darkelf",
      [],
      "a_Son_of_the_Dark_Elves",
      [
        (troop_set_type, "trp_player", 8),
        (assign, "$character_gender", 0),
        (assign, ":var0", "fac_culture_12"),
        (faction_set_slot, "fac_player_supporters_faction", 10, ":var0"),
        (faction_set_slot, "fac_player_faction", 10, ":var0"),
        (faction_set_slot, "fac_player_supporters_faction", 41, "trp_darkelf_recruit"),
        (faction_set_slot, "fac_player_supporters_faction", 42, "trp_darkelf_warrior"),
        (faction_set_slot, "fac_player_supporters_faction", 43, "trp_darkelf_footman"),
        (faction_set_slot, "fac_player_supporters_faction", 44, "trp_darkelf_veteran"),
        (faction_set_slot, "fac_player_supporters_faction", 45, "trp_darkelf_infantry"),
        (faction_set_slot, "fac_player_supporters_faction", 46, "trp_dreadmaster"),
        (faction_set_slot, "fac_player_supporters_faction", 75, "pt_kingdom_12_reinforcements_a"),
        (faction_set_slot, "fac_player_supporters_faction", 76, "pt_kingdom_12_reinforcements_b"),
        (faction_set_slot, "fac_player_supporters_faction", 77, "pt_kingdom_12_reinforcements_c"),
        (faction_set_slot, "fac_player_supporters_faction", 78, "pt_kingdom_12_reinforcements_d"),
        (faction_set_slot, "fac_player_supporters_faction", 79, "pt_kingdom_12_reinforcements_e"),
        (faction_set_slot, "fac_player_supporters_faction", 111, "pt_kingdom_12_reinforcements_f"),
        (faction_set_slot, "fac_player_supporters_faction", 112, "pt_kingdom_12_reinforcements_g"),
        (faction_set_slot, "fac_player_supporters_faction", 49, "trp_darkelf_knight"),
        (faction_set_slot, "fac_player_supporters_faction", 51, "trp_darkelf_prison_guard"),
        (faction_set_slot, "fac_player_supporters_faction", 52, "trp_darkelf_castle_guard"),
        (faction_set_slot, "fac_player_supporters_faction", 53, "trp_town_walker_darkelf"),
        (faction_set_slot, "fac_player_supporters_faction", 54, "trp_town_walker_darkelfwoman"),
        (faction_set_slot, "fac_player_supporters_faction", 55, "trp_town_walker_darkelf"),
        (faction_set_slot, "fac_player_supporters_faction", 56, "trp_town_walker_darkelfwoman"),
        (faction_set_slot, "fac_player_supporters_faction", 28, 8),
        (faction_set_slot, "fac_player_supporters_faction", 29, 5),
        (faction_set_slot, "fac_player_supporters_faction", 251, "itm_leather_jerkin"),
        (faction_set_slot, "fac_player_supporters_faction", 252, "itm_courtly_outfit"),
        (faction_set_slot, "fac_player_supporters_faction", 253, "itm_leather_boots"),
        (faction_set_slot, "fac_player_supporters_faction", 255, "fac_kingdom_12"),
        (jump_to_menu, "mnu_start_character_8"),
        (troop_add_item, "trp_player", "itm_robe", 0),
        (troop_add_item, "trp_player", "itm_leather_boots", 0),
        (troop_add_item, "trp_player", "itm_sword_medieval_b_small", 0),
        (troop_add_item, "trp_player", "itm_grain", 0),
        (assign, "$disposition", 2),
        (assign, "$dark_elf", 1),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_3", -10),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_1", -10),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_11", -5),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_2", -5),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_16", -5),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_12", 15),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_18", -15),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_4", -5),
      ]
      ),

      ("start_darkelf",
      [],
      "a_Daughter_of_the_Dark_Elves",
      [
        (troop_set_type, "trp_player", 5),
        (assign, "$character_gender", 1),
        (assign, ":var0", "fac_culture_12"),
        (faction_set_slot, "fac_player_supporters_faction", 10, ":var0"),
        (faction_set_slot, "fac_player_faction", 10, ":var0"),
        (faction_set_slot, "fac_player_supporters_faction", 41, "trp_darkelf_recruit"),
        (faction_set_slot, "fac_player_supporters_faction", 42, "trp_darkelf_warrior"),
        (faction_set_slot, "fac_player_supporters_faction", 43, "trp_darkelf_footman"),
        (faction_set_slot, "fac_player_supporters_faction", 44, "trp_darkelf_veteran"),
        (faction_set_slot, "fac_player_supporters_faction", 45, "trp_darkelf_infantry"),
        (faction_set_slot, "fac_player_supporters_faction", 46, "trp_dreadmaster"),
        (faction_set_slot, "fac_player_supporters_faction", 75, "pt_kingdom_12_reinforcements_a"),
        (faction_set_slot, "fac_player_supporters_faction", 76, "pt_kingdom_12_reinforcements_b"),
        (faction_set_slot, "fac_player_supporters_faction", 77, "pt_kingdom_12_reinforcements_c"),
        (faction_set_slot, "fac_player_supporters_faction", 78, "pt_kingdom_12_reinforcements_d"),
        (faction_set_slot, "fac_player_supporters_faction", 79, "pt_kingdom_12_reinforcements_e"),
        (faction_set_slot, "fac_player_supporters_faction", 111, "pt_kingdom_12_reinforcements_f"),
        (faction_set_slot, "fac_player_supporters_faction", 112, "pt_kingdom_12_reinforcements_g"),
        (faction_set_slot, "fac_player_supporters_faction", 49, "trp_darkelf_knight"),
        (faction_set_slot, "fac_player_supporters_faction", 51, "trp_darkelf_prison_guard"),
        (faction_set_slot, "fac_player_supporters_faction", 52, "trp_darkelf_castle_guard"),
        (faction_set_slot, "fac_player_supporters_faction", 53, "trp_town_walker_darkelf"),
        (faction_set_slot, "fac_player_supporters_faction", 54, "trp_town_walker_darkelfwoman"),
        (faction_set_slot, "fac_player_supporters_faction", 55, "trp_town_walker_darkelf"),
        (faction_set_slot, "fac_player_supporters_faction", 56, "trp_town_walker_darkelfwoman"),
        (faction_set_slot, "fac_player_supporters_faction", 28, 8),
        (faction_set_slot, "fac_player_supporters_faction", 29, 5),
        (faction_set_slot, "fac_player_supporters_faction", 251, "itm_leather_jerkin"),
        (faction_set_slot, "fac_player_supporters_faction", 252, "itm_courtly_outfit"),
        (faction_set_slot, "fac_player_supporters_faction", 253, "itm_leather_boots"),
        (faction_set_slot, "fac_player_supporters_faction", 255, "fac_kingdom_12"),
        (jump_to_menu, "mnu_start_character_8"),
        (troop_add_item, "trp_player", "itm_robe", 0),
        (troop_add_item, "trp_player", "itm_leather_boots", 0),
        (troop_add_item, "trp_player", "itm_sword_medieval_b_small", 0),
        (troop_add_item, "trp_player", "itm_grain", 0),
        (assign, "$disposition", 2),
        (assign, "$dark_elf", 1),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_3", -10),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_1", -10),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_11", -5),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_2", -15),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_16", -5),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_12", 15),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_18", -15),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_4", -5),
      ]
      ),
    ],
  ),

  ("start_character_37", mnf_disable_all_keys,
    "You were born years ago, in one of the great forests of the Old World. Your father was...",
    "none",
    [
      (str_clear, s10),
      (str_clear, s11),
      (str_clear, s12),
      (str_clear, s13),
      (str_clear, s14),
      (str_clear, s15),
    ],
    [
      ("start_brayshaman",
      [],
      "A_Bray_Shaman.",
      [
        (assign, "$background_type", 55),
        (assign, reg3, "$character_gender"),
        (str_store_string, s10, "@Your father was a bray shaman, a beast embodied with the magic of the dark Gods. Sacred, feared, untouchable, your father would counsel the beastlords before their great campaigns on how best to destroy the race of men and what rituals should be carried out the night before. On the occassions he fought with the army all foes trembled and fell before his fell sorcery."),
        (jump_to_menu, "mnu_start_character_38"),
      ]
      ),

      ("start_beasttact",
      [],
      "A_Tactician.",
      [
        (assign, "$background_type", 56),
        (assign, reg3, "$character_gender"),
        (str_store_string, s10, "@Men believe that the beastmen are lower than Orcs when it comes to sophistication of their battle strategy and in the heat of an enraged battle they may be right but beforehand the hordes like to gain as much of an advantage as they can. The favourite tactic of the beastmen is an ambush in the forest and this was one area your father was a master of, especially with a smaller scale force of under 50 troops. He was the bane of Imperial scout parties and patrols."),
        (jump_to_menu, "mnu_start_character_38"),
      ]
      ),

      ("start_bestigor",
      [],
      "A_Bestigor.",
      [
        (assign, "$background_type", 57),
        (assign, reg3, "$character_gender"),
        (str_store_string, s10, "@Your father was a ferocious bestigor and one of his beastlord's finest personal retainers. His horns were almost as long as the beastlord's and he had captured more enemy banners than any other beast in the Horde. He met his end prematurely when he decided it was his time to take leadership of the horde and challenged his lord to single combat. His severed head was kept as a reminder to all else who might have such ambitions."),
        (jump_to_menu, "mnu_start_character_38"),
      ]
      ),

      ("start_huntmaster",
      [],
      "A_Huntmaster.",
      [
        (assign, "$background_type", 58),
        (assign, reg3, "$character_gender"),
        (str_store_string, s10, "@Your father had the challenging task of gathering chaos warhounds and keeping them in line until they were needed to hunt down intruders, escaped prisoners or small groups of travellers. It takes a strong gor to be able to control these destructive creatures and many get torn apart on the job. Your father maintained authority at all times and trained them to hunt down their prey with a 100% success rate earning him the name of huntmaster."),
        (jump_to_menu, "mnu_start_character_38"),
      ]
      ),

      ("start_beastchariot",
      [],
      "A_Chariot_Rider.",
      [
        (assign, "$background_type", 59),
        (assign, reg3, "$character_gender"),
        (str_store_string, s10, "@You seldom see the great tuskgor chariots any more since the magic of the bray allowed them to be ridden by the horde but before the breakthrough was made the chariot was the most effective way of getting them into combat. Your father rode these great contraptions at full force towards enemy lines, no matter what stood in his way, and all you would see from further back was bodies being thrown in the air from one of the most devastating impacts you could see on a battlefield."),
        (jump_to_menu, "mnu_start_character_38"),
      ]
      ),

      ("start_chieftain",
      [],
      "A_Warlord.",
      [
        (assign, "$background_type", 60),
        (assign, reg3, "$character_gender"),
        (str_store_string, s10, "@Your father was the warlord of a large herd who constantly harried the Empire and were always one of the first^to answer the the call to gathering. He was a nearly 7 foot tall and as strong as a bull, wielding his trusted axe he could cut a man in half with 1 swing. He took great pride in^his tuskgor chariot and taught you to ride as soon as you could walk."),
        (jump_to_menu, "mnu_start_character_38"),
      ]
      ),

      ("go_back5",
      [],
      "Start_over",
      [
        (jump_to_menu, "mnu_start_game_0"),
      ]
      ),
    ],
  ),

  ("start_character_40", mnf_disable_all_keys,
    "You were born years ago, in the tranquil heartlands of the moot. Your father was...",
    "none",
    [
      (str_clear, s10),
      (str_clear, s11),
      (str_clear, s12),
      (str_clear, s13),
      (str_clear, s14),
      (str_clear, s15),
    ],
    [
      ("start_innkeeper",
      [],
      "An_Innkeeper.",
      [
        (assign, "$background_type", 61),
        (assign, reg3, "$character_gender"),
        (str_store_string, s10, "@Your father ran the local Inn which was situated by the main pier of the river which serves the town. It was mainly used as a local drinking hole, the moot does not get many visitors from foreign lands but when they came they always found their way to your father's Inn and they always had a memorable night."),
        (jump_to_menu, "mnu_start_character_41"),
      ]
      ),

      ("start_councillor",
      [],
      "A_Quinsberry_Councillor.",
      [
        (assign, "$background_type", 62),
        (assign, reg3, "$character_gender"),
        (str_store_string, s10, "@A couple of decades ago the Halflings faced a lot of discrimination in foreign lands, even in the Empire who have the closest ties with them. In response the Halflings set up the Quinsberry Lodge which fights for Halfling rights in every Imperial city. Your father was a councillor who specialised in trading laws and trading rights for all the Empire's Halfling merchants."),
        (jump_to_menu, "mnu_start_character_41"),
      ]
      ),

      ("start_masterthief",
      [],
      "A_Master_Thief.",
      [
        (assign, "$background_type", 63),
        (assign, reg3, "$character_gender"),
        (str_store_string, s10, "@Halflings have a very soft stance on the rights of property and generally if something is desired then it should be no bother to take it without asking because after all, why go to the trouble of asking when the answer was bound to be yes. Sometimes desirable items are kept in very inconvenient places such as safes and chests or even tucked away in an inside pocket and your father was a master of acquiring these items quickly and discretely. From the planning stage to the execution his skills were second to none and he taught you a thing or two before you left home."),
        (jump_to_menu, "mnu_start_character_41"),
      ]
      ),

      ("start_ranger",
      [],
      "A_Ranger.",
      [
        (assign, "$background_type", 64),
        (assign, reg3, "$character_gender"),
        (str_store_string, s10, "@Halflings are not very warlike in general but they can defend their homes very effectively if the need arises and the real strength of the halfling forces are their archers. Their keen eyesight and steady hands have led to their best archers being considered equals of the elite wood elf waywatchers and the Empire will pay a mighty sum to hire out units of halfling rangers during the larger campaigns. Your father was a ranger from the age of 17 until his death at the hands of a squig who ate him whole in the middle of a battle."),
        (jump_to_menu, "mnu_start_character_41"),
      ]
      ),

      ("start_sheriff",
      [],
      "A_Sheriff.",
      [
        (assign, "$background_type", 65),
        (assign, reg3, "$character_gender"),
        (str_store_string, s10, "@Your father was a local sheriff who was charged with keeping order and making sure that life in the moot went on in a just and fair manner. Of course if some gold coins or shiny objects happen to make their way into your fathers possession then the concept of fair can be up for interpretation."),
        (jump_to_menu, "mnu_start_character_41"),
      ]
      ),

      ("start_dungeon",
      [],
      "A_Dungeon_Adventurer.",
      [
        (assign, "$background_type", 66),
        (assign, reg3, "$character_gender"),
        (str_store_string, s10, "@Your father was never satisfied with life in the moot and wanted to join one of the Empires dungeoneer guilds. He was a gunslinger who loved his dual pistols which he could whip out of his coat and fire in a fraction of a second. He played a support role in his team but after a few years he was the considered the most valuable member of the party."),
        (jump_to_menu, "mnu_start_character_41"),
      ]
      ),

      ("go_back",
      [],
      "Start_over",
      [
        (jump_to_menu, "mnu_start_game_0"),
      ]
      ),
    ],
  ),

  ("start_character_45", mnf_disable_all_keys,
    "In the eastern reach of the Imperial province of Stirland lies Sylvania, a cursed place covered in foggy forests and swampy moors, littered by ruins of old castles and graveyards. Though silent and ghostly, this land is said to be still inhabited by humans, that carry on their simple lives in small villages, mostly farmer communities, living under the shadows cast by the high towers of the cities, ruled by unspeakable beings. Another man is crossing the sylvanian border. He's your father and he was.....",
    "none",
    [
      (str_clear, s10),
      (str_clear, s11),
      (str_clear, s12),
      (str_clear, s13),
      (str_clear, s14),
      (str_clear, s15),
    ],
    [
      ("start_treasure",
      [],
      "A_Treasure_Hunter.",
      [
        (assign, "$background_type", 67),
        (assign, reg3, "$character_gender"),
        (str_store_string, s10, "@Attracted by the legends revolving around the many ruins lying in the depth of the gloomy woods, and their fabled tresures, your father came to Sylvania in search of the thrill of adventure and immense wealth. But soon he found that those decrepit walls weren't as deserted as many thought. At one point, tired of that risky life, he settled down in a small village, and after some time you were born."),
        (jump_to_menu, "mnu_start_character_46"),
      ]
      ),

      ("start_heretic",
      [],
      "An_Exiled_Heretic.",
      [
        (assign, "$background_type", 68),
        (assign, reg3, "$character_gender"),
        (str_store_string, s10, "@Shunned by society for his unorthodox preachings, your father fled to Sylvania in search of a safe place where to hide from the eyes of the imperial inquisitors and those witch hunter zealots. The dark entities he believed in granted his wish when, after days of aimless wandering, he found a small village near a slimy pond. There he settled as a priest, teaching the peasants about the Dark Gods and introducing them to their grimy sacraments. And so you were born, offspring of a ritual orgy."),
        (jump_to_menu, "mnu_start_character_46"),
      ]
      ),

      ("start_mutant",
      [],
      "A_Deformed_Mutant.",
      [
        (assign, "$background_type", 69),
        (assign, reg3, "$character_gender"),
        (str_store_string, s10, "@Those born with physical anomalies are rejected by the imperial society, deemed monsters and left to live and die alone. Your father, his body defective but not his mind, spent his life trying to stay alive in the wilderness, learning how to provide for himself. This ended when he arrived to Sylvania after hearing rumors about how mutants are treated as normal people in that land. Not only he managed to get a home there, but he raised a little farmstead and a family. Thus you were born. "),
        (jump_to_menu, "mnu_start_character_46"),
      ]
      ),

      ("start_noble",
      [],
      "A_Sylvanian_Noble.",
      [
        (assign, "$background_type", 70),
        (assign, reg3, "$character_gender"),
        (str_store_string, s10, "@Last of a noble bloodline, your father was a petty landlord belonging to the decadent sylvanian nobility. In his youth, he spent his days doing nothing but duelling over women, big game hunting and squandering his family's gold for his own delights. But sometimes too much unrestrained pleasure can lead to unwanted outcomes. Unwanted like you, son of a barmaid and rejected by your father."),
        (jump_to_menu, "mnu_start_character_46"),
      ]
      ),

      ("start_servant",
      [],
      "A_Vampire_Servant.",
      [
        (assign, "$background_type", 71),
        (assign, reg3, "$character_gender"),
        (str_store_string, s10, "@Without any memory left from his life before the blood pact, your father was one of the personal servants of a vampire sire. Forcedly instructed about the use of weapons and the art of combat, his life was to fight his masters enemies, more a tool than a normal thug. Being his will completely null, he was forced to breed by his sire, to grant him more pawns to manipulate and blood to drink. Thus you were born."),
        (jump_to_menu, "mnu_start_character_46"),
      ]
      ),

      ("start_merchant",
      [],
      "A_Stirland_Merchant.",
      [
        (assign, "$background_type", 72),
        (assign, reg3, "$character_gender"),
        (str_store_string, s10, "@Hailing from Wurtbad, the capitol city of Stirland, your father was a wine merchant. With his caravan he traveled across all of the Empire selling the renowned stirlander wine, and that's how he got to the misty lands of Sylvania. While on the road to Drakenhof, the next stop on his trade schedule, his caravan got attacked by bandits. Too frightened to stay and too coward to fight against the attackers, he fled on his horse, leaving all the other caravans behind. He was found lying in a muddy pool by some villagers some days after. Traumatized by the experience, he built his home in that village, never to leave again. He married with a peasant woman and had many babies. You were one of them."),
        (jump_to_menu, "mnu_start_character_46"),
      ]
      ),

      ("go_back",
      [],
      "Start_over",
      [
        (jump_to_menu, "mnu_start_game_0"),
      ]
      ),
    ],
  ),

  ("start_character_48", mnf_disable_all_keys,
    "The forest of Athel Loren, an emerald eye nestled between Bretonnia and the Empire of Men, last reminder of the past elven colonization of the Old World. Among its majestic trees, where magic fills the air, spirits and ancient creatures live their lives side by side with your kin, in perfect harmony with nature's creations. You are one of those elves who arrived here from Ulthuan in those ancient and forgotten times, and you came here as..",
    "none",
    [
      (str_clear, s10),
      (str_clear, s11),
      (str_clear, s12),
      (str_clear, s13),
      (str_clear, s14),
      (str_clear, s15),
    ],
    [
      ("start_blacksmith",
      [],
      "A_Blacksmith.",
      [
        (assign, "$background_type", 73),
        (assign, reg3, "$character_gender"),
        (str_store_string, s10, "@A warrior can be strong, his skills unsurpassed, his will hard as steel. Still, that warriors going to fall without some good equipment pieces. That was your work: forging blades and armors for the finests of Ulthuan, bringing forth the tradition of the elven forges excellence. Strong your hammer hit the anvil, hot the smelter burnt as you crafted those deadly art pieces. Given your mastery within the smithy, you immediately accepted to follow the expedition for the Old World as soon as you were asked. But no one really knows what future brings. So, centuries later, you became..."),
        (jump_to_menu, "mnu_start_character_49"),
      ]
      ),

      ("start_pathfinder",
      [],
      "A_Pathfinder.",
      [
        (assign, "$background_type", 74),
        (assign, reg3, "$character_gender"),
        (str_store_string, s10, "@Born under the blessing of Kurnous, you have always been gifted with a stupefying sight and an incredible sense of orientation. In the emptiest deserts as in the thickest forest, your inner guide would have led you to your mark as if your very blood was pointing the right way to follow. Your uncanny ability served you well when you proposed yourself to enter the expeditionary forces for the Old World as an explorer. However, your arrival to Athel Loren changed it all, making you into..."),
        (jump_to_menu, "mnu_start_character_49"),
      ]
      ),

      ("start_soldier",
      [],
      "A_Soldier.",
      [
        (assign, "$background_type", 75),
        (assign, reg3, "$character_gender"),
        (str_store_string, s10, "@In a world as perilous as yours, where there is always something trying to kill something else, war is indeed one of the most prominent businesses, with entire populations devoted to its maintenance. You were one of the players of this dangerous game. You can't remember with precision what your unit, your home or your friends were like, their image torn away by scenes of blood and a feeling of fear earned by fighting in the War of Vengeance and witnessing its brutalities. So, lost to the world, you deserted, to get away your only goal. Your arrival here was like an elixir, as you saw a chance to begin again by becoming... "),
        (jump_to_menu, "mnu_start_character_49"),
      ]
      ),

      ("start_lorekeeper",
      [],
      "A_Lorekeeper.",
      [
        (assign, "$background_type", 76),
        (assign, reg3, "$character_gender"),
        (str_store_string, s10, "@The elven nature is strongly tied with the winds of magic, their history dating back to the very first ages of the world. You pledged your very life on preserving this knowledge, becoming a quintessential magic tuner, lives of many flowing through yours. That's the reason why you were taken in the expeditionary force directed to the Old World, a living aspect of the elven culture and magical knowledge. But this very strong attunement to magic was the very factor that changed you upon reaching Athel Loren, turning you into..."),
        (jump_to_menu, "mnu_start_character_49"),
      ]
      ),

      ("start_ambassador",
      [],
      "An_Ambassador.",
      [
        (assign, "$background_type", 77),
        (assign, reg3, "$character_gender"),
        (str_store_string, s10, "@As an emissary of Ulthuan and the Phoenix King, you were sent with the main colonial expedition to mediate with the inland populations inhabiting the continent. Your mission of peace was however interrupted by the outbreak of what came to be known as the War of Vengeance between your kin and the dwarves that inhabited the mountains and you, being a man of wisdom and words, not a warrior at all, fled in fear and found shelter in the great forest of Athel Loren.You settled in one of its clearings, slowly being reached by other elves escaping the war, and here you became..."),
        (jump_to_menu, "mnu_start_character_49"),
      ]
      ),

      ("start_minor",
      [],
      "A_Minor_Noble.",
      [
        (assign, "$background_type", 78),
        (assign, reg3, "$character_gender"),
        (str_store_string, s10, "@Your fascination for adventure and exotic places brought you to voluntary enlist yourself and your court in the ranks of the colonizers. You never cared about settling down and growing a colony of your own, instead you spent your time exploring and hunting, paying very little interest in your roles responsibilities. There is no wonder that when the War of Vengeance broke out, your scarce commitment to your own races defense brought you away from the fighting, leading you towards the forest of Athel Loren, where many other elves fled escaping the war. Here you found your home, and began your new life as..."),
        (jump_to_menu, "mnu_start_character_49"),
      ]
      ),

      ("go_back",
      [],
      "Start_over",
      [
        (jump_to_menu, "mnu_start_game_0"),
      ]
      ),
    ],
  ),

  ("start_character_51", mnf_disable_all_keys,
    "Mingol Zharr Naggrund, the Tower of Fire, ominously watches over the Plain of Zharrdukk, rivers of molten rock bleeding out from its bowels. At its very top, the Temple of Hashut resounds with the echoing of cruel sacrifices to the Father of Darkness and the malign pleasure of the witnessing High Prophets. Then, silence. Hashut, the Bull God spoke, a divine quest was imposed. The cabals of the Chaos Dwarfs prepare for the expedition that will lead them to new lands, and you with them, enrolled as..",
    "none",
    [
      (str_clear, s10),
      (str_clear, s11),
      (str_clear, s12),
      (str_clear, s13),
      (str_clear, s14),
      (str_clear, s15),
    ],
    [
      ("start_daemon_binder",
      [],
      "A_Daemon_Binder.",
      [
        (assign, "$background_type", 79),
        (assign, reg3, "$character_gender"),
        (str_store_string, s10, "@The highest art of the Dawi Zharr, binding daemons to an inanimate object is not only a dangerous and physically consuming practice but also the key to understand the power hidden in their crafts. A daemon binder, as you are, is an artificer of great ability and skill but also a dark adept of greater evil,  that someday could become a powerful Daemonsmith. Along the long road though, something changed you.."),
        (jump_to_menu, "mnu_start_character_52"),
      ]
      ),

      ("start_torturer",
      [],
      "A_Torturer.",
      [
        (assign, "$background_type", 80),
        (assign, reg3, "$character_gender"),
        (str_store_string, s10, "@A sadistic master of pain as entertainment, ritual or persuasion. A deep connoisseur of the roads and paths carved in the flesh of the living beings. Your dedication to the infliction of torment and sorrow over the bodies of your victims has always been a source of blithe satisfaction for your Lords, their atrocious agonies skillfully designed to last as long as possible, each drop of blood shed an offering to the Bull God. Until one day, something changed you..."),
        (jump_to_menu, "mnu_start_character_52"),
      ]
      ),

      ("start_slavemaster",
      [],
      "A_Slave_Master.",
      [
        (assign, "$background_type", 81),
        (assign, reg3, "$character_gender"),
        (str_store_string, s10, "@A position of main importance in the slavery driven society of the Chaos Dwarfs, the slavemaster is not only the responsible for the total obedience and submission of his appointed subjects but also the one ruling and inciting them into battle, an activity your cruel iron fist made very easy to fulfill. Always ready to send the mob of worthless expendables to their utmost demise in name of your personal success, you joined the expedition, but along the road an unusual sight dazzled you... "),
        (jump_to_menu, "mnu_start_character_52"),
      ]
      ),

      ("start_legionnaire",
      [],
      "A_Legionnaire.",
      [
        (assign, "$background_type", 82),
        (assign, reg3, "$character_gender"),
        (str_store_string, s10, "@Unbent. Unbroken. The legions of the Dawi Zharr are made by some of the most disciplined and ruthless soldiers in the whole Old World. Under their heavy metal plates a core of magmatic and unforgiving brutality awaits the order to be unleashed. A skilled soldier, your lord decided your platoon would have joined him in the new imperialist mission. Little you knew, something would have changed you along the road..."),
        (jump_to_menu, "mnu_start_character_52"),
      ]
      ),

      ("start_ironsworn",
      [],
      "An_Ironsworn.",
      [
        (assign, "$background_type", 83),
        (assign, reg3, "$character_gender"),
        (str_store_string, s10, "@One of the lieutenants of the Infernal Guard, a veteran of a thousand battles, a living weapon of Hashut, clad in blood and souls forged metal and dark magic, a penitent for your past misdeeds. As an Ironsworn, your extreme loyalty to the Father of Darkness and will to atone your sins did not find you faltering when the quest for expansion and greater glory was given, eager to bring death and dismay to the lesser races. One day though, something you witnessed caught your attention..."),
        (jump_to_menu, "mnu_start_character_52"),
      ]
      ),

      ("start_trader",
      [],
      "A_Trader.",
      [
        (assign, "$background_type", 84),
        (assign, reg3, "$character_gender"),
        (str_store_string, s10, "@Indeed the Chaos Dwarfs are an isolationist population, though their industry and society requires many resources and manpower to keep going. This is what you understood better than many others and that is why you took on yourself the honor of trading with the people of Norsca and the everhungry Ogres the trinkets and artifacts of your people for more slaves and metals. But even a traveler like you never really knows everything of the world, and so you learned something new at the sight of..."),
        (jump_to_menu, "mnu_start_character_52"),
      ]
      ),

      ("go_back",
      [],
      "Start_over",
      [
        (jump_to_menu, "mnu_start_game_0"),
      ]
      ),
    ],
  ),

  ("start_character_43", mnf_disable_all_keys,
    "{s10}^^You were born years ago, in the land of the bear and ice magic. Your father was...",
    "none",
    [],
    [
      ("start_priest",
      [],
      "Priest_of_Ulric.",
      [
        (assign, "$background_type", 88),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@Your father taught you about the faith and dedication needed to defy the creeping chill of Chaos, nurturing you into self-sufficiency, asceticism and sense of companionship worthy of the wolves."),
        (jump_to_menu, "mnu_start_character_44"),
      ]
      ),

      ("start_chekist",
      [],
      "A_member_of_the_Tsarina's_secret_police.",
      [
        (assign, "$background_type", 89),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@Loyalty and obedience were everything to your father, who worked as a Chekist in the government, purging the Tsardom from the temptations of its inner enemies. You constantly saw his cunning at work - analyzing guests, provoking them into dangerous conversations, reading their every gesture as one would read a tome of law: the expression of order is the mark of wholeness in the eyes of the Chekist. "),
        (jump_to_menu, "mnu_start_character_44"),
      ]
      ),

      ("start_boyar",
      [],
      "A_Boyar.",
      [
        (assign, "$background_type", 90),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@As part of Kislev's determined aristocracy, your father exuded both charm and ruthlessness, a cold-hearted warmth unique to someone who for a long time has been in charge of peoples who reside at the very edge of life itself. No harsh winter or Norscan horde ever broke his will, forever steadfast and hopeful in the face of certain, implacable, encroaching death."),
        (jump_to_menu, "mnu_start_character_44"),
      ]
      ),

      ("start_kossar",
      [],
      "A_Kossar.",
      [
        (assign, "$background_type", 91),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@Dark humor and a belly full of beer is all you needed to survive, at least from the example set by your father, who spent long, frosty seasons protecting your home from unknown terrors. In the dark blue nights of the Far North, the only thing you can trust is the sizzle of the snow as the blood of your comrades stains the soil, the bond of the true Kossar, whose fate is inseparable from that of his companions' swords."),
        (jump_to_menu, "mnu_start_character_44"),
      ]
      ),

      ("start_kyazak",
      [],
      "A_Kyazak_nomad.",
      [
        (assign, "$background_type", 92),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@Your father taught you that force was the path of truth, that in the vastness of the steppes the only thing that makes an echo is the strength of your will to take what you need. Farmers and city-dwellers can no longer hear that echo, and it is therefore your duty to remind them of its life-affirming power, of how your war-cry and their screams come to fill the void once more."),
        (jump_to_menu, "mnu_start_character_44"),
      ]
      ),

      ("start_hunter",
      [],
      "A_hunter.",
      [
        (assign, "$background_type", 93),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@Your father was a hunter, an expert at braving the Northern elements, always coming back to the hearth just when you started to think the howls of the wind were getting loudest. He taught you about the different ways the snow falls, about the secrets of frozen lakes and the whims of Ursun's creatures, how they confront the barren landscape not only for survival, but also for the pleasure of finding themselves immersed, all alone, at the chilling heart of nature."),
        (jump_to_menu, "mnu_start_character_44"),
      ]
      ),

      ("go_back",
      [],
      "Go_back",
      [
        (jump_to_menu, "mnu_start_game_0"),
      ]
      ),
    ],
  ),

  ("start_character_44", mnf_disable_all_keys,
    "{s11}^^You grew up fast and embraced the strength and spirit of your people. In your early life you were....",
    "none",
    [],
    [
      ("start_hearth",
      [],
      "Hearth_Hand.",
      [
        (assign, "$background_answer_44", 91),
        (assign, reg3, "$character_gender"),
        (str_store_string, s12, "@Your early youth was marked by the hard labor of keeping your home functional, helping your mother cook, maintain the fire, and repair the house. It was, after all, your sole refuge against the cold wills of angry gods."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("start_wanderer",
      [],
      "A_wanderer_of_Ursun.",
      [
        (assign, "$background_answer_44", 92),
        (assign, reg3, "$character_gender"),
        (str_store_string, s12, "@As a child, you once dreamed of a great polar bear battling a mountain and coming out victorious, standing majestically before you, its face bearing a thousand terrible scars. You felt close to the whiteness of the horizon, and held a deep sympathy towards the animals of the North, so alike and yet so different to yourself. You liked to follow around all sorts of nomadic mystics as the men of your village frowned and the women shook their heads in disapproval. "),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("start_ice",
      [],
      "An_ice_witch_familiar.",
      [
        (assign, "$background_answer_44", 93),
        (assign, reg3, "$character_gender"),
        (str_store_string, s12, "@Amazed at the power to bend entire ice-scapes to their will, you went into the service of a coven of Ice Witches, learning about the divinity of Winter and its fiery, burning passion. Having no magical aptitude, you could only study and serve their wishes, handling rare elements and coming to understand the sublime processes of Ice in due time."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("start_ataman",
      [],
      "An_Ataman_Couselor.",
      [
        (assign, "$background_answer_44", 94),
        (assign, reg3, "$character_gender"),
        (str_store_string, s12, "@The growth of your village reflected not only the Tsarina's vision of order but also the expertise of its leader, the Ataman. Burdened by the extensions of authority, the Ataman formed a small group of Counselors of which you became a part of, thanks, perhaps, to desperation and luck in equal measure. Power, you finally understood, begins and ends with the frontier, with the menace of Chaos."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("start_raider",
      [],
      "A_Kyazak_raider.",
      [
        (assign, "$background_answer_44", 95),
        (assign, reg3, "$character_gender"),
        (str_store_string, s12, "@After losing everything in a terrible icestorm, you followed a Kyazak raiding party for days on end. They noticed you from the very beginning, but realized a lost, starving young Kislevite was no danger to their group. After a few weeks that you survived out of scraps and roots, they finally sent a warrior to challenge you, to test your mettle. With your soul having finally known the true stillness of the cold, you fiercely defeated your enemy, appearing like an indomitable force of nature to the rest of the party. They embraced you as one of their own, and let you ride along them to the far reaches of the world for a time."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("start_squire",
      [],
      "A_Dhruzhina_squire.",
      [
        (assign, "$background_answer_44", 96),
        (assign, reg3, "$character_gender"),
        (str_store_string, s12, "@You were sworn in to the service of a Druzhina, a local minor aristocrat that taught you the ways of the Kislevite noble warrior. You slowly came to understand the will of the Tsarina, and your allegiance to the laws of her lands became indisputable as you aided the swords and the shields the Druzhina represented, piercing through the darkness so as to let the great still whiteness reign forever in its stead. "),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("go_back",
      [],
      "Start_over",
      [
        (jump_to_menu, "mnu_start_game_0"),
      ]
      ),
    ],
  ),

  ("start_character_2", mnf_disable_all_keys,
    "You were born years ago, in the far north of the Old World. Your father was...",
    "none",
    [
      (str_clear, s10),
      (str_clear, s11),
      (str_clear, s12),
      (str_clear, s13),
      (str_clear, s14),
      (str_clear, s15),
    ],
    [
      ("start_chaoswarrior",
      [],
      "A_Chaos_Warrior.",
      [
        (assign, "$background_type", 7),
        (assign, reg3, "$character_gender"),
        (str_store_string, s10, "@Your father was one of the strongest of your tribe and felt the calling of his God as soon as he killed^his first victim on the battlefield. Greatly respected by everyone in your tribe he was an inspiration to you and other young tribesman^and you learnt much from him until he left in a mighty warband and never came back."),
        (jump_to_menu, "mnu_start_character_16"),
      ]
      ),

      ("start_chariot",
      [],
      "A_Chariot_Rider.",
      [
        (assign, "$background_type", 8),
        (assign, reg3, "$character_gender"),
        (str_store_string, s10, "@Your father rode a gigantic chariot into battles with 8 feet long scythes and wheels made out of iron so hard they^would crush anyone who went under them. The chariot was pulled by 2 of the largest horses you had ever seen and his exploits^on the battlefield led to him having one of the greatest reputations amongst all the tribes."),
        (jump_to_menu, "mnu_start_character_16"),
      ]
      ),

      ("start_berserker",
      [],
      "A_Berserker.",
      [
        (assign, "$background_type", 9),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@Your father was a drunk with no comprehension of defence and preservation on the^battlefield. He would get completely hammered before a battle and then launch himself headlong into the mightiest^unit his enemies had to offer. It was amazing he lived long enough to spread his seed."),
        (jump_to_menu, "mnu_start_character_16"),
      ]
      ),

      ("start_lumberjack",
      [],
      "A_Lumberjack.",
      [
        (assign, "$background_type", 10),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@Your father was a man who liked what he liked and kept himself to himself. He wasn't loud or brash like many Norse and^he was quite a quiet person. He was a lumberjack of great strength and stamina who chopped wood day and night for the Chaos navy so that they can build^their invasion fleets and replace any they lost in battles."),
        (jump_to_menu, "mnu_start_character_16"),
      ]
      ),

      ("start_barbarian",
      [],
      "A_Fearless_Barbarian.",
      [
        (assign, "$background_type", 11),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@Your father was an adventuring barbarian who loved nothing more than exploring the deepest mountain^caverns and dungeons for the world's forgotten treasures. He led a party of 4 including an elf, a dwarf and a wizard. In his life he^defeated warboss Gorgutt, the necromancer Gunther Laranscheld and the great minotaur king who dwelt in a fighting pit near your stronghold."),
        (jump_to_menu, "mnu_start_character_16"),
      ]
      ),

      ("start_chieftain",
      [],
      "A_Chieftain.",
      [
        (assign, "$background_type", 12),
        (assign, reg3, "$character_gender"),
        (str_store_string, s10, "@Your father was the chieftain of a large marauder tribe who constantly harried the Empire and were always one of the first^to answer the campaign call. He was a nearly 7 foot tall and as strong as a bull, wielding his trusted axe he could cut a man in half with 1 swing. He took great pride in^his set of Norsca horses and taught you to ride as soon as you could walk."),
        (jump_to_menu, "mnu_start_character_16"),
      ]
      ),

      ("go_back",
      [],
      "Start_over",
      [
        (jump_to_menu, "mnu_start_game_0"),
      ]
      ),
    ],
  ),

  ("start_character_3", mnf_disable_all_keys,
    "You were born years ago, in the luscious land of Lustria. Your father was...",
    "none",
    [
      (str_clear, s10),
      (str_clear, s11),
      (str_clear, s12),
      (str_clear, s13),
      (str_clear, s14),
      (str_clear, s15),
    ],
    [
      ("start_temple",
      [],
      "A_Temple_Guard.",
      [
        (assign, "$background_type", 13),
        (assign, reg3, "$character_gender"),
        (str_store_string, s10, "@Your father was a temple guard who had the duty of guarding the sacred temples in times of peace and if the army was summoned to go and meet a foreign^force then the temple guard will also join the ranks as they are too fierce a unit not to utilise. If the army has a Slaan mage priest in it then the temple guards will stay with^him and guard him with their lives."),
        (jump_to_menu, "mnu_start_character_17"),
      ]
      ),

      ("start_tactician",
      [],
      "A_Tactician.",
      [
        (assign, "$background_type", 14),
        (assign, reg3, "$character_gender"),
        (str_store_string, s10, "@Lizardmen don't get the respect they deserve outside of Lustria and many other races consider them unintelligent and poor military^leaders but this is very far from the truth. The Saurus' are experts in the military arts and your father was a tactician who worked specifically on how to defeat the^different human armies of the world."),
        (jump_to_menu, "mnu_start_character_17"),
      ]
      ),

      ("start_oldblood",
      [],
      "An_Old_Blood.",
      [
        (assign, "$background_type", 15),
        (assign, reg3, "$character_gender"),
        (str_store_string, s10, "@Your father was an old blood with a personal loyal army of over 250 troops. He had a long history with the Lizardman armies and was^one of the lead Old Blood's in the Lustria invasion force sent into the Old World to defeat the chaos. He was killed in one of the 3 great battles in the land between^Kraka Dorden and Praag but his army won the battle in his honour and then took his body back to Lustria for a great ceremony."),
        (jump_to_menu, "mnu_start_character_17"),
      ]
      ),

      ("start_coldone",
      [],
      "A_Champion_Cold_One_Rider.",
      [
        (assign, "$background_type", 16),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@{reg3?daughter:son}"),
        (str_store_string, s10, "@Your father was part of an elite cavalry unit in the Lustria invasion force. He was immensely tough and durable, often one of the last^still undefeated when the battles are down to the last men. He once took a Khorne axe square in the chest from a chosen warrior at full speed and not only survived but^turned around and speared the warrior with your lance afterwards. It took 3 hours to remove the axe from your fathers body and the story stayed with him throughout his ^military career."),
        (jump_to_menu, "mnu_start_character_17"),
      ]
      ),

      ("start_architecht",
      [],
      "An_Architecht.",
      [
        (assign, "$background_type", 17),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@{reg3?daughter:son}"),
        (str_store_string, s10, "@Lustria is full of amazing architecture from great pyramids to giant totem poles and great decorated gates. Your father was one of the great^architects who understood the Gods and understood the critical importance of every detail in Lustrian architecture."),
        (jump_to_menu, "mnu_start_character_17"),
      ]
      ),

      ("start_kroxigor",
      [],
      "A_Kroxigor_Trainer.",
      [
        (assign, "$background_type", 18),
        (assign, reg3, "$character_gender"),
        (str_store_string, s10, "@Your father was a kroxigor trainer who took takes kroxigors a couple of weeks after birth and brings them up on an intense regime^of training which prepares them for their future requirements on the battlefield and make sure that they are as easy to communicate with as possible."),
        (jump_to_menu, "mnu_start_character_17"),
      ]
      ),

      ("go_back",
      [],
      "Start_over",
      [
        (jump_to_menu, "mnu_start_game_0"),
      ]
      ),
    ],
  ),

  ("start_character_5", mnf_disable_all_keys,
    "Cumbersome, stinky, brutal, belligerent, green: all qualities of a perfect orc. Despised by many, feared by most, your kind inhabited the world since long lost times, growing in power and numbers through the ages. Wherever the orcs went or dwelled, they planted the spores of their future generations, which is how your story began. In one of the many underground fungal pods, your body was being formed. You were planted into...",
    "none",
    [
      (str_clear, s10),
      (str_clear, s11),
      (str_clear, s12),
      (str_clear, s13),
      (str_clear, s14),
      (str_clear, s15),
    ],
    [
      ("start_rock",
      [],
      "Rocky_Terrain.",
      [
        (assign, "$background_type", 19),
        (str_store_string, s14, "@{reg3?daughter:man}"),
        (str_store_string, s13, "@{reg3?woman:man}"),
        (str_store_string, s12, "@The rocky terrain of the Black Mountains is where your spores fell. The cold stone around you seems to have overdeveloped your muscles, making them bigger and stronger than normal. <<I gunna be a strong un!>> you thought while still inside your fungal pod, feeling your limbs contracting with a crack. Once out of your pod, you joined a band of greenskin raiders to become.."),
        (jump_to_menu, "mnu_start_character_18"),
      ]
      ),

      ("start_volcanic",
      [],
      "Volcanic_Terrain.",
      [
        (assign, "$background_type", 20),
        (assign, reg3, "$character_gender"),
        (str_store_string, s10, "@Your spores were planted in the blackened soil of the Dark Lands, the dominion of the Chaos Dwarfs, the land of your creators. Inside your fungal pod, a perfect war-machine was being generated. When your maturation process came to an end, you broke your mushroom-womb and let out a powerful cry.  <<WAAAAAAAAAAAAGH!>>. A Black Orc was born. Joining one of your kins warbands, you set for the Old World as..."),
        (jump_to_menu, "mnu_start_character_18"),
      ]
      ),

      ("start_arid",
      [],
      "Arid_Terrain.",
      [
        (assign, "$background_type", 21),
        (assign, reg3, "$character_gender"),
        (str_store_string, s10, "@The heat of the Badlands, amplified by the subterranean hot pools, really had some effects in your breeding, shrinking your brain to the point it resembled more a squigs brain than an orcs.What you lost in intelligence though, you gained in physical strength. An instinct driven being ready to roam the lands, a Savage Orc. Leaving your pod, you followed the familiar smell of your kin to a cave, where a tribe of savage orcs dwelled. Accepted by them, you started your new life as.."),
        (jump_to_menu, "mnu_start_character_18"),
      ]
      ),

      ("start_forest",
      [],
      "Forest_Terrain.",
      [
        (assign, "$background_type", 22),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@{reg3?daughter:son}"),
        (str_store_string, s10, "@The intricate forest covering the imperial mainland served well in hiding your fungus. What you didnt know yet was that the silent woods transmitted to you an enhanced ability of moving silently among the trees, making you a fearsome hunter of both animals and hoomies. A <<sneaky un>> was how your fellow orcs addressed you after you joined them in raiding an imperial caravan. Seeing how valuable you would have been to them, those orcs accepted you in their warband, and so you became.."),
        (jump_to_menu, "mnu_start_character_18"),
      ]
      ),

      ("start_lush",
      [],
      "Lush_Terrain.",
      [
        (assign, "$background_type", 23),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@{reg3?daughter:son}"),
        (str_store_string, s10, "@Under the mantle of a grassy valley, your spore developed into your final form. Running through the plains quickly made your legs naturally stronger, and the richness of the areas wildlife granted you and your kindred food and mounts. Trading strength for higher speed, your band of boar boys raiders became a fearsome presence among the human farmsteads and villages of the valley, enough to trigger an imperial reaction. With your small band annihilated after a crushing loss against the Empire, you fled and joined a bigger WAAAAAGH, where you became."),
        (jump_to_menu, "mnu_start_character_18"),
      ]
      ),

      ("start_snowy",
      [],
      "Snowy_Terrain.",
      [
        (assign, "$background_type", 24),
        (assign, reg3, "$character_gender"),
        (str_store_string, s10, "@Deep in the frozen heart of the Worlds Edge Mountains, your fungus grew covered by the everlasting snow. The icy climate made your skin bolder and <<reelly tuff>>, your flesh hard as steel.It wasnt long after your breakout from the pod that you found a siege encampment of other greenskins, ready to storm a dwarf citadel. You joined them, fought with them in the tunnels underground and baptized yourself in the blood of the unfortunate dwarfs. Seeking more of that, you remained with the tribe, spending your time as.."),
        (jump_to_menu, "mnu_start_character_18"),
      ]
      ),

      ("go_back",
      [],
      "Start_over",
      [
        (jump_to_menu, "mnu_start_game_0"),
      ]
      ),
    ],
  ),

  ("start_character_6", mnf_disable_all_keys,
    "Where greenskins have been in the past, sure there will be greenskins in the future, that is a matter of fact. And most of those newborns are going to be like you, a goblin. Short, bald, green creatures with a pointy nose evidently too big for their faces, a raucous high pitched voice and a passion for ambushing and looting, goblins are the most common and numerous expression of the greenskin genome, being present almost everywhere in the Old World. In one of the many underground fungal pods, your body was almost completely grown and ready to break free. Your spores were planted into...",
    "none",
    [
      (str_clear, s10),
      (str_clear, s11),
      (str_clear, s12),
      (str_clear, s13),
      (str_clear, s14),
      (str_clear, s15),
    ],
    [
      ("start_rocky",
      [],
      "Rocky_terrain.",
      [
        (assign, "$background_type", 25),
        (str_store_string, s14, "@{reg3?daughter:man}"),
        (str_store_string, s13, "@{reg3?woman:man}"),
        (str_store_string, s12, "@In the darkness of a deep cave, your spore absorbed the characteristics of the surroundings, alterating your genetic structure accordingly. Once born, your skin was paler than a normal goblins skin, your small red eyes already perfectly adapted to the absence of light and your lungs and muscles stronger, allowing you to easily move and breath in the depth of the earth. You were born a Night Goblin. With the first full moon night, you instinctively left your hole in the ground and united to one of the many warbands of night goblins infesting the area. They accepted you as..."),
        (jump_to_menu, "mnu_start_character_19"),
      ]
      ),

      ("start_snowy",
      [],
      "Snowy_terrain.",
      [
        (assign, "$background_type", 26),
        (assign, reg3, "$character_gender"),
        (str_store_string, s10, "@It is an uncommon thing for a goblin spore to survive long enough in a cold environment. Yet you managed to fully grow and hatch out of your fungal pod. The snow covered ground embracing your spore made your skin grow thicker and your muscles develop beyond normal, making you a quite unique individual among your kin. It was then no surprise that you quickly found and got accepted by a tribe, where you spent your time as..."),
        (jump_to_menu, "mnu_start_character_19"),
      ]
      ),

      ("start_forest",
      [],
      "Forest_terrain.",
      [
        (assign, "$background_type", 27),
        (assign, reg3, "$character_gender"),
        (str_store_string, s10, "@Unbeknownst to many, the forests of the north eastern regions of the Empire are full of goblin fungal pods waiting to hatch, yours was amongst them. After a few moments out your pod, a band of your kins that was roaming the area quickly seized you, releasing you a moment after, having recognized you as one of them: a Forest Goblin. With no hesitation you joined the spiders worshipping lot, where you lived as..."),
        (jump_to_menu, "mnu_start_character_19"),
      ]
      ),

      ("start_arid",
      [],
      "Arid_terrain.",
      [
        (assign, "$background_type", 28),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@{reg3?daughter:son}"),
        (str_store_string, s10, "@The Badlands, the ideal breeding ground of the goblin race, with their dry hot clime and underground water pools, is where your story began. You were born a pretty standard goblin, with no particular traits to differentiate you from your other fellows. As a simple one among many, you joined one of the many tribes that populate the Badlands, where you lived as..."),
        (jump_to_menu, "mnu_start_character_19"),
      ]
      ),

      ("start_steppe",
      [],
      "Steppe_terrain.",
      [
        (assign, "$background_type", 29),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@{reg3?daughter:son}"),
        (str_store_string, s10, "@The historicians of the Old World all agree that the greenskins had their origin in the steppes of the eastern lands of the world, where the Great Khanate is, and that is where your life began. Stronger, taller and more intelligent, you were born a Hobgoblin, the evilest and most dangerous breed of goblin. Joining one of the nomadic WAAAGHs of your folk, ready to satiate your lust for blood and violence, you proved yourself many times against the people of Ind and Cathay before being ultimately given the right to stay in the tribe by your new Khan. In the tribe, you chose to live as..."),
        (jump_to_menu, "mnu_start_character_19"),
      ]
      ),

      ("start_lush",
      [],
      "Lush_terrain.",
      [
        (assign, "$background_type", 30),
        (assign, reg3, "$character_gender"),
        (str_store_string, s10, "@Being born in the imperial southern grassy farmlands sure has its advantages but also brings many dangers to a goblin. Having to deal with solitude and the presence of those hostile oomie gitz made you quickly learn how to survive by stealing from them and how to flee fast from the crime scene or eliminate the witnesses of your acts. Your time as a loner ended when a band of goblin raiders from the mountains attacked the small village of farmers you were born near to.   Joining them, you started your new life as..."),
        (jump_to_menu, "mnu_start_character_19"),
      ]
      ),

      ("go_back",
      [],
      "Start_over",
      [
        (jump_to_menu, "mnu_start_game_0"),
      ]
      ),
    ],
  ),

  ("start_character_7", mnf_disable_all_keys,
    "You were born years ago, in a land far away. Your father was...",
    "none",
    [
      (str_clear, s10),
      (str_clear, s11),
      (str_clear, s12),
      (str_clear, s13),
      (str_clear, s14),
      (str_clear, s15),
    ],
    [
      ("start_dragon",
      [],
      "A_Dragon_Prince.",
      [
        (assign, "$background_type", 31),
        (assign, reg3, "$character_gender"),
        (str_store_string, s10, "@Your father was a member of Prince Tyrion's personal dragon prince unit who rode side by side with him in^the wars against the Daemons and Dark Elves. He would ride into battle with his magnificent dragon armour forged in the great volcano of^Dragon Spine Mountain. He went down in history as one of the greatest knights in the world."),
        (jump_to_menu, "mnu_start_character_20"),
      ]
      ),

      ("start_ranger",
      [],
      "A_Ranger.",
      [
        (assign, "$background_type", 32),
        (assign, reg3, "$character_gender"),
        (str_store_string, s10, "@Your father was a ranger who performed missions for both the High Elves and the Wood Elves. He was a master^archers and tracker like most rangers but your father had a connection to the forest most other Elves didn't have. The forests would offer him^protection and invisibility which meant he was never seen by enemies and the animals would aid him in his tracking of them."),
        (jump_to_menu, "mnu_start_character_20"),
      ]
      ),

      ("start_hero",
      [],
      "A_Tournament_Hero.",
      [
        (assign, "$background_type", 33),
        (assign, reg3, "$character_gender"),
        (str_store_string, s10, "@Competing in tournaments is highly regarded throughout the realms of men and although it is respected by the Elves it^is not something which would earn one great honour. However your father loved it and he was loved by the civilians who followed the tournaments around^who were amazed by his speed and skill in the arena. He is one of only 3 who have won a medal at every town in the Old World."),
        (jump_to_menu, "mnu_start_character_20"),
      ]
      ),

      ("start_swordmaster",
      [],
      "A_Sword_Master_of_Hoeth.",
      [
        (assign, "$background_type", 34),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@{reg3?daughter:son}"),
        (str_store_string, s10, "@Your father was a sword master of Hoeth, a unit which is exquisitely trained in sword artistry and they are considered^a match for the finest samurai troops in Nippon when it comes to a straight fight. He participated in the great battles against the Dark Elves and the^horrifying battles which took place on the coast of the channel which separates the two lands."),
        (jump_to_menu, "mnu_start_character_20"),
      ]
      ),

      ("start_charioteer",
      [],
      "A_Charioteer.",
      [
        (assign, "$background_type", 35),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@{reg3?daughter:son}"),
        (str_store_string, s10, "@Your father was a master of horses and piloted a 3 horse chariot around the battlefield with his master in the back bringing^death to the enemy by lance or by bow. He loved the sheer speed you can achieve in a chariot and he considered it the safest place on the battlefield. The^only thing he feared was the Empire steam tanks who made a point of taking out the chariots first. "),
        (jump_to_menu, "mnu_start_character_20"),
      ]
      ),

      ("start_noble",
      [],
      "A_Noble.",
      [
        (assign, "$background_type", 36),
        (assign, reg3, "$character_gender"),
        (str_store_string, s10, "@Your father was a High Elf noble who was involved in the highest politics of Ulthuan, if there was a decision to be made your^father made sure that he was able to get his opinion across before the decision is made. He was studious, well trained in warfare and led a big army who were^fiercely loyal to him."),
        (jump_to_menu, "mnu_start_character_20"),
      ]
      ),

      ("go_back",
      [],
      "Start_over",
      [
        (jump_to_menu, "mnu_start_game_0"),
      ]
      ),
    ],
  ),

  ("start_character_8", mnf_disable_all_keys,
    "You were born years ago, in a land far away. Your father was...",
    "none",
    [
      (str_clear, s10),
      (str_clear, s11),
      (str_clear, s12),
      (str_clear, s13),
      (str_clear, s14),
      (str_clear, s15),
    ],
    [
      ("start_silent",
      [],
      "A_Bodyguard.",
      [
        (assign, "$background_type", 37),
        (assign, reg3, "$character_gender"),
        (str_store_string, s10, "@Your father was a bodyguard for hire but not the usual type which makes themselves which shadows their employer^wherever they go and use their imposing physical presence to get the job done. Instead your father lurked in the shadows, seeing all and assessing all^possible threats. If anything springs up it was dealt with as swiftly and quietly as possible."),
        (jump_to_menu, "mnu_start_character_21"),
      ]
      ),

      ("start_corsair",
      [],
      "A_Corsair.",
      [
        (assign, "$background_type", 38),
        (assign, reg3, "$character_gender"),
        (str_store_string, s10, "@Your father spent his life on the rough seas boarding ships and taking slaves as well as plundering coastal^villages when he had the chance. Competent with twin swords and a pistol crossbow he was a versatile fighter and knew when to fight and when^to withdraw and as a consequence he has great survivability and still sails the seas today."),
        (jump_to_menu, "mnu_start_character_21"),
      ]
      ),

      ("start_executioner",
      [],
      "An_Executioner.",
      [
        (assign, "$background_type", 39),
        (assign, reg3, "$character_gender"),
        (str_store_string, s10, "@The dark elves are a cold hearted and merciless race which means that your father is always a busy man.^In your city if anyone is sentenced to death then your father will have the honour of removing their head with a enormous and accurate to^the millimetre axe. In times of total war he will also leave with the main forces to fight in a unit of his peers."),
        (jump_to_menu, "mnu_start_character_21"),
      ]
      ),

      ("start_darkassassin",
      [],
      "An_Assassin.",
      [
        (assign, "$background_type", 40),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@{reg3?daughter:son}"),
        (str_store_string, s10, "@Your father was one of the most prestigious assassins available for hire from the cult of Kaine.^He was hired for high ranking enemy assassinations as well as infiltration within the dark elf army to seek out sources of rebellion^and sedition."),
        (jump_to_menu, "mnu_start_character_21"),
      ]
      ),

      ("start_crossbow",
      [],
      "A_Crossbow_Expert.",
      [
        (assign, "$background_type", 41),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@{reg3?daughter:son}"),
        (str_store_string, s10, "@While most other factions like to use bow or gun for their ranged troops the dark elves set themselves apart by employing^crossbowmen on the field of battle. With damage and speed lying midway between the aforementioned weapon types the crossbowmen if used tactically right^can turn a battle on their own. Your father had mastered the use of the crossbow and led one of Malekith's key units."),
        (jump_to_menu, "mnu_start_character_21"),
      ]
      ),

      ("start_darkknight",
      [],
      "A_Dread_Knight.",
      [
        (assign, "$background_type", 42),
        (assign, reg3, "$character_gender"),
        (str_store_string, s10, "@Your father was a dread knight in the army of Sorceress Morathi. He was large for an elf and a renowned tamer of cold ones.^He always entered battle with an unusually long kheitai and gold encrusted armour which glowed bright green from a gemstone Morathi gifted to him after^a successful siege of a lizardman town. He fell in a failed invasion of Ulthean and the gemstone was never recovered"),
        (jump_to_menu, "mnu_start_character_21"),
      ]
      ),

      ("go_back",
      [],
      "Start_over",
      [
        (jump_to_menu, "mnu_start_game_0"),
      ]
      ),
    ],
  ),

  ("start_character_9", mnf_disable_all_keys,
    "You were born years ago, in the misty mountains of the Dwarves. Your father was...",
    "none",
    [
      (str_clear, s10),
      (str_clear, s11),
      (str_clear, s12),
      (str_clear, s13),
      (str_clear, s14),
      (str_clear, s15),
    ],
    [
      ("start_brewer",
      [],
      "A_Master_Brewer.",
      [
        (assign, "$background_type", 43),
        (assign, reg3, "$character_gender"),
        (str_store_string, s10, "@Whilst your father couldn't hold a candle to Joseph Bugman in the brewing stakes he is still one of the best alternate brewers throughout^the Dwarven kingdom. He has his breweries next to the biggest mining areas close to the permanent workers to make sure that business is permanently booming."),
        (jump_to_menu, "mnu_start_character_22"),
      ]
      ),

      ("start_ironbreaker",
      [],
      "A_Ironbreaker.",
      [
        (assign, "$background_type", 44),
        (assign, reg3, "$character_gender"),
        (str_store_string, s10, "@Your father was an ironbreaker and part of a unit famous for holding their ground against the Skaven clan hordes. His unit guard a long ancient tunnel^which connects the armies main artillery works to a barren network of caves where many Skaven dwell and they often use the tunnel as a means to ambush. Your father^and his unit patrol the tunnel and stand firm against any attackers they find. The 24 of them famously held off a 210 rat army advancing down there with the intention^of destroying the army cannons prior to a main invasion."),
        (jump_to_menu, "mnu_start_character_22"),
      ]
      ),

      ("start_gyrocopter",
      [],
      "A_Gyrocopter_Pilot.",
      [
        (assign, "$background_type", 45),
        (assign, reg3, "$character_gender"),
        (str_store_string, s10, "@For all the Empire's endeavours it is the Dwarves who make the most advanced and innovative machinery in the World. Arguably their greatest triumph^is the gyrocopter designed by the engineers guild. They were invented in order to carry messages and equipment over great distances as the lack of mounted troops means distant travel^is more difficult. In battle it has a mounted steam gun to attack troops from above. Your father had the honour of piloting one of there great contraptions."),
        (jump_to_menu, "mnu_start_character_22"),
      ]
      ),

      ("start_runesmith",
      [],
      "A_Runesmith.",
      [
        (assign, "$background_type", 46),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@{reg3?daughter:son}"),
        (str_store_string, s10, "@While other races wield the immense power of magic the Dwarves prefer to shun the many schools of magic and use the art of enchanting^their weapons and armour with runes to turn their best troops into one Dwarf killing machines. There are many runic combinations in existence and any rich Dwarf who^is worth his salt will want a personal runic armoury ready for any call to arms which may come from the King."),
        (jump_to_menu, "mnu_start_character_22"),
      ]
      ),

      ("start_dungeon",
      [],
      "A_Dungeon_Adventurer.",
      [
        (assign, "$background_type", 47),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@{reg3?daughter:son}"),
        (str_store_string, s10, "@All Dwarves are at home in the deep and your father left the family business to go adventuring around the world with the many professional^adventuring groups which go questing in the darkest dungeons. This was how he met your mother whom he saved from being slaughtered in an idol chamber as part of a Skaven^ritual sacrifice."),
        (jump_to_menu, "mnu_start_character_22"),
      ]
      ),

      ("start_scribe",
      [],
      "A_Scribe.",
      [
        (assign, "$background_type", 48),
        (assign, reg3, "$character_gender"),
        (str_store_string, s10, "@Your father was a scribe who recorded the chronicles of the great King Thorgrim Grudgebearer. The Dwarves like to have their history written to record in a very^precise and all encompassing fashion and it is not unknown for an entire years worth of history to span thousands of pages. This requires scribes to be able to write fast but to keep^the styling perfect enough for a royal chronicles. Your father was the best of his generation and held the job for decades."),
        (jump_to_menu, "mnu_start_character_22"),
      ]
      ),

      ("go_back",
      [],
      "Start_over",
      [
        (jump_to_menu, "mnu_start_game_0"),
      ]
      ),
    ],
  ),

  ("start_character_10", mnf_disable_all_keys,
    "You were born in the dankest, darkest sewers of the Old World. Your father was...",
    "none",
    [
      (str_clear, s10),
      (str_clear, s11),
      (str_clear, s12),
      (str_clear, s13),
      (str_clear, s14),
      (str_clear, s15),
    ],
    [
      ("start_stormvermin",
      [],
      "A_Stormvermin.",
      [
        (assign, "$background_type", 49),
        (assign, reg3, "$character_gender"),
        (str_store_string, s10, "@Your father fought in the more heavily armoured and heavily armed stormvermin units. They are^about as disciplined as a skaven unit can get and they are excellent shock troops or personal bodyguards for clan leaders."),
        (jump_to_menu, "mnu_start_character_23"),
      ]
      ),

      ("start_plague",
      [],
      "A_Plague_Priest.",
      [
        (assign, "$background_type", 50),
        (assign, reg3, "$character_gender"),
        (str_store_string, s10, "@Your father was one of the leaders of clan pestilence who led large units of plague monks and censer bearers^into battle alongside the core units of other clans. He was a ferocious fighter who unleashed blows at unbelievable speed although he often exchanged^his rate of attack for accuracy. Outside of the battlefield he rigorously researches new diseases and afflictions^which can inflict great harm on the population of men."),
        (jump_to_menu, "mnu_start_character_23"),
      ]
      ),

      ("start_skavenbowl",
      [],
      "A_Blood_Bowl_Star.",
      [
        (assign, "$background_type", 51),
        (assign, reg3, "$character_gender"),
        (str_store_string, s10, "@Your father was a well established gutter runner in the local blood bowl team and he lived just long enough for you to get to see him play.^He had nearly 60 superstar points and had learnt skills such as dodge, side step and fend but in the end he was still just a gutter runner and while you were^watching in the stands he was blitzed by a norse Yethi who knocked him down and piled on until he was carried off lifeless and in several pieces."),
        (jump_to_menu, "mnu_start_character_23"),
      ]
      ),

      ("start_gutter",
      [],
      "A_Gutter_Runner.",
      [
        (assign, "$background_type", 52),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@{reg3?daughter:son}"),
        (str_store_string, s10, "@Your father was a faithful member of clan Eshin and an expert in tunnelling and stealth attacks. His unit would disappear^at the beginning of battles but appear later out of nowhere to take the enemy by surprise and turn the tide of battle. Your father's unit was a master of siege^and would tunnel under the walls and come up on the inside, ready to open the gate for the invaders."),
        (jump_to_menu, "mnu_start_character_23"),
      ]
      ),

      ("start_jezzail",
      [],
      "A_Jezzail_Runner.",
      [
        (assign, "$background_type", 53),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@{reg3?daughter:son}"),
        (str_store_string, s10, "@Your father operated the jezzail gun in a 2 man crew which was usually positioned on the flanks of the main army^with the intention of inflicting severe damage on an enemy cavalry unit which tries to swing around that way. Your father and his crew mate were confident as^part of a small unit and also on their own, maneuvering around the battlefield, trying to get the best shot with their devastating weapon."),
        (jump_to_menu, "mnu_start_character_23"),
      ]
      ),

      ("start_skavenassassin",
      [],
      "An_Assassin.",
      [
        (assign, "$background_type", 54),
        (assign, reg3, "$character_gender"),
        (str_store_string, s10, "@Skilled in the arts of poison and stealth your father was a trained assassin who excelled in deception on the battlefield.^Before the army entered battle he would have already scouted ahead to find a key place to hide and surprise key enemies in the midst of battle. If he failed^to find such a position he would disguise himself in an ordinary clan rat unit and leap out at the last moment to tear into the unsuspecting enemy unit."),
        (jump_to_menu, "mnu_start_character_23"),
      ]
      ),

      ("go_back",
      [],
      "Start_over",
      [
        (jump_to_menu, "mnu_start_game_0"),
      ]
      ),
    ],
  ),

  ("start_character_11", 0,
    "{s10}^^ Your father was...",
    "none",
    [],
    [
      ("priest",
      [],
      "A_Warrior_Priest.",
      [
        (assign, "$background_answer_11", 1),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@Your father was a deeply religious man who cared passionately for his people and in the defence of his country against^any enemies which threaten them. Although he was not very skilled in combat his position was always in the front line amongst the lower classes of warrior.^His motivational speeches were legendary and gave courage to his men when they were up against terrible odds. When the battle commenced his mind was more on attending^and administering aid to the injured and fallen troops but if necessary he could hold his own with warhammer, at least for a little while."),
        (jump_to_menu, "mnu_start_character_24"),
      ]
      ),

      ("witchhunter",
      [],
      "A_Witch_Hunter.",
      [
        (assign, "$background_answer_11", 2),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@Your father was always a superstitious man. His fear of evil and for those who manipulate the art of black magic^greatly forged his personality while you were young. One day he decided to take his fear into his own hand and joined the brotherhood of the Witch Hunters.^He quickly became one of the most powerful Witch Hunters in the entire brotherhood, his overpowering passion and hatred brushing aside any fear he felt in the past.^He was one of the Witch Hunters who joined the mass assault on Naggaroth as part of the great purge of the Witch Elves. Your father died in the battles^that ensued but you will always be proud of him and what he helped achieve."),
        (jump_to_menu, "mnu_start_character_24"),
      ]
      ),

      ("engineer",
      [],
      "An_Engineer.",
      [
        (assign, "$background_answer_11", 3),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@Your father worked in the great industrial city of Nuln.^He was an engineer and a famous one too. His mathematical mind was second to none and his name was all^over the Empires greatest technological inventions including the repeater fire arms and steam tanks."),
        (jump_to_menu, "mnu_start_character_24"),
      ]
      ),

      ("reiksguards",
      [],
      "A_Reiksguard_Knight.",
      [
        (assign, "$background_answer_11", 4),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@Your father was fiercely patriotic and his only desire was to serve as a^protector of the Emperor Karl Franz and that is what they did when he earned the prestige and honour of^serving in the Emperor's own Reiksguard Knight order."),
        (jump_to_menu, "mnu_start_character_24"),
      ]
      ),

      ("greatsword",
      [],
      "A_Greatsword.",
      [
        (assign, "$background_answer_11", 5),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@Your father was chosen to become a member of the greatswords after being the^last man standing in a raid by the beastmen and protecting the stricken Elector Count from a raging minotaur readying to^slice him in two. He fought off a small unit of Ungors and dragged the Count out of the forest before the main beastman army^could arrive."),
        (jump_to_menu, "mnu_start_character_24"),
      ]
      ),

      ("peasant",
      [],
      "A_Peasant.",
      [
        (assign, "$background_answer_11", 6),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@Your father was among the Empires peasantry, a family man who built and mended crossbows^for the home guard. He was a political man who knew his rights and the rights of others and was quick to speak^when he felt any right was being denied or abused. He had the reputation of a pest to officials but he was respected^and his heart was known to be in the right place."),
        (jump_to_menu, "mnu_start_character_24"),
      ]
      ),

      ("go_back",
      [],
      "Start_over",
      [
        (jump_to_menu, "mnu_start_game_0"),
      ]
      ),
    ],
  ),

  ("start_character_12", 0,
    "{s10}^^ Your father was...",
    "none",
    [],
    [
      ("grail",
      [],
      "A_Grail_Knight.",
      [
        (assign, "$background_answer_12", 7),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@Your father was a hero to your village, the most famous man in it's history spanning hundreds of years. A pillar of courage^and virtue your father was blessed by the Lady and drunk from the sacred grail. It has been said that he will now outlive you such is the vitalising power of the^grail although you haven't heard from him in years and you fear you may have already outlived him but you let such thoughts free from your mind."),
        (jump_to_menu, "mnu_start_character_25"),
      ]
      ),

      ("horse_breeder",
      [],
      "A_Horse_Breeder.",
      [
        (assign, "$background_answer_12", 8),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@Horses are the lifeblood of a Bretonnian army. Without horses there would be no hope for a Bretonnian^future so your father decided, like many Bretonnians, to learn about breeding horses while he was still in school. Afterwards he joined 7 friends to run a^stable near Parravon. Their horses were better than average but once they received an offer for the stables from someone who they knew was a better^breeder than them they sold in the name of patriotism."),
        (jump_to_menu, "mnu_start_character_25"),
      ]
      ),

      ("yeoman",
      [],
      "A_Yeoman_Warden.",
      [
        (assign, "$background_answer_12", 9),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@The Bretonnian army was often leaving the realm on distant quests but your fathers^focus was purely on home defence. He was a warden in charge of a team whose responsibility was the security of the^west wall of Aquitaine. The west wall overlooked the sea and the beach is a popular landing points of invading enemy fleets.^As a boy this always caused you fear that an invasion would take his life but no invasion ever came."),
        (jump_to_menu, "mnu_start_character_25"),
      ]
      ),

      ("scribe",
      [],
      "A_Scribe.",
      [
        (assign, "$background_answer_12", 10),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@Your father was a scribe for Duke Adalhard and he spent his life writing and keeping records^recording all areas of the Dukes life from financial, legal, political affairs to tales of great deeds on the battlefield."),
        (jump_to_menu, "mnu_start_character_25"),
      ]
      ),

      ("blacksmith",
      [],
      "A_Blacksmith.",
      [
        (assign, "$background_answer_12", 11),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@Your father was a hard working blacksmith who specialised in horse shoes for the knights of the realm.^He often had masses of orders to do but made sure that the armies were never in short supply. He had a large workforce for such a small^shop but he had to keep up with the weapon work as well as his horse shoes. You would often spend evenings helping your father on days where^the load was getting the best of him.."),
        (jump_to_menu, "mnu_start_character_25"),
      ]
      ),

      ("tournament",
      [],
      "A_Tournament_Master.",
      [
        (assign, "$background_answer_12", 12),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@Your father was the loud and charismatic tournament master at Brionne. He knew how to attract a crowd and he^always made sure that the finest knights and squires fought in his tournaments. His trick was to sent out men looking for Bretonnia's fairest maidens^and get them to attend at the weekend of the tournament and made sure every red blooded knight knew about it. In the end he had to hold qualifying heats^as so many wanted to participate."),
        (jump_to_menu, "mnu_start_character_25"),
      ]
      ),

      ("go_back",
      [],
      "Start_over",
      [
        (jump_to_menu, "mnu_start_game_0"),
      ]
      ),
    ],
  ),

  ("start_character_13", 0,
    "{s10}^^ Your father was...",
    "none",
    [],
    [
      ("richmerchant",
      [],
      "A_Rich_Travelling_Merchant.",
      [
        (assign, "$background_answer_13", 13),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@Your father was a man who knew the wealth that could be made from the produce of Araby and exactly where to get^the highest price. Be it spices, fruits, gold, incense, velvet or charms your father had it and always in abundance. He rode around the civilised World^for 4 months a year and made enough money to support himself and your family for a whole year."),
        (jump_to_menu, "mnu_start_character_26"),
      ]
      ),

      ("horsebreeder",
      [],
      "A_Horse_Breeder.",
      [
        (assign, "$background_answer_13", 14),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@The desert is vast and the distances are often long between two populace places. The desert is not like^the temperate woods where it is easy to be leisurely or camp out for the night as the lack of water and the scorching sun often force^journeys to be as quick as possible. It is because of this that Arabians need the fastest horses and your father was one of the best^breeders in the whole of Araby."),
        (jump_to_menu, "mnu_start_character_26"),
      ]
      ),

      ("imam",
      [],
      "An_Imam.",
      [
        (assign, "$background_answer_13", 15),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@Your father was devoutly religious and the leader of your community as well as the head imam^for the western army. He would join the battles on the front line to inspire the troops and to pray for their success. Back home^he was known as the 'friendly ear', for he was always willing to hear and to help out anyone in need both spiritually and physically."),
        (jump_to_menu, "mnu_start_character_26"),
      ]
      ),

      ("janissary",
      [],
      "A_Janissary.",
      [
        (assign, "$background_answer_13", 16),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@Though most do not realise you are not full arab. Your mother was but your father was the son of slaves.^He was chosen by the Sultan to train as a janissary due to his expert ability with a bow. This led to him building up wealth as well as a^reputation and his service, as well as your mothers intervention meant that you were allowed to live a free life in no one's service."),
        (jump_to_menu, "mnu_start_character_26"),
      ]
      ),

      ("mameluk",
      [],
      "A_Mameluk.",
      [
        (assign, "$background_answer_13", 17),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@Your father was a brutal and cold man whose intense training made him a dominant warrior on the^battlefield and part of one of the most elite mameluk organizations in the nations history. He frightened you as a child and you^never got to know much about him on a personal level. He was killed by the Tomb Kings when you were 15 in a 10,000 troop battle outside of Khemri."),
        (jump_to_menu, "mnu_start_character_26"),
      ]
      ),

      ("bodyguard",
      [],
      "Sultan's_Bodyguard.",
      [
        (assign, "$background_answer_13", 18),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@Born in the land of assassins it was inevitable that your father would undertake the great trials^in order to become a Sultan's guard. He fought the desert, beat the traps, killed the beasts and protected the Imam from assailants and^eventually proved himself worthy of one of the highest honours in Araby. His relationship with your mother was secret and inappropriate but^he loved her and did not shirk his duty to her any more than he did to his Sultan. When the Sultan found out he was furious and demanded your^father take his own life as a show of devotion. Despite the cries of your mother he obeyed and took his own life, the Sultan then sent your mother^to her death for corrupting one of his best bodyguards."),
        (jump_to_menu, "mnu_start_character_26"),
      ]
      ),

      ("go_back",
      [],
      "Start_over",
      [
        (jump_to_menu, "mnu_start_game_0"),
      ]
      ),
    ],
  ),

  ("start_character_14", 0,
    "{s10}^^ Your father was...",
    "none",
    [],
    [
      ("pirate",
      [],
      "A_Wako_Pirate.",
      [
        (assign, "$background_answer_14", 19),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@Your father was the leader of a small time bunch of Wako pirates who spent their days plundering the poor and defenceless in the south of Nippon. Always quick to run from the Imperial Navy and never brave enough to fight his competition, he never amounted to much and no stories were ever told about him or his crew."),
        (jump_to_menu, "mnu_start_character_27"),
      ]
      ),

      ("shinobi",
      [],
      "A_Shinobi.",
      [
        (assign, "$background_answer_14", 20),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@Your father was a master assassin, the best of the best and trained in a fighting school reviled by everyone in Nippon. You can never reveal who he was or be tainted by association and hated by everyone in your community. You have not heard from him in 12 years but you will never forget the few tricks he taught you when you were a young teenager."),
        (jump_to_menu, "mnu_start_character_27"),
      ]
      ),

      ("firework",
      [],
      "A_Firework_Maker.",
      [
        (assign, "$background_answer_14", 21),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@Once the traders of Marienburg brought gunpowder to Nippon it changed the way they conducted war forever. For the more creative minds of Nippon society it opened the door to a great cultural phenomenon and fantastic form of artistry known as fireworks. They are great shows of light and sound in the sky which are always the highlight of the traditional festivals and celebrations back home."),
        (jump_to_menu, "mnu_start_character_27"),
      ]
      ),

      ("gardener",
      [],
      "A_Gardener.",
      [
        (assign, "$background_answer_14", 22),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@Your father was a gardener at the Imperial Palace. He overheard every conversation he could and soon was privy to the most important information in Nippon. Using his own wits and subtle nature he ended up in the payroll of many high ranking officers and politicians who paid him a fortune to be kept up to date on all matters of important. He was always careful and never caught or even suspected by anyone in the palace. He left you a small fortune when he died. "),
        (jump_to_menu, "mnu_start_character_27"),
      ]
      ),

      ("calligrapher",
      [],
      "A_Calligrapher.",
      [
        (assign, "$background_answer_14", 23),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@It is always a blessing to inherit the gifts of your father and non more so than the ability to perfect the ancient art of calligraphy. You were always an ambitious child and your father said that without the ability to write and to write well you will never be able to get respect from the world's elites or woo the finest women in Nippon. You studied rigourously as a child, both with sword and quill, in the hope that one day you will be a great leader and an inspiration to millions."),
        (jump_to_menu, "mnu_start_character_27"),
      ]
      ),

      ("hatamoto",
      [],
      "A_Hatamoto.",
      [
        (assign, "$background_answer_14", 24),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@Your father was the honoured retainer of a great family which can trace its roots all the way back to the first Imperial war. He was a fierce, loyal fighter and when he was not defending the Daimyo he was personal bodyguard to his 5 daughters whenever they travels though the shogunate. He is credited with killing 4 shinobi and 2 oni."),
        (jump_to_menu, "mnu_start_character_27"),
      ]
      ),

      ("go_back",
      [],
      "Start_over",
      [
        (jump_to_menu, "mnu_start_game_0"),
      ]
      ),
    ],
  ),

  ("start_character_15", 0,
    "{s10}^^ Your father was...",
    "none",
    [],
    [
      ("swashbuckler",
      [],
      "A_Swashbuckler.",
      [
        (assign, "$background_answer_15", 25),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@Your father was a master with a sword, and lightening quick, some say he is faster than a Nippon Daimyo with^a single hander. He was as classy as a pirate has ever been and while that doesn't sound much when you are talking about pirates your father^truly was an honourable and chivalrous man. He was a faithful husband and friend and taught you how to fight from a young age knowing how^hard growing up in the world was going to be."),
        (jump_to_menu, "mnu_start_character_28"),
      ]
      ),

      ("drunk",
      [],
      "A_Drunk.",
      [
        (assign, "$background_answer_15", 26),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@There are those who like to run to their stereotype and there are those who take the absolute piss and your father^was one of them. He was the most raving drunk the world has ever seen, so much so that he forgot his own name, or so you heard anyway as you haven't^seen him since you were 9 and then it was only a few minutes. Your mother was feeling sorry for herself after her lover left her and got wasted and ended^up in bed with your father one regretful night. Your mother used to tell you he is the lowest of the low, pure rabble and drunk 24/7. You wonder sometimes^if he is still alive but you wouldn't recognise him if he was."),
        (jump_to_menu, "mnu_start_character_28"),
      ]
      ),

      ("navigator",
      [],
      "A_Navigator.",
      [
        (assign, "$background_answer_15", 27),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@The pirates need to know the seas like the back of their hand in order to do their jobs efficiently and^keep the brotherhood as strong as it is today. Your father was the navigator for one of Wolfshore's largest vessels, part of the fleet which^the pirates use for major wars against other factions rather than their usual sea raiding. He had the whole World perfect to memory and he could^read the weather with uncanny accuracy. A skill which saved the ship on more than one occasion."),
        (jump_to_menu, "mnu_start_character_28"),
      ]
      ),

      ("captain",
      [],
      "A_Captain.",
      [
        (assign, "$background_answer_15", 28),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@Your father was captain of a small but successful galleon which mainly operated in and around the shores of Araby.^Some of the richest cargoes you could find come from Araby and your father wanted to take full advantage. It was tough work as the Araby corsairs are^are lethal in defence and many times your father would drop cargo overboard in order to lose weight and flee successfully when the enemy was too much."),
        (jump_to_menu, "mnu_start_character_28"),
      ]
      ),

      ("merchant",
      [],
      "A_Merchant.",
      [
        (assign, "$background_answer_15", 29),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@Your father was a man with a specific goal, this goal was profits and he had an excellent practice on how^to make one. Some pirates just love piracy for the sport, they love the thrill and don't care much for wealth beyond what they need to live at that moment.^Selling all your cargo can be a long process, especially at certain times of the year and it can annoy the more bloodthirsty pirates when they are^stuck at shore for too long. Your father knew which captains and vessels were like this and bought in bulk from them at a low price knowing that^he can take the time to sell them for a much greater price around the castles and towns."),
        (jump_to_menu, "mnu_start_character_28"),
      ]
      ),

      ("cook",
      [],
      "A_Cook.",
      [
        (assign, "$background_answer_15", 30),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@Your father was a cook on a ship and had to feed the bellies of many men often desperate for warmth in the southern seas.^There wasn't much medicine on board and often his food was the best a crew member had to beat any illnesses they got on board. Because of this he^he made sure to learn about natural healing ingredients from Nippon to make sure he can try something to help the many illnesses one can get on the sea."),
        (jump_to_menu, "mnu_start_character_28"),
      ]
      ),

      ("go_back",
      [],
      "Start_over",
      [
        (jump_to_menu, "mnu_start_game_0"),
      ]
      ),
    ],
  ),

  ("start_character_16", 0,
    "{s10}^^ In the north you had no choice but to learn how to survive as soon as you became aware of your senses. You spent your early life as...",
    "none",
    [],
    [
      ("pitfighter",
      [],
      "A_Pitfighter.",
      [
        (assign, "$background_answer_16", 31),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@Your father was a fairly successful pit fighter who was a favourite with the fans.^Although he was not quite as skilful with weapons as others he was renowned for his speed, fitness and sheer determination. Often defying belief by withstanding blows that would kill others let alone render unconscious.^The bookies hated him as he was so inconsistent and unpredictable in fights and often lost them money."),
        (jump_to_menu, "mnu_start_character_29"),
      ]
      ),

      ("navigator",
      [],
      "A_Longboat_Navigator.",
      [
        (assign, "$background_answer_16", 32),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@The hordes of Chaos love to wage war but due to their northern location their,^best method of getting to their foe is by long ship. You worked on one of the many long ships which are based at your^local port. You studied the maps of the old world and had a keen eye so you were assigned to one of the foremost^vessels of the fleet."),
        (jump_to_menu, "mnu_start_character_29"),
      ]
      ),

      ("raider",
      [],
      "A_Raider.",
      [
        (assign, "$background_answer_16", 33),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@As a {reg3?girl:boy} you were one of many young warriors who travelled on long ships^which sailed with the intent of raiding and harassing the coastal towns and villages of the Old World. It gave you^lots of combat experience against various factions as well as a healthy war chest. It was the safer course for a training^warrior as you were nearly always at a military advantage."),
        (jump_to_menu, "mnu_start_character_29"),
      ]
      ),

      ("breeder",
      [],
      "A_Horse_Breeder.",
      [
        (assign, "$background_answer_16", 34),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@The strongest and most revered knights of the north demand the toughest^and most durable steeds which are capable of being bred. You worked with your uncle breeding these mighty^horses which were in high demand by all the lords of the north in order to give their knights the best^chance possible on the battlefield."),
        (jump_to_menu, "mnu_start_character_29"),
      ]
      ),

      ("nomad",
      [],
      "A_Nomad.",
      [
        (assign, "$background_answer_16", 35),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@As a {reg3?girl:boy} growing out of childhood,^you rode the vast lands of the north on a strong and reliable Norsca steed. You often went hungry and this pushed you to become more and more skilled in the survival techniques which your people are famed for. You became a skilful hunter and pathfinder in both the unforgiving mountains and the snowy plains.^ Solitude was your desire and strength and stamina were your closest allies."),
        (jump_to_menu, "mnu_start_character_29"),
      ]
      ),

      ("go_back",
      [],
      "Start_over",
      [
        (jump_to_menu, "mnu_start_game_0"),
      ]
      ),
    ],
  ),

  ("start_character_17", 0,
    "{s10}^^ You started to learn about the world almost as soon as you could walk and talk. You spent your early life as...",
    "none",
    [],
    [
      ("scout",
      [],
      "A_Scout.",
      [
        (assign, "$background_answer_17", 36),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@Lustria is the number one destination in the world for treasure seekers as it is full of the oldest and most valuable treasures you^could possibly find and they are usually stored in the sacred temples and shrines the lizardmen use for worship. Due to this and the sheer size of Lustria the Old^Blood's hire thousands of saurus' to scout around Lustria looking for invaders and either dealing with them or tracking them and getting the message to the main forces."),
        (jump_to_menu, "mnu_start_character_30"),
      ]
      ),

      ("spy",
      [],
      "A_Spy.",
      [
        (assign, "$background_answer_17", 37),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@The lizardmen are always in need of information about what is happening in the other realms as at any moment they^could find a grand army heading it's way to Lustria. You worked as a spy who hung around the busiest taverns in foreign lands get into the confidence^of in the know figures and also just to listen to chatter and report back anything of relevance."),
        (jump_to_menu, "mnu_start_character_30"),
      ]
      ),

      ("fightschool",
      [],
      "A_Fight_School_Student.",
      [
        (assign, "$background_answer_17", 38),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@Lizardmen have some amazing weapons but it is important that a Saurus knows how to use it's claws and tail as viciously and as^effectively as possible. You joined a fighting school which was only for unarmed combat which involved a lot of pit fighting and endurance fights. You left a^tougher and stronger Saurus."),
        (jump_to_menu, "mnu_start_character_30"),
      ]
      ),

      ("prison",
      [],
      "A_Prison_Guard.",
      [
        (assign, "$background_answer_17", 39),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@The invaders who are not killed are kept in harsh prisons which are incredibly unhygienic and full of deadly diseases which is^often a death sentence in itself, especially for humans. You worked as a guard monitoring the prisoners from an elevated position and cleaned out the pits when the^dead bodies were too numerous."),
        (jump_to_menu, "mnu_start_character_30"),
      ]
      ),

      ("interpreter",
      [],
      "An_Interpreter.",
      [
        (assign, "$background_answer_17", 40),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@Your uncle was a master of many human languages and you took the time to learn from him so you can work as an interpreter^for your villages Old Blood who you admire greatly. Interpreters are in short supply so you knew that it is a fast track way to get into high circles."),
        (jump_to_menu, "mnu_start_character_30"),
      ]
      ),

      ("caravanguard",
      [],
      "A_Caravan_Guard.",
      [
        (assign, "$background_answer_17", 41),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@You loved a good battle in the diverse fields of the New World so you took a job as a caravan guard for hedonistic reasons.^You always chose the dangerous routes hoping to be jumped by enemies so you can show them just how fearsome Saurus' are."),
        (jump_to_menu, "mnu_start_character_30"),
      ]
      ),

      ("go_back",
      [],
      "Start_over",
      [
        (jump_to_menu, "mnu_start_game_0"),
      ]
      ),
    ],
  ),

  ("start_character_18", 0,
    "{s10}^^ You got involved in tribal life as soon as you could. You spent your early life as...",
    "none",
    [],
    [
      ("hunter",
      [],
      "A_Hunter.",
      [
        (assign, "$background_answer_18", 42),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@Food is important. Food is all. You cant WAAAGH! without it. Thats why all the WAAAGHs and tribes requires someone killing and gathering food, someone like you. Wild boars of the plains, mountain goats, cave squigs, you knew how to stalk them all before pinning them down with your arrows. Sure not the orkiest of the activities, you thought but every time you hunted successfully, the moment of <<da big WAAAGH!>> drew nearer. After many years though, you grew tired of that and set out to become.."),
        (jump_to_menu, "mnu_start_character_31"),
      ]
      ),

      ("rock",
      [],
      "An_Rock_Lobber_Engineer.",
      [
        (assign, "$background_answer_18", 43),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@No one like sieges, theyre boring, long and there isnt much head-smashing going on. Thats why your green fellows thought you mad when you started showing interest toward the war machines of the tribe. You studied them all, from the Spear Chukka to the Doom Catapult, until you found it: the Rock Lobba.   To anyone doubting of your orkiness, you explained your reasons: a punch on their face followed by your lesson <<Eh, it thro rokks very far, an rokks are very smashy, don ye know ya grotz!?>>. Many got taught by you in your tribe.But in the end they were right, pulling a lever to throw rocks isnt as exciting as it did seem, so you became."),
        (jump_to_menu, "mnu_start_character_31"),
      ]
      ),

      ("boar",
      [],
      "A_Boar_Rider.",
      [
        (assign, "$background_answer_18", 44),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@What is better than a raging beast? A raging beast riding on another raging beast, apparently. Riding a boar is not the easiest of things, considering that most of those who try to end up with a tusk-carved hole through their body. But you managed to submit one of those wild beasts to your will, earning yourself the status of 'boar rider'. On your ferocious mount, you used to ride across the battlefield crushing everything standing in your way to a red unrecognizable pulp, for Gork and your Boss. Unfortunately your boar got killed during a fight and, unwilling to go through the risky taming process with another beast, you choose to become."),
        (jump_to_menu, "mnu_start_character_31"),
      ]
      ),

      ("snotling",
      [],
      "A_Snotling_Thrower.",
      [
        (assign, "$background_answer_18", 45),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@Bloodbowl is surely the most loved and followed sport in the world, with teams and players coming from all kingdoms and lands. Still, its not the only sport being practiced.Snotling Throwing is one of the many niche sports, practiced almost solely by orcs, with many amateurs and a core of few real professionals, like you were.   Raising the snotling from the ground, feeling the screaming hunchy little bastard desperately moving in your hand trying to get free, your eyes bound to the horizon and then, the throw. <<Dat gits got da arm of Gork and da precishun of Mork>> your fans used to say about you.But one day, a snotling bit two fingers off your throwing hand, so you had to change your career and became."),
        (jump_to_menu, "mnu_start_character_31"),
      ]
      ),

      ("tactician",
      [],
      "A_Tactician.",
      [
        (assign, "$background_answer_18", 46),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@Every WAAAGH! has a mastermind guiding it toward the final goal. This mastermind is usually composed by the WAAAGHs Boss and his advisors. Your uncommon cunning and the almost unbelievable existence of something resembling reasoning inside your otherwise void filled cranium, made you one of the latters.   Though, the life of a Bossez personal advisor is not an easy one, considering how common it is for an orc Boss to slaughter them when things dont go as planned. And thats why you sneaked away, abandoning your charge and position with no hesitation, after your WAAAGHs big plan utterly failed. Cowardice sometimes means survival.Leaving your old tribe behind, you set out to become."),
        (jump_to_menu, "mnu_start_character_31"),
      ]
      ),

      ("shaman",
      [],
      "A_Shaman.",
      [
        (assign, "$background_answer_18", 47),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@When many orcs band together, a strange power results from the gathering. The more the orcs, the bigger the energy generated by their interaction.    Not all greenskins are capable of feeling it and even fewer are the ones able to harness it and translate it in a material form: these are the shamans, just like you were.Bringing forth <<da wordz of Gork an Mork>>, you bathed in the WAAAGHs liquid rage only to catalyze it within your body, ready to unleash the wrath of the Twin Gods over the <<not-green weaklings>>. Recognizing your divine mission, you began aspiring for more and decided to become."),
        (jump_to_menu, "mnu_start_character_31"),
      ]
      ),

      ("go_back",
      [],
      "Start_over",
      [
        (jump_to_menu, "mnu_start_game_0"),
      ]
      ),
    ],
  ),

  ("start_character_19", 0,
    "{s10}^^ You may have been small but you had big dreams. You spent your early life as...",
    "none",
    [],
    [
      ("loota",
      [],
      "A_Loota.",
      [
        (assign, "$background_answer_19", 48),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@As a particularly wise goblin once said, Da best part ov a fight iz when ye get to loot da shiny bitz. No one could disagree with that, and his fellows kept discussing that unbreakable truth even while mounting their intellectual kin onto the nearest doom katapult, pulling the lever and sending him to smash against the enemy dwarf fortress walls. Though, true to that statement, you made your early life out of cleaning the battlefields of everything you deemed worth something, until the time came for you to find something different to carry on with your life, so you became..."),
        (jump_to_menu, "mnu_start_character_32"),
      ]
      ),

      ("stikka",
      [],
      "A_Stikka_Git",
      [
        (assign, "$background_answer_19", 49),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@Being goblins a race affected by chronic cowardice, you sighed in relief when the boss of your tribe put a spear and a shield in your hands, as you knew you would never have to fight face to face against the enemy, but crouched behind your wooden shield while trying to hit something at distance with your stikka. At least that is what you were hoping for. The revelation hit you with the speed of an imperial cavalry charge, an actual cavalry charge, truth be told. As soon as you saw the heavily armored knights approaching your unit, you sprang up, threw your shield to the ground, braced your spear and started running and screaming in the enemys opposite direction, until no one could see you on the horizon. A true survivor, you decided to become."),
        (jump_to_menu, "mnu_start_character_32"),
      ]
      ),

      ("squig",
      [],
      "Squig_Bait.",
      [
        (assign, "$background_answer_19", 50),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@All goblins are afraid of squigs, only a few are crazy enough to try and tame them, even fewer survive the experience. Yet, your boss wanted to try taming and riding a squig so much and you, lucky chosen, got sent right into the squigs cave with only a lit lantern to bait out the light sensitive creatures and a shoddy leather vest, because safety always comes first. And so you spent your days in and out of the dark caves, running away from TEEEEEFFZ!,  as your hunt-mates outside the cavern could hear you scream from the bellies of the earth, for your bosses happiness, until he eventually grew bored of the idea of taming squigs, making your struggles against them nasty beasts completely pointless. Forced to find something else to do, you then became."),
        (jump_to_menu, "mnu_start_character_32"),
      ]
      ),

      ("mushroom",
      [],
      "A_Mushroom_Farmer.",
      [
        (assign, "$background_answer_19", 51),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@An eminent imperial scholar from Averland said You are what you eat. He was probably talking about greenskins, with a particular emphasis on goblins, as they not only do eat mushrooms but they drink them too. And this is where you step in: a cultivator. Planting the mushrooms, growing them while learning the differences and peculiarities of each species and experimenting with their properties. Your work not only kept the tribes food tent full, and consequently your tribes stomaches, but granted the shamans a rich stash of ingredients for their concoctions and potions. Anyway, you grew tired of living your life secluded in the growing cave, so you set out to become..."),
        (jump_to_menu, "mnu_start_character_32"),
      ]
      ),

      ("builder",
      [],
      "A_Builder",
      [
        (assign, "$background_answer_19", 52),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@It was not too long before your tribe got assimilated by a bigger orcs WAAAGH! in need for some new helpin handz. Considered an asset slightly more valuable than the average squig roasting on the fire, you and other kins of yours got assigned to the building and dismantling of the WAAAGH!s camp, a very important but dangerous task where a goblin can easily die, be it crushed by the heavy wooden beams of the tents or because of the hilarious jokes of the orcs, who find that the goblins moar squishy den oomiez. Yet you survived this all, thank Mork, and took your chance to escape one night. Joining a new goblin tribe, you lived as..."),
        (jump_to_menu, "mnu_start_character_32"),
      ]
      ),

      ("kultist",
      [],
      "A_Spider_Kultist.",
      [
        (assign, "$background_answer_19", 53),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@While marching through a forest, returning from one of your tribes usual campaigns for sheer massacre and loot, you met with a band of forest goblins. Fascinated by their weird tribal apparel and facepaints, you followed them to their camp. There they showed you the sacred altars of Mork and Gork, though they were unusually covered in cobwebs and many weird totems depicting spider forms stood all around them. You remained with the forest goblins, embraced their cult of spiders, learnt how to ride them. Your newfound faith came to a critical halt when the tribes shaman chose you, and others, as a sacrifice for da mighty Arachnarok. Loyal to your goblin nature, you fled the tribe and the forest, your legs faster than wind, swearing to Mork you will never want to see a spider again. Back to your former tribe, you became..."),
        (jump_to_menu, "mnu_start_character_32"),
      ]
      ),

      ("go_back",
      [],
      "Start_over",
      [
        (jump_to_menu, "mnu_start_game_0"),
      ]
      ),
    ],
  ),

  ("start_character_20", 0,
    "{s10}^^ You started to learn about the world almost as soon as you could walk and talk. You spent your early life as...",
    "none",
    [],
    [
      ("student",
      [],
      "A_Student.",
      [
        (assign, "$background_answer_20", 54),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@Like many other young Elves you dedicated yourself to study and learning about your Gods, the history of your race and^what has to be done to secure the future of your proud nation. You studied other races and cultures and also the wonders of nature and prophesies that are^yet to take place."),
        (jump_to_menu, "mnu_start_character_33"),
      ]
      ),

      ("armourer",
      [],
      "An_Armourers_Apprentice.",
      [
        (assign, "$background_answer_20", 55),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@High Elf armour is some of the most beautiful and intricate in the world. Often incorporating plate, scale and textile^in one it takes a skilled armourer to get the finished piece perfect. It takes years and years of training and you spent a few in the service of your uncle^who owned 3 armouries in Ulthuan."),
        (jump_to_menu, "mnu_start_character_33"),
      ]
      ),

      ("militia",
      [],
      "A_Member_of_the_Militia.",
      [
        (assign, "$background_answer_20", 56),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@You joined the local militia out of duty. As the ages progress the High Elf lands and population is getting smaller and smaller and the threats^to Ulthuan's survival get greater as the trend continues. The High Elves are blessed with a high standard of troops but even so the High King and his Lords are very on edge^about security and it is an expectation of the young to get military experience even if they aim for a civilian career in case of all out war for survival."),
        (jump_to_menu, "mnu_start_character_33"),
      ]
      ),

      ("emissary",
      [],
      "A_Lord's_Emissary.",
      [
        (assign, "$background_answer_20", 57),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@You started your working life as an emissary for the Lords and Nobles of Ulthuan running messages around the world and making^sure that the flow of information is as up to date as can possibly be."),
        (jump_to_menu, "mnu_start_character_33"),
      ]
      ),

      ("musician",
      [],
      "A_Musician.",
      [
        (assign, "$background_answer_20", 58),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@The High Elves are a very sophisticated race who like to concern themselves with politics, intrigue, the arts and ceremony.^They like to make a point of how polarised they are from the Dark Elves in how they live and behave so if you are a talented musician there will always be^work for you as everyday, somewhere there is a feast or event going on where you will be required. You learnt to use the harp and primarily your voice as^your main instrument."),
        (jump_to_menu, "mnu_start_character_33"),
      ]
      ),

      ("sentry",
      [],
      "A_Sentry.",
      [
        (assign, "$background_answer_20", 60),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@You were a sentry for the jails which were kept on board the massive Lothern vessels which sail the seas to protect the Elven coast and to^fight back the incursions of pirates and corsairs. Due to the amount of sea activity the jails were always full and being a sentry was an important job as pirates are^very crafty at breaking out and also sneaking aboard to try and break others out."),
        (jump_to_menu, "mnu_start_character_33"),
      ]
      ),

      ("go_back",
      [],
      "Start_over",
      [
        (jump_to_menu, "mnu_start_game_0"),
      ]
      ),
    ],
  ),

  ("start_character_21", 0,
    "{s10}^^ You immersed yourself into the Dark Elf cause as soon as you could. You spent your early life...",
    "none",
    [],
    [
      ("student",
      [],
      "Agility_Training.",
      [
        (assign, "$background_answer_21", 61),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@One of the most advantageous traits of the Elves is the sheer speed and grace of movement of a well trained warrior.^You spent your early years practicing how to be fast and agile both unarmed and with a polearm so that when you enter service in the years to come^you will be more than able to look after yourself."),
        (jump_to_menu, "mnu_start_character_34"),
      ]
      ),

      ("student",
      [],
      "A_Student.",
      [
        (assign, "$background_answer_21", 62),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@All of your thought was hell bent on becoming  military leader and expanding the Dark Elf territories in a way that has never been achieved before.^You were accepted to a military academy and studied tactics and leadership skills as well as the entire history of the Dark Elf army. By the end of your studies you had mastered^the theory of all components of a traditional Dark Elf army as well as what to expect from the other armies of the Old World"),
        (jump_to_menu, "mnu_start_character_34"),
      ]
      ),

      ("scribe",
      [],
      "A_Scribe.",
      [
        (assign, "$background_answer_21", 63),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@It is generally held that the High Elves are the keen scholars of the Old World and that Dark Elves do not have^the kind of culture which values the written word and the accumulation or knowledge through the literary arts. This is of course far from the truth^and you worked for a large institute in Hag Greaf as a diplomatic scribe, chronicling all communication from the outside world to Naggaroth."),
        (jump_to_menu, "mnu_start_character_34"),
      ]
      ),

      ("healer",
      [],
      "A_Healer.",
      [
        (assign, "$background_answer_21", 64),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@The Dark Elves love to torture their enemies and nothing is as disappointing to a torturer than their captive dying before^they have finished having their fun. You were trained in first aid, wound treatment and surgery for all races so that you could help keep the captives^alive for as long as you can. This role was created just for hedonistic purposes but also because every warrior has their breaking point and your work^has allowed that point to be reached, and key information retrieved, after a point where the captive would usually be dead."),
        (jump_to_menu, "mnu_start_character_34"),
      ]
      ),

      ("repeater",
      [],
      "A_Repeater_Crossbow_Engineer.",
      [
        (assign, "$background_answer_21", 65),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@You were part of a 2 man repeater crossbow team, both of you were equally trained.^Your training included aiming, reloading and movement and also the ability to choose the most tactically appropriate target both on the battlefield and in sieges."),
        (jump_to_menu, "mnu_start_character_34"),
      ]
      ),

      ("sentry",
      [],
      "A_Sentry.",
      [
        (assign, "$background_answer_21", 66),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@You were a sentry for the jails which were always full to the brim with prisoners of all races. Whether they were brought back by^an army or by ship after a corsair raid their captives outlook for a salvation was a grim one when captured by the Drucchi because they are usually wroth to give^back prisoners, even for the extortionate prices offered for them. Everyone knows this so escape attempts and rebellions by large groups of prisoners happened at^any opportunity although you were part of a well trained sentry team who knew how to deal with any trouble with ruthless efficiency."),
        (jump_to_menu, "mnu_start_character_34"),
      ]
      ),

      ("go_back",
      [],
      "Start_over.",
      [
        (jump_to_menu, "mnu_start_game_0"),
      ]
      ),
    ],
  ),

  ("start_character_22", 0,
    "{s10}^^ You started to learn about the world almost as soon as you could walk and talk. You spent your early life as...",
    "none",
    [],
    [
      ("miner",
      [],
      "A_Miner.",
      [
        (assign, "$background_answer_22", 67),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@You joined your local mining to mine the gemstones which are traded to the Empire for a vast amount of gold. Mining is a very typical profession fora young Dwarf and your time in the mines was pretty uneventful and you were never called to war."),
        (jump_to_menu, "mnu_start_character_35"),
      ]
      ),

      ("merchant",
      [],
      "A_Merchant.",
      [
        (assign, "$background_answer_22", 68),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@The Dwarves like to horde their wealth and keep themselves to themselves but they recognise the desires of other races to trade for their riches, especially^the Empire who are the Dwarves closest ally so they don't shut themselves off completely. You joined a small merchants firm to learn how to trade and also to learn about other races and cultures^as you decided your long term future lies out of the tunnels and out in the wide world."),
        (jump_to_menu, "mnu_start_character_35"),
      ]
      ),

      ("tunneller",
      [],
      "A_Tunneller.",
      [
        (assign, "$background_answer_22", 69),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@You worked as a tunneller expanding the vast network of tunnels and caverns inside the great Dwarven underground areas. You had 2 main duties which you alternated between^in shifts. One was the actual tunnelling and shaping the tunnels and making sure they are safe and the other was to inspect the many tunnels that have already been made and make sure that all the light^sources are working properly and if not to fix them."),
        (jump_to_menu, "mnu_start_character_35"),
      ]
      ),

      ("weaponsmith",
      [],
      "A_Weaponsmith's_Apprentice.",
      [
        (assign, "$background_answer_22", 70),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@If you observe a Dwarven army you will see wave after wave of axes poking up from above the heads of the stout and immensely tough Dwarves^marching and singing toward the field of battle. The production of axes is therefore a critical and vast industry and you became the apprentice of a retired ironbreaker^who put his retirement fund into setting up a massive weaponsmith to supply the northern army."),
        (jump_to_menu, "mnu_start_character_35"),
      ]
      ),

      ("thug",
      [],
      "A_Thug.",
      [
        (assign, "$background_answer_22", 71),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@You were a brutish thug in your early days. You spent alot of your time above ground with a group of Imperial bandits and halfling thieves^who hid in deep thickets waiting for traveller to come down a road which was the only road for miles and jumping them as they past. As you were the biggest muscle in the^crew and often helped the others out when you jumped a more able defender you got the best share of the takings after each raid."),
        (jump_to_menu, "mnu_start_character_35"),
      ]
      ),

      ("caravanguard",
      [],
      "A_Caravan_Guard.",
      [
        (assign, "$background_answer_22", 72),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@You were asked by your towns guild master to take the job as a caravan guard as the pirates were intercepting over a third of all^the Dwarven caravans sent out. You didn't really fancy the job but the look of desperation on the guildmaster's face was enough to make you swallow your plans for a year^or so and do a good turn for the town you were brought up in."),
        (jump_to_menu, "mnu_start_character_35"),
      ]
      ),

      ("go_back",
      [],
      "Start_over",
      [
        (jump_to_menu, "mnu_start_game_0"),
      ]
      ),
    ],
  ),

  ("start_character_23", 0,
    "{s10}^^ Your home was dark and dank and you had to harden yourself to the rat eat rat world in the sewers in order to survive. You spent your early life as...",
    "none",
    [],
    [
      ("burrower",
      [],
      "A_Burrower.",
      [
        (assign, "$background_answer_23", 73),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@Many young rats are used as slaves to dig fresh tunnels in the mountains and under the plains to extend the^Skaven network. You were assigned to one of these groups and spent 4 long grueling years digging tunnels under enemy territory."),
        (jump_to_menu, "mnu_start_character_36"),
      ]
      ),

      ("warpminer",
      [],
      "A_Warpstone_Miner.",
      [
        (assign, "$background_answer_23", 74),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@You were a warpstone miner working one of the least profitable mines near the mountains on the Bretonnian border. You mined refined warpstone^which is far less dangerous than the unrefined kind and you managed to go your entire time in the mine without gaining any mutations or unusual effect much to your disappointment.^You often spent day without finding anything and when you did the master would snatch your find away as soon as he can."),
        (jump_to_menu, "mnu_start_character_36"),
      ]
      ),

      ("shield",
      [],
      "A_Shield_Maker.",
      [
        (assign, "$background_answer_23", 75),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@Skaven clanrats generally do not last long on the battlefield or in the dungeon. They are treated with disdain by nearly every other race and generally lack the^toughness and equipment to prove everyone wrong. The main form of defence for clanrats is a small but sturdy round shield usually decorated with symbols or pictures. You worked tirelessly making^these shields for all the main armies. It was a relentless job because of the phenomenal amount of fresh Skaven going into service every year."),
        (jump_to_menu, "mnu_start_character_36"),
      ]
      ),

      ("slave",
      [],
      "A_Slave.",
      [
        (assign, "$background_answer_23", 76),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@Whereas slavery is maligned in many cultured it is engrained in the Skaven way of life and any Skaven unable to stand up for himself^or acquire a useful skill set is most likely to go down this route. You were among the many in your early life when you were forced into a slave colony run by Clan^Moulder and forced to do whatever the whim of your master was. After a dwarf raid you managed to slip away in the chaos and start a new life."),
        (jump_to_menu, "mnu_start_character_36"),
      ]
      ),

      ("runner",
      [],
      "A_Dungeon_Runner.",
      [
        (assign, "$background_answer_23", 77),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@The adventuring parties of the Old World are obsessed with heading underground on some quest or another in search of gold or treasure or the^blagging rights to killing the biggest monster. Because of this the lairs and tunnel networks are becoming less and less secret as the years have gone on and secrecy is of^paramount importance to the ruling council. Special assassin teams patrol the network to quickly dispose of any trespassers in the more secretive areas and your job was a runner^through these routes to spot trespassers and get their location to the assassin teams as soon as possible."),
        (jump_to_menu, "mnu_start_character_36"),
      ]
      ),

      ("mole",
      [],
      "A_Mole.",
      [
        (assign, "$background_answer_23", 78),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@Skaven have an all consuming distrust of the inferior land dwelling species although their distrust of each other is almost as intense. Whether on an individual,^group or clan level the Skaven always saw treachery in everything and would do anything they could to raise their status in society at anyone and everyone's expense. You were hired as a mole^to infiltrate different groups and plans and report back to the council anything you found out."),
        (jump_to_menu, "mnu_start_character_36"),
      ]
      ),

      ("go_back",
      [],
      "Start_over",
      [
        (jump_to_menu, "mnu_start_game_0"),
      ]
      ),
    ],
  ),

  ("start_character_46", 0,
    "{s10}^^As a child you spent your days as",
    "none",
    [],
    [
      ("field",
      [],
      "A_Field_Worker.",
      [
        (assign, "$background_answer_46", 94),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@You spent your early days working at a nobleman's farmstead. The farming tools were your only and best friends and with them you spent your days caring for the crops, hard working in the sylvanian cold weather. Such a humble way of living left you little time to discover the world surrounding you but surely tempered your body, gifting you with an uncanny resistance to fatigue or harsh conditions. But then, one dark night, a strange figure came to you. His eyes were empty, his pale skin glistening in the moonlight. He spoke to you of greater power, of neverending youth and eternal life: he made you an offer. You could have had it all, you wanted it all, so you accepted his offering. And so, he gave you your Blood Kiss."),
        (jump_to_menu, "mnu_start_character_47"),
      ]
      ),

      ("scholar",
      [],
      "A_Scholar's_Pupil.",
      [
        (assign, "$background_answer_46", 95),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@You've always been with that weird old man of knowledge as far as you can remember, assisting him in uncovering the secrets of nature and questioning reality itself. His laboratory was your home, his experiments your lessons. What you haven't learned by reading the books in his enormous library, you learned by watching him messing around with strange concoctions and chanting formulae.^But then, one dark night, a strange figure came to you. His eyes were empty, his pale skin glistening in the moonlight. He spoke to you of greater power, of neverending youth and eternal life: he made you an offer. You could have had it all, you wanted it all, so you accepted his offering. And so, he gave you your Blood Kiss."),
        (jump_to_menu, "mnu_start_character_47"),
      ]
      ),

      ("apprentice",
      [],
      "An_Apprentice_Merchant.",
      [
        (assign, "$background_answer_46", 96),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@Working at the flank of the workshop's owner every day, got you to learn the rudiments of trading and bartering. With time, you became a bargainer so skilled that your mentor even thought about leaving you his store. But then, one dark night, a strange figure came to you. His eyes were empty, his pale skin glistening in the moonlight. He spoke to you of greater power, of neverending youth and eternal life: he made you an offer. You could have had it all, you wanted it all, so you accepted his offering. And so, he gave you your Blood Kiss."),
        (jump_to_menu, "mnu_start_character_47"),
      ]
      ),

      ("mindslave",
      [],
      "A_Mindslave.",
      [
        (assign, "$background_answer_46", 97),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@A mindless puppet, that's what you were. With your mind in the hands of your puppeteer, your body had no other options left than to obey. And so you slogged for all your early life at the orders of your master, carrying on every single task he demanded from you without talking back a single word, no matter how humiliating those task could be. But then, one dark night, a strange figure came to you. His eyes were empty, his pale skin glistening in the moonlight. He spoke to you of greater power, of neverending youth and eternal life: he made you an offer. You could have had it all, you wanted it all, so you accepted his offering. And so, he gave you your Blood Kiss."),
        (jump_to_menu, "mnu_start_character_47"),
      ]
      ),

      ("street",
      [],
      "A_Street_Urchin.",
      [
        (assign, "$background_answer_46", 98),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@Raised on the streets, you never knew a law other than yours. You and the other kids from the streets formed quite a quirky little gang, spending your days between little criminal actions and trying to stay away from the unforgiving grasp of the guards. But then, one dark night, a strange figure came to you. His eyes were empty, his pale skin glistening in the moonlight. He spoke to you of greater power, of neverending youth and eternal life: he made you an offer. You could have had it all, you wanted it all, so you accepted his offering. And so, he gave you your Blood Kiss."),
        (jump_to_menu, "mnu_start_character_47"),
      ]
      ),

      ("graverobber",
      [],
      "A_Graverobber.",
      [
        (assign, "$background_answer_46", 99),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@Not everyone is born rich and for sure you were not. Forced to choose between dying alone of starvation or finding a way to get some food, you chose the latter. Sylvania is a place full of mass burial grounds and long forgotten cemeteries, and so you started unhearthing the remains of the long departed searching for coins and small precious to exchange for a loaf of maggoty bread.But then, one dark night, a strange figure came to you. His eyes were empty, his pale skin glistening in the moonlight. He spoke to you of greater power, of neverending youth and eternal life: he made you an offer. You could have had it all, you wanted it all, so you accepted his offering. And so, he gave you your Blood Kiss."),
        (jump_to_menu, "mnu_start_character_47"),
      ]
      ),

      ("go_back",
      [],
      "Start_over",
      [
        (jump_to_menu, "mnu_start_game_0"),
      ]
      ),
    ],
  ),

  ("start_character_49", 0,
    "{s10}^^",
    "none",
    [],
    [
      ("tree",
      [],
      "A_Tree_Singer.",
      [
        (assign, "$background_answer_49", 100),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@The forces of nature changed you gradually, unlocking new powers to one of every livings most instinctive feature: voice. With your mind perfectly tuned with the forests ancient melody, you began singing your own songs over this primordial music, growing and shaping the forest to your own vision and will. An architect of wonders, a singer of trees, with your melodies you helped growing entire cities and realms between branches and roots, your mind inspired by your deep devotion to.."),
        (jump_to_menu, "mnu_start_character_50"),
      ]
      ),

      ("warden",
      [],
      "A_Forest_Warden.",
      [
        (assign, "$background_answer_49", 101),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@Athel Loren became not only your home but a living part of your existence. Your symbiotic connection with the forest sprang a strong protective feeling toward it. Sworn to keep intruders at bay, you took on your mission to guard its treasures from any kind of ruin. A shadow among the shadows, your eyes always open and vigilant, your arrows always ready to bring death to natures enemies, your actions, even in this new life, driven forth by your devotion to..."),
        (jump_to_menu, "mnu_start_character_50"),
      ]
      ),

      ("highborn",
      [],
      "A_Highborn.",
      [
        (assign, "$background_answer_49", 102),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@Never you would have expected of becoming a liege, but natures ways are the most mysterious ones. Your wisdom and dedication to the welfare of your community granted you the status of Highborn. Your people described you as a benevolent and calm leader in times of peace, a righteous ruler over your small kingdom, while a turbulent fury on the battlefield, capable of great victories even in the most unfavorable conditions. But in your heart you knew it was not all your merit, as you have always felt blessed by."),
        (jump_to_menu, "mnu_start_character_50"),
      ]
      ),

      ("beastmaster",
      [],
      "A_Beastmaster.",
      [
        (assign, "$background_answer_49", 103),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@Athel Loren is inhabited by every kind of living creature, from the most peculiar ones like the forests magical spirits to the most commons like beasts and animals. When you first woke up in the forest, after an unknown incident happened,  you found yourself surrounded by a pack of wolves. With your great surprise, you were greeted and accepted like one of them. Thus, you began living with them, slowly mastering your newborn ability to tame and control beasts. But, even living alone in the forest with your new animal family, you never stopped worshipping your chosen deity..."),
        (jump_to_menu, "mnu_start_character_50"),
      ]
      ),

      ("waker",
      [],
      "A_Spirit_Waker.",
      [
        (assign, "$background_answer_49", 104),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@The winds of nature blow strong through the thick mantle made of leaves, cradling the many ancient spirits that inhabit Athel Loren from times immemor. You saw some of their physical manifestations during your time here, you witnessed their power and studied their behaviours enough to be able to estabilish an unique connection with them. Your kin then began to hold you in high regard as one of the few able to communicate with the spirits of the forest, to ask them for guidance or to wake them to join the armies of nature when the tides of war arose. By the way, you were sure that this path you were walking was all in the plans of..."),
        (jump_to_menu, "mnu_start_character_50"),
      ]
      ),

      ("wildrider",
      [],
      "A_Wild_Rider.",
      [
        (assign, "$background_answer_49", 105),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@Spring, Summer, Autumn, Winter. Birth, Life, Sunset, Death. Living under the emerald ceiling of the forest slowly made you one with nature's course. A being blessed through the ultimate identification with all of creation. Such a gift, possessed only by the chosen ones of your people, made you become one of the personal guards of King Orion, the living embodiment of Kurnous himself, supreme liege of your kin all. Your savage power, your instinctive thoughts, your feral look were all hints of your complete transformation into something more similar to a forest spirit. Anyway, your previous self still existed deep in your soul, that is why you have never completely stopped worshipping..."),
        (jump_to_menu, "mnu_start_character_50"),
      ]
      ),

      ("go_back",
      [],
      "Start_over",
      [
        (jump_to_menu, "mnu_start_game_0"),
      ]
      ),
    ],
  ),

  ("start_character_52", 0,
    "{s10}^^",
    "none",
    [],
    [
      ("battleground",
      [],
      "A_Battleground.",
      [
        (assign, "$background_answer_52", 106),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@While traversing the frozen passes of the World Edge Mountains, the great black columns of the Dawi Zharr reached once more the ground and entered the northernmost eerie white plains of the Troll Country. After a while, the snow under their feet began to feel quite different and many started looking what they were stepping on as you did too. Emerging from the countless footprints and wheeltracks left in the snow, the remains of thousands of battles between great armies of humans, trolls and other warped creatures started littering the path. The sight of such a great display of supreme belligerence filled you with renewed strength, maybe influencing your decision to become.."),
        (jump_to_menu, "mnu_start_character_53"),
      ]
      ),

      ("runemap",
      [],
      "A_Runemap.",
      [
        (assign, "$background_answer_52", 107),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@Entering the frozen lands of Norsca, the white empty vastness of the Troll Country began mutating into a jagged frozen landscape made of towering black stone spikes and teeth, lacerating the candid mantle of the snow as a beast plunging its fangs into the belly of its prey. It was while passing between two rocky walls, that you and few others started noticing weird inscriptions and figures carved in one of the sides of the mountains. At first it was really difficult for you to read it and figure out the message of those runes, but after a while all became clearer. It was a map, maybe from many ages before, depicting the lands of the Old World and how to safely traverse them. With this knowledge, you felt ready to become..."),
        (jump_to_menu, "mnu_start_character_53"),
      ]
      ),

      ("ritual",
      [],
      "A_Ritual.",
      [
        (assign, "$background_answer_52", 108),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@During their long journey across the norscan frozen mountains and vales, the Dawi Zharr encountered a peculiar mountain, its top flat as if beheaded by a furious blow, dense black clouds crowning the bastion of black naked stone. The Prophets felt a strong magical presence coming from the top of that mountain, so you and a few others were sent to the top to investigate the source of such incredible wild power. There, you saw it. A single ancient man, his flesh and skin twisted and warped by the flowing powers of Chaos. The old sorcerer noticed your group, and with a single gesture invited you to join his ritual. You felt the raw chaotic energies taking hold of you and giving you unholy knowledge, advising you in your decision to become..."),
        (jump_to_menu, "mnu_start_character_53"),
      ]
      ),

      ("great_feast",
      [],
      "A_Great_Feast.",
      [
        (assign, "$background_answer_52", 109),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@Soon after reaching the heartlands of Norsca, the travelling column of the Chaos Dwarfs came to witness one of the great barbarian strongholds. A band of chaos riders soon approached the head of the army, bringing word that the lord of the stronghold wanted you all to join the great feast in honor of the Chaos Gods. That night the flames burned bright and high over the feasting host, sacrifices were made and ale flown in rivers among marauders and dwarfs alike. You were about to bite some kind of roasted pork leg, when an hulking barbarian came to you and bellowed his challenge. You cannot remember much of what happened later due to all that ale, yet you know the giant was laying on the floor in a matter of moments and all your fellows were hailing your victory. This surge of popularity convinced you to become..."),
        (jump_to_menu, "mnu_start_character_53"),
      ]
      ),

      ("war_host",
      [],
      "A_War_Host.",
      [
        (assign, "$background_answer_52", 110),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@Entering the western regions of the norscan iced lands, the voyage became harder, with snow storms slowing the march and spoiling the provisions and the ever stronger warpstorms hailing from the northern Chaos Wastes. After weeks of surviving in this hostile environment, the sound of a battle horn was heard over the screaming winds. Following the loud wail of the horn, the Dawi Zharr found an encampment held by a large horde of Chaos Marauders. They offered you safe harbor and trading opportunities, and you did not miss the chance to trade some trinkets and weapons from your equipment in exchange for resources, slaves and a small amount of precious gold. With the bigger storms gone, you and the others left the encampment, ready to finally end your journey, though that small stash you traded for, made you decide to become..."),
        (jump_to_menu, "mnu_start_character_53"),
      ]
      ),

      ("graveyard",
      [],
      "A_Ships_Graveyard.",
      [
        (assign, "$background_answer_52", 111),
        (assign, reg3, "$character_gender"),
        (str_store_string, s11, "@After months of travelling across mountains, snow white plains and frozen canyons, the westernmost coast of Norsca was finally in sight. Some of your kin had already set out to establish new outposts and colonies in norscan lands, but many more remained, their godsent quest leading them to the tall and rocky shores of Albion. As soon as you got there, a camp was set up to prepare for the oceanic travel. You were among those who were sent out to scout for building materials, and that is how you saw it. Along the coast, a conglomerate of big wrecked hulls and head figures, of masts and lacerated sails, stood like the carcass of a dead monster. The remains of the norscan ships were readily studied and deconstructed, their design secrets now yours too. The Chaos Dwarfs finally set out for the final destination of their travel, and you decided to become..."),
        (jump_to_menu, "mnu_start_character_53"),
      ]
      ),

      ("go_back",
      [],
      "Start_over",
      [
        (jump_to_menu, "mnu_start_game_0"),
      ]
      ),
    ],
  ),

  ("start_character_24", mnf_disable_all_keys,
    "{s11}^^ You started to learn about the world almost as soon as you could walk and talk. You spent your early life as......",
    "none",
    [
      (assign, reg3, "$character_gender"),
    ],
    [
      ("militia",
      [],
      "A_Member_of_the_Militia.",
      [
        (assign, "$background_answer_24", 1),
        (str_store_string, s14, "@{reg3?daughter:man}"),
        (str_store_string, s12, "@You had no idea what you wanted to do with your life when you were younger and so you thought you would go on the road most travelled^and join the local militia. You were neither enthusiastic nor complacent and performed you duties to a high standard, impressing all the officers but you did not share the^passion most of your fellow troops shared. Your training made you fit and battle ready and when your contract ran out you were offered a promotion with high pay but you rejected^stating that you wished to go home and reflect on your life. You were scorned by the military for not accepting such a generous offer but you did not care."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("bailiff",
      [],
      "A_Bailiff.",
      [
        (assign, "$background_answer_24", 2),
        (str_store_string, s14, "@{reg3?daughter:man}"),
        (str_store_string, s13, "@{reg3?woman:man}"),
        (str_store_string, s12, "@You were never the most popular person in the Empire so it made sense you^started your life as a bailiff working for a scandalous landlord in the city of Talabheim. He had ways of draining the wealth^of his tenants and was always ready to send you in when the payments were even an hour late. You gained confidence from the job but^you quit after a retired greatsword gave you the beating of your life when you went to collect on one of your bosses devious hidded^charges. You left in search of a more honourable life."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("merchant",
      [],
      "A_Merchant.",
      [
        (assign, "$background_answer_24", 3),
        (str_store_string, s14, "@{reg3?daughter:man}"),
        (str_store_string, s13, "@{reg3?woman:man}"),
        (str_store_string, s12, "@There was always lots of wealth and alot of goods moving around the Empire and there^was a market for anything once you know where to look. You started off a small business selling second hand goods but soon^citizens were bringing you their new merchandise to sell on their behalf after seeing how sharp your business acumen was.^You amassed a great deal of wealth and contacts but eventually left the business to your brother is search of a new direction."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("bloodbowl",
      [],
      "A_Blood_Bowl_player.",
      [
        (assign, "$background_answer_24", 5),
        (str_store_string, s12, "@You loved Blood Bowl when you were young and as soon as you got an opportunity to train with your local team you couldn't say no.^You forced your way into your team and quickly became a young starlet who led your team onto many trophies. Your career was undone though because of a bitter feud with^Morg'N'Thorg after you ko'd him into the crowd, breaking his hip and causing the rioting crowd to stamp him to within an inch of his life. When he re-entered the game Morg'N'Thorg^was out for revenge and he persuaded every opponent your team faced to choose him as an inducement and he always put on an amazing game. You traded blows game after game but in the end his performances^were costing your team games so your coach sacked you to get Morg'N'Thorg off their case."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("gunsmith",
      [],
      "A_Gunsmith.",
      [
        (assign, "$background_answer_24", 4),
        (str_store_string, s14, "@{reg3?daughter:man}"),
        (str_store_string, s13, "@{reg3?woman:man}"),
        (str_store_string, s12, "@You were always proud of your nations technological prowess and you were fascinated with^firearms ever since you were a little kid. As soon as your education finished you worked as an apprentice to the local gunsmith.^You learnt how to put together, clean, modify and also how to shoot the many varieties the Empire had to offer."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("messenger",
      [],
      "A_Messenger.",
      [
        (assign, "$background_answer_24", 6),
        (str_store_string, s14, "@{reg3?daughter:man}"),
        (str_store_string, s13, "@{reg3?woman:man}"),
        (str_store_string, s12, "@The Empire was massive and the need for information was always great between the Elector Counts and^their cities. Updates on raids, wars, witchcraft, politics, and trade were always relentlessly needed so you joined a program as a teenager^as a messenger for the Elector Counts and their officials. Speed and discretion was your game and you were never late in your duties."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("go_back",
      [],
      "Start_over",
      [
        (jump_to_menu, "mnu_start_game_0"),
      ]
      ),
    ],
  ),

  ("start_character_25", mnf_disable_all_keys,
    "{s11}^^ You started to learn about the world almost as soon as you could walk and talk. You spent your early life as......",
    "none",
    [
      (assign, reg3, "$character_gender"),
    ],
    [
      ("bowmen",
      [],
      "A_Peasant_Bowmen.",
      [
        (assign, "$background_answer_25", 11),
        (str_store_string, s14, "@{reg3?daughter:man}"),
        (str_store_string, s12, "@You grew up on tales of knights and lances and dreamed of being one yourself but in reality you found^out you were most skilled with the bow and arrow. You trained 5 times weekly in what you anticipated would be for war but when the great climate^changes befell Bretonnia and crops failed in every province you were spending most of your time hunting animals for meat so that families^could be fed enough to survive."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("bard",
      [],
      "A_Bard.",
      [
        (assign, "$background_answer_25", 12),
        (str_store_string, s14, "@{reg3?daughter:man}"),
        (str_store_string, s13, "@{reg3?woman:man}"),
        (str_store_string, s12, "@Your love of poetry and music, as well as the limelight in big gatherings^meant you had a very happy start to life. As a talented singer and storyteller you were invited to the best^feasts and gatherings and played for hours to whoever would listen. Always drunk on wine, or maybe even just the moment,^the great famine brought you down to earth as the lack of food meant no feasts and no party atmosphere."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("outrider",
      [],
      "An_Outrider.",
      [
        (assign, "$background_answer_25", 7),
        (str_store_string, s14, "@{reg3?daughter:man}"),
        (str_store_string, s13, "@{reg3?woman:man}"),
        (str_store_string, s12, "@Being a solitary and stern man the job of outrider was perfect for you and you were perfect for^those who hired you. Your job was to ride ahead of war parties, caravans and diplomatic travellers and scope out any threats and dangers that lay ahead.^It was a dangerous job with a low life expectancy but you are skilled in both the arts of fighting and also the arts of spotting and tracking.^Although ordered to leave threats to be dealt with by strike parties often you would ride out and deal with small parties on your own.^You are a stealthy man who can manage to scout and track without being seen and surrounded which is the primary cause of outrider deaths."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("bloodbowl2",
      [],
      "A_Blood_Bowl_Player.",
      [
        (assign, "$background_answer_25", 8),
        (str_store_string, s12, "@You loved Blood Bowl when you were young and as soon as you got an opportunity to train with your local team you couldn't say no.^You forced your way into your team and quickly became a young starlet who led your team onto many trophies. You were a principled man although one of the^few in the sport and you quit in protest of Orc superstar Varag Ghoul Chewer's ban being overturned after he used a cheat weapon which killed half his team^as well as most of the opposition."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("ratcatcher",
      [],
      "A_Rat_Catcher.",
      [
        (assign, "$background_answer_25", 9),
        (str_store_string, s14, "@{reg3?daughter:man}"),
        (str_store_string, s13, "@{reg3?woman:man}"),
        (str_store_string, s12, "@Food was scarce when you were young, even for rats so they were getting more and more bolder in their^search for food. Your village simply could not afford to have rats steal or infect the little food you had so your job was to hunt down^and kill them. You were lightening quick and this only made you faster although very drenched on those wet Bretonnian nights."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("trebuchet",
      [],
      "A_Trebuchet_Crewman.",
      [
        (assign, "$background_answer_25", 10),
        (str_store_string, s14, "@{reg3?daughter:man}"),
        (str_store_string, s13, "@{reg3?woman:man}"),
        (str_store_string, s12, "@Although you never admitted it publicly you admired the technology of the Empire and the advantages^it gave them in warfare. The closest the Bretonnians have to the great inventions of the Empire is the trebuchet which is used to great affect^in sieges. You attended many assaults by the main army and did your utmost to prove Bretonnian technology can win the day as much as the sword can."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("go_back",
      [],
      "Start_over",
      [
        (jump_to_menu, "mnu_start_game_0"),
      ]
      ),
    ],
  ),

  ("start_character_26", mnf_disable_all_keys,
    "{s11}^^ You started to learn about the world almost as soon as you could walk and talk. You spent your early life as......",
    "none",
    [
      (assign, reg3, "$character_gender"),
    ],
    [
      ("physician",
      [],
      "A_Physician.",
      [
        (assign, "$background_answer_26", 14),
        (str_store_string, s14, "@{reg3?daughter:man}"),
        (str_store_string, s12, "@You were fascinated by the doctors and healers who practiced in the great cities of your nation^You spent your early life in study and as a part time helper for a physician who was also a friend of your mother. You learnt many^things about the human body and the medicinal properties of the world around you, skills which will suit you well as a leader of many toiling fighters."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("carpet",
      [],
      "A_Flying_Carpet_Maker.",
      [
        (assign, "$background_answer_26", 15),
        (str_store_string, s14, "@{reg3?daughter:man}"),
        (str_store_string, s13, "@{reg3?woman:man}"),
        (str_store_string, s12, "@Flying carpets are a wonder of your nation and an item only the most prestigious person can own.^You always wanted wealth and recognition so you trained and excelled as a flying carpet maker and you took it upon yourself to^sell them as well in order to cut out the middle man and also so the rich and powerful could know your name."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("merchant",
      [],
      "A_Merchant.",
      [
        (assign, "$background_answer_26", 17),
        (str_store_string, s14, "@{reg3?daughter:man}"),
        (str_store_string, s13, "@{reg3?woman:man}"),
        (str_store_string, s12, "@There was always lots of wealth and alot of goods moving around the Empire and there^was a market for anything once you know where to look. You started off a small business selling second hand goods but soon^citizens were bringing you their new merchandise to sell on their behalf after seeing how sharp your business acumen was.^You amassed a great deal of wealth and contacts but eventually left the business to your brother is search of a new direction."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("jailer",
      [],
      "A_Jailer.",
      [
        (assign, "$background_answer_26", 79),
        (str_store_string, s12, "@A great deal is made of obedience to the laws of the land if you are Arabian. There is great toleration for the customs^and cultural mistakes of foreigners while they are in Araby but that courtesy does not extend to it's own people. The law and customs are very strict and^are often broken. The jails are often very populated because of this and many jailers were needed because of this. It is not a very well respected job but it is^well paid so you worked there for quite a long time."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("desert_rider",
      [],
      "A_Desert_Rider.",
      [
        (assign, "$background_answer_26", 18),
        (str_store_string, s14, "@{reg3?daughter:man}"),
        (str_store_string, s13, "@{reg3?woman:man}"),
        (str_store_string, s12, "@You started life on patrol as a desert rider who was part of a scouting group^who often rode the Araby/Nehekhara border. You were the best horse archer in your patrol and knew how to keep^a controlled distance away from your enemy whilst on the assault."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("corsair",
      [],
      "A_Corsair.",
      [
        (assign, "$background_answer_26", 13),
        (str_store_string, s14, "@{reg3?daughter:man}"),
        (str_store_string, s13, "@{reg3?woman:man}"),
        (str_store_string, s12, "@You spent your early life in Lashiek among thieves learning how to navigate the seas and how to beat the^pirates at their own game. You learnt to be stealthy on land and smart on the sea but always quick and purposeful. You were in debt^and this is how you worked to pay it off although it became to dangerous for you to be in the city after a while so you were never able^to make much of a surplus."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("go_back",
      [],
      "Start_over",
      [
        (jump_to_menu, "mnu_start_game_0"),
      ]
      ),
    ],
  ),

  ("start_character_27", mnf_disable_all_keys,
    "{s11}^^ Which clan were your family loyal to......",
    "none",
    [
      (assign, reg3, "$character_gender"),
    ],
    [
      ("ashiwara",
      [],
      "The_Ashiwara_Clan.",
      [
        (assign, "$background_answer_27", 19),
        (str_store_string, s14, "@{reg3?daughter:man}"),
        (str_store_string, s12, "@The Ashiwara are the most peaceful and siplomatic caln in Nippon. They are masters of domestic and foreign affairs and when war does break out they have the best archers in the whole of Nippon to defend them."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("uruchi",
      [],
      "The_Uruchi_Clan.",
      [
        (assign, "$background_answer_27", 20),
        (str_store_string, s14, "@{reg3?daughter:man}"),
        (str_store_string, s13, "@{reg3?woman:man}"),
        (str_store_string, s12, "@The Uruchi clan is home to the sumo warriors and are the most aggressive clan in the entire country. Their sheer levels of violence and brutality on the battlefield have led to scorn being cast on them by all of the other clans on the island."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("batake",
      [],
      "The_Batake_Clan.",
      [
        (assign, "$background_answer_27", 21),
        (str_store_string, s14, "@{reg3?daughter:man}"),
        (str_store_string, s13, "@{reg3?woman:man}"),
        (str_store_string, s12, "@When the Empire brought gunpowder to Nippon the Batake saw it's significance and have obsessively mastered the creation and utilisation of seige weapons and war machines with the new prized resource. Their tactics are considered dishonourable by many but their knowledge is far in advance of any other clan and fears are widespread that one day they will be too strong to stop."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("shinzei",
      [],
      "A_Shinzei_Clan.",
      [
        (assign, "$background_answer_27", 22),
        (str_store_string, s12, "@The Shinzei are an isolated and highly skilled clan who created the art of nijitsu and train the ninja warriors who hire themselves out throughout the mainland. They are greatly distrusted by other clans due to the impact of the ninjas and the assasination schools but they are also a key defence against the undead hordes in the north and for this reason are left alone."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("mushagi",
      [],
      "The_Mushagi_Clan.",
      [
        (assign, "$background_answer_27", 23),
        (str_store_string, s14, "@{reg3?daughter:man}"),
        (str_store_string, s13, "@{reg3?woman:man}"),
        (str_store_string, s12, "@The Mushagi are master commanders of the battlefield and have the most battle hardened army of ashigaru in the world. Their treatment and respect of the peasant ranks in their army is a key part of their military success but they are frequently scorned by other clans for treating the lowborn their equals."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("daimatzu",
      [],
      "The_Daimatzu_Clan.",
      [
        (assign, "$background_answer_27", 24),
        (str_store_string, s14, "@{reg3?daughter:man}"),
        (str_store_string, s13, "@{reg3?woman:man}"),
        (str_store_string, s12, "@The Daimatzu are the strictest and most honourable of all the clans. They are master sword makers and masters of the art of sword fighting and they are by far the best duelists in Nippon, arguably the world. They are seen as arrogant by the other clans."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("go_back",
      [],
      "Start_over",
      [
        (jump_to_menu, "mnu_start_game_0"),
      ]
      ),
    ],
  ),

  ("start_character_28", mnf_disable_all_keys,
    "{s11}^^ You started to learn about the world almost as soon as you could walk and talk. You spent your early life as......",
    "none",
    [
      (assign, reg3, "$character_gender"),
    ],
    [
      ("envoy",
      [],
      "An_Envoy.",
      [
        (assign, "$background_answer_28", 25),
        (str_store_string, s14, "@{reg3?daughter:man}"),
        (str_store_string, s12, "@The pirates are strong but their enemies are often just as strong if not stronger and the brotherhood does not^always have it their own way. Sometimes it takes political games in order to sustain the stability of the faction so envoys were needed to send^and receive politic messages such as truces and treaties. You spent your early life as an envoy for the brotherhood as a face for pirate diplomacy^and with the responsibility of peace in your hands."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("grave",
      [],
      "A_Grave_Robber.",
      [
        (assign, "$background_answer_28", 26),
        (str_store_string, s14, "@{reg3?daughter:man}"),
        (str_store_string, s13, "@{reg3?woman:man}"),
        (str_store_string, s12, "@You loved riches like any pirate and you didn't care where you found it. Many pirates are superstitious or consider sacred ground^off limits so would not dare rob graveyards but you have no such qualms about searching the quiet and peaceful burial sites for whatever the dead could not^take with them."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("gunsmith",
      [],
      "A_Gunsmith.",
      [
        (assign, "$background_answer_28", 27),
        (str_store_string, s14, "@{reg3?daughter:man}"),
        (str_store_string, s13, "@{reg3?woman:man}"),
        (str_store_string, s12, "@Pirates love guns, for both long range and short range combat and you worked for the largest gunsmith in town.^You learnt how to build and clean top quality pistols and rifles and also had alot of practice in how to use them."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("medic",
      [],
      "A_Medic.",
      [
        (assign, "$background_answer_28", 28),
        (str_store_string, s12, "@Piracy is a bloody and brutal line of work and when a battle commences it is not long before the cries of the wounded are calling out^for the medic. You were trained well enough in wound treatment and basic surgery and you would run in and amongst the fighting on board to drag the wounded to safety^and hopefully patch them up to see another day."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("mercenary",
      [],
      "A_Mercenary.",
      [
        (assign, "$background_answer_28", 29),
        (str_store_string, s14, "@{reg3?daughter:man}"),
        (str_store_string, s13, "@{reg3?woman:man}"),
        (str_store_string, s12, "@You taught yourself how to use a sword during your teenage years and you wished to one day own your own ship and^lead a crew around the open seas. In order to earn money to save towards this goal you became a mercenary for whoever was looking to hire you.^You didn't care about the whose and the whys, just how much. You never managed to save up enough for the ship though as you got robbed by wily^female pirate while you were having a steam bath."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("slave",
      [],
      "A_Slave.",
      [
        (assign, "$background_answer_28", 30),
        (str_store_string, s14, "@{reg3?daughter:man}"),
        (str_store_string, s13, "@{reg3?woman:man}"),
        (str_store_string, s12, "@You were captured by Dark Elf corsairs when you were 12 and sold as a slave to work in Kraken and then when you were strong enough^to work on a galleon rowing the oars. You were subjected to this hard life until you were 23 when the ship you were on was successfully taken by an attacking pirate^fleet. You were rescued and freed by the captain who recognising your accent knew you were one of them and you started a new life from then on."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("go_back",
      [],
      "Start_over",
      [
        (jump_to_menu, "mnu_start_game_0"),
      ]
      ),
    ],
  ),

  ("start_character_29", mnf_disable_all_keys,
    "{s11}^^ Then, as a young adult, life changed as it always does. You became...",
    "none",
    [
      (assign, reg3, "$character_gender"),
    ],
    [
      ("skinner",
      [],
      "A_hunter_and_skinner.",
      [
        (assign, "$background_answer_29", 31),
        (str_store_string, s14, "@{reg3?daughter:man}"),
        (str_store_string, s12, "@Your job was to gather food and furs for your tribe. You hunted all animals including boar, wolves, bears and when^you were feeling particularly bold sabre tooth tiger. You had to be very precise in both the hunt and the cut, if you messed up the skinning then your^furs would be rejected in favour of someone else and you would go out of pocket."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("bloodbowl",
      [],
      "A_Blood_Bowl_Player.",
      [
        (assign, "$background_answer_29", 32),
        (str_store_string, s14, "@{reg3?daughter:man}"),
        (str_store_string, s13, "@{reg3?woman:man}"),
        (str_store_string, s12, "@You loved the vicious and brutal arena of a blood bowl pitch. You joined the local blood bowl team and^although you rarely won you didn't care. You didn't play to get the ball over the line, you just wanted to crush the opposition and send^as many to the apothecary as possible."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("raid",
      [],
      "A_Raid_Scout.",
      [
        (assign, "$background_answer_29", 33),
        (str_store_string, s14, "@{reg3?daughter:man}"),
        (str_store_string, s13, "@{reg3?woman:man}"),
        (str_store_string, s12, "@Chaos love raiding the Empire because the Empire took the land which were rightfully theirs when they became^a superpower in the main continent. Though proud and mighty the warriors from the north are just not large enough to face the full might of the Empire and their machines^of war and win. So rather than one all out war they like to raid and pillage when they can and try to impose economic woes on the Empire of Sigmar. Your^job was to scout the Empire borderland for merchant parties and important convoys and also to learn when villages get supplies in and run back to alert^the raiding parties."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("wanderer",
      [],
      "A_Wanderer.",
      [
        (assign, "$background_answer_29", 34),
        (str_store_string, s12, "@There were many roads available to you but you were set on becoming a warrior of global renown.^You wanted a revelation, an intervention from your God to bless you and endow you with the power needed to achieve your ambition.^You wandered through the far north for years and finally your God answered and you came back from the mountains^a new man."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("reaver",
      [],
      "A_Reaver.",
      [
        (assign, "$background_answer_29", 35),
        (str_store_string, s14, "@{reg3?daughter:man}"),
        (str_store_string, s13, "@{reg3?woman:man}"),
        (str_store_string, s12, "@Although nowhere near as skilled in a fight you managed to join the reavers while you were young on a favour^and you scoured the seas and coastlines looking for slaves to sell on to other nations. You are no stranger to boarding other ships and loved^nothing more than a highly charged skirmish with the pirates."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("shieldsmith",
      [],
      "A_Shieldsmith.",
      [
        (assign, "$background_answer_29", 36),
        (str_store_string, s14, "@{reg3?daughter:man}"),
        (str_store_string, s13, "@{reg3?woman:man}"),
        (str_store_string, s12, "@Marauders do not have a lot of armour compared to a lot of other armies but they do like to use shields although the quality^of shields is usually low. You wanted to make a point of producing quality shields for the army so you learnt from a Norse dwarf exactly what needs^to be done to make a solid shield. He also taught you how to defend yourself effectively with one as well."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("go_back",
      [],
      "Start_over",
      [
        (jump_to_menu, "mnu_start_game_0"),
      ]
      ),
    ],
  ),

  ("start_character_30", mnf_disable_all_keys,
    "{s11}^^ Then, as a young adult, life changed as it always does. You became...",
    "none",
    [
      (assign, reg3, "$character_gender"),
    ],
    [
      ("bloodbowl",
      [],
      "A_Blood_Bowl_Player.",
      [
        (assign, "$background_answer_30", 37),
        (str_store_string, s14, "@{reg3?daughter:man}"),
        (str_store_string, s12, "@You joined the local blood bowl team and had 3 wildly successful seasons. Your team was lightening fast and very tough.^You mastered the art of protecting your skinks and your kroxigor always came out on top in the epic centre scrum battles. You spotted all opposition looking^to send the skinks to the apothecary and got in their faces forcing them to deal with you instead. They always ended second best."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("coldherd",
      [],
      "A_Cold_One_Herder.",
      [
        (assign, "$background_answer_30", 38),
        (str_store_string, s14, "@{reg3?daughter:man}"),
        (str_store_string, s13, "@{reg3?woman:man}"),
        (str_store_string, s12, "@Unlike the Dark Elves who have to trick cold ones into being their mount the Lizardmen have a bond with the species^which dwell in Lustria and they will usually serve the Saurus' freely. With the many wars the Lizardmen always have to fight it is important that^there is enough cavalry for all fronts so you herded them into packs ready for service."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("weaponsmith",
      [],
      "A_Weaponsmith.",
      [
        (assign, "$background_answer_30", 39),
        (str_store_string, s14, "@{reg3?daughter:man}"),
        (str_store_string, s13, "@{reg3?woman:man}"),
        (str_store_string, s12, "@Lizardman weapons are probably the most unique in the whole of the world. No other races weapons look or inflict damage in quite the same way.^The weapons tend to tear chunks out of their prey rather than a clean slice and the force behind them often winds the enemy at the same time as penetrating through their armour and flesh.^You worked as smith making the weapons en masse for the army."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("devout",
      [],
      "A_Devout.",
      [
        (assign, "$background_answer_30", 40),
        (str_store_string, s12, "@You knew that the battlefield and war was your destiny, it is the destiny of every saurus but you took some time to devout yourself to your religion and^to the God Sotek. You pilgrimaged to sacred sites and listened to and learnt from the many priests who live in the sacred temples. You learnt of the past and the prophecies^of the future and why it is so important to defend your homeland from those that would desecrate the sanctity of your holy sites."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("breeder",
      [],
      "An_Arena_Master.",
      [
        (assign, "$background_answer_30", 41),
        (str_store_string, s14, "@{reg3?daughter:man}"),
        (str_store_string, s13, "@{reg3?woman:man}"),
        (str_store_string, s12, "@Lustrian towns hold tournaments like other races and you respect the tradition and as master you make sure the event runs smoothly but your main duty^at other times was to see that the hundreds of saurus warriors keep in practice and learn how to fight as quickly as possible. Young and inexperienced saurus' would come to you the^arena school as pre-military training and you had a bruising routine you say all troops complere before you sent them on."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("seneschal",
      [],
      "A_Seneschal.",
      [
        (assign, "$background_answer_30", 42),
        (str_store_string, s14, "@{reg3?daughter:man}"),
        (str_store_string, s13, "@{reg3?woman:man}"),
        (str_store_string, s12, "@You served your castles Lord for 4 years, making sure that his every wish is followed through and that everyone down the information^chain is up to speed and working towards the Lord's desires. You made a point of being a step ahead of all the political and military situations of the Lizardman^kingdom so you were never at a loss or stuck for an answer when your Lord enquired about a situation."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("go_back",
      [],
      "Start_over",
      [
        (jump_to_menu, "mnu_start_game_0"),
      ]
      ),
    ],
  ),

  ("start_character_31", mnf_disable_all_keys,
    "{s11}^^ Then, as a young adult, life changed as it always does. You became...",
    "none",
    [
      (assign, reg3, "$character_gender"),
    ],
    [
      ("boss",
      [],
      "A_Boss.",
      [
        (assign, "$background_answer_31", 43),
        (str_store_string, s14, "@{reg3?daughter:man}"),
        (str_store_string, s12, "@The biggest and strongest rules over the others, this is the base principle of orc society, and the only way to become <<da biggas an da strongas>> is to win and fight against the other aspirant chiefs. But only one in the tribe managed to become <<da Boss>> and that was you.    You fought a lot, won a lot, grew a lot, to the point that no one even dared to challenge your fearsome authority fearing your savage reprisal. Still, your glory days as a leader ended when you left your tribe all on your own, because of.."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("prophet",
      [],
      "A_Prophet.",
      [
        (assign, "$background_answer_31", 44),
        (str_store_string, s14, "@{reg3?daughter:man}"),
        (str_store_string, s13, "@{reg3?woman:man}"),
        (str_store_string, s12, "@The ways of Gork and Mork are mysterious, but not for you. You heard their unison voices whispering inside your mind since the beginning, guiding you toward the accomplishment of higher goals . Thus you carved the face of the Twin Gods on the side of a mountain, a sign for all the greenskins to see.   They came to you, entire WAAAGHs, to hear Their word.<<Da prophet>> they called you, religious pillar, mouth of the gods. Yet, the Gods had other plans for you, so they forced to leave your people with the induced false conviction of.."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("quartermaster",
      [],
      "A_Quartermaster.",
      [
        (assign, "$background_answer_31", 45),
        (str_store_string, s14, "@{reg3?daughter:man}"),
        (str_store_string, s13, "@{reg3?woman:man}"),
        (str_store_string, s12, "@Everyone likes to wear some <<ard bitz>> or to wield a <<propa dead killy choppa>>, but in order to get them you first need to craft them. You chose that as your job. As the WAAAGHtermaster, you spent your days in the smoke-smelling darkness of your camps crude smithy tent, smelting and re-forging the fallen enemies gears into <<orc stuff>> and occasionally kicking your lazy goblin servants backends when they didnt work fast enough for your standards. Though, the life in the smithy soon became too boring for you, so you left because of.."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("teeth",
      [],
      "A_Teeth_Hoarder.",
      [
        (assign, "$background_answer_31", 46),
        (str_store_string, s12, "@The greenskins economical system is a quite unique one, using <<teeffs>> as money. Given the high chance of a violent fight happening multiple times a day inside of a standard greenskin community and the extraordinary rate at which the greenskins teeth regrow, a common drunken brawl can turn into an opencast bank. By staying out of the core of the fights and sneaking between the flying fists of your fellows, day by day, you started amassing an ever growing quantity of fangs.   Was it an honourable behavior? <<Who carez!>> your quick answer. Loaded with your riches, one day you left your camp because of..."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("tunnel",
      [],
      "A_Tunnel_Dweller.",
      [
        (assign, "$background_answer_31", 47),
        (str_store_string, s14, "@{reg3?daughter:man}"),
        (str_store_string, s13, "@{reg3?woman:man}"),
        (str_store_string, s12, "@Orcs love dwarf tunnels, but do hate the dwarfs inhabiting them. As a tunnel dweller you learned how to properly fight and defend yourself in cramped spaces, how to focus your sight in the dark and sharpened your sense of direction, a most vital skill when navigating inside the belly of the mountains. But you werent aware of your instinct driven advanced training, you just wanted <<ta chop down da bloody stumpy dworfz!>> to take all <<da shiny stuff>> they carried. Still, at one point you decided to stop your activities in the underground because of.."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("pirate",
      [],
      "A_Pirate.",
      [
        (assign, "$background_answer_31", 48),
        (str_store_string, s14, "@{reg3?daughter:man}"),
        (str_store_string, s13, "@{reg3?woman:man}"),
        (str_store_string, s12, "@Pirates are a quite common threat for the sea-travelling merchants and explorers but a crew of pirate orcs is definitely something more than a simple threat.   << YAHHR WAAAGH! Filthy runts, hand me da gubbinz AN prepare ta get wreckd!>>. Diplomacy has never been your strong suit. Still, results are results, and your all personal kind of diplomacy was both really rewarding and entertaining. Leading your mates over the waves, sailing on a miraculously-not-yet-sunken raft, that you proudly baptised <<Da Flyin Greenskin>> , swashbuckling hard and true, it looked all so natural and fun to you until one day you decide the pirates life was not for you, leaving your life as a pirate behind because of.."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("go_back",
      [],
      "Start_over",
      [
        (jump_to_menu, "mnu_start_game_0"),
      ]
      ),
    ],
  ),

  ("start_character_32", mnf_disable_all_keys,
    "{s11}^^ Then, as a young adult, life changed as it always does. You became...",
    "none",
    [
      (assign, reg3, "$character_gender"),
    ],
    [
      ("shaman",
      [],
      "A_Shaman.",
      [
        (assign, "$background_answer_32", 49),
        (str_store_string, s14, "@{reg3?daughter:man}"),
        (str_store_string, s12, "@When the tribe reunites under the liege of a single goblins rugged banner, strange forces develop from the twisted and obtuse ideas buzzing inside the thousands of hundreds green heads.\ Your task then was to harness <<da powa ov da zmall WAAAGH!>> and translate it into the will of the Twin Gods, Mork and Gork. And brew fungus beer, else no goblin would ever dare to fight without a bit of that powerful rage inducing drug. Your important role made you rise at the top of your tribes hierarchy, but from great powers come great explosion like the one that accidentally decimated your WAAAGH! right before a battle after you miscast a spell. Fleeing from what little remained alive of your ex subjects, you found safety in an hollow tree stump, where you hid for quite some time"),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("drug",
      [],
      "A_Drug_Addict.",
      [
        (assign, "$background_answer_32", 50),
        (str_store_string, s14, "@{reg3?daughter:man}"),
        (str_store_string, s13, "@{reg3?woman:man}"),
        (str_store_string, s12, "@You were in the service of a group of shamans and they specialised in making potions and balms made with all kinds^of experimental stimulants and hallucinogens. At first you did it for gold, then you did it for free and when your addiction for these colourful bottles^and vials reached it's paramount the shaman's managed to get you to pay for the privilege. They had many strange effects on you over the years and you^were only released from their grip when the shaman were killed in an explosion causes by one of their mixtures going out of control.^It was hell on the Old World trying to live without the drugs but you made it through in the end."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("doom",
      [],
      "A_Doom_Diver.",
      [
        (assign, "$background_answer_32", 51),
        (str_store_string, s14, "@{reg3?daughter:man}"),
        (str_store_string, s13, "@{reg3?woman:man}"),
        (str_store_string, s12, "@You offered your service to the greenskin flying corp and became one of the winged wonders of the Old World.^On the battlefield you were launched into the air with a catapult and were then supposed to kamikaze yourself into an enemy of distinction, killing you^both. You loved your job, souring high above the battlefield, seeing for miles and miles, you once yanked the beard of a gyrocopter pilot mid flight. The^only thing was that you never kept up your end of the bargain. You seemed to be made of such strong stuff that you always survived the dive, often with broken^bones and bruises but you always lived to fly another day."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("skulker",
      [],
      "A_Nasty_Skulker.",
      [
        (assign, "$background_answer_32", 52),
        (str_store_string, s12, "@Fast. Dodge a couple blunderbass shots. Leap over a dead goblin, <<stoopid git>> you tell to yourself while running. There is a dwarf running at you, his axe and armor shining at the light of the fires. A doom diver flies screaming over your head as you keep running. It splashes into the dwarfs chest. The way is clear, keep running. There is your objective, you see him, a white haired dwarf with some strange clothes.^ Is he wearing machinery? {Shiny! Me like dat kinda dorfz stuff}. He has not seen you yet. The dwarf engineer was so busy working over his artillery piece that all he saw was a screeching thing dressed in ragged cloth jumping at him. The last thing the doomed dwarf saw was the things crude knife about to cut his throat. Then he was no more."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("bandit",
      [],
      "A_Wolf_Rider.",
      [
        (assign, "$background_answer_32", 53),
        (str_store_string, s14, "@{reg3?daughter:man}"),
        (str_store_string, s13, "@{reg3?woman:man}"),
        (str_store_string, s12, "@The great steppes of the east, like the desertic Badlands, are the dwelling and hunting grounds of great goblin tribes, feared for their peculiar tradition of taming and riding wolves into battle. A true scourge to any caravaneer or adventurer brave enough to traverse those wild lands. But you never cared for the opinion of those you mercilessly slew, all you were always hungry for was riding fazt and all da precious loot you could gather after the fight.^ Always cheerful when the time for ambushing another unsuspecting caravan trail came nigh, always ready to sign their ends with green letters."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("git",
      [],
      "A_Kunnin_Git.",
      [
        (assign, "$background_answer_32", 54),
        (str_store_string, s14, "@{reg3?daughter:man}"),
        (str_store_string, s13, "@{reg3?woman:man}"),
        (str_store_string, s12, "@A goblin with something resembling an actual working brain? Impossible. Yet you exist. A truly amazing green snowflake. Tired of the simplicity of your fellows minds and the utter stupidity of that snotling they called boss, you used your advanced intelligence to plan your rise to power.^ It did not take you long to organize a wide-spread mutiny in your tribe, after you began throwing around voices like {Da boss iz a dorfs friend} or the most insulting {Me saw da boss kissin a squig}, and of course, when the fighting calmed down, you were crowned the hero of the rebellion and the new leader. Unfortunately, the higher you rise the harder you will fall, and you fell when a rival of yours released a pack of squigs inside your quarters. Fleeing for your life under your tribes eyes, you offered them a quite solid reason for your forced demotion."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("go_back",
      [],
      "Start_over",
      [
        (jump_to_menu, "mnu_start_game_0"),
      ]
      ),
    ],
  ),

  ("start_character_33", mnf_disable_all_keys,
    "{s11}^^ Then, as a young adult, life changed as it always does. You became...",
    "none",
    [
      (assign, reg3, "$character_gender"),
    ],
    [
      ("guildmaster",
      [],
      "A_Guildmaster.",
      [
        (assign, "$background_answer_33", 55),
        (str_store_string, s14, "@{reg3?daughter:man}"),
        (str_store_string, s12, "@Other nations loved to do trading with the High Elves due to the quality of their products and some of the fine resources which are to be^found on Ulthuan so a High Elf town is often full of foreign merchants looking to buy, sell and barter for their living. You worked as the guildmaster of Tor Achare for 4^years which was a very demanding job."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("bloodbowl",
      [],
      "A_Blood_Bowl_Player.",
      [
        (assign, "$background_answer_33", 56),
        (str_store_string, s14, "@{reg3?daughter:man}"),
        (str_store_string, s13, "@{reg3?woman:man}"),
        (str_store_string, s12, "@You always liked blood bowl and often watched it being played but you never thought you would end up playing for your local team but you^did after your pride was wounded by some Dwarven scouts who were investigating the High Elf teams. They said that speed and agility will never beat strength and brutality^and that the High Elf teams were destined for mediocrity. You took it upon yourself to train and lead your team to a trophy which you never managed to do but you did beat the^best Dwarven team in the league in their own ground which was a massive success and one up against the scouts."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("dungeon",
      [],
      "A_Dungeon_Adventurer.",
      [
        (assign, "$background_answer_33", 57),
        (str_store_string, s14, "@{reg3?daughter:man}"),
        (str_store_string, s13, "@{reg3?woman:man}"),
        (str_store_string, s12, "@Elves often say that the underground is meant for the Dwarves but you were always inspired by the stories you used to hear about famous groups of warriors^who go searching the dungeons of the world for treasures and mighty forgotten foes. You were surprised to learn how many Elves took part in these adventure parties as they are not spoken^about in your homelands. You decided to find and join a low key but brave adventure party near the Norselands to get a taste of what it was like."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("archer",
      [],
      "An_Archer.",
      [
        (assign, "$background_answer_33", 58),
        (str_store_string, s12, "@You joined the infamous ranks of the Elven archers who are mainstay of the Elven forces and rain deadly showers of arrows on their enemies. Although the unit you^joined is one of the lowest in the army it was still very hard to qualify as the standard demanded is so high and they are tested twice a week for clarity."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("breeder",
      [],
      "A_Horse_Trainer.",
      [
        (assign, "$background_answer_33", 59),
        (str_store_string, s14, "@{reg3?daughter:man}"),
        (str_store_string, s13, "@{reg3?woman:man}"),
        (str_store_string, s12, "@Elven horses are famous for the purity of their breed and even though the best Arabian horses can claim to be nearly as fast they are nowhere near as strong nor have the same^stamina at high speed as the horses which are bred on the fields of Ellyrion. You worked on as part of a horse training community in the fields making sure that the hundreds of horses you^bred for the army where of the absolute best quality and the best shape for war both to protect the rider and itself."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("boltthrower",
      [],
      "A_Bolt_Thrower_Crewmen.",
      [
        (assign, "$background_answer_33", 60),
        (str_store_string, s14, "@{reg3?daughter:man}"),
        (str_store_string, s13, "@{reg3?woman:man}"),
        (str_store_string, s12, "@The Elves are not big users of war machines but they do make good use of their repeater bolt throwers which can literally tear the^units of large beasts often found in opposing armies to pieces. You learnt the mechanics and physics of all the variations as well as the few high class siege equipment^in the army so that you can help your crew mates use them as quickly and efficiently as possible."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("go_back",
      [],
      "Start_over",
      [
        (jump_to_menu, "mnu_start_game_0"),
      ]
      ),
    ],
  ),

  ("start_character_34", mnf_disable_all_keys,
    "{s11}^^ Then, as a young adult, life changed as it always does. You became...",
    "none",
    [
      (assign, reg3, "$character_gender"),
    ],
    [
      ("torturer",
      [],
      "A_Torturer.",
      [
        (assign, "$background_answer_34", 61),
        (str_store_string, s14, "@{reg3?daughter:man}"),
        (str_store_string, s12, "@You spent 2 years studying the anatomy of all the races so you could learn the most brutal and most effective ways of torturing them.^Afterwards you were assigned to the towers of Hag Graef where you were tasked with torturing the more high profile prisoners or those with the most vital information."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("bloodbowl",
      [],
      "A_Blood_Bowl_Player.",
      [
        (assign, "$background_answer_34", 62),
        (str_store_string, s14, "@{reg3?daughter:man}"),
        (str_store_string, s13, "@{reg3?woman:man}"),
        (str_store_string, s12, "@You became interested in blood bowl at a time when Dark Elves teams were dominating all the major cup competitions. You practiced for^years and ended up being signed as a line elf in one of the best up and coming teams in Naggarond. You began on a high as you helped your team win the Orc Toof Cup^but as the honours stacked up by all the Dark Elf wins so did the pressure at home and you were eventually dropped in favour of a witch Elf. Any other time and you^would have been good enough but you happened to play at the time of a golden generation and your dream ended before it really began."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("navigator",
      [],
      "A_Navigator.",
      [
        (assign, "$background_answer_34", 63),
        (str_store_string, s14, "@{reg3?daughter:man}"),
        (str_store_string, s13, "@{reg3?woman:man}"),
        (str_store_string, s12, "@You did not have the talents to become a corsair but you wanted to be a part of their crew and share in their successes. You know how to handle a ship^and are an excellent navigator which is a vital skill for the corsairs as the distance from Naggaroth to their target areas are usually of extreme length.^You ended up being transferred to the ship of a Dark Elf lord who pulled rank for your talents and you spent 8 years in a relentless war with Chaos."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("herald",
      [],
      "A_Herald.",
      [
        (assign, "$background_answer_34", 64),
        (str_store_string, s12, "@You bought the finest dark steed you could find and worked as a herald for the army field marshall. You acted as a scout ahead of the army to track down^enemy hosts and before battle you were sent to parley with your opposite number and reject any plea for peace or terms of surrender that were presented to you. If any message needed to be sent between^allied armies or diplomatic figures of the other races then you were usually sent for."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("arena",
      [],
      "An_Arena_Master.",
      [
        (assign, "$background_answer_34", 65),
        (str_store_string, s14, "@{reg3?daughter:man}"),
        (str_store_string, s13, "@{reg3?woman:man}"),
        (str_store_string, s12, "@While you thrive in the thick of battle like all Dark Elves you also love organised fighting and competitive tournaments which often take place in the Old World.^You worked as an arena master where your day to day task was to organise and run the fighting school routine and make sure that all new combatents get the sternest test possible. Sometimes^a major tournament will be held in your town and you got to work alongside your lord in creating a prestigious and exciting tournament which will be remember for a long time."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("boltthrower",
      [],
      "A_Knight's_Apprentice.",
      [
        (assign, "$background_answer_34", 66),
        (str_store_string, s14, "@{reg3?daughter:man}"),
        (str_store_string, s13, "@{reg3?woman:man}"),
        (str_store_string, s12, "@You grew up with great admiration of the dread knights and your family was well born and connected so you managed to get assigned as an apprentice to^a prestigious dread knight. You followed him during campaigns making sure his every need was taken care of, that his weapons, armour and cold one were always in the best condition possible^and you learnt a great deal about how to be a successful rider and how to be just as tough as the cold one you are riding."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("go_back",
      [],
      "Start_over",
      [
        (jump_to_menu, "mnu_start_game_0"),
      ]
      ),
    ],
  ),

  ("start_character_35", mnf_disable_all_keys,
    "{s11}^^ Then, as a young adult, life changed as it always does. You became...",
    "none",
    [
      (assign, reg3, "$character_gender"),
    ],
    [
      ("bloodbowl",
      [],
      "A_Blood_Bowl_Player.",
      [
        (assign, "$background_answer_35", 67),
        (str_store_string, s14, "@{reg3?daughter:man}"),
        (str_store_string, s12, "@You earnt yourself a contract with the famous Dwarf giants as a blitzer playing on the inside right wing.^You loved the sheer brutality of the league and when a team is as slow as a Dwarven team you had to be as brutal as possible and create^a stone wall for your opponents to get past and make it as impenetrable as possible. You were praised for your bravery against opposing star^players and your skills in guard, tackle and mighty blow."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("tattoo",
      [],
      "A_Tattoo_Artist.",
      [
        (assign, "$background_answer_35", 68),
        (str_store_string, s14, "@{reg3?daughter:man}"),
        (str_store_string, s13, "@{reg3?woman:man}"),
        (str_store_string, s12, "@You trained as a tattoo artist specialising in slayer tattoos and specifically tattoos which make the slayer more tough and durable.^You knew that slayers are seeking death and want to be taken in an epic duel but after seeing how key the slayers are in Dwarf military victories you decided to^covertly help keep them alive."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("sniper",
      [],
      "A_Sniper.",
      [
        (assign, "$background_answer_35", 69),
        (str_store_string, s14, "@{reg3?daughter:man}"),
        (str_store_string, s13, "@{reg3?woman:man}"),
        (str_store_string, s12, "@Although some of your family frowned upon them you always admired the great thunderer units in the Dwarven army and aspired to be as skilled as they^are with a handgun when you were an adult. You trained yourself to be a keen eyed sniper with a small but well made gun you found in a barrel one day. You started off^using things such as tankards and rats and as targets but after a Lord saw you practicing he hired you to use hand picked live targets instead, discreetly and for a price of course."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("shieldsmith",
      [],
      "A_Shieldsmith.",
      [
        (assign, "$background_answer_35", 70),
        (str_store_string, s12, "@In the tight tunnels of the mountains even a small number of dwarves can make an impenetrable wall with a mixture of good defensive fighting^and strong shields. Shields are something of a Dwarven speciality and you worked in a shieldsmith making shields from reinforced wood to the finest cuts of bronze and gold."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("breeder",
      [],
      "An_Anvil_Guard.",
      [
        (assign, "$background_answer_35", 71),
        (str_store_string, s14, "@{reg3?daughter:man}"),
        (str_store_string, s13, "@{reg3?woman:man}"),
        (str_store_string, s12, "@You served as an anvil guard protecting a rune lord  You were meant to protect but in fact the magic of the anvil saved you from more incoming arrows^than times you saved the runelord from incoming units. You served your Lord faithfully and with honour and when he died of old age you were free to pursue a new direction."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("seneschal",
      [],
      "A_Seneschal.",
      [
        (assign, "$background_answer_35", 72),
        (str_store_string, s14, "@{reg3?daughter:man}"),
        (str_store_string, s13, "@{reg3?woman:man}"),
        (str_store_string, s12, "@You served your castles Lord for 4 years, making sure that his every wish is followed through and that everyone down the information^chain is up to speed and working towards the Lord's desires. You made a point of being a step ahead of all the political and military situations of the Dwarven^kingdom so you were never at a loss or stuck for an answer when your Lord enquired about a situation."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("go_back",
      [],
      "Start_over",
      [
        (jump_to_menu, "mnu_start_game_0"),
      ]
      ),
    ],
  ),

  ("start_character_36", mnf_disable_all_keys,
    "{s11}^^ Then, as you grew larger life changed as it always does. You became...",
    "none",
    [
      (assign, reg3, "$character_gender"),
    ],
    [
      ("poison",
      [],
      "A_Poison_Maker.",
      [
        (assign, "$background_answer_36", 73),
        (str_store_string, s14, "@{reg3?daughter:man}"),
        (str_store_string, s12, "@Clan Eshin as well as many lords you know love to cover their weapons in deadly poison before they head into battle and^if you know how to make the most potent poisons then it can be a very lucrative business. You stole the recipe for an extremely lethal poison from^a priest and passed it off as your own. Very soon your name was one of the first on the lips^of those who only liked to use the best which money could buy. You became very rich and you paid a top assassin to terminate the priest when he started speaking up."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("gunsmith",
      [],
      "A_Gunsmith.",
      [
        (assign, "$background_answer_36", 74),
        (str_store_string, s14, "@{reg3?daughter:man}"),
        (str_store_string, s13, "@{reg3?woman:man}"),
        (str_store_string, s12, "@The Skaven excel in making firearms, their technology is even more advanced than the Dwarves and they even manage to use the power^of the warpstone to make the weapon even more powerful. Their crown jewel of the massed produced guns is the Jezzail which has been known to pierce Imperial tanks^with a good shot. You spent your time making and testing them for clan Skyre."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("hench",
      [],
      "A_Henchrat.",
      [
        (assign, "$background_answer_36", 75),
        (str_store_string, s14, "@{reg3?daughter:man}"),
        (str_store_string, s13, "@{reg3?woman:man}"),
        (str_store_string, s12, "@Traditional skaven strategy on the battlefield is to throw as many rats forward as possible and sooner or later the enemy will be overwhelmed.^This is often successful but the casualties taken by the rank and file are enormous so the main army need as many recruits as possible but not all Skaven are willing to join the^army. You were part of a team assembled by the council to bully and browbeat clan rats into joining up, making their lives hell until they submitted and gave up whatever other^ambition they had."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("packmaster",
      [],
      "A_Packmaster.",
      [
        (assign, "$background_answer_36", 76),
        (str_store_string, s12, "@You were part of the ratogre breeding scheme which is a combination of twisted genetics and unimaginable suffering. Most tend to die before maturity but^the ones which survive are usually blood thirsty killers and completely reliant on you to direct them. You also bred and controlled giant rat swarms which were used more in dungeons and^the tunnelling system than on the battlefield."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("weapons",
      [],
      "A_Weapons_Specialist.",
      [
        (assign, "$background_answer_36", 77),
        (str_store_string, s14, "@{reg3?daughter:man}"),
        (str_store_string, s13, "@{reg3?woman:man}"),
        (str_store_string, s12, "@You were trained rigorously by a master of clan Eshin, specialising in the light and quick weapons which they favoured. Kill quick and move on^was the piece of advice that was pressed upon you time and time again. Of all the weapons your favourite to practice with was throwing stars, they are so unexpected yet so deadly.^You spent months learning to throw harder and more accurate until you could hold your own against the professional army recruits."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("seneschal",
      [],
      "A_Seneschal.",
      [
        (assign, "$background_answer_36", 78),
        (str_store_string, s14, "@{reg3?daughter:man}"),
        (str_store_string, s13, "@{reg3?woman:man}"),
        (str_store_string, s12, "@With treachery and betrayal rife in the Skaven underworld it was a tough proposition being a lord. Being in charge of thousands of^Skaven just meant their were thousands of vermin waiting to stab you in the back. You had to be ahead of the game in every way and that is why you were hired^as a sensechal. To hear every whisper, to see every trick and to make sure you miss nothing which could compromise the Lord's position. You knew the lord did not^trust you and you did not trust him but you did your job faithfully enough and did him no wrong, apart from pilfering as much money from his accounts as you could."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("go_back",
      [],
      "Start_over",
      [
        (jump_to_menu, "mnu_start_game_0"),
      ]
      ),
    ],
  ),

  ("start_character_47", mnf_disable_all_keys,
    "{s11}^^With life fading away forever and eternal undeath taking its place, you tasted the cursed cup of immortality. With your renewed strength you set out to become...",
    "none",
    [
      (assign, reg3, "$character_gender"),
    ],
    [
      ("lord",
      [],
      "A_Vampire_Lord.",
      [
        (assign, "$background_answer_47", 97),
        (str_store_string, s14, "@{reg3?daughter:man}"),
        (str_store_string, s12, "@With the passing of time, the ancient blood of Neferata, the first of all the vampires, visibly changed you. That aeons old curse flowing in your veins had turned your skin pale, your face in a contorted grin, your eyes into empty holes of nothingness. But together with these external changes came many new ambitions and dreams. Dreams of dominance, that slowly crept in your mind, as the ravenous lust for conquest overtook your almost vanished soul.^You knew you were going to leave your mark upon this world, but you still had to deal with your life, until one day you left it all behind because of...."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("blood",
      [],
      "A_Blood_Knight.",
      [
        (assign, "$background_answer_47", 98),
        (str_store_string, s14, "@{reg3?daughter:man}"),
        (str_store_string, s13, "@{reg3?woman:man}"),
        (str_store_string, s12, "@With the passing of time, the ancient blood of Neferata, the first of all the vampires, visibly changed you. That aeons old curse flowing in your veins had turned your skin pale, your face in a contorted grin, your eyes into empty holes of nothingness. What you have always known as a legend, a story to scare the children with during the stormy nights, revealed itself to be true. The Blood Knights, once an order of noble questing paladins turned into vampires by an unknown traitor, were real and were still alive. It was your own blood telling you this, knowing how fascinated you were by their myth. So, you swore to yourself you were going to become one of them one, but you still had to deal with your life, until one day you left it all behind because of...."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("squire",
      [],
      "A_Vampire's_Squire.",
      [
        (assign, "$background_answer_47", 99),
        (str_store_string, s14, "@{reg3?daughter:man}"),
        (str_store_string, s13, "@{reg3?woman:man}"),
        (str_store_string, s12, "@With the passing of time, the ancient blood of Neferata, the first of all the vampires, visibly changed you. That aeons old curse flowing in your veins had turned your skin pale, your face in a contorted grin, your eyes into empty holes of nothingness. You never left your master's side since he gave you the Blood Kiss. You grew more and more able in the vampire ways under his guidance, rewarding his protection and teachings with your servile obedience. That went on until your transformation was complete, and as a full grown vampire you left your lord's castle because of..."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("undead",
      [],
      "An_Undead_Master.",
      [
        (assign, "$background_answer_47", 100),
        (str_store_string, s12, "@With the passing of time, the ancient blood of Neferata, the first of all the vampires, visibly changed you. That aeons old curse flowing in your veins had turned your skin pale, your face in a contorted grin, your eyes into empty holes of nothingness. Soon you found out that your thirst for blood wasn't the only new instinct brought by the obscure ritual. The trespassing of the liminal concepts of life and death has awaken a deep lust for knowledge in your broken mind. But what you sought wasn't surely the common kind of notions, taught in schools or academies through all the Empire. You searched for the tools able to change the rules of existance: necromancy. So one day you set off on your road, ready to walk your path, because of..."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("pillager",
      [],
      "A_Pillager.",
      [
        (assign, "$background_answer_47", 101),
        (str_store_string, s14, "@{reg3?daughter:man}"),
        (str_store_string, s13, "@{reg3?woman:man}"),
        (str_store_string, s12, "@With the passing of time, the ancient blood of Neferata, the first of all the vampires, visibly changed you. That aeons old curse flowing in your veins had turned your skin pale, your face in a contorted grin, your eyes into empty holes of nothingness. But what is immortality if not a distinct sign of superiority over the rest of the pitiful mortals? With your soul shattered and every trace of pity or remorse wiped away by the black vampiric blood, you slowly adventured down the path of destruction and enslavement your self-appointed superior status demanded for. All was to be yours or be ready to face annihilation by your unholy hand, sworn to carry your bloody crusade across the whole world. Only you knew what first drove you away from your previous life..."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("mist",
      [],
      "A_Mist_Haunter.",
      [
        (assign, "$background_answer_47", 102),
        (str_store_string, s14, "@{reg3?daughter:man}"),
        (str_store_string, s13, "@{reg3?woman:man}"),
        (str_store_string, s12, "@With the passing of time, the ancient blood of Neferata, the first of all the vampires, visibly changed you. That aeons old curse flowing in your veins had turned your skin pale, your face in a contorted grin, your eyes into empty holes of nothingness. If dreadful visions and strange voices whispering to you were your companions of a lifetime, that strange happening has been the last straw that broke your already stumbling psyche. Too much, too much power had fallen into your hands and you've been crushed by it. You escaped reality to enter your personal demented dimension. You became a monster, a beast, a stalker always ready to fall upon his preys. Strange rumors rose about a creature haunting the outskirts of Sylvania, brutally murdering and eating those foolish enough to tread alone in those misty dead lands.^ But even the maddest knows that there are bigger things achievable when you are holding such a great power and time hasn't a meaning anymore. Your mind rationalised that change in your aims as...."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("go_back",
      [],
      "Start_over",
      [
        (jump_to_menu, "mnu_start_game_0"),
      ]
      ),
    ],
  ),

  ("start_character_50", mnf_disable_all_keys,
    "{s11}^^",
    "none",
    [
      (assign, reg3, "$character_gender"),
    ],
    [
      ("hoeth",
      [],
      "Hoeth,_Lord_of_Wisdom.",
      [
        (assign, "$background_answer_50", 103),
        (str_store_string, s14, "@{reg3?daughter:man}"),
        (str_store_string, s12, "@The seeker of knowledge, keeper of wisdom and magic. Your worship for him has always been quite natural, given your great interest for everything mysterious and new, which persisted even after you moved to Athel Loren, far away from his cults center: the White Tower of Hoeth. And so, you kept on studying the mystic ways of nature under his benevolent sight, until one day you felt the urge to leave, because of..."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("isha",
      [],
      "Isha,_the_Mother.",
      [
        (assign, "$background_answer_50", 104),
        (str_store_string, s14, "@{reg3?daughter:man}"),
        (str_store_string, s13, "@{reg3?woman:man}"),
        (str_store_string, s12, "@Mother of all elves, goddess of harvest and fertility, wife of Kurnous. Your faith in Isha got stronger since your arrival in the magic forest. Her presence became manifest to your eyes under the form of your queen Ariel, granting you the ultimate sign of her love for her sons and daughters. Many aspects of her divinity reflecting in your behaviours, as you always cared for your brothers and sisters and strived for their good. Your caring leader nature brought you to leave your place to bring the Mothers holy aid where needed, but the apparent reason was..."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("vaul",
      [],
      "Vaul,_the_Maker.",
      [
        (assign, "$background_answer_50", 105),
        (str_store_string, s14, "@{reg3?daughter:man}"),
        (str_store_string, s13, "@{reg3?woman:man}"),
        (str_store_string, s12, "@The divine blacksmith, the crippled forgemaster. Wood elves always worshipped Vaul as one of their major deities, specially in the realm of Torgovann, where you lived, as the ruler Lord Daith was believed to be the incarnation of the god himself. Your creativity and innate manual skills, honed by the teachings of the torgovanni blacksmiths, made you feel closer to Vaul himself to the point of hearing the gods voice every time the hammer fell on the iron. With the heat of the forge burning in your heart, one day you left your home, because of..."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("lileath",
      [],
      "Lileath,_the_Lady.",
      [
        (assign, "$background_answer_50", 106),
        (str_store_string, s12, "@Goddess of dreams, prophecy and fortune, she is mostly worshipped by bretonnians, who know her by the name of Lady of the Lake, but even in Athel Loren her worship is still present among those who came from Ulthuan, and you are the proof. Praying for her blessing to be given onto you for all your life, you received the gift of farsight, making your eyes capable of perfectly seeing through distance and time itself. With your new gift, you set out to become an adventurer because of..."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("loec",
      [],
      "Loec,_the_Shadow_Dancer.",
      [
        (assign, "$background_answer_50", 107),
        (str_store_string, s14, "@{reg3?daughter:man}"),
        (str_store_string, s13, "@{reg3?woman:man}"),
        (str_store_string, s12, "@The trickster, the laughing god of vengeance.  As one of the secretive worshippers of this ambiguous divinity, you spent your times lurking in the shadows, ready to fall upon the enemies who dared to threaten your home. Swifter than wind, your blade was always ready to taste the blood of your  victims in the macabre and majestic dance of death your moves created.  The forces of evil are relentless, though. So you had to part ways with your people to take on the twisted holy path of your god, justifying your improvise decision as being all because of..."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("anath",
      [],
      "Anath_Raema,_the_Savage_Hunter.",
      [
        (assign, "$background_answer_50", 108),
        (str_store_string, s14, "@{reg3?daughter:man}"),
        (str_store_string, s13, "@{reg3?woman:man}"),
        (str_store_string, s12, "@Dark goddess of brutal hunting and vengeance, sister of Khaela Mensha Khaine the Lord of Murder. As a divinity exiled from the pantheon of the elves allied with the forces of order, you had to keep worshipping her in a secret realm located deep in the darkest parts of the ancient forest. Her blessing granted you a savage thirst for stalking and killing your preys, a gift that you concealed to your family and friends, knowing that if they were ever to find you tainted by her dark rage, death was going to be the sentence on your head. So the lust for the hunt grew stronger and stronger into your soul, until one day you had to leave it all to follow your goddesses feral path. To whomever asked it, you said you left because of..."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("go_back",
      [],
      "Start_over",
      [
        (jump_to_menu, "mnu_start_game_0"),
      ]
      ),
    ],
  ),

  ("start_character_53", mnf_disable_all_keys,
    "{s11}^^",
    "none",
    [
      (assign, reg3, "$character_gender"),
    ],
    [
      ("infernal",
      [],
      "An_Infernal_Commander.",
      [
        (assign, "$background_answer_53", 109),
        (str_store_string, s14, "@{reg3?daughter:man}"),
        (str_store_string, s12, "@The travel surely changed you, though you are not sure if it has been for better or worse. As a matter of fact, you began to think about yourself as a too important individual to stay under other rulers, and so you fueled a rebellion. The bloodbath was great almost as the failure of such a daring act. When you were captured, the High Prophets decided for a punishment more fit for such a strong warrior as you: serving as an officer in the penitent Infernal Legion. Battle after battle, you served your time in the Legion and were readmitted into society, stripped of all your previous titles and honors. After living as a normal citizen for some time though, you decided to leave, because of..."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("daemonsmith",
      [],
      "A_Daemonsmith.",
      [
        (assign, "$background_answer_53", 110),
        (str_store_string, s14, "@{reg3?daughter:man}"),
        (str_store_string, s13, "@{reg3?woman:man}"),
        (str_store_string, s12, "@All the experiences accumulated during the long journey and your previous life in the Darklands finally gave their fruits, as you were finally allowed to carry the title of Daemonsmith. As one of the most influent persons in the new colonial empire of the Dawi Zharr, you ruled with an iron fist, willing to sacrifice everything to empower your craft and art and to please the Father of Darkness with every strike of your hammer. Although, many were the ones not pleased by your atrocious tyranny, so one night a band of warriors stormed your arcane forge as you were working in it, seeking to kill you. Yet, you managed to flee and keep living, after you changed your name. With time, most forgot about you, becoming nothing more than a tale, a tale that told how you left because of..."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("hashut",
      [],
      "A_Scolar_of_Hashut.",
      [
        (assign, "$background_answer_53", 111),
        (str_store_string, s14, "@{reg3?daughter:man}"),
        (str_store_string, s13, "@{reg3?woman:man}"),
        (str_store_string, s12, "@Through learning, devotion and placing the right bribes where it was needed, you finally managed to enter in the retinue of a Prophet of Hashut, one of the high lords of the Chaos Dwarfs, as one of his personal attendants. Arcane rituals, sacrifices, public games, you witnessed them all, leeching knowledge from the actions and practices of your master, and extrapolating precious lessons from the pains of others. You drank the malevolent essence of Hashut, the Father of Darkness, until it became a drug to you and made you wanting for more and more. So, you decided to leave the safety of the great obsidian temple city to find the forbidden knowledge that will turn you into the most powerful sorcerer of your race. To keep your true goals secret, you lied about your reasons to leave, saying that it was all because of..."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("forgemaster",
      [],
      "A_Forgemaster.",
      [
        (assign, "$background_answer_53", 112),
        (str_store_string, s12, "@Liquid fire and molten metal flow incessantly in the bowels of the great industrial furnaces of the black cities of the Chaos Dwarfs, as if that boiling incandescence alone kept them from crumbling and withering. After the settlement in the new lands, you found your new place in the society as one of the few knowledgeable enough to make the huge forges work and make them produce the dreaded artillery guns, armors and weapons of the Dawi Zharr armies. It was not long before your crafts became famous amongst the folks of your city, with many requesting to buy your master crafted creations. One day though, your fortune ended abruptly when another blacksmith started selling better gear than yours. So, after some time, you left your city because of..."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("pit_lord",
      [],
      "A_Pit_Lord.",
      [
        (assign, "$background_answer_53", 113),
        (str_store_string, s14, "@{reg3?daughter:man}"),
        (str_store_string, s13, "@{reg3?woman:man}"),
        (str_store_string, s12, "@The great temple cities of the Chaos Dwarfs are dark places of vice and horror, where the pleasure and relief is given by what most would address as abominable and heretical practices. One of those activities is of course attending to the many organized battles among the slaves. As a lord of the shallow prisons where the gladiator slaves dwell, the pits, your almost holy duty was to train and choose the most aggressive fighters among them, so they could put up a great show when slaughtering their unfortunate weaker fellows in the arena. Until one day, during one of the arena events, the impossible happened. One of your most famous champions got killed by one of the appointed victims. Demoted for your failure, you tried living as a normal citizen, until one day you decided to leave it all, because of..."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("roving",
      [],
      "A_Roving_Raider.",
      [
        (assign, "$background_answer_53", 114),
        (str_store_string, s14, "@{reg3?daughter:man}"),
        (str_store_string, s13, "@{reg3?woman:man}"),
        (str_store_string, s12, "@The arrival in the lands of Albion marked the end of the quest Hashut gave the Chaos Dwarfs, though not all of them were keen on settling and building a new empire there. You, for instance, saw the new lands as a new opportunity to satiate your greed. The hunt for greater fortunes and riches, the evil game of raiding and plundering villages and farms, the scent of iron emanated by the blood drenching the blade of your axe, this is all you wanted after the long and dangerous travel to reach these foreign lands. And so you set out with few others, and for years you became one of the most feared outlaws that roamed the coasts of Bretonnia. Your lucky streak of raids though found its end one day, when after landing with your small warband, you were ambushed by the soldiers of King Leoncoeur. Returning to your city, you stayed there for a while, but then you decided to leave because of..."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("go_back",
      [],
      "Start_over",
      [
        (jump_to_menu, "mnu_start_game_0"),
      ]
      ),
    ],
  ),

  ("start_character_38", mnf_disable_all_keys,
    "{s10}^^Which God do you worship?",
    "none",
    [
      (assign, reg3, "$character_gender"),
    ],
    [
      ("khorne",
      [],
      "Khorne.",
      [
        (assign, "$background_answer_38", 79),
        (str_store_string, s14, "@{reg3?daughter:man}"),
        (str_store_string, s11, "@Blood for the blood God. Your frenzied passion for slaughter is only equalled by your devotion to the most powerful God of them all, the God of hate and destruction."),
        (jump_to_menu, "mnu_start_character_39"),
      ]
      ),

      ("slaanesh",
      [],
      "Slaanesh.",
      [
        (assign, "$background_answer_38", 80),
        (str_store_string, s14, "@{reg3?daughter:man}"),
        (str_store_string, s13, "@{reg3?woman:man}"),
        (str_store_string, s11, "@Your vision of life is one of hedonism and excess. You share the pleasures of slaanesh and live a life of raping, pillaging and enslaving the human villages on the fringes of the Empire."),
        (jump_to_menu, "mnu_start_character_39"),
      ]
      ),

      ("hench",
      [],
      "Nurgle.",
      [
        (assign, "$background_answer_38", 81),
        (str_store_string, s14, "@{reg3?daughter:man}"),
        (str_store_string, s13, "@{reg3?woman:man}"),
        (str_store_string, s11, "@The Bretonnian court refers to the Beastman conquest of Estalia as 'The great disease' and as far as you are concerned this just means your race is succeeding in its mission to destroy the body and minds of mankind. You worship nurgle, the God of pestilence and corruption who feeds from the hopelessness of the weaker races. The beastman are a plague upon mankind and this plague will be their undoing."),
        (jump_to_menu, "mnu_start_character_39"),
      ]
      ),

      ("tzeentch",
      [],
      "Tzeentch",
      [
        (assign, "$background_answer_38", 82),
        (str_store_string, s11, "@Your whole life you have lived by the idea that if you want something you take it. I have a great ambition and belief that your destiny is to rise to the top of the herd and lead the great armies to ultimate victory over the lands of men, elves and dwarves. With your power and the power of your God tzeentch it is only a matter of time before the whole world falls into ruins before you."),
        (jump_to_menu, "mnu_start_character_39"),
      ]
      ),

      ("go_back",
      [],
      "Start_over",
      [
        (jump_to_menu, "mnu_start_game_0"),
      ]
      ),
    ],
  ),

  ("start_character_41", mnf_disable_all_keys,
    "{s10}^^What does your main diet consist of?",
    "none",
    [
      (assign, reg3, "$character_gender"),
    ],
    [
      ("stew",
      [],
      "Stew_and_potatoes.",
      [
        (assign, "$background_answer_41", 83),
        (str_store_string, s14, "@{reg3?daughter:man}"),
        (str_store_string, s12, "@A cooking pot is like an extension of yourself and your knowledge of herbs, spices and cooking techniques is unsurpassed on your street. You could make a stew out of anything but in truth you are a fussy eater and only want to eat the finest of ingredients."),
        (jump_to_menu, "mnu_start_character_42"),
      ]
      ),

      ("fish",
      [],
      "Fish_and_steam_vegetables.",
      [
        (assign, "$background_answer_41", 84),
        (str_store_string, s14, "@{reg3?daughter:man}"),
        (str_store_string, s13, "@{reg3?woman:man}"),
        (str_store_string, s12, "@Your mother always taught you the value of healthy food and it was a lesson which stuck with you as you grew up. You even learnt to catch your own fish and would often spend up to 12 hours perched by the pier hoping to catch a 4 footer."),
        (jump_to_menu, "mnu_start_character_42"),
      ]
      ),

      ("meat",
      [],
      "Red_meat_and_gravy.",
      [
        (assign, "$background_answer_41", 85),
        (str_store_string, s14, "@{reg3?daughter:man}"),
        (str_store_string, s13, "@{reg3?woman:man}"),
        (str_store_string, s12, "@The meatier, the juicier and the messier the better. Rarely did you come home from an evening out dining with a clean shirt but always with a bloated and satisfied belly."),
        (jump_to_menu, "mnu_start_character_42"),
      ]
      ),

      ("cheese",
      [],
      "Cheese_and_sausages",
      [
        (assign, "$background_answer_41", 86),
        (str_store_string, s12, "@You love to gorge all day long on cheese, pate, sausages, goose, Estalian luncheon meats, you loved it all and the more the merrier."),
        (jump_to_menu, "mnu_start_character_42"),
      ]
      ),

      ("beer",
      [],
      "Beer_and_wine",
      [
        (assign, "$background_answer_41", 87),
        (str_store_string, s12, "@You didn't have much time for the kitchen. You liked to spend your days drinking in all of the inns and taverns within the boundaries of the moot and even on occassion in the great Imperial drinking halls."),
        (jump_to_menu, "mnu_start_character_42"),
      ]
      ),

      ("go_back",
      [],
      "Start_over",
      [
        (jump_to_menu, "mnu_start_game_0"),
      ]
      ),
    ],
  ),

  ("start_character_42", mnf_disable_all_keys,
    "{s11}^^You spent your early life as?",
    "none",
    [
      (assign, reg3, "$character_gender"),
    ],
    [
      ("bard",
      [],
      "A_bard.",
      [
        (assign, "$background_answer_42", 85),
        (str_store_string, s14, "@{reg3?daughter:man}"),
        (str_store_string, s12, "@You have an exceptional voice and know hundreds of classic songs off by heart. You are a wanted man across all the drinking establishments of the moot and you even get hired by the Imperial elite to sing at weddings and funerals."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("hound",
      [],
      "A_hound_trainer.",
      [
        (assign, "$background_answer_42", 86),
        (str_store_string, s14, "@{reg3?daughter:man}"),
        (str_store_string, s13, "@{reg3?woman:man}"),
        (str_store_string, s12, "@Hounds are great friends of halflings and make fantastic steeds. They are steadier platforms for horse archery than rams and better at dodging out of the way of incoming infantry. You trained them how to perform in battle and how to remain fearless in the face of the many horrors which the halflings can face from the Sylvanian territories."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("fletcher",
      [],
      "A_fletcher.",
      [
        (assign, "$background_answer_42", 87),
        (str_store_string, s14, "@{reg3?daughter:man}"),
        (str_store_string, s13, "@{reg3?woman:man}"),
        (str_store_string, s12, "@The renowned archers of the halfling army require an enormous amount of equipment and ammunition both for training and for the wars in which they are hired to fight. You worked in a team of 30 in the largest fletcher outside of the forest of Loren."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("cook",
      [],
      "A_cook",
      [
        (assign, "$background_answer_42", 88),
        (str_store_string, s12, "@You worked in an extremely high pressure environment under the rudest and most impatient heade chef in the moot. He would bellow red faced commands and scream and shout if any dish was less than perfect or over a second late to the table. You worked yourself to the bone and cheered in delight when your time in the kitchen was finally over."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("militia",
      [],
      "A_member_of_the_militia.",
      [
        (assign, "$background_answer_42", 89),
        (str_store_string, s14, "@{reg3?daughter:man}"),
        (str_store_string, s13, "@{reg3?woman:man}"),
        (str_store_string, s12, "@The night goblin raids have increased within the mootlands to an almost intolerable level. No one could ignore it however much they wanted to so you did what any brave halfling would do and signed up for 2 years in the militia protecting the southern mootland."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("scout",
      [],
      "A_scout",
      [
        (assign, "$background_answer_42", 90),
        (str_store_string, s12, "@Vampires to the north, orcs to the east, goblins to the south and highwaymen to the east. There is so much potential danger out there and if the halflings were to defend themselves efficiently then they had to be fast and organised. You were a scout for the militia and rode your hound around the outskirts of halfling territory. If you saw any signs of danger you raced to one of the linked alarm points so that the militia and rangers can help defend the locals from the intruders."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("go_back",
      [],
      "Start_over",
      [
        (jump_to_menu, "mnu_start_game_0"),
      ]
      ),
    ],
  ),

  ("start_character_39", mnf_disable_all_keys,
    "{s11}^^What are you best known for?",
    "none",
    [
      (assign, reg3, "$character_gender"),
    ],
    [
      ("drinking",
      [],
      "Drinking_the_blood_of_an_entire_Empire_patrol.",
      [
        (assign, "$background_answer_39", 79),
        (str_store_string, s14, "@{reg3?daughter:man}"),
        (str_store_string, s12, "@Your raiding party was ambushed by a patrol near the Empire/Bretonnia border but the tide of battle turned very quickly and soon the entire regiment was killed. So enraged by the attack you drunk every body dry of blood and hung their bodies on trees for all to see."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("runefang",
      [],
      "Taking_a_runefang_to_the_chest_and_surviving.",
      [
        (assign, "$background_answer_39", 80),
        (str_store_string, s14, "@{reg3?daughter:man}"),
        (str_store_string, s13, "@{reg3?woman:man}"),
        (str_store_string, s12, "@When you were young and first went out with the herd you were inexperienced and often got lost on the battlefield, especially in sieges. In one siege you fell backwards off of the ladder onto the battlement and when you steadied yourself an elector count stuck a runefang straight through your chest until it burst straight out of your back. When he withdrew it you fell off of the battlement and hit the field below. Your poor attempt at storming the castle was quickly forgotten as you stood back up and retired to the back line despite suffering an attack that would have slew a minotaur. This gained you credibility and an offer of training in the marshall's army."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("murder",
      [],
      "Murdering_a_Bretonnian_princess.",
      [
        (assign, "$background_answer_39", 81),
        (str_store_string, s14, "@{reg3?daughter:man}"),
        (str_store_string, s13, "@{reg3?woman:man}"),
        (str_store_string, s12, "@You were raiding an area just south of the river Brienne when you came across a Bretonnian princess in a private carriage. Her guard were taken out by a group of spear throwers and then you knocked over the carriage, dragged her out by her hair and smashed her head on a rock 12 times. You left her blood stained body on top of the rock and fled before the onrushing unit of questing knights could catch you. They screamed their cries of vengeance but could not stop you retreating to deep forest."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("flatulence",
      [],
      "Pestilent_flatulence",
      [
        (assign, "$background_answer_39", 82),
        (str_store_string, s12, "@Your flatulence is so strong that any tree or plant which is touched by your putrid gas will wither and die within a day. Many pestigors believe it is because you are favoured by nurgle and very quickly they started to follow you around as their leader. You used this power to your advantage to move higher and higher up the hierachy until the High Elves annihilated your army in a bloody coastal battle. Only 6 of you survived that day and the Elves have held the beach ever since."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("headbutt",
      [],
      "Undefeated_headbutt_champion.",
      [
        (assign, "$background_answer_39", 83),
        (str_store_string, s14, "@{reg3?daughter:man}"),
        (str_store_string, s13, "@{reg3?woman:man}"),
        (str_store_string, s12, "@The beastmen will often perform shows of strength and power by engaging in headbutt and horn locking contests. They don't hold the same reputation as the fights to the death which frequently occur in the herd but you have never lost a contest and it has given you some status within the ranks."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("razorgor",
      [],
      "Taming_razorgors",
      [
        (assign, "$background_answer_39", 84),
        (str_store_string, s12, "@Even though the magic of the bray shaman has made razorgors more susceptible to lone riders they are still a dangerous beast to tame, even for the mighty beastmen. It takes tactics as well as strength and it came to you as second nature and before long you were hired by a beastlord to tame enough razorgors for 3 battalions of thunderhoofs."),
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),

      ("go_back",
      [],
      "Start_over",
      [
        (jump_to_menu, "mnu_start_game_0"),
      ]
      ),
    ],
  ),

  ("start_character_4", mnf_disable_all_keys,
    "{s12}^^But soon everything changed and you decided to strike out on your own as an adventurer. What made you take this decision was...",
    "none",
    [],
    [
      ("revenge",
      [],
      "Personal_Revenge.",
      [
        (assign, "$background_answer_4", 1),
        (str_store_string, s13, "@Only you know exactly what caused you to give up your old life and become an adventurer.^Still, it was not a difficult choice to leave, with the rage burning brightly in your heart.^You want vengeance. You want justice. What was done to you cannot be undone,^and these debts can only be paid in blood..."),
        (jump_to_menu, "mnu_choose_skill"),
      ]
      ),

      ("death",
      [],
      "The_Loss_Of_A_Loved_One.",
      [
        (assign, "$background_answer_4", 2),
        (str_store_string, s13, "@Only you know exactly what caused you to give up your old life and become an adventurer.^All you can say is that you couldn't bear to stay, not with the memories of those you loved so close and so painful.^ Perhaps your new life will let you forget, or honour the name that you can no longer bear to speak..."),
        (jump_to_menu, "mnu_choose_skill"),
      ]
      ),

      ("wanderlust",
      [],
      "Wanderlust.",
      [
        (assign, "$background_answer_4", 3),
        (str_store_string, s13, "@Only you know exactly what caused you to give up your old life and become an adventurer.^You're not even sure when your home became a prison, when the familiar became mundane, but your dreams of^wandering have taken over your life. Whether you yearn for some faraway place or merely for the open road and the^freedom to travel, you could no longer bear to stay in the same place. You simply went and never looked back..."),
        (jump_to_menu, "mnu_choose_skill"),
      ]
      ),

      ("fervor",
      [],
      "A_Prophecy.",
      [
        (assign, "$background_answer_4", 4),
        (str_store_string, s13, "@Only you know exactly what caused you to give up your old life and become an adventurer.^It was so unlike you, what changed? Are you going crazy? have you lost your ability to reason? Or maybe, just maybe the old man was right, and your destiny^was to go down in history as one of the greatest leaders of the age. You never listened to men like this before but something captured you and you felt^compelled to change your life direction. Only time will tell if it was for nothing."),
        (jump_to_menu, "mnu_choose_skill"),
      ]
      ),

      ("disown",
      [],
      "Being_Forced_Out_Of_Your_Home.",
      [
        (assign, "$background_answer_4", 5),
        (str_store_string, s13, "@Only you know exactly what caused you to give up your old life and become an adventurer.^However, you know you cannot go back. There's nothing to go back to. Whatever home you may have had is gone^now, and you must face the fact that you're out in the wide wide world. Alone to sink or swim..."),
        (jump_to_menu, "mnu_choose_skill"),
      ]
      ),

      ("greed",
      [],
      "Lust_For_Money_and_Power.",
      [
        (assign, "$background_answer_4", 6),
        (str_store_string, s13, "@Only you know exactly what caused you to give up your old life and become an adventurer.^To everyone else, it's clear that you're now motivated solely by personal gain.^You want to be rich, powerful, respected, feared.^You want to be the one whom others hurry to obey.^You want people to know your name, and tremble whenever it is spoken.^You want everything, and you won't let anyone stop you from having it..."),
        (jump_to_menu, "mnu_choose_skill"),
      ]
      ),

      ("oath",
      [],
      "A_Blood_Oath.",
      [
        (assign, "$background_answer_4", 7),
        (str_store_string, s13, "@Only you know exactly what caused you to give up your old life and become an adventurer.^You never thought you would be a bold and aggressive leader but the murder of your brother on your doorstep, killed a drunken noble for being from an insignificant family, changed your life forever.^As he lie in your arms he made you swear to make something of the family name, so that everyone will know your name and fear. You swore a blood oath and rode hard and fast for the Old World."),
        (jump_to_menu, "mnu_choose_skill"),
      ]
      ),

      ("go_back",
      [],
      "Start_over",
      [
        (jump_to_menu, "mnu_start_game_0"),
      ]
      ),
    ],
  ),

  ("choose_skill", mnf_disable_all_keys,
    "{s13}",
    "none",
    [
      (assign, "$current_string_reg", 10),
      (assign, ":var0", 0),
      (try_begin),
        (eq, "$character_gender", 1),
        (str_store_string, s14, "str_woman"),
        (val_add, ":var0", 1),
      (else_try),
        (str_store_string, s14, "str_man"),
      (try_end),
      (try_begin),
        (eq, "$background_type", 1),
        (str_store_string, s15, "str_noble"),
        (val_sub, ":var0", 1),
      (else_try),
        (str_store_string, s15, "str_common"),
      (try_end),
      (try_begin),
        (eq, ":var0", -1),
        (str_store_string, s16, "str_may_find_that_you_are_able_to_take_your_place_among_calradias_great_lords_relatively_quickly"),
      (else_try),
        (eq, ":var0", 0),
        (str_store_string, s16, "str_may_face_some_difficulties_establishing_yourself_as_an_equal_among_calradias_great_lords"),
      (else_try),
        (eq, ":var0", 1),
        (str_store_string, s16, "str_may_face_great_difficulties_establishing_yourself_as_an_equal_among_calradias_great_lords"),
      (try_end),
    ],
    [
      ("begin_adventuring",
      [],
      "Become_an_adventurer_and_ride_to_your_destiny.",
      [
        (set_show_messages, 0),
        (try_begin),
          (eq, "$character_gender", 0),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_attribute, "trp_player", ca_charisma, 1),
        (else_try),
          (troop_raise_attribute, "trp_player", ca_agility, 1),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
        (try_end),
        (troop_raise_attribute, "trp_player", ca_strength, 1),
        (troop_raise_attribute, "trp_player", ca_agility, 1),
        (troop_raise_attribute, "trp_player", ca_charisma, 1),
        (try_begin),
          (eq, "$background_type", 2),
          (troop_raise_attribute, "trp_player", ca_intelligence, 2),
          (troop_raise_attribute, "trp_player", ca_charisma, 1),
          (troop_raise_skill, "trp_player", "skl_trade", 1),
          (troop_raise_skill, "trp_player", "skl_engineer", 2),
          (troop_raise_skill, "trp_player", "skl_tactics", 1),
          (troop_raise_skill, "trp_player", "skl_leadership", 1),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 10),
          (troop_raise_proficiency, "trp_player", wpt_two_handed_weapon, 10),
          (troop_raise_proficiency, "trp_player", wpt_firearm, 10),
          (troop_add_gold, "trp_player", 50),
          (troop_add_item, "trp_player", "itm_tab_shield_heater_a", 1),
        (else_try),
          (eq, "$background_type", 3),
          (troop_raise_attribute, "trp_player", ca_agility, 1),
          (troop_raise_attribute, "trp_player", ca_charisma, 2),
          (troop_raise_skill, "trp_player", "skl_weapon_master", 1),
          (troop_raise_skill, "trp_player", "skl_riding", 2),
          (troop_raise_skill, "trp_player", "skl_shield", 1),
          (troop_raise_skill, "trp_player", "skl_leadership", 1),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 10),
          (troop_raise_proficiency, "trp_player", wpt_polearm, 20),
          (troop_add_gold, "trp_player", 20),
          (troop_add_item, "trp_player", "itm_tab_shield_heater_a", 1),
        (else_try),
          (eq, "$background_type", 4),
          (troop_raise_attribute, "trp_player", ca_intelligence, 2),
          (troop_raise_attribute, "trp_player", ca_agility, 1),
          (troop_raise_skill, "trp_player", "skl_riding", 1),
          (troop_raise_skill, "trp_player", "skl_power_draw", 1),
          (troop_raise_skill, "trp_player", "skl_trade", 1),
          (troop_raise_skill, "trp_player", "skl_inventory_management", 1),
          (troop_raise_skill, "trp_player", "skl_weapon_master", 1),
          (troop_raise_proficiency, "trp_player", wpt_two_handed_weapon, 10),
          (troop_raise_proficiency, "trp_player", wpt_archery, 10),
          (troop_add_gold, "trp_player", 100),
          (troop_add_item, "trp_player", "itm_turban", 1),
        (else_try),
          (eq, "$background_type", 67),
          (troop_raise_attribute, "trp_player", ca_strength, 2),
          (troop_raise_attribute, "trp_player", ca_agility, 1),
          (troop_raise_skill, "trp_player", "skl_riding", 1),
          (troop_raise_skill, "trp_player", "skl_pathfinding", 1),
          (troop_raise_skill, "trp_player", "skl_constitution", 2),
          (troop_raise_skill, "trp_player", "skl_ironflesh", 1),
          (troop_raise_proficiency, "trp_player", wpt_two_handed_weapon, 10),
          (troop_raise_proficiency, "trp_player", wpt_archery, 10),
          (troop_add_gold, "trp_player", 50),
          (troop_add_item, "trp_player", "itm_fur_coat", 1),
        (else_try),
          (eq, "$background_type", 5),
          (troop_raise_attribute, "trp_player", ca_agility, 2),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_skill, "trp_player", "skl_trainer", 1),
          (troop_raise_skill, "trp_player", "skl_power_strike", 1),
          (troop_raise_skill, "trp_player", "skl_weapon_master", 2),
          (troop_raise_skill, "trp_player", "skl_athletics", 1),
          (troop_raise_proficiency, "trp_player", wpt_two_handed_weapon, 30),
          (troop_add_item, "trp_player", "itm_nippon_hat", 1),
          (troop_add_gold, "trp_player", 80),
        (else_try),
          (eq, "$background_type", 6),
          (troop_raise_attribute, "trp_player", ca_charisma, 2),
          (troop_raise_attribute, "trp_player", ca_agility, 1),
          (troop_raise_skill, "trp_player", "skl_looting", 2),
          (troop_raise_skill, "trp_player", "skl_pathfinding", 1),
          (troop_raise_skill, "trp_player", "skl_spotting", 1),
          (troop_raise_skill, "trp_player", "skl_trade", 1),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 10),
          (troop_raise_proficiency, "trp_player", wpt_firearm, 30),
          (troop_add_item, "trp_player", "itm_bandana1", 1),
          (troop_add_gold, "trp_player", 200),
        (try_end),
        (try_begin),
          (eq, "$background_type", 7),
          (troop_raise_attribute, "trp_player", ca_strength, 2),
          (troop_raise_attribute, "trp_player", ca_agility, 1),
          (troop_raise_skill, "trp_player", "skl_power_strike", 1),
          (troop_raise_skill, "trp_player", "skl_athletics", 2),
          (troop_raise_skill, "trp_player", "skl_shield", 2),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 30),
          (troop_add_gold, "trp_player", 50),
          (troop_add_item, "trp_player", "itm_chaoswarrior_gloves", 1),
        (else_try),
          (eq, "$background_type", 8),
          (troop_raise_attribute, "trp_player", ca_agility, 2),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_skill, "trp_player", "skl_weapon_master", 1),
          (troop_raise_skill, "trp_player", "skl_riding", 2),
          (troop_raise_skill, "trp_player", "skl_engineer", 1),
          (troop_raise_skill, "trp_player", "skl_pathfinding", 1),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 10),
          (troop_raise_proficiency, "trp_player", wpt_polearm, 20),
          (troop_add_item, "trp_player", "itm_marauder_horse_white", 1),
          (troop_add_gold, "trp_player", 75),
        (else_try),
          (eq, "$background_type", 9),
          (troop_raise_attribute, "trp_player", ca_agility, 2),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_skill, "trp_player", "skl_athletics", 3),
          (troop_raise_skill, "trp_player", "skl_power_strike", 1),
          (troop_raise_skill, "trp_player", "skl_weapon_master", 1),
          (troop_raise_proficiency, "trp_player", wpt_two_handed_weapon, 30),
          (troop_add_gold, "trp_player", 10),
          (troop_add_item, "trp_player", "itm_marauder_axe2", 1),
        (else_try),
          (eq, "$background_type", 10),
          (troop_raise_attribute, "trp_player", ca_strength, 2),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_skill, "trp_player", "skl_inventory_management", 1),
          (troop_raise_skill, "trp_player", "skl_power_strike", 2),
          (troop_raise_skill, "trp_player", "skl_trade", 2),
          (troop_raise_skill, "trp_player", "skl_constitution", 1),
          (troop_raise_proficiency, "trp_player", wpt_two_handed_weapon, 30),
          (troop_add_gold, "trp_player", 80),
          (troop_add_item, "trp_player", "itm_long_axe", 1),
        (else_try),
          (eq, "$background_type", 11),
          (troop_raise_attribute, "trp_player", ca_strength, 2),
          (troop_raise_attribute, "trp_player", ca_agility, 1),
          (troop_raise_skill, "trp_player", "skl_pathfinding", 1),
          (troop_raise_skill, "trp_player", "skl_power_strike", 1),
          (troop_raise_skill, "trp_player", "skl_looting", 2),
          (troop_raise_skill, "trp_player", "skl_athletics", 1),
          (troop_raise_proficiency, "trp_player", wpt_two_handed_weapon, 30),
          (troop_add_gold, "trp_player", 80),
          (troop_add_item, "trp_player", "itm_marauder_shield1", 1),
        (else_try),
          (eq, "$background_type", 12),
          (troop_raise_attribute, "trp_player", ca_charisma, 2),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_skill, "trp_player", "skl_leadership", 2),
          (troop_raise_skill, "trp_player", "skl_prisoner_management", 1),
          (troop_raise_skill, "trp_player", "skl_riding", 1),
          (troop_raise_skill, "trp_player", "skl_tactics", 1),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 10),
          (troop_raise_proficiency, "trp_player", wpt_firearm, 30),
          (troop_get_slot, ":var0", "trp_player", 7),
          (val_add, ":var0", 50),
          (troop_set_slot, "trp_player", 7, ":var0"),
          (troop_add_gold, "trp_player", 100),
        (try_end),
        (try_begin),
          (eq, "$background_type", 13),
          (troop_raise_attribute, "trp_player", ca_strength, 2),
          (troop_raise_attribute, "trp_player", ca_agility, 1),
          (troop_raise_skill, "trp_player", "skl_weapon_master", 1),
          (troop_raise_skill, "trp_player", "skl_power_strike", 1),
          (troop_raise_skill, "trp_player", "skl_shield", 2),
          (troop_raise_skill, "trp_player", "skl_ironflesh", 1),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 30),
          (troop_add_item, "trp_player", "itm_saurus_spike_shield", 1),
          (troop_add_gold, "trp_player", 30),
        (else_try),
          (eq, "$background_type", 14),
          (troop_raise_attribute, "trp_player", ca_charisma, 1),
          (troop_raise_attribute, "trp_player", ca_intelligence, 2),
          (troop_raise_skill, "trp_player", "skl_tactics", 2),
          (troop_raise_skill, "trp_player", "skl_spotting", 1),
          (troop_raise_skill, "trp_player", "skl_trainer", 1),
          (troop_raise_skill, "trp_player", "skl_leadership", 1),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 10),
          (troop_add_item, "trp_player", "itm_oil", 1),
          (troop_add_gold, "trp_player", 30),
        (else_try),
          (eq, "$background_type", 15),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_attribute, "trp_player", ca_charisma, 2),
          (troop_raise_skill, "trp_player", "skl_tactics", 1),
          (troop_raise_skill, "trp_player", "skl_leadership", 2),
          (troop_raise_skill, "trp_player", "skl_trainer", 1),
          (troop_raise_skill, "trp_player", "skl_ironflesh", 1),
          (troop_raise_proficiency, "trp_player", wpt_two_handed_weapon, 40),
          (troop_raise_proficiency, "trp_player", wpt_throwing, 30),
          (troop_add_gold, "trp_player", 250),
          (troop_get_slot, ":var0", "trp_player", 7),
          (val_add, ":var0", 50),
          (troop_set_slot, "trp_player", 7, ":var0"),
        (else_try),
          (eq, "$background_type", 16),
          (troop_raise_attribute, "trp_player", ca_agility, 2),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_skill, "trp_player", "skl_shield", 1),
          (troop_raise_skill, "trp_player", "skl_riding", 2),
          (troop_raise_skill, "trp_player", "skl_athletics", 1),
          (troop_raise_skill, "trp_player", "skl_weapon_master", 1),
          (troop_raise_proficiency, "trp_player", wpt_polearm, 30),
          (troop_add_item, "trp_player", "itm_saurus_spear", 1),
          (troop_add_gold, "trp_player", 40),
        (else_try),
          (eq, "$background_type", 17),
          (troop_raise_attribute, "trp_player", ca_intelligence, 2),
          (troop_raise_attribute, "trp_player", ca_charisma, 1),
          (troop_raise_skill, "trp_player", "skl_inventory_management", 1),
          (troop_raise_skill, "trp_player", "skl_trade", 1),
          (troop_raise_skill, "trp_player", "skl_engineer", 2),
          (troop_raise_skill, "trp_player", "skl_persuasion", 1),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 10),
          (troop_add_item, "trp_player", "itm_pottery", 1),
          (troop_add_gold, "trp_player", 70),
        (else_try),
          (eq, "$background_type", 18),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_attribute, "trp_player", ca_intelligence, 2),
          (troop_raise_skill, "trp_player", "skl_tactics", 1),
          (troop_raise_skill, "trp_player", "skl_trainer", 2),
          (troop_raise_skill, "trp_player", "skl_prisoner_management", 1),
          (troop_raise_skill, "trp_player", "skl_persuasion", 1),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 10),
          (troop_add_gold, "trp_player", 30),
          (troop_add_item, "trp_player", "itm_saurus_spear", 1),
        (try_end),
        (try_begin),
          (eq, "$background_type", 19),
          (troop_raise_attribute, "trp_player", ca_strength, 3),
          (troop_raise_skill, "trp_player", "skl_weapon_master", 2),
          (troop_raise_skill, "trp_player", "skl_power_strike", 2),
          (troop_raise_skill, "trp_player", "skl_ironflesh", 1),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 90),
          (troop_add_item, "trp_player", "itm_orcaxe1", 1),
          (troop_add_gold, "trp_player", 50),
        (else_try),
          (eq, "$background_type", 20),
          (troop_raise_attribute, "trp_player", ca_strength, 2),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_skill, "trp_player", "skl_engineer", 1),
          (troop_raise_skill, "trp_player", "skl_power_strike", 1),
          (troop_raise_skill, "trp_player", "skl_ironflesh", 1),
          (troop_raise_skill, "trp_player", "skl_weapon_master", 1),
          (troop_raise_proficiency, "trp_player", wpt_polearm, 10),
          (troop_add_item, "trp_player", "itm_tools", 1),
          (troop_add_gold, "trp_player", 30),
        (else_try),
          (eq, "$background_type", 21),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_attribute, "trp_player", ca_agility, 2),
          (troop_raise_skill, "trp_player", "skl_power_strike", 1),
          (troop_raise_skill, "trp_player", "skl_tracking", 1),
          (troop_raise_skill, "trp_player", "skl_riding", 2),
          (troop_raise_skill, "trp_player", "skl_athletics", 1),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 10),
          (troop_add_item, "trp_player", "itm_orcclub_1", 1),
          (troop_add_gold, "trp_player", 30),
        (else_try),
          (eq, "$background_type", 22),
          (troop_raise_attribute, "trp_player", ca_agility, 2),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_skill, "trp_player", "skl_power_draw", 1),
          (troop_raise_skill, "trp_player", "skl_power_strike", 1),
          (troop_raise_skill, "trp_player", "skl_tracking", 1),
          (troop_raise_skill, "trp_player", "skl_spotting", 2),
          (troop_raise_proficiency, "trp_player", wpt_two_handed_weapon, 5),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 5),
          (troop_add_item, "trp_player", "itm_orc_boots2", 1),
          (troop_add_gold, "trp_player", 50),
        (else_try),
          (eq, "$background_type", 23),
          (troop_raise_attribute, "trp_player", ca_agility, 3),
          (troop_raise_skill, "trp_player", "skl_power_strike", 1),
          (troop_raise_skill, "trp_player", "skl_riding", 2),
          (troop_raise_skill, "trp_player", "skl_power_throw", 1),
          (troop_raise_skill, "trp_player", "skl_pathfinding", 1),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 10),
          (troop_add_item, "trp_player", "itm_boar"),
          (troop_add_gold, "trp_player", 50),
        (else_try),
          (eq, "$background_type", 24),
          (troop_raise_attribute, "trp_player", ca_strength, 2),
          (troop_raise_attribute, "trp_player", ca_agility, 1),
          (troop_raise_skill, "trp_player", "skl_ironflesh", 3),
          (troop_raise_skill, "trp_player", "skl_power_strike", 1),
          (troop_raise_skill, "trp_player", "skl_shield", 1),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 10),
          (troop_add_item, "trp_player", "itm_orc_boots2", 1),
          (troop_add_gold, "trp_player", 20),
        (try_end),
        (try_begin),
          (eq, "$background_type", 25),
          (troop_raise_attribute, "trp_player", ca_agility, 2),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_skill, "trp_player", "skl_trainer", 1),
          (troop_raise_skill, "trp_player", "skl_weapon_master", 1),
          (troop_raise_skill, "trp_player", "skl_athletics", 2),
          (troop_raise_skill, "trp_player", "skl_ironflesh", 1),
          (troop_raise_proficiency, "trp_player", wpt_throwing, 90),
          (troop_add_gold, "trp_player", 50),
          (troop_add_item, "trp_player", "itm_shortened_spear", 1),
        (else_try),
          (eq, "$background_type", 26),
          (troop_raise_attribute, "trp_player", ca_strength, 2),
          (troop_raise_attribute, "trp_player", ca_agility, 1),
          (troop_raise_skill, "trp_player", "skl_ironflesh", 2),
          (troop_raise_skill, "trp_player", "skl_power_strike", 2),
          (troop_raise_skill, "trp_player", "skl_athletics", 1),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 40),
          (troop_add_gold, "trp_player", 20),
          (troop_add_item, "trp_player", "itm_goblin_rawhide_coat"),
        (else_try),
          (eq, "$background_type", 27),
          (troop_raise_attribute, "trp_player", ca_agility, 2),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_skill, "trp_player", "skl_power_draw", 1),
          (troop_raise_skill, "trp_player", "skl_riding", 2),
          (troop_raise_skill, "trp_player", "skl_power_throw", 1),
          (troop_raise_skill, "trp_player", "skl_athletics", 1),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 10),
          (troop_add_gold, "trp_player", 40),
          (troop_add_item, "trp_player", "itm_wolf"),
        (else_try),
          (eq, "$background_type", 28),
          (troop_raise_attribute, "trp_player", ca_agility, 1),
          (troop_raise_attribute, "trp_player", ca_charisma, 1),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_skill, "trp_player", "skl_athletics", 1),
          (troop_raise_skill, "trp_player", "skl_riding", 1),
          (troop_raise_skill, "trp_player", "skl_athletics", 1),
          (troop_raise_skill, "trp_player", "skl_power_draw", 1),
          (troop_raise_skill, "trp_player", "skl_power_strike", 1),
          (troop_raise_proficiency, "trp_player", wpt_two_handed_weapon, 70),
          (troop_add_gold, "trp_player", 10),
          (troop_add_item, "trp_player", "itm_salt", 1),
        (else_try),
          (eq, "$background_type", 29),
          (troop_raise_attribute, "trp_player", ca_strength, 2),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_skill, "trp_player", "skl_riding", 2),
          (troop_raise_skill, "trp_player", "skl_power_strike", 2),
          (troop_raise_skill, "trp_player", "skl_ironflesh", 1),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 10),
          (troop_add_item, "trp_player", "itm_wolf"),
          (troop_add_gold, "trp_player", 150),
        (else_try),
          (eq, "$background_type", 30),
          (troop_raise_attribute, "trp_player", ca_agility, 3),
          (troop_raise_skill, "trp_player", "skl_athletics", 3),
          (troop_raise_skill, "trp_player", "skl_power_strike", 1),
          (troop_raise_skill, "trp_player", "skl_looting", 1),
          (troop_raise_skill, "trp_player", "skl_pathfinding", 1),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 10),
          (troop_add_item, "trp_player", "itm_oil", 1),
          (troop_add_gold, "trp_player", 30),
        (try_end),
        (try_begin),
          (eq, "$background_type", 31),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_attribute, "trp_player", ca_agility, 2),
          (troop_raise_skill, "trp_player", "skl_weapon_master", 1),
          (troop_raise_skill, "trp_player", "skl_power_strike", 1),
          (troop_raise_skill, "trp_player", "skl_riding", 2),
          (troop_raise_skill, "trp_player", "skl_ironflesh", 1),
          (troop_raise_proficiency, "trp_player", wpt_polearm, 30),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 10),
          (troop_add_item, "trp_player", "itm_elf_lance", 1),
          (troop_add_gold, "trp_player", 60),
        (else_try),
          (eq, "$background_type", 32),
          (troop_raise_attribute, "trp_player", ca_agility, 2),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_skill, "trp_player", "skl_pathfinding", 1),
          (troop_raise_skill, "trp_player", "skl_power_draw", 1),
          (troop_raise_skill, "trp_player", "skl_tracking", 1),
          (troop_raise_skill, "trp_player", "skl_spotting", 1),
          (troop_raise_skill, "trp_player", "skl_athletics", 1),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 10),
          (troop_raise_proficiency, "trp_player", wpt_archery, 40),
          (troop_add_item, "trp_player", "itm_nomad_bow", 1),
          (troop_add_item, "trp_player", "itm_arrows", 1),
          (troop_add_gold, "trp_player", 30),
        (else_try),
          (eq, "$background_type", 33),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_attribute, "trp_player", ca_charisma, 2),
          (troop_raise_skill, "trp_player", "skl_weapon_master", 1),
          (troop_raise_skill, "trp_player", "skl_ironflesh", 2),
          (troop_raise_skill, "trp_player", "skl_athletics", 1),
          (troop_raise_skill, "trp_player", "skl_power_strike", 1),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 30),
          (troop_raise_proficiency, "trp_player", wpt_archery, 30),
          (troop_add_item, "trp_player", "itm_highelf_heavy_shield", 1),
          (troop_add_gold, "trp_player", 100),
        (else_try),
          (eq, "$background_type", 34),
          (troop_raise_attribute, "trp_player", ca_agility, 2),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_skill, "trp_player", "skl_ironflesh", 1),
          (troop_raise_skill, "trp_player", "skl_power_strike", 2),
          (troop_raise_skill, "trp_player", "skl_athletics", 1),
          (troop_raise_skill, "trp_player", "skl_weapon_master", 1),
          (troop_raise_proficiency, "trp_player", wpt_two_handed_weapon, 30),
          (troop_add_gold, "trp_player", 20),
          (troop_add_item, "trp_player", "itm_highelf_helmet_two", 1),
        (else_try),
          (eq, "$background_type", 35),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_attribute, "trp_player", ca_agility, 2),
          (troop_raise_skill, "trp_player", "skl_pathfinding", 1),
          (troop_raise_skill, "trp_player", "skl_riding", 2),
          (troop_raise_skill, "trp_player", "skl_engineer", 1),
          (troop_raise_skill, "trp_player", "skl_spotting", 1),
          (troop_raise_proficiency, "trp_player", wpt_archery, 30),
          (troop_add_gold, "trp_player", 20),
          (troop_add_item, "trp_player", "itm_elf_horse", 1),
        (else_try),
          (eq, "$background_type", 36),
          (troop_raise_attribute, "trp_player", ca_charisma, 1),
          (troop_raise_attribute, "trp_player", ca_intelligence, 2),
          (troop_raise_skill, "trp_player", "skl_leadership", 1),
          (troop_raise_skill, "trp_player", "skl_tactics", 2),
          (troop_raise_skill, "trp_player", "skl_prisoner_management", 1),
          (troop_raise_skill, "trp_player", "skl_persuasion", 1),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 10),
          (troop_add_gold, "trp_player", 200),
          (val_add, "$player_right_to_rule", 5),
          (troop_get_slot, ":var0", "trp_player", 7),
          (val_add, ":var0", 50),
          (troop_set_slot, "trp_player", 7, ":var0"),
        (try_end),
        (try_begin),
          (eq, "$background_type", 37),
          (troop_raise_attribute, "trp_player", ca_agility, 1),
          (troop_raise_attribute, "trp_player", ca_intelligence, 2),
          (troop_raise_skill, "trp_player", "skl_weapon_master", 2),
          (troop_raise_skill, "trp_player", "skl_tactics", 1),
          (troop_raise_skill, "trp_player", "skl_tracking", 2),
          (troop_raise_proficiency, "trp_player", wpt_polearm, 30),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 40),
          (troop_add_gold, "trp_player", 40),
          (troop_add_item, "trp_player", "itm_darkelf_armour", 1),
        (else_try),
          (eq, "$background_type", 38),
          (troop_raise_attribute, "trp_player", ca_agility, 2),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_skill, "trp_player", "skl_pathfinding", 2),
          (troop_raise_skill, "trp_player", "skl_spotting", 1),
          (troop_raise_skill, "trp_player", "skl_prisoner_management", 2),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 10),
          (troop_raise_proficiency, "trp_player", wpt_crossbow, 40),
          (troop_add_gold, "trp_player", 70),
          (troop_add_item, "trp_player", "itm_handcrossbow", 1),
          (troop_add_item, "trp_player", "itm_small_bolts", 1),
        (else_try),
          (eq, "$background_type", 39),
          (troop_raise_attribute, "trp_player", ca_strength, 3),
          (troop_raise_skill, "trp_player", "skl_prisoner_management", 2),
          (troop_raise_skill, "trp_player", "skl_power_strike", 2),
          (troop_raise_skill, "trp_player", "skl_ironflesh", 1),
          (troop_raise_proficiency, "trp_player", wpt_two_handed_weapon, 70),
          (troop_add_gold, "trp_player", 30),
          (troop_add_item, "trp_player", "itm_darkelf_sword", 1),
        (else_try),
          (eq, "$background_type", 40),
          (troop_raise_attribute, "trp_player", ca_agility, 2),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_skill, "trp_player", "skl_power_strike", 1),
          (troop_raise_skill, "trp_player", "skl_tracking", 2),
          (troop_raise_skill, "trp_player", "skl_athletics", 1),
          (troop_raise_skill, "trp_player", "skl_weapon_master", 2),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 100),
          (troop_add_gold, "trp_player", 70),
          (troop_add_item, "trp_player", "itm_darkelf_assassin", 1),
          (troop_add_item, "trp_player", "itm_assassin_hood", 1),
        (else_try),
          (eq, "$background_type", 41),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_attribute, "trp_player", ca_agility, 1),
          (troop_raise_skill, "trp_player", "skl_spotting", 2),
          (troop_raise_skill, "trp_player", "skl_weapon_master", 2),
          (troop_raise_skill, "trp_player", "skl_inventory_management", 1),
          (troop_raise_proficiency, "trp_player", wpt_crossbow, 80),
          (troop_add_gold, "trp_player", 20),
          (troop_add_item, "trp_player", "itm_crossbow", 1),
          (troop_add_item, "trp_player", "itm_bolts", 1),
        (else_try),
          (eq, "$background_type", 42),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_attribute, "trp_player", ca_agility, 2),
          (troop_raise_skill, "trp_player", "skl_riding", 2),
          (troop_raise_skill, "trp_player", "skl_power_strike", 1),
          (troop_raise_skill, "trp_player", "skl_ironflesh", 1),
          (troop_raise_skill, "trp_player", "skl_shield", 1),
          (troop_raise_proficiency, "trp_player", wpt_polearm, 60),
          (troop_add_gold, "trp_player", 40),
          (troop_add_item, "trp_player", "itm_darkelf_lance", 1),
        (try_end),
        (try_begin),
          (eq, "$background_type", 43),
          (troop_raise_attribute, "trp_player", ca_charisma, 1),
          (troop_raise_attribute, "trp_player", ca_intelligence, 2),
          (troop_raise_skill, "trp_player", "skl_trade", 2),
          (troop_raise_skill, "trp_player", "skl_inventory_management", 1),
          (troop_raise_skill, "trp_player", "skl_engineer", 1),
          (troop_raise_skill, "trp_player", "skl_constitution", 1),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 10),
          (troop_add_gold, "trp_player", 200),
          (troop_add_item, "trp_player", "itm_ale", 2),
        (else_try),
          (eq, "$background_type", 44),
          (troop_raise_attribute, "trp_player", ca_strength, 2),
          (troop_raise_attribute, "trp_player", ca_agility, 1),
          (troop_raise_skill, "trp_player", "skl_ironflesh", 1),
          (troop_raise_skill, "trp_player", "skl_power_strike", 1),
          (troop_raise_skill, "trp_player", "skl_shield", 2),
          (troop_raise_skill, "trp_player", "skl_athletics", 1),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 30),
          (troop_add_gold, "trp_player", 30),
          (troop_add_item, "trp_player", "itm_dwarf_shield", 1),
        (else_try),
          (eq, "$background_type", 45),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_attribute, "trp_player", ca_intelligence, 2),
          (troop_raise_skill, "trp_player", "skl_riding", 1),
          (troop_raise_skill, "trp_player", "skl_engineer", 2),
          (troop_raise_skill, "trp_player", "skl_spotting", 1),
          (troop_raise_skill, "trp_player", "skl_inventory_management", 1),
          (troop_raise_proficiency, "trp_player", wpt_firearm, 30),
          (troop_add_gold, "trp_player", 100),
          (troop_add_item, "trp_player", "itm_tools", 1),
        (else_try),
          (eq, "$background_type", 46),
          (troop_raise_attribute, "trp_player", ca_strength, 2),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_skill, "trp_player", "skl_trainer", 1),
          (troop_raise_skill, "trp_player", "skl_leadership", 2),
          (troop_raise_skill, "trp_player", "skl_trade", 1),
          (troop_raise_skill, "trp_player", "skl_weapon_master", 1),
          (troop_raise_proficiency, "trp_player", wpt_two_handed_weapon, 20),
          (troop_add_gold, "trp_player", 100),
          (troop_get_slot, ":var0", "trp_player", 7),
          (val_add, ":var0", 50),
          (troop_set_slot, "trp_player", 7, ":var0"),
        (else_try),
          (eq, "$background_type", 47),
          (troop_raise_attribute, "trp_player", ca_agility, 1),
          (troop_raise_attribute, "trp_player", ca_strength, 2),
          (troop_raise_skill, "trp_player", "skl_ironflesh", 1),
          (troop_raise_skill, "trp_player", "skl_looting", 2),
          (troop_raise_skill, "trp_player", "skl_power_strike", 1),
          (troop_raise_skill, "trp_player", "skl_athletics", 1),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 30),
          (troop_add_gold, "trp_player", 50),
          (troop_add_item, "trp_player", "itm_dwarf_shield", 1),
        (else_try),
          (eq, "$background_type", 48),
          (troop_raise_attribute, "trp_player", ca_charisma, 1),
          (troop_raise_attribute, "trp_player", ca_intelligence, 2),
          (troop_raise_skill, "trp_player", "skl_leadership", 1),
          (troop_raise_skill, "trp_player", "skl_persuasion", 2),
          (troop_raise_skill, "trp_player", "skl_tactics", 1),
          (troop_raise_skill, "trp_player", "skl_inventory_management", 1),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 10),
          (troop_add_gold, "trp_player", 30),
          (troop_add_item, "trp_player", "itm_oil", 1),
        (try_end),
        (try_begin),
          (eq, "$background_type", 49),
          (troop_raise_attribute, "trp_player", ca_agility, 1),
          (troop_raise_attribute, "trp_player", ca_strength, 2),
          (troop_raise_skill, "trp_player", "skl_ironflesh", 2),
          (troop_raise_skill, "trp_player", "skl_power_strike", 1),
          (troop_raise_skill, "trp_player", "skl_athletics", 1),
          (troop_raise_skill, "trp_player", "skl_weapon_master", 1),
          (troop_raise_proficiency, "trp_player", wpt_polearm, 50),
          (troop_add_gold, "trp_player", 30),
          (troop_add_item, "trp_player", "itm_skaven_shield_fang", 1),
        (else_try),
          (eq, "$background_type", 50),
          (troop_raise_attribute, "trp_player", ca_intelligence, 2),
          (troop_raise_attribute, "trp_player", ca_agility, 1),
          (troop_raise_skill, "trp_player", "skl_constitution", 2),
          (troop_raise_skill, "trp_player", "skl_trade", 1),
          (troop_raise_skill, "trp_player", "skl_inventory_management", 1),
          (troop_raise_skill, "trp_player", "skl_athletics", 1),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 30),
          (troop_add_gold, "trp_player", 60),
          (troop_add_item, "trp_player", "itm_plague_robe", 1),
          (troop_add_item, "trp_player", "itm_plague_hood2", 1),
        (else_try),
          (eq, "$background_type", 51),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_attribute, "trp_player", ca_agility, 2),
          (troop_raise_skill, "trp_player", "skl_ironflesh", 1),
          (troop_raise_skill, "trp_player", "skl_athletics", 2),
          (troop_raise_skill, "trp_player", "skl_trainer", 1),
          (troop_raise_skill, "trp_player", "skl_power_throw", 1),
          (troop_raise_proficiency, "trp_player", wpt_throwing, 90),
          (troop_add_gold, "trp_player", 60),
          (troop_get_slot, ":var0", "trp_player", 7),
          (val_add, ":var0", 50),
          (troop_set_slot, "trp_player", 7, ":var0"),
        (else_try),
          (eq, "$background_type", 52),
          (troop_raise_attribute, "trp_player", ca_agility, 2),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_skill, "trp_player", "skl_pathfinding", 1),
          (troop_raise_skill, "trp_player", "skl_athletics", 2),
          (troop_raise_skill, "trp_player", "skl_tracking", 1),
          (troop_raise_skill, "trp_player", "skl_spotting", 1),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 40),
          (troop_add_gold, "trp_player", 40),
          (troop_add_item, "trp_player", "itm_gutter_outfit", 1),
          (troop_add_item, "trp_player", "itm_gutter_hood", 1),
        (else_try),
          (eq, "$background_type", 53),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_attribute, "trp_player", ca_strength, 2),
          (troop_raise_skill, "trp_player", "skl_athletics", 1),
          (troop_raise_skill, "trp_player", "skl_tactics", 1),
          (troop_raise_skill, "trp_player", "skl_spotting", 1),
          (troop_raise_skill, "trp_player", "skl_weapon_master", 1),
          (troop_raise_skill, "trp_player", "skl_inventory_management", 1),
          (troop_raise_proficiency, "trp_player", wpt_firearm, 60),
          (troop_add_gold, "trp_player", 50),
          (troop_add_item, "trp_player", "itm_long_pistol", 1),
          (troop_add_item, "trp_player", "itm_cartridges", 1),
        (else_try),
          (eq, "$background_type", 54),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_attribute, "trp_player", ca_agility, 2),
          (troop_raise_skill, "trp_player", "skl_tracking", 1),
          (troop_raise_skill, "trp_player", "skl_weapon_master", 2),
          (troop_raise_skill, "trp_player", "skl_tactics", 1),
          (troop_raise_skill, "trp_player", "skl_power_strike", 1),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 80),
          (troop_add_gold, "trp_player", 50),
          (troop_add_item, "trp_player", "itm_skavdeath_outfit", 1),
          (troop_add_item, "trp_player", "itm_skavdeath_hood", 1),
        (try_end),
        (try_begin),
          (eq, "$background_type", 67),
          (troop_raise_attribute, "trp_player", ca_agility, 1),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_skill, "trp_player", "skl_athletics", 2),
          (troop_raise_skill, "trp_player", "skl_looting", 1),
          (troop_raise_skill, "trp_player", "skl_spotting", 1),
          (troop_raise_skill, "trp_player", "skl_inventory_management", 1),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 10),
          (troop_add_gold, "trp_player", 300),
        (else_try),
          (eq, "$background_type", 68),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_attribute, "trp_player", ca_charisma, 2),
          (troop_raise_skill, "trp_player", "skl_pathfinding", 1),
          (troop_raise_skill, "trp_player", "skl_persuasion", 3),
          (troop_raise_skill, "trp_player", "skl_surgery", 1),
          (troop_raise_proficiency, "trp_player", wpt_polearm, 10),
          (troop_add_gold, "trp_player", 20),
          (troop_add_item, "trp_player", "itm_book_persuasion", 1),
        (else_try),
          (eq, "$background_type", 69),
          (troop_raise_attribute, "trp_player", ca_intelligence, 3),
          (troop_raise_skill, "trp_player", "skl_spotting", 2),
          (troop_raise_skill, "trp_player", "skl_first_aid", 2),
          (troop_raise_skill, "trp_player", "skl_looting", 1),
          (troop_raise_proficiency, "trp_player", wpt_throwing, 20),
          (troop_add_gold, "trp_player", 20),
          (troop_add_item, "trp_player", "itm_sav_bone", 1),
        (else_try),
          (eq, "$background_type", 70),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_attribute, "trp_player", ca_charisma, 1),
          (troop_raise_skill, "trp_player", "skl_weapon_master", 1),
          (troop_raise_skill, "trp_player", "skl_power_strike", 1),
          (troop_raise_skill, "trp_player", "skl_power_draw", 1),
          (troop_raise_skill, "trp_player", "skl_riding", 2),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 40),
          (troop_add_gold, "trp_player", 40),
          (val_add, "$player_right_to_rule", 5),
          (troop_get_slot, ":var0", "trp_player", 7),
          (val_add, ":var0", 50),
          (troop_set_slot, "trp_player", 7, ":var0"),
        (else_try),
          (eq, "$background_type", 71),
          (troop_raise_attribute, "trp_player", ca_agility, 1),
          (troop_raise_attribute, "trp_player", ca_strength, 2),
          (troop_raise_skill, "trp_player", "skl_power_strike", 2),
          (troop_raise_skill, "trp_player", "skl_weapon_master", 1),
          (troop_raise_skill, "trp_player", "skl_tactics", 1),
          (troop_raise_skill, "trp_player", "skl_ironflesh", 1),
          (troop_raise_proficiency, "trp_player", wpt_two_handed_weapon, 60),
          (troop_add_gold, "trp_player", 30),
          (troop_add_item, "trp_player", "itm_house_waistcoat", 1),
          (troop_add_item, "trp_player", "itm_house_shoes", 1),
        (else_try),
          (eq, "$background_type", 72),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_attribute, "trp_player", ca_charisma, 2),
          (troop_raise_skill, "trp_player", "skl_trade", 2),
          (troop_raise_skill, "trp_player", "skl_inventory_management", 2),
          (troop_raise_skill, "trp_player", "skl_persuasion", 1),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 10),
          (troop_add_gold, "trp_player", 100),
          (troop_add_item, "trp_player", "itm_wine", 1),
        (try_end),
        (try_begin),
          (eq, "$background_type", 73),
          (troop_raise_attribute, "trp_player", ca_strength, 2),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_skill, "trp_player", "skl_engineer", 2),
          (troop_raise_skill, "trp_player", "skl_trade", 1),
          (troop_raise_skill, "trp_player", "skl_weapon_master", 1),
          (troop_raise_skill, "trp_player", "skl_power_strike", 1),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 10),
          (troop_add_gold, "trp_player", 120),
          (troop_add_item, "trp_player", "itm_elven_blade", 1),
        (else_try),
          (eq, "$background_type", 74),
          (troop_raise_attribute, "trp_player", ca_agility, 2),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_skill, "trp_player", "skl_pathfinding", 2),
          (troop_raise_skill, "trp_player", "skl_tracking", 1),
          (troop_raise_skill, "trp_player", "skl_spotting", 2),
          (troop_raise_proficiency, "trp_player", wpt_polearm, 10),
          (troop_add_gold, "trp_player", 20),
          (troop_add_item, "trp_player", "itm_woodelf_boots2", 1),
        (else_try),
          (eq, "$background_type", 75),
          (troop_raise_attribute, "trp_player", ca_strength, 2),
          (troop_raise_attribute, "trp_player", ca_agility, 1),
          (troop_raise_skill, "trp_player", "skl_ironflesh", 1),
          (troop_raise_skill, "trp_player", "skl_power_strike", 1),
          (troop_raise_skill, "trp_player", "skl_shield", 1),
          (troop_raise_skill, "trp_player", "skl_power_draw", 1),
          (troop_raise_skill, "trp_player", "skl_athletics", 1),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 20),
          (troop_add_gold, "trp_player", 40),
          (troop_add_item, "trp_player", "itm_elven_spear", 1),
        (else_try),
          (eq, "$background_type", 76),
          (troop_raise_attribute, "trp_player", ca_agility, 1),
          (troop_raise_attribute, "trp_player", ca_intelligence, 2),
          (troop_raise_skill, "trp_player", "skl_spotting", 1),
          (troop_raise_skill, "trp_player", "skl_tactics", 1),
          (troop_raise_skill, "trp_player", "skl_surgery", 1),
          (troop_raise_skill, "trp_player", "skl_wound_treatment", 2),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 10),
          (troop_add_gold, "trp_player", 60),
          (troop_add_item, "trp_player", "itm_book_intelligence", 1),
        (else_try),
          (eq, "$background_type", 77),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_attribute, "trp_player", ca_charisma, 2),
          (troop_raise_skill, "trp_player", "skl_persuasion", 2),
          (troop_raise_skill, "trp_player", "skl_trade", 2),
          (troop_raise_skill, "trp_player", "skl_riding", 1),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 10),
          (troop_add_gold, "trp_player", 50),
          (troop_add_item, "trp_player", "itm_book_persuasion", 1),
        (else_try),
          (eq, "$background_type", 78),
          (troop_raise_attribute, "trp_player", ca_agility, 1),
          (troop_raise_attribute, "trp_player", ca_charisma, 1),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_skill, "trp_player", "skl_riding", 2),
          (troop_raise_skill, "trp_player", "skl_leadership", 1),
          (troop_raise_skill, "trp_player", "skl_weapon_master", 1),
          (troop_raise_skill, "trp_player", "skl_horse_archery", 1),
          (troop_raise_proficiency, "trp_player", wpt_archery, 50),
          (troop_add_gold, "trp_player", 60),
          (val_add, "$player_right_to_rule", 2),
          (troop_get_slot, ":var0", "trp_player", 7),
          (val_add, ":var0", 40),
          (troop_set_slot, "trp_player", 7, ":var0"),
        (try_end),
        (try_begin),
          (eq, "$background_type", 79),
          (troop_raise_attribute, "trp_player", ca_strength, 2),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_skill, "trp_player", "skl_engineer", 2),
          (troop_raise_skill, "trp_player", "skl_magic_control", 1),
          (troop_raise_skill, "trp_player", "skl_ironflesh", 1),
          (troop_raise_skill, "trp_player", "skl_constitution", 1),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 10),
          (troop_add_gold, "trp_player", 80),
          (troop_add_item, "trp_player", "itm_potion_instability"),
        (else_try),
          (eq, "$background_type", 80),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_attribute, "trp_player", ca_charisma, 1),
          (troop_raise_skill, "trp_player", "skl_power_strike", 2),
          (troop_raise_skill, "trp_player", "skl_persuasion", 1),
          (troop_raise_skill, "trp_player", "skl_wound_treatment", 1),
          (troop_raise_skill, "trp_player", "skl_constitution", 1),
          (troop_raise_proficiency, "trp_player", wpt_polearm, 10),
          (troop_add_gold, "trp_player", 40),
          (troop_add_item, "trp_player", "itm_chaosdwarf_boots_2"),
        (else_try),
          (eq, "$background_type", 81),
          (troop_raise_attribute, "trp_player", ca_strength, 2),
          (troop_raise_attribute, "trp_player", ca_charisma, 1),
          (troop_raise_skill, "trp_player", "skl_prisoner_management", 2),
          (troop_raise_skill, "trp_player", "skl_leadership", 1),
          (troop_raise_skill, "trp_player", "skl_ironflesh", 1),
          (troop_raise_skill, "trp_player", "skl_power_strike", 1),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 20),
          (troop_add_gold, "trp_player", 150),
        (else_try),
          (eq, "$background_type", 82),
          (troop_raise_attribute, "trp_player", ca_agility, 1),
          (troop_raise_attribute, "trp_player", ca_strength, 2),
          (troop_raise_skill, "trp_player", "skl_weapon_master", 1),
          (troop_raise_skill, "trp_player", "skl_shield", 1),
          (troop_raise_skill, "trp_player", "skl_power_strike", 1),
          (troop_raise_skill, "trp_player", "skl_ironflesh", 2),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 50),
          (troop_add_gold, "trp_player", 60),
          (troop_add_item, "trp_player", "itm_chaos_dwarf_heavy_shield", 1),
        (else_try),
          (eq, "$background_type", 83),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_attribute, "trp_player", ca_charisma, 1),
          (troop_raise_attribute, "trp_player", ca_agility, 1),
          (troop_raise_skill, "trp_player", "skl_trainer", 1),
          (troop_raise_skill, "trp_player", "skl_tactics", 1),
          (troop_raise_skill, "trp_player", "skl_ironflesh", 1),
          (troop_raise_skill, "trp_player", "skl_leadership", 1),
          (troop_raise_skill, "trp_player", "skl_weapon_master", 1),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 50),
          (troop_add_gold, "trp_player", 50),
          (troop_add_item, "trp_player", "itm_chaos_dwarf_fighting_axe", 1),
        (else_try),
          (eq, "$background_type", 84),
          (troop_raise_attribute, "trp_player", ca_agility, 1),
          (troop_raise_attribute, "trp_player", ca_charisma, 2),
          (troop_raise_skill, "trp_player", "skl_trade", 2),
          (troop_raise_skill, "trp_player", "skl_inventory_management", 1),
          (troop_raise_skill, "trp_player", "skl_pathfinding", 1),
          (troop_raise_skill, "trp_player", "skl_prisoner_management", 1),
          (troop_raise_proficiency, "trp_player", wpt_firearm, 50),
          (troop_add_gold, "trp_player", 260),
        (try_end),
        (try_begin),
          (eq, "$background_type", 88),
          (troop_raise_attribute, "trp_player", ca_agility, 1),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_skill, "trp_player", "skl_ironflesh", 1),
          (troop_raise_skill, "trp_player", "skl_power_strike", 1),
          (troop_raise_proficiency, "trp_player", wpt_two_handed_weapon, 50),
          (troop_add_gold, "trp_player", 30),
          (troop_add_item, "trp_player", "itm_maul", 1),
        (else_try),
          (eq, "$background_type", 89),
          (troop_raise_attribute, "trp_player", ca_intelligence, 2),
          (troop_raise_skill, "trp_player", "skl_prisoner_management", 1),
          (troop_raise_skill, "trp_player", "skl_tracking", 1),
          (troop_raise_proficiency, "trp_player", wpt_crossbow, 30),
          (troop_add_gold, "trp_player", 60),
          (troop_add_item, "trp_player", "itm_light_crossbow", 0),
          (troop_add_item, "trp_player", "itm_bolts", 0),
        (else_try),
          (eq, "$background_type", 90),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_attribute, "trp_player", ca_charisma, 1),
          (troop_raise_skill, "trp_player", "skl_tactics", 1),
          (troop_raise_skill, "trp_player", "skl_leadership", 1),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 90),
          (troop_add_gold, "trp_player", 100),
          (val_add, "$player_right_to_rule", 5),
          (troop_get_slot, ":var0", "trp_player", 7),
          (val_add, ":var0", 50),
          (troop_set_slot, "trp_player", 7, ":var0"),
        (else_try),
          (eq, "$background_type", 91),
          (troop_raise_attribute, "trp_player", ca_agility, 1),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_skill, "trp_player", "skl_power_draw", 1),
          (troop_raise_skill, "trp_player", "skl_constitution", 1),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 40),
          (troop_raise_proficiency, "trp_player", wpt_archery, 40),
          (troop_add_gold, "trp_player", 40),
          (troop_add_item, "trp_player", "itm_short_bow", 0),
          (troop_add_item, "trp_player", "itm_arrows", 0),
        (else_try),
          (eq, "$background_type", 92),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_attribute, "trp_player", ca_agility, 1),
          (troop_raise_skill, "trp_player", "skl_riding", 2),
          (troop_raise_skill, "trp_player", "skl_pathfinding", 1),
          (troop_raise_proficiency, "trp_player", wpt_polearm, 60),
          (troop_add_gold, "trp_player", 50),
          (troop_add_item, "trp_player", "itm_steppe_horse", 0),
        (else_try),
          (eq, "$background_type", 93),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_attribute, "trp_player", ca_agility, 1),
          (troop_raise_skill, "trp_player", "skl_tracking", 1),
          (troop_raise_skill, "trp_player", "skl_power_draw", 1),
          (troop_raise_proficiency, "trp_player", wpt_archery, 80),
          (troop_add_gold, "trp_player", 50),
          (troop_add_item, "trp_player", "itm_short_bow", 0),
          (troop_add_item, "trp_player", "itm_arrows", 0),
        (try_end),
        (try_begin),
          (eq, "$background_answer_11", 1),
          (troop_raise_attribute, "trp_player", ca_charisma, 2),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_skill, "trp_player", "skl_leadership", 1),
          (troop_raise_skill, "trp_player", "skl_persuasion", 1),
          (troop_raise_proficiency, "trp_player", wpt_two_handed_weapon, 15),
          (troop_add_item, "trp_player", "itm_book_persuasion", 0),
        (else_try),
          (eq, "$background_answer_11", 2),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_skill, "trp_player", "skl_first_aid", 1),
          (troop_raise_skill, "trp_player", "skl_spotting", 1),
          (troop_raise_proficiency, "trp_player", wpt_firearm, 45),
          (troop_add_item, "trp_player", "itm_witchhunt", 0),
          (troop_add_item, "trp_player", "itm_flintlock_pistol", 0),
          (troop_add_item, "trp_player", "itm_cartridges", 0),
        (else_try),
          (eq, "$background_answer_11", 3),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_skill, "trp_player", "skl_engineer", 2),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 15),
          (troop_add_item, "trp_player", "itm_iron", 0),
          (troop_add_item, "trp_player", "itm_tools", 0),
        (else_try),
          (eq, "$background_answer_11", 4),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_attribute, "trp_player", ca_agility, 1),
          (troop_raise_skill, "trp_player", "skl_ironflesh", 1),
          (troop_raise_skill, "trp_player", "skl_power_strike", 1),
          (troop_raise_proficiency, "trp_player", wpt_polearm, 20),
          (call_script, "script_change_troop_renown", "trp_player", 10),
          (troop_add_item, "trp_player", "itm_light_lance", 0),
          (troop_add_item, "trp_player", "itm_saddle_horse", 0),
        (else_try),
          (eq, "$background_answer_11", 5),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_attribute, "trp_player", ca_agility, 1),
          (troop_raise_skill, "trp_player", "skl_power_strike", 1),
          (troop_raise_proficiency, "trp_player", wpt_two_handed_weapon, 40),
          (troop_add_item, "trp_player", "itm_greatsword_hat", 0),
          (troop_add_item, "trp_player", "itm_bastard_sword_a", 0),
        (else_try),
          (eq, "$background_answer_11", 6),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_attribute, "trp_player", ca_charisma, 1),
          (troop_raise_skill, "trp_player", "skl_inventory_management", 1),
          (troop_raise_skill, "trp_player", "skl_trade", 1),
          (troop_add_item, "trp_player", "itm_honey", 0),
          (troop_add_item, "trp_player", "itm_apples", 0),
          (troop_add_item, "trp_player", "itm_grain", 0),
          (troop_add_item, "trp_player", "itm_bread", 0),
          (troop_add_item, "trp_player", "itm_raw_grapes", 0),
        (try_end),
        (try_begin),
          (eq, "$background_answer_12", 7),
          (troop_raise_attribute, "trp_player", ca_agility, 1),
          (troop_raise_attribute, "trp_player", ca_charisma, 1),
          (troop_raise_skill, "trp_player", "skl_riding", 1),
          (troop_raise_skill, "trp_player", "skl_shield", 1),
          (troop_raise_proficiency, "trp_player", wpt_polearm, 50),
          (troop_add_gold, "trp_player", 100),
          (call_script, "script_change_troop_renown", "trp_player", 20),
          (troop_add_item, "trp_player", "itm_light_lance", 0),
          (troop_add_item, "trp_player", "itm_courser_yeoman", 0),
        (else_try),
          (eq, "$background_answer_12", 8),
          (troop_raise_attribute, "trp_player", ca_charisma, 1),
          (troop_raise_attribute, "trp_player", ca_agility, 1),
          (troop_raise_skill, "trp_player", "skl_riding", 1),
          (troop_raise_skill, "trp_player", "skl_trade", 1),
          (troop_add_gold, "trp_player", 50),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 45),
          (troop_add_item, "trp_player", "itm_saddle_horse", 0),
          (troop_add_item, "trp_player", "itm_courser_yeoman", 0),
        (else_try),
          (eq, "$background_answer_12", 9),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_skill, "trp_player", "skl_spotting", 1),
          (troop_raise_skill, "trp_player", "skl_shield", 1),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 15),
          (troop_add_item, "trp_player", "itm_tab_shield_heater_cav_a", 0),
          (troop_add_item, "trp_player", "itm_courser_yeoman", 0),
        (else_try),
          (eq, "$background_answer_12", 10),
          (troop_raise_attribute, "trp_player", ca_charisma, 1),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_skill, "trp_player", "skl_persuasion", 1),
          (troop_raise_skill, "trp_player", "skl_leadership", 1),
          (troop_raise_proficiency, "trp_player", wpt_polearm, 10),
          (troop_add_item, "trp_player", "itm_book_leadership", 0),
          (troop_add_item, "trp_player", "itm_raw_flax", 0),
        (else_try),
          (eq, "$background_answer_12", 11),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_skill, "trp_player", "skl_power_strike", 1),
          (troop_raise_skill, "trp_player", "skl_trade", 1),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 40),
          (troop_add_item, "trp_player", "itm_tools", 0),
          (troop_add_item, "trp_player", "itm_iron", 0),
        (else_try),
          (eq, "$background_answer_12", 12),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_attribute, "trp_player", ca_charisma, 1),
          (troop_raise_skill, "trp_player", "skl_persuasion", 1),
          (troop_raise_skill, "trp_player", "skl_tactics", 1),
          (troop_add_item, "trp_player", "itm_light_lance", 0),
          (troop_add_item, "trp_player", "itm_medal", 0),
        (try_end),
        (try_begin),
          (eq, "$background_answer_13", 13),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_attribute, "trp_player", ca_charisma, 1),
          (troop_raise_skill, "trp_player", "skl_trade", 1),
          (troop_raise_skill, "trp_player", "skl_inventory_management", 1),
          (troop_add_gold, "trp_player", 1000),
        (else_try),
          (eq, "$background_answer_13", 14),
          (troop_raise_attribute, "trp_player", ca_charisma, 1),
          (troop_raise_attribute, "trp_player", ca_agility, 1),
          (troop_raise_skill, "trp_player", "skl_riding", 1),
          (troop_raise_skill, "trp_player", "skl_trade", 1),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 45),
          (troop_add_item, "trp_player", "itm_arabian_horse_b", 0),
        (else_try),
          (eq, "$background_answer_13", 15),
          (troop_raise_attribute, "trp_player", ca_charisma, 1),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_skill, "trp_player", "skl_persuasion", 1),
          (troop_raise_skill, "trp_player", "skl_leadership", 1),
          (troop_raise_proficiency, "trp_player", wpt_two_handed_weapon, 15),
          (troop_add_item, "trp_player", "itm_book_persuasion", 0),
        (else_try),
          (eq, "$background_answer_13", 16),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_attribute, "trp_player", ca_agility, 1),
          (troop_raise_skill, "trp_player", "skl_power_draw", 2),
          (troop_raise_proficiency, "trp_player", wpt_archery, 50),
          (troop_add_item, "trp_player", "itm_sarranid_leather_armor", 0),
          (troop_add_item, "trp_player", "itm_nomad_bow", 0),
          (troop_add_item, "trp_player", "itm_arrows", 0),
        (else_try),
          (eq, "$background_answer_13", 17),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_attribute, "trp_player", ca_agility, 1),
          (troop_raise_skill, "trp_player", "skl_power_strike", 1),
          (troop_raise_skill, "trp_player", "skl_riding", 1),
          (troop_raise_proficiency, "trp_player", wpt_polearm, 40),
          (troop_add_item, "trp_player", "itm_sarranid_cavalry_sword", 0),
          (troop_add_item, "trp_player", "itm_steppe_horse", 0),
        (else_try),
          (eq, "$background_answer_13", 18),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_attribute, "trp_player", ca_agility, 1),
          (troop_raise_skill, "trp_player", "skl_ironflesh", 1),
          (troop_raise_skill, "trp_player", "skl_weapon_master", 1),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 40),
          (troop_add_item, "trp_player", "itm_tab_shield_kite_d", 0),
          (troop_add_item, "trp_player", "itm_mace_4", 0),
        (try_end),
        (try_begin),
          (eq, "$background_answer_14", 19),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_attribute, "trp_player", ca_charisma, 1),
          (troop_raise_skill, "trp_player", "skl_looting", 1),
          (troop_raise_skill, "trp_player", "skl_inventory_management", 1),
          (troop_add_gold, "trp_player", 200),
        (else_try),
          (eq, "$background_answer_14", 20),
          (troop_raise_attribute, "trp_player", ca_agility, 1),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_skill, "trp_player", "skl_weapon_master", 2),
          (troop_raise_proficiency, "trp_player", wpt_two_handed_weapon, 35),
          (troop_add_item, "trp_player", "itm_ninja_hood", 0),
          (troop_add_item, "trp_player", "itm_ninja_tunic", 0),
          (troop_add_item, "trp_player", "itm_throwing_star", 0),
        (else_try),
          (eq, "$background_answer_14", 21),
          (troop_raise_attribute, "trp_player", ca_charisma, 1),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_skill, "trp_player", "skl_trade", 1),
          (troop_raise_skill, "trp_player", "skl_engineer", 1),
          (troop_raise_proficiency, "trp_player", wpt_firearm, 10),
          (troop_add_item, "trp_player", "itm_oil", 0),
          (troop_add_gold, "trp_player", 200),
        (else_try),
          (eq, "$background_answer_14", 22),
          (troop_raise_attribute, "trp_player", ca_intelligence, 2),
          (troop_raise_skill, "trp_player", "skl_persuasion", 3),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 10),
          (troop_add_item, "trp_player", "itm_courser", 0),
          (troop_add_gold, "trp_player", 600),
        (else_try),
          (eq, "$background_answer_14", 23),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_attribute, "trp_player", ca_charisma, 1),
          (troop_raise_skill, "trp_player", "skl_leadership", 1),
          (troop_raise_skill, "trp_player", "skl_persuasion", 1),
          (troop_raise_proficiency, "trp_player", wpt_polearm, 20),
          (troop_add_gold, "trp_player", 150),
          (troop_add_item, "trp_player", "itm_book_leadership", 0),
        (else_try),
          (eq, "$background_answer_14", 24),
          (troop_raise_attribute, "trp_player", ca_agility, 2),
          (troop_raise_skill, "trp_player", "skl_power_strike", 1),
          (troop_raise_skill, "trp_player", "skl_weapon_master", 1),
          (troop_raise_proficiency, "trp_player", wpt_polearm, 40),
          (troop_add_gold, "trp_player", 50),
          (troop_add_item, "trp_player", "itm_gekokujo_naginata_5", 0),
        (try_end),
        (try_begin),
          (eq, "$background_answer_15", 25),
          (troop_raise_attribute, "trp_player", ca_agility, 1),
          (troop_raise_attribute, "trp_player", ca_charisma, 1),
          (troop_raise_skill, "trp_player", "skl_weapon_master", 1),
          (troop_raise_skill, "trp_player", "skl_power_strike", 1),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 30),
          (troop_raise_proficiency, "trp_player", wpt_firearm, 30),
          (troop_add_item, "trp_player", "itm_pirate_sword3", 0),
        (else_try),
          (eq, "$background_answer_15", 26),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_attribute, "trp_player", ca_charisma, 1),
          (troop_raise_skill, "trp_player", "skl_constitution", 1),
          (troop_raise_skill, "trp_player", "skl_inventory_management", 1),
          (troop_add_gold, "trp_player", 20),
          (troop_add_item, "trp_player", "itm_ale", 0),
          (troop_add_item, "trp_player", "itm_wine", 0),
        (else_try),
          (eq, "$background_answer_15", 27),
          (troop_raise_attribute, "trp_player", ca_intelligence, 2),
          (troop_raise_skill, "trp_player", "skl_pathfinding", 1),
          (troop_raise_skill, "trp_player", "skl_spotting", 1),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 10),
          (troop_add_item, "trp_player", "itm_oil", 0),
        (else_try),
          (eq, "$background_answer_15", 28),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_attribute, "trp_player", ca_charisma, 1),
          (troop_raise_skill, "trp_player", "skl_leadership", 1),
          (troop_raise_skill, "trp_player", "skl_tactics", 1),
          (troop_raise_skill, "trp_player", "skl_prisoner_management", 1),
          (troop_add_gold, "trp_player", 300),
          (val_add, "$player_right_to_rule", 5),
          (troop_get_slot, ":var0", "trp_player", 7),
          (val_add, ":var0", 50),
          (troop_set_slot, "trp_player", 7, ":var0"),
        (else_try),
          (eq, "$background_answer_15", 29),
          (troop_raise_attribute, "trp_player", ca_charisma, 2),
          (troop_raise_skill, "trp_player", "skl_trade", 1),
          (troop_raise_skill, "trp_player", "skl_inventory_management", 1),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 10),
          (troop_add_gold, "trp_player", 500),
        (else_try),
          (eq, "$background_answer_15", 30),
          (troop_raise_attribute, "trp_player", ca_intelligence, 2),
          (troop_raise_skill, "trp_player", "skl_constitution", 2),
          (troop_add_gold, "trp_player", 150),
          (troop_add_item, "trp_player", "itm_butchering_knife", 0),
        (try_end),
        (try_begin),
          (eq, "$background_answer_16", 31),
          (troop_raise_attribute, "trp_player", ca_agility, 2),
          (troop_raise_skill, "trp_player", "skl_weapon_master", 1),
          (troop_raise_skill, "trp_player", "skl_power_strike", 1),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 30),
          (troop_raise_proficiency, "trp_player", wpt_polearm, 30),
          (troop_add_item, "trp_player", "itm_spiked_mace", 0),
          (troop_add_gold, "trp_player", 150),
        (else_try),
          (eq, "$background_answer_16", 32),
          (troop_raise_attribute, "trp_player", ca_intelligence, 2),
          (troop_raise_skill, "trp_player", "skl_pathfinding", 1),
          (troop_raise_skill, "trp_player", "skl_spotting", 1),
          (troop_add_gold, "trp_player", 20),
          (troop_add_item, "trp_player", "itm_oil", 0),
        (else_try),
          (eq, "$background_answer_16", 33),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_skill, "trp_player", "skl_looting", 1),
          (troop_raise_skill, "trp_player", "skl_spotting", 1),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 10),
          (troop_add_gold, "trp_player", 50),
          (troop_add_item, "trp_player", "itm_hand_axe", 0),
        (else_try),
          (eq, "$background_answer_16", 34),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_attribute, "trp_player", ca_charisma, 1),
          (troop_raise_skill, "trp_player", "skl_riding", 1),
          (troop_raise_skill, "trp_player", "skl_trade", 1),
          (troop_add_gold, "trp_player", 70),
          (troop_add_item, "trp_player", "itm_saddle_horse", 0),
          (troop_add_item, "trp_player", "itm_hunter", 0),
        (else_try),
          (eq, "$background_answer_16", 35),
          (troop_raise_attribute, "trp_player", ca_agility, 2),
          (troop_raise_skill, "trp_player", "skl_riding", 1),
          (troop_raise_skill, "trp_player", "skl_pathfinding", 1),
          (troop_raise_proficiency, "trp_player", wpt_archery, 30),
          (troop_add_gold, "trp_player", 10),
          (troop_add_item, "trp_player", "itm_saddle_horse", 0),
          (troop_add_item, "trp_player", "itm_bread", 0),
        (try_end),
        (try_begin),
          (eq, "$background_answer_17", 36),
          (troop_raise_attribute, "trp_player", ca_agility, 1),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_skill, "trp_player", "skl_pathfinding", 1),
          (troop_raise_skill, "trp_player", "skl_spotting", 1),
          (troop_raise_proficiency, "trp_player", wpt_throwing, 20),
          (troop_add_item, "trp_player", "itm_blowpipe", 0),
          (troop_add_item, "trp_player", "itm_blowpipe_darts", 0),
        (else_try),
          (eq, "$background_answer_17", 37),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_attribute, "trp_player", ca_charisma, 1),
          (troop_raise_skill, "trp_player", "skl_persuasion", 1),
          (troop_raise_skill, "trp_player", "skl_inventory_management", 1),
          (troop_add_gold, "trp_player", 30),
          (troop_add_item, "trp_player", "itm_ale", 0),
        (else_try),
          (eq, "$background_answer_17", 38),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_attribute, "trp_player", ca_agility, 1),
          (troop_raise_skill, "trp_player", "skl_power_strike", 1),
          (troop_raise_skill, "trp_player", "skl_ironflesh", 1),
          (troop_add_item, "trp_player", "itm_saurus_warrior", 0),
        (else_try),
          (eq, "$background_answer_17", 39),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_skill, "trp_player", "skl_prisoner_management", 1),
          (troop_raise_skill, "trp_player", "skl_spotting", 1),
          (troop_raise_proficiency, "trp_player", wpt_polearm, 30),
          (troop_add_item, "trp_player", "itm_saurus_poleaxe", 0),
        (else_try),
          (eq, "$background_answer_17", 40),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_attribute, "trp_player", ca_charisma, 1),
          (troop_raise_skill, "trp_player", "skl_persuasion", 1),
          (troop_raise_skill, "trp_player", "skl_riding", 1),
          (troop_add_item, "trp_player", "itm_book_intelligence", 0),
        (else_try),
          (eq, "$background_answer_17", 41),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_attribute, "trp_player", ca_agility, 1),
          (troop_raise_skill, "trp_player", "skl_pathfinding", 1),
          (troop_raise_skill, "trp_player", "skl_spotting", 1),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 20),
          (troop_add_gold, "trp_player", 80),
          (troop_add_item, "trp_player", "itm_saurus_poleaxe", 0),
        (try_end),
        (try_begin),
          (eq, "$background_answer_18", 42),
          (troop_raise_attribute, "trp_player", ca_agility, 1),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_skill, "trp_player", "skl_power_draw", 1),
          (troop_raise_skill, "trp_player", "skl_tracking", 1),
          (troop_raise_proficiency, "trp_player", wpt_archery, 30),
          (troop_add_item, "trp_player", "itm_nomad_bow", 0),
          (troop_add_item, "trp_player", "itm_arrows", 0),
        (else_try),
          (eq, "$background_answer_18", 43),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_skill, "trp_player", "skl_engineer", 2),
          (troop_raise_proficiency, "trp_player", wpt_polearm, 10),
          (troop_add_gold, "trp_player", 20),
          (troop_add_item, "trp_player", "itm_tools", 0),
        (else_try),
          (eq, "$background_answer_18", 44),
          (troop_raise_attribute, "trp_player", ca_agility, 2),
          (troop_raise_skill, "trp_player", "skl_riding", 1),
          (troop_raise_skill, "trp_player", "skl_athletics", 1),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 10),
          (troop_add_gold, "trp_player", 50),
          (troop_add_item, "trp_player", "itm_dried_meat", 0),
        (else_try),
          (eq, "$background_answer_18", 45),
          (troop_raise_attribute, "trp_player", ca_strength, 2),
          (troop_raise_skill, "trp_player", "skl_power_throw", 2),
          (troop_add_gold, "trp_player", 20),
          (troop_add_item, "trp_player", "itm_javelin", 0),
        (else_try),
          (eq, "$background_answer_18", 46),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_attribute, "trp_player", ca_charisma, 1),
          (troop_raise_skill, "trp_player", "skl_tactics", 1),
          (troop_raise_skill, "trp_player", "skl_persuasion", 1),
          (troop_add_item, "trp_player", "itm_oil", 0),
        (else_try),
          (eq, "$background_answer_18", 47),
          (troop_raise_attribute, "trp_player", ca_intelligence, 2),
          (troop_raise_skill, "trp_player", "skl_magic_control", 2),
          (troop_add_gold, "trp_player", 20),
          (troop_add_item, "trp_player", "itm_potion_healing", 0),
        (try_end),
        (try_begin),
          (eq, "$background_answer_19", 48),
          (troop_raise_attribute, "trp_player", ca_agility, 1),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_skill, "trp_player", "skl_looting", 1),
          (troop_raise_skill, "trp_player", "skl_inventory_management", 1),
          (troop_raise_proficiency, "trp_player", wpt_polearm, 50),
          (troop_add_gold, "trp_player", 200),
        (else_try),
          (eq, "$background_answer_19", 49),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_attribute, "trp_player", ca_agility, 1),
          (troop_raise_skill, "trp_player", "skl_power_strike", 1),
          (troop_raise_skill, "trp_player", "skl_shield", 1),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 10),
          (troop_add_item, "trp_player", "itm_shortened_spear", 0),
        (else_try),
          (eq, "$background_answer_19", 50),
          (troop_raise_attribute, "trp_player", ca_agility, 2),
          (troop_raise_skill, "trp_player", "skl_athletics", 1),
          (troop_raise_skill, "trp_player", "skl_pathfinding", 1),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 10),
          (troop_add_gold, "trp_player", 70),
        (else_try),
          (eq, "$background_answer_19", 51),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_skill, "trp_player", "skl_trainer", 1),
          (troop_raise_skill, "trp_player", "skl_first_aid", 1),
          (troop_add_gold, "trp_player", 20),
          (troop_add_item, "trp_player", "itm_potion_strength"),
        (else_try),
          (eq, "$background_answer_19", 52),
          (troop_raise_attribute, "trp_player", ca_strength, 2),
          (troop_raise_skill, "trp_player", "skl_engineer", 1),
          (troop_raise_skill, "trp_player", "skl_ironflesh", 1),
          (troop_add_gold, "trp_player", 50),
          (troop_add_item, "trp_player", "itm_tools"),
        (else_try),
          (eq, "$background_answer_19", 53),
          (troop_raise_attribute, "trp_player", ca_agility, 1),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_skill, "trp_player", "skl_riding", 2),
          (troop_add_gold, "trp_player", 30),
          (troop_add_item, "trp_player", "itm_spider"),
        (try_end),
        (try_begin),
          (eq, "$background_answer_20", 54),
          (troop_raise_attribute, "trp_player", ca_intelligence, 2),
          (troop_raise_skill, "trp_player", "skl_leadership", 1),
          (troop_raise_skill, "trp_player", "skl_tactics", 1),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 10),
          (troop_add_item, "trp_player", "itm_wine", 0),
          (troop_add_item, "trp_player", "itm_ale", 0),
        (else_try),
          (eq, "$background_answer_20", 55),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_skill, "trp_player", "skl_power_strike", 1),
          (troop_raise_skill, "trp_player", "skl_engineer", 1),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 10),
          (troop_add_item, "trp_player", "itm_iron", 0),
          (troop_add_item, "trp_player", "itm_highelf_sentinel", 0),
        (else_try),
          (eq, "$background_answer_20", 56),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_attribute, "trp_player", ca_agility, 1),
          (troop_raise_skill, "trp_player", "skl_shield", 1),
          (troop_raise_skill, "trp_player", "skl_athletics", 1),
          (troop_raise_proficiency, "trp_player", wpt_polearm, 20),
          (troop_add_item, "trp_player", "itm_elf_spear", 0),
          (troop_add_item, "trp_player", "itm_highelf_shield_spear", 0),
        (else_try),
          (eq, "$background_answer_20", 57),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_attribute, "trp_player", ca_charisma, 1),
          (troop_raise_skill, "trp_player", "skl_persuasion", 1),
          (troop_raise_skill, "trp_player", "skl_riding", 1),
          (troop_raise_proficiency, "trp_player", wpt_polearm, 10),
          (troop_add_item, "trp_player", "itm_saddle_horse", 0),
        (else_try),
          (eq, "$background_answer_20", 58),
          (troop_raise_attribute, "trp_player", ca_charisma, 1),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_skill, "trp_player", "skl_inventory_management", 1),
          (troop_raise_skill, "trp_player", "skl_persuasion", 1),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 10),
          (troop_add_gold, "trp_player", 300),
        (else_try),
          (eq, "$background_answer_20", 60),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_attribute, "trp_player", ca_agility, 1),
          (troop_raise_skill, "trp_player", "skl_prisoner_management", 1),
          (troop_raise_skill, "trp_player", "skl_shield", 1),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 20),
          (troop_add_item, "trp_player", "itm_highelf_shield_spear", 0),
          (troop_add_item, "trp_player", "itm_elf_spear", 0),
        (try_end),
        (try_begin),
          (eq, "$background_answer_21", 61),
          (troop_raise_attribute, "trp_player", ca_agility, 3),
          (troop_raise_skill, "trp_player", "skl_weapon_master", 2),
          (troop_raise_proficiency, "trp_player", wpt_polearm, 80),
          (troop_add_item, "trp_player", "itm_darkelf_spear", 0),
        (else_try),
          (eq, "$background_answer_21", 62),
          (troop_raise_attribute, "trp_player", ca_intelligence, 2),
          (troop_raise_skill, "trp_player", "skl_tactics", 2),
          (troop_raise_skill, "trp_player", "skl_leadership", 1),
          (troop_raise_proficiency, "trp_player", wpt_polearm, 20),
          (troop_add_item, "trp_player", "itm_oil", 0),
        (else_try),
          (eq, "$background_answer_21", 63),
          (troop_raise_attribute, "trp_player", ca_intelligence, 2),
          (troop_raise_skill, "trp_player", "skl_persuasion", 1),
          (troop_raise_skill, "trp_player", "skl_inventory_management", 1),
          (troop_raise_proficiency, "trp_player", wpt_polearm, 10),
          (troop_add_gold, "trp_player", 60),
          (troop_add_item, "trp_player", "itm_oil", 0),
        (else_try),
          (eq, "$background_answer_21", 64),
          (troop_raise_attribute, "trp_player", ca_intelligence, 2),
          (troop_raise_skill, "trp_player", "skl_surgery", 1),
          (troop_raise_skill, "trp_player", "skl_wound_treatment", 1),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 10),
          (troop_add_item, "trp_player", "itm_oil", 0),
        (else_try),
          (eq, "$background_answer_21", 65),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_skill, "trp_player", "skl_engineer", 1),
          (troop_raise_skill, "trp_player", "skl_spotting", 1),
          (troop_raise_proficiency, "trp_player", wpt_crossbow, 40),
          (troop_add_item, "trp_player", "itm_bolts", 0),
          (troop_add_item, "trp_player", "itm_light_crossbow", 0),
        (else_try),
          (eq, "$background_answer_21", 66),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_attribute, "trp_player", ca_agility, 1),
          (troop_raise_skill, "trp_player", "skl_prisoner_management", 2),
          (troop_raise_proficiency, "trp_player", wpt_polearm, 30),
          (troop_add_item, "trp_player", "itm_darkelf_spear", 0),
        (try_end),
        (try_begin),
          (eq, "$background_answer_22", 67),
          (troop_raise_attribute, "trp_player", ca_strength, 2),
          (troop_raise_skill, "trp_player", "skl_power_strike", 1),
          (troop_raise_skill, "trp_player", "skl_constitution", 1),
          (troop_raise_proficiency, "trp_player", wpt_two_handed_weapon, 20),
          (troop_add_item, "trp_player", "itm_dw_pickaxe", 0),
        (else_try),
          (eq, "$background_answer_22", 68),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_attribute, "trp_player", ca_charisma, 1),
          (troop_raise_skill, "trp_player", "skl_trade", 1),
          (troop_raise_skill, "trp_player", "skl_inventory_management", 1),
          (troop_add_gold, "trp_player", 400),
        (else_try),
          (eq, "$background_answer_22", 69),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_attribute, "trp_player", ca_agility, 1),
          (troop_raise_skill, "trp_player", "skl_shield", 1),
          (troop_raise_skill, "trp_player", "skl_athletics", 1),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 20),
          (troop_add_item, "trp_player", "itm_leather_covered_round_shield", 0),
          (troop_add_item, "trp_player", "itm_hand_axe", 0),
        (else_try),
          (eq, "$background_answer_22", 70),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_skill, "trp_player", "skl_power_strike", 1),
          (troop_raise_skill, "trp_player", "skl_trade", 1),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 30),
          (troop_add_item, "trp_player", "itm_dwarf_fighting_axe", 0),
        (else_try),
          (eq, "$background_answer_22", 71),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_attribute, "trp_player", ca_agility, 1),
          (troop_raise_skill, "trp_player", "skl_looting", 1),
          (troop_raise_skill, "trp_player", "skl_tracking", 1),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 10),
          (troop_add_item, "trp_player", "itm_club", 0),
          (troop_add_gold, "trp_player", 150),
        (else_try),
          (eq, "$background_answer_22", 72),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_attribute, "trp_player", ca_agility, 1),
          (troop_raise_skill, "trp_player", "skl_pathfinding", 1),
          (troop_raise_skill, "trp_player", "skl_spotting", 1),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 20),
          (troop_add_item, "trp_player", "itm_dwarf_helmet1", 0),
          (troop_add_item, "trp_player", "itm_flintlock_pistol", 0),
          (troop_add_item, "trp_player", "itm_cartridges", 0),
        (try_end),
        (try_begin),
          (eq, "$background_answer_23", 73),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_skill, "trp_player", "skl_pathfinding", 2),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 20),
          (troop_add_item, "trp_player", "itm_tools", 0),
        (else_try),
          (eq, "$background_answer_23", 74),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_skill, "trp_player", "skl_power_strike", 1),
          (troop_raise_skill, "trp_player", "skl_constitution", 1),
          (troop_add_gold, "trp_player", 40),
          (troop_add_item, "trp_player", "itm_fighting_pick", 0),
        (else_try),
          (eq, "$background_answer_23", 75),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_skill, "trp_player", "skl_shield", 1),
          (troop_raise_skill, "trp_player", "skl_trade", 1),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 20),
          (troop_add_gold, "trp_player", 50),
          (troop_add_item, "trp_player", "itm_skaven_shield", 0),
        (else_try),
          (eq, "$background_answer_23", 76),
          (troop_raise_attribute, "trp_player", ca_agility, 1),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_skill, "trp_player", "skl_ironflesh", 1),
          (troop_raise_skill, "trp_player", "skl_athletics", 1),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 30),
          (troop_add_item, "trp_player", "itm_cheese", 0),
        (else_try),
          (eq, "$background_answer_23", 77),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_attribute, "trp_player", ca_agility, 1),
          (troop_raise_skill, "trp_player", "skl_athletics", 1),
          (troop_raise_skill, "trp_player", "skl_spotting", 1),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 10),
          (troop_add_item, "trp_player", "itm_rat_legs", 0),
        (else_try),
          (eq, "$background_answer_23", 78),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_attribute, "trp_player", ca_charisma, 1),
          (troop_raise_skill, "trp_player", "skl_persuasion", 1),
          (troop_raise_skill, "trp_player", "skl_leadership", 1),
          (troop_add_gold, "trp_player", 300),
        (try_end),
        (try_begin),
          (eq, "$background_answer_46", 94),
          (troop_raise_attribute, "trp_player", ca_strength, 2),
          (troop_raise_skill, "trp_player", "skl_power_strike", 1),
          (troop_raise_skill, "trp_player", "skl_ironflesh", 1),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 20),
          (troop_add_item, "trp_player", "itm_tools", 0),
        (else_try),
          (eq, "$background_answer_46", 95),
          (troop_raise_attribute, "trp_player", ca_intelligence, 2),
          (troop_raise_skill, "trp_player", "skl_wound_treatment", 1),
          (troop_raise_skill, "trp_player", "skl_surgery", 1),
          (troop_add_gold, "trp_player", 40),
          (troop_add_item, "trp_player", "itm_book_intelligence", 0),
        (else_try),
          (eq, "$background_answer_46", 96),
          (troop_raise_attribute, "trp_player", ca_charisma, 2),
          (troop_raise_skill, "trp_player", "skl_persuasion", 1),
          (troop_raise_skill, "trp_player", "skl_trade", 1),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 20),
          (troop_add_gold, "trp_player", 90),
          (troop_add_item, "trp_player", "itm_furs", 0),
        (else_try),
          (eq, "$background_answer_46", 97),
          (troop_raise_attribute, "trp_player", ca_agility, 2),
          (troop_raise_skill, "trp_player", "skl_ironflesh", 1),
          (troop_raise_skill, "trp_player", "skl_athletics", 1),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 30),
        (else_try),
          (eq, "$background_answer_46", 98),
          (troop_raise_attribute, "trp_player", ca_charisma, 1),
          (troop_raise_attribute, "trp_player", ca_agility, 1),
          (troop_raise_skill, "trp_player", "skl_leadership", 1),
          (troop_raise_skill, "trp_player", "skl_tracking", 1),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 10),
          (troop_add_item, "trp_player", "itm_house_shoes", 0),
        (else_try),
          (eq, "$background_answer_46", 99),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_attribute, "trp_player", ca_agility, 1),
          (troop_raise_skill, "trp_player", "skl_looting", 1),
          (troop_raise_skill, "trp_player", "skl_inventory_management", 1),
          (troop_add_gold, "trp_player", 300),
        (try_end),
        (try_begin),
          (eq, "$background_answer_52", 106),
          (troop_raise_attribute, "trp_player", ca_strength, 2),
          (troop_raise_skill, "trp_player", "skl_power_strike", 1),
          (troop_raise_skill, "trp_player", "skl_ironflesh", 1),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 30),
          (troop_add_item, "trp_player", "itm_potion_healing"),
        (else_try),
          (eq, "$background_answer_52", 107),
          (troop_raise_attribute, "trp_player", ca_agility, 1),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_skill, "trp_player", "skl_pathfinding", 1),
          (troop_raise_skill, "trp_player", "skl_tracking", 1),
          (troop_add_gold, "trp_player", 90),
          (troop_raise_proficiency, "trp_player", wpt_firearm, 30),
          (troop_add_item, "trp_player", "itm_flintlock_pistol"),
          (troop_add_item, "trp_player", "itm_cartridges"),
        (else_try),
          (eq, "$background_answer_52", 108),
          (troop_raise_attribute, "trp_player", ca_intelligence, 2),
          (troop_raise_skill, "trp_player", "skl_magic_control", 1),
          (troop_raise_skill, "trp_player", "skl_surgery", 1),
          (troop_add_item, "trp_player", "itm_oil"),
        (else_try),
          (eq, "$background_answer_52", 109),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_attribute, "trp_player", ca_charisma, 1),
          (troop_raise_skill, "trp_player", "skl_constitution", 1),
          (troop_raise_skill, "trp_player", "skl_leadership", 1),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 10),
          (troop_add_item, "trp_player", "itm_dried_meat"),
          (troop_add_item, "trp_player", "itm_sausages"),
          (troop_add_item, "trp_player", "itm_bread"),
          (troop_add_item, "trp_player", "itm_honey"),
        (else_try),
          (eq, "$background_answer_52", 110),
          (troop_raise_attribute, "trp_player", ca_charisma, 2),
          (troop_raise_skill, "trp_player", "skl_trade", 1),
          (troop_raise_skill, "trp_player", "skl_prisoner_management", 1),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 10),
          (troop_add_item, "trp_player", "itm_chaosdwarf_full6"),
        (else_try),
          (eq, "$background_answer_52", 111),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_attribute, "trp_player", ca_agility, 1),
          (troop_raise_skill, "trp_player", "skl_engineer", 1),
          (troop_raise_skill, "trp_player", "skl_looting", 1),
          (troop_add_item, "trp_player", "itm_tools", 0),
          (troop_add_item, "trp_player", "itm_ale", 0),
        (try_end),
        (try_begin),
          (eq, "$background_answer_49", 100),
          (troop_raise_attribute, "trp_player", ca_intelligence, 2),
          (troop_raise_skill, "trp_player", "skl_engineer", 2),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 20),
          (troop_add_item, "trp_player", "itm_velvet", 0),
        (else_try),
          (eq, "$background_answer_49", 101),
          (troop_raise_attribute, "trp_player", ca_agility, 2),
          (troop_raise_skill, "trp_player", "skl_power_draw", 1),
          (troop_raise_skill, "trp_player", "skl_horse_archery", 1),
          (troop_add_gold, "trp_player", 40),
          (troop_add_item, "trp_player", "itm_short_bow", 0),
          (troop_add_item, "trp_player", "itm_arrows", 0),
        (else_try),
          (eq, "$background_answer_49", 102),
          (troop_raise_attribute, "trp_player", ca_charisma, 1),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_skill, "trp_player", "skl_tactics", 1),
          (troop_raise_skill, "trp_player", "skl_leadership", 1),
          (troop_raise_proficiency, "trp_player", wpt_polearm, 20),
          (troop_add_gold, "trp_player", 90),
          (val_add, "$player_right_to_rule", 20),
          (troop_get_slot, ":var0", "trp_player", 7),
          (val_add, ":var0", 250),
          (troop_set_slot, "trp_player", 7, ":var0"),
        (else_try),
          (eq, "$background_answer_49", 103),
          (troop_raise_attribute, "trp_player", ca_agility, 1),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_skill, "trp_player", "skl_trainer", 1),
          (troop_raise_skill, "trp_player", "skl_tracking", 1),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 30),
          (troop_add_item, "trp_player", "itm_elven_spear", 0),
        (else_try),
          (eq, "$background_answer_49", 104),
          (troop_raise_attribute, "trp_player", ca_charisma, 1),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_skill, "trp_player", "skl_persuasion", 2),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 10),
          (troop_add_item, "trp_player", "itm_book_intelligence", 0),
        (else_try),
          (eq, "$background_answer_49", 105),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_attribute, "trp_player", ca_agility, 1),
          (troop_raise_skill, "trp_player", "skl_power_strike", 1),
          (troop_raise_skill, "trp_player", "skl_riding", 1),
          (troop_add_item, "trp_player", "itm_light_lance", 0),
          (troop_add_item, "trp_player", "itm_saddle_horse", 0),
        (try_end),
        (try_begin),
          (eq, "$background_answer_24", 1),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_attribute, "trp_player", ca_agility, 1),
          (troop_raise_skill, "trp_player", "skl_athletics", 1),
          (troop_raise_skill, "trp_player", "skl_power_strike", 1),
          (troop_raise_skill, "trp_player", "skl_shield", 1),
          (troop_raise_skill, "trp_player", "skl_pathfinding", 1),
          (troop_add_gold, "trp_player", 20),
          (troop_raise_proficiency, "trp_player", wpt_polearm, 30),
          (troop_raise_proficiency, "trp_player", wpt_crossbow, 25),
          (troop_add_item, "trp_player", "itm_bolts", 0),
          (troop_add_item, "trp_player", "itm_light_crossbow", 0),
        (else_try),
          (eq, "$background_answer_24", 2),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_attribute, "trp_player", ca_agility, 1),
          (troop_raise_skill, "trp_player", "skl_looting", 2),
          (troop_raise_skill, "trp_player", "skl_power_strike", 1),
          (troop_raise_skill, "trp_player", "skl_ironflesh", 1),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 15),
          (troop_add_gold, "trp_player", 280),
          (troop_add_item, "trp_player", "itm_club", 0),
        (else_try),
          (eq, "$background_answer_24", 3),
          (troop_raise_attribute, "trp_player", ca_charisma, 1),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_skill, "trp_player", "skl_riding", 1),
          (troop_raise_skill, "trp_player", "skl_trade", 1),
          (troop_raise_skill, "trp_player", "skl_pathfinding", 1),
          (troop_raise_skill, "trp_player", "skl_inventory_management", 1),
          (troop_add_gold, "trp_player", 700),
        (else_try),
          (eq, "$background_answer_24", 4),
          (troop_raise_attribute, "trp_player", ca_agility, 1),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_skill, "trp_player", "skl_weapon_master", 1),
          (troop_raise_skill, "trp_player", "skl_trade", 1),
          (troop_raise_skill, "trp_player", "skl_inventory_management", 1),
          (troop_raise_skill, "trp_player", "skl_surgery", 1),
          (troop_add_gold, "trp_player", 100),
          (troop_raise_proficiency, "trp_player", wpt_firearm, 100),
          (troop_add_item, "trp_player", "itm_cavalry_pistol", 0),
          (troop_add_item, "trp_player", "itm_cartridges", 0),
        (else_try),
          (eq, "$background_answer_24", 5),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_attribute, "trp_player", ca_agility, 1),
          (troop_raise_skill, "trp_player", "skl_athletics", 1),
          (troop_raise_skill, "trp_player", "skl_ironflesh", 1),
          (troop_raise_skill, "trp_player", "skl_power_strike", 1),
          (troop_raise_skill, "trp_player", "skl_tactics", 1),
          (troop_add_gold, "trp_player", 30),
          (troop_raise_proficiency, "trp_player", wpt_throwing, 90),
          (troop_add_gold, "trp_player", 300),
          (call_script, "script_change_troop_renown", "trp_player", 30),
        (else_try),
          (eq, "$background_answer_24", 6),
          (troop_raise_attribute, "trp_player", ca_charisma, 1),
          (troop_raise_attribute, "trp_player", ca_agility, 1),
          (troop_raise_skill, "trp_player", "skl_riding", 1),
          (troop_raise_skill, "trp_player", "skl_pathfinding", 2),
          (troop_raise_skill, "trp_player", "skl_horse_archery", 1),
          (troop_add_gold, "trp_player", 20),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 20),
          (troop_raise_proficiency, "trp_player", wpt_crossbow, 20),
          (troop_add_item, "trp_player", "itm_courser", 0),
        (try_end),
        (try_begin),
          (eq, "$background_answer_25", 7),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_attribute, "trp_player", ca_agility, 1),
          (troop_raise_skill, "trp_player", "skl_riding", 1),
          (troop_raise_skill, "trp_player", "skl_tracking", 1),
          (troop_raise_skill, "trp_player", "skl_spotting", 1),
          (troop_raise_skill, "trp_player", "skl_pathfinding", 1),
          (troop_add_gold, "trp_player", 20),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 30),
          (troop_raise_proficiency, "trp_player", wpt_crossbow, 25),
          (troop_add_item, "trp_player", "itm_saddle_horse", 0),
          (troop_add_item, "trp_player", "itm_hunting_bow", 0),
          (troop_add_item, "trp_player", "itm_arrows", 0),
        (else_try),
          (eq, "$background_answer_25", 8),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_attribute, "trp_player", ca_agility, 1),
          (troop_raise_skill, "trp_player", "skl_athletics", 2),
          (troop_raise_skill, "trp_player", "skl_power_strike", 1),
          (troop_raise_skill, "trp_player", "skl_ironflesh", 1),
          (troop_raise_proficiency, "trp_player", wpt_two_handed_weapon, 15),
          (troop_add_gold, "trp_player", 100),
          (call_script, "script_change_troop_renown", "trp_player", 30),
        (else_try),
          (eq, "$background_answer_25", 9),
          (troop_raise_attribute, "trp_player", ca_agility, 1),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_skill, "trp_player", "skl_athletics", 2),
          (troop_raise_skill, "trp_player", "skl_constitution", 1),
          (troop_raise_skill, "trp_player", "skl_inventory_management", 1),
          (troop_add_gold, "trp_player", 10),
          (troop_add_item, "trp_player", "itm_club", 0),
        (else_try),
          (eq, "$background_answer_25", 10),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_skill, "trp_player", "skl_engineer", 2),
          (troop_raise_skill, "trp_player", "skl_tactics", 1),
          (troop_raise_skill, "trp_player", "skl_trainer", 1),
          (troop_add_gold, "trp_player", 100),
          (troop_raise_proficiency, "trp_player", wpt_firearm, 30),
          (troop_add_item, "trp_player", "itm_tools", 0),
        (else_try),
          (eq, "$background_answer_25", 11),
          (troop_raise_attribute, "trp_player", ca_strength, 2),
          (troop_raise_skill, "trp_player", "skl_athletics", 1),
          (troop_raise_skill, "trp_player", "skl_spotting", 1),
          (troop_raise_skill, "trp_player", "skl_power_draw", 2),
          (troop_add_gold, "trp_player", 20),
          (troop_raise_proficiency, "trp_player", wpt_archery, 90),
          (troop_add_item, "trp_player", "itm_short_bow", 0),
          (troop_add_item, "trp_player", "itm_arrows", 0),
        (else_try),
          (eq, "$background_answer_25", 12),
          (troop_raise_attribute, "trp_player", ca_charisma, 1),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_skill, "trp_player", "skl_riding", 1),
          (troop_raise_skill, "trp_player", "skl_persuasion", 2),
          (troop_raise_skill, "trp_player", "skl_inventory_management", 1),
          (troop_add_gold, "trp_player", 80),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 20),
          (troop_add_item, "trp_player", "itm_wine", 0),
          (call_script, "script_change_troop_renown", "trp_player", 10),
        (try_end),
        (try_begin),
          (eq, "$background_answer_26", 13),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_attribute, "trp_player", ca_agility, 1),
          (troop_raise_skill, "trp_player", "skl_spotting", 1),
          (troop_raise_skill, "trp_player", "skl_prisoner_management", 1),
          (troop_raise_skill, "trp_player", "skl_pathfinding", 1),
          (troop_raise_skill, "trp_player", "skl_looting", 1),
          (troop_add_gold, "trp_player", 60),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 30),
          (troop_raise_proficiency, "trp_player", wpt_crossbow, 50),
          (troop_add_item, "trp_player", "itm_corsair_armour", 0),
          (troop_add_item, "trp_player", "itm_sword_khergit_1", 0),
        (else_try),
          (eq, "$background_answer_26", 14),
          (troop_raise_attribute, "trp_player", ca_intelligence, 2),
          (troop_raise_skill, "trp_player", "skl_surgery", 2),
          (troop_raise_skill, "trp_player", "skl_first_aid", 1),
          (troop_raise_skill, "trp_player", "skl_wound_treatment", 1),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 15),
          (troop_add_gold, "trp_player", 360),
          (call_script, "script_change_troop_renown", "trp_player", 20),
          (troop_add_item, "trp_player", "itm_linen", 0),
        (else_try),
          (eq, "$background_answer_26", 15),
          (troop_raise_attribute, "trp_player", ca_charisma, 1),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_skill, "trp_player", "skl_trade", 2),
          (troop_raise_skill, "trp_player", "skl_riding", 1),
          (troop_raise_skill, "trp_player", "skl_inventory_management", 1),
          (troop_add_gold, "trp_player", 200),
          (troop_add_item, "trp_player", "itm_linen", 0),
          (troop_add_item, "trp_player", "itm_raw_dyes", 0),
        (else_try),
          (eq, "$background_answer_26", 17),
          (troop_raise_attribute, "trp_player", ca_charisma, 1),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_skill, "trp_player", "skl_trade", 2),
          (troop_raise_skill, "trp_player", "skl_pathfinding", 1),
          (troop_raise_skill, "trp_player", "skl_inventory_management", 1),
          (troop_add_gold, "trp_player", 500),
          (troop_raise_proficiency, "trp_player", wpt_archery, 30),
        (else_try),
          (eq, "$background_answer_26", 79),
          (troop_raise_attribute, "trp_player", ca_strength, 2),
          (troop_raise_skill, "trp_player", "skl_athletics", 1),
          (troop_raise_skill, "trp_player", "skl_spotting", 1),
          (troop_raise_skill, "trp_player", "skl_prisoner_management", 2),
          (troop_add_gold, "trp_player", 20),
          (troop_raise_proficiency, "trp_player", wpt_polearm, 50),
          (troop_add_item, "trp_player", "itm_spear", 0),
        (else_try),
          (eq, "$background_answer_26", 18),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_skill, "trp_player", "skl_pathfinding", 1),
          (troop_raise_skill, "trp_player", "skl_riding", 2),
          (troop_raise_skill, "trp_player", "skl_spotting", 1),
          (troop_add_gold, "trp_player", 30),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 20),
          (troop_add_item, "trp_player", "itm_arabian_horse_b", 0),
        (try_end),
        (try_begin),
          (eq, "$background_answer_27", 19),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_attribute, "trp_player", ca_charisma, 1),
          (troop_raise_skill, "trp_player", "skl_persuasion", 2),
          (troop_raise_skill, "trp_player", "skl_power_draw", 1),
          (troop_raise_skill, "trp_player", "skl_trade", 1),
          (troop_add_gold, "trp_player", 35),
          (troop_raise_proficiency, "trp_player", wpt_archery, 30),
          (troop_add_item, "trp_player", "itm_short_bow", 0),
          (troop_add_item, "trp_player", "itm_arrows", 0),
          (troop_add_gold, "trp_player", 50),
        (else_try),
          (eq, "$background_answer_27", 20),
          (troop_raise_attribute, "trp_player", ca_strength, 2),
          (troop_raise_skill, "trp_player", "skl_power_strike", 2),
          (troop_raise_skill, "trp_player", "skl_prisoner_management", 1),
          (troop_raise_skill, "trp_player", "skl_ironflesh", 1),
          (troop_raise_proficiency, "trp_player", wpt_two_handed_weapon, 25),
          (troop_add_gold, "trp_player", 20),
          (troop_add_item, "trp_player", "itm_gekokujo_konsaibo_1", 0),
        (else_try),
          (eq, "$background_answer_27", 21),
          (troop_raise_attribute, "trp_player", ca_intelligence, 2),
          (troop_raise_skill, "trp_player", "skl_engineer", 2),
          (troop_raise_skill, "trp_player", "skl_inventory_management", 1),
          (troop_raise_skill, "trp_player", "skl_trade", 1),
          (troop_add_gold, "trp_player", 300),
          (troop_add_item, "trp_player", "itm_long_pistol", 0),
          (troop_add_item, "trp_player", "itm_cartridges", 0),
        (else_try),
          (eq, "$background_answer_27", 22),
          (troop_raise_attribute, "trp_player", ca_agility, 2),
          (troop_raise_skill, "trp_player", "skl_power_throw", 2),
          (troop_raise_skill, "trp_player", "skl_athletics", 2),
          (troop_add_item, "trp_player", "itm_ninja_hood", 0),
          (troop_add_item, "trp_player", "itm_ninja_tunic", 0),
        (else_try),
          (eq, "$background_answer_27", 23),
          (troop_raise_attribute, "trp_player", ca_charisma, 2),
          (troop_raise_skill, "trp_player", "skl_leadership", 2),
          (troop_raise_skill, "trp_player", "skl_tactics", 1),
          (troop_raise_skill, "trp_player", "skl_trainer", 1),
          (troop_add_gold, "trp_player", 30),
          (troop_add_item, "trp_player", "itm_saddle_horse", 0),
        (else_try),
          (eq, "$background_answer_27", 24),
          (troop_raise_attribute, "trp_player", ca_agility, 1),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_skill, "trp_player", "skl_weapon_master", 2),
          (troop_raise_skill, "trp_player", "skl_athletics", 2),
          (troop_add_gold, "trp_player", 120),
          (troop_raise_proficiency, "trp_player", wpt_polearm, 20),
          (troop_add_item, "trp_player", "itm_raw_leather", 0),
          (troop_add_item, "trp_player", "itm_padded_leather", 0),
        (try_end),
        (try_begin),
          (eq, "$background_answer_28", 25),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_attribute, "trp_player", ca_charisma, 1),
          (troop_raise_skill, "trp_player", "skl_persuasion", 2),
          (troop_raise_skill, "trp_player", "skl_riding", 1),
          (troop_raise_skill, "trp_player", "skl_pathfinding", 1),
          (troop_add_gold, "trp_player", 20),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 20),
          (troop_add_item, "trp_player", "itm_saddle_horse", 0),
        (else_try),
          (eq, "$background_answer_28", 26),
          (troop_raise_attribute, "trp_player", ca_agility, 2),
          (troop_raise_skill, "trp_player", "skl_looting", 3),
          (troop_raise_skill, "trp_player", "skl_inventory_management", 1),
          (troop_raise_proficiency, "trp_player", wpt_two_handed_weapon, 10),
          (troop_add_gold, "trp_player", 450),
        (else_try),
          (eq, "$background_answer_28", 27),
          (troop_raise_attribute, "trp_player", ca_agility, 1),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_skill, "trp_player", "skl_weapon_master", 1),
          (troop_raise_skill, "trp_player", "skl_inventory_management", 1),
          (troop_raise_skill, "trp_player", "skl_trade", 2),
          (troop_raise_proficiency, "trp_player", wpt_firearm, 100),
          (troop_add_gold, "trp_player", 300),
          (troop_add_item, "trp_player", "itm_pirate_pistol", 0),
          (troop_add_item, "trp_player", "itm_cartridges", 0),
        (else_try),
          (eq, "$background_answer_28", 28),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_attribute, "trp_player", ca_charisma, 1),
          (troop_raise_skill, "trp_player", "skl_surgery", 1),
          (troop_raise_skill, "trp_player", "skl_first_aid", 2),
          (troop_raise_skill, "trp_player", "skl_wound_treatment", 1),
          (troop_add_gold, "trp_player", 170),
          (troop_add_item, "trp_player", "itm_linen", 0),
        (else_try),
          (eq, "$background_answer_28", 29),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_attribute, "trp_player", ca_agility, 1),
          (troop_raise_skill, "trp_player", "skl_ironflesh", 1),
          (troop_raise_skill, "trp_player", "skl_power_strike", 1),
          (troop_raise_skill, "trp_player", "skl_athletics", 2),
          (troop_add_gold, "trp_player", 130),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 30),
          (troop_add_item, "trp_player", "itm_falchion", 0),
        (else_try),
          (eq, "$background_answer_28", 30),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_attribute, "trp_player", ca_agility, 1),
          (troop_raise_skill, "trp_player", "skl_ironflesh", 1),
          (troop_raise_skill, "trp_player", "skl_athletics", 2),
          (troop_raise_skill, "trp_player", "skl_first_aid", 1),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 20),
          (troop_add_item, "trp_player", "itm_bread", 0),
        (try_end),
        (try_begin),
          (eq, "$background_answer_29", 31),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_skill, "trp_player", "skl_tracking", 1),
          (troop_raise_skill, "trp_player", "skl_spotting", 1),
          (troop_raise_skill, "trp_player", "skl_pathfinding", 1),
          (troop_raise_skill, "trp_player", "skl_athletics", 1),
          (troop_add_gold, "trp_player", 75),
          (troop_raise_proficiency, "trp_player", wpt_archery, 30),
          (troop_add_item, "trp_player", "itm_raw_leather", 0),
          (troop_add_item, "trp_player", "itm_dried_meat", 0),
        (else_try),
          (eq, "$background_answer_29", 32),
          (troop_raise_attribute, "trp_player", ca_strength, 2),
          (troop_raise_skill, "trp_player", "skl_ironflesh", 2),
          (troop_raise_skill, "trp_player", "skl_athletics", 1),
          (troop_raise_skill, "trp_player", "skl_power_strike", 1),
          (troop_raise_proficiency, "trp_player", wpt_throwing, 95),
          (troop_add_gold, "trp_player", 40),
          (call_script, "script_change_troop_renown", "trp_player", 30),
        (else_try),
          (eq, "$background_answer_29", 33),
          (troop_raise_attribute, "trp_player", ca_agility, 1),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_skill, "trp_player", "skl_athletics", 2),
          (troop_raise_skill, "trp_player", "skl_spotting", 1),
          (troop_raise_skill, "trp_player", "skl_power_strike", 1),
          (troop_raise_proficiency, "trp_player", wpt_two_handed_weapon, 45),
          (troop_raise_proficiency, "trp_player", wpt_throwing, 45),
          (troop_add_gold, "trp_player", 30),
          (troop_add_item, "trp_player", "itm_saddle_horse", 0),
        (else_try),
          (eq, "$background_answer_29", 34),
          (troop_raise_attribute, "trp_player", ca_strength, 5),
          (troop_raise_skill, "trp_player", "skl_leadership", 3),
          (troop_raise_skill, "trp_player", "skl_tactics", 3),
          (troop_raise_skill, "trp_player", "skl_engineer", 3),
          (troop_add_item, "trp_player", "itm_chaos_sword1", 0),
        (else_try),
          (eq, "$background_answer_29", 35),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_attribute, "trp_player", ca_charisma, 1),
          (troop_raise_skill, "trp_player", "skl_spotting", 1),
          (troop_raise_skill, "trp_player", "skl_trade", 1),
          (troop_raise_skill, "trp_player", "skl_prisoner_management", 2),
          (troop_add_gold, "trp_player", 420),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 30),
        (else_try),
          (eq, "$background_answer_29", 36),
          (troop_raise_attribute, "trp_player", ca_charisma, 1),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_skill, "trp_player", "skl_trade", 1),
          (troop_raise_skill, "trp_player", "skl_shield", 2),
          (troop_raise_skill, "trp_player", "skl_inventory_management", 1),
          (troop_add_gold, "trp_player", 200),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 20),
          (troop_add_item, "trp_player", "itm_marauder__shield3", 0),
        (try_end),
        (try_begin),
          (eq, "$background_answer_30", 37),
          (troop_raise_attribute, "trp_player", ca_strength, 2),
          (troop_raise_skill, "trp_player", "skl_tactics", 1),
          (troop_raise_skill, "trp_player", "skl_athletics", 2),
          (troop_raise_skill, "trp_player", "skl_power_throw", 1),
          (troop_add_gold, "trp_player", 130),
          (troop_raise_proficiency, "trp_player", wpt_throwing, 50),
          (call_script, "script_change_troop_renown", "trp_player", 30),
        (else_try),
          (eq, "$background_answer_30", 38),
          (troop_raise_attribute, "trp_player", ca_intelligence, 2),
          (troop_raise_skill, "trp_player", "skl_riding", 2),
          (troop_raise_skill, "trp_player", "skl_spotting", 1),
          (troop_raise_skill, "trp_player", "skl_tracking", 1),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 20),
          (troop_add_gold, "trp_player", 80),
          (troop_add_item, "trp_player", "itm_coldone", 0),
        (else_try),
          (eq, "$background_answer_30", 39),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_skill, "trp_player", "skl_inventory_management", 1),
          (troop_raise_skill, "trp_player", "skl_trade", 1),
          (troop_raise_skill, "trp_player", "skl_weapon_master", 2),
          (troop_raise_proficiency, "trp_player", wpt_two_handed_weapon, 60),
          (troop_add_gold, "trp_player", 70),
          (troop_add_item, "trp_player", "itm_saurus_spear", 0),
        (else_try),
          (eq, "$background_answer_30", 40),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_skill, "trp_player", "skl_trade", 1),
          (troop_raise_skill, "trp_player", "skl_shield", 3),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 20),
          (troop_add_gold, "trp_player", 100),
          (troop_add_item, "trp_player", "itm_saurus_shield", 0),
        (else_try),
          (eq, "$background_answer_30", 41),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_attribute, "trp_player", ca_charisma, 1),
          (troop_raise_skill, "trp_player", "skl_ironflesh", 1),
          (troop_raise_skill, "trp_player", "skl_power_strike", 1),
          (troop_raise_skill, "trp_player", "skl_trainer", 2),
          (troop_add_gold, "trp_player", 130),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 30),
          (call_script, "script_change_troop_renown", "trp_player", 40),
          (troop_add_item, "trp_player", "itm_saurus_shield", 0),
        (else_try),
          (eq, "$background_answer_30", 42),
          (troop_raise_attribute, "trp_player", ca_intelligence, 2),
          (troop_raise_skill, "trp_player", "skl_persuasion", 1),
          (troop_raise_skill, "trp_player", "skl_leadership", 1),
          (troop_raise_skill, "trp_player", "skl_inventory_management", 2),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 20),
          (troop_add_gold, "trp_player", 380),
        (try_end),
        (try_begin),
          (eq, "$background_answer_31", 43),
          (troop_raise_attribute, "trp_player", ca_strength, 2),
          (troop_raise_skill, "trp_player", "skl_power_strike", 1),
          (troop_raise_skill, "trp_player", "skl_ironflesh", 1),
          (troop_raise_skill, "trp_player", "skl_leadership", 2),
          (troop_add_gold, "trp_player", 80),
          (troop_add_item, "trp_player", "itm_orcvet_helmet", 0),
        (else_try),
          (eq, "$background_answer_31", 44),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_attribute, "trp_player", ca_charisma, 1),
          (troop_raise_skill, "trp_player", "skl_persuasion", 1),
          (troop_raise_skill, "trp_player", "skl_leadership", 1),
          (troop_raise_skill, "trp_player", "skl_surgery", 1),
          (troop_raise_skill, "trp_player", "skl_wound_treatment", 1),
          (troop_raise_proficiency, "trp_player", wpt_polearm, 40),
          (troop_add_gold, "trp_player", 60),
          (call_script, "script_change_troop_renown", "trp_player", 30),
          (troop_add_item, "trp_player", "itm_furs", 0),
        (else_try),
          (eq, "$background_answer_31", 45),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_skill, "trp_player", "skl_inventory_management", 1),
          (troop_raise_skill, "trp_player", "skl_engineer", 1),
          (troop_raise_skill, "trp_player", "skl_trade", 1),
          (troop_raise_skill, "trp_player", "skl_power_strike", 1),
          (troop_raise_proficiency, "trp_player", wpt_two_handed_weapon, 10),
          (troop_add_gold, "trp_player", 70),
          (troop_add_item, "trp_player", "itm_leatherwork", 0),
        (else_try),
          (eq, "$background_answer_31", 46),
          (troop_raise_attribute, "trp_player", ca_charisma, 1),
          (troop_raise_attribute, "trp_player", ca_agility, 1),
          (troop_raise_skill, "trp_player", "skl_looting", 2),
          (troop_raise_skill, "trp_player", "skl_inventory_management", 1),
          (troop_raise_skill, "trp_player", "skl_trade", 1),
          (troop_add_gold, "trp_player", 70),
          (troop_add_item, "trp_player", "itm_ale", 0),
        (else_try),
          (eq, "$background_answer_31", 47),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_attribute, "trp_player", ca_agility, 1),
          (troop_raise_skill, "trp_player", "skl_pathfinding", 1),
          (troop_raise_skill, "trp_player", "skl_shield", 1),
          (troop_raise_skill, "trp_player", "skl_power_strike", 1),
          (troop_raise_skill, "trp_player", "skl_spotting", 1),
          (troop_add_gold, "trp_player", 40),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 20),
          (troop_raise_proficiency, "trp_player", wpt_two_handed_weapon, 20),
          (troop_add_item, "trp_player", "itm_orc_shield3", 0),
        (else_try),
          (eq, "$background_answer_31", 48),
          (troop_raise_attribute, "trp_player", ca_agility, 2),
          (troop_raise_skill, "trp_player", "skl_power_strike", 1),
          (troop_raise_skill, "trp_player", "skl_looting", 1),
          (troop_raise_skill, "trp_player", "skl_athletics", 2),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 20),
          (troop_add_gold, "trp_player", 70),
          (troop_add_item, "trp_player", "itm_iron", 0),
        (try_end),
        (try_begin),
          (eq, "$background_answer_32", 49),
          (troop_raise_attribute, "trp_player", ca_intelligence, 2),
          (troop_raise_skill, "trp_player", "skl_magic_control", 2),
          (troop_raise_skill, "trp_player", "skl_first_aid", 1),
          (troop_raise_skill, "trp_player", "skl_wound_treatment", 1),
          (troop_add_gold, "trp_player", 20),
          (troop_add_item, "trp_player", "itm_potion_healing", 0),
        (else_try),
          (eq, "$background_answer_32", 50),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_attribute, "trp_player", ca_agility, 1),
          (troop_raise_skill, "trp_player", "skl_constitution", 4),
          (troop_raise_skill, "trp_player", "skl_athletics", 4),
          (troop_add_item, "trp_player", "itm_salt", 0),
        (else_try),
          (eq, "$background_answer_32", 51),
          (troop_raise_attribute, "trp_player", ca_strength, 2),
          (troop_raise_skill, "trp_player", "skl_ironflesh", 4),
          (troop_add_item, "trp_player", "itm_gob_hood", 0),
        (else_try),
          (eq, "$background_answer_32", 52),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_attribute, "trp_player", ca_agility, 1),
          (troop_raise_skill, "trp_player", "skl_athletics", 2),
          (troop_raise_skill, "trp_player", "skl_power_strike", 2),
          (troop_add_gold, "trp_player", 30),
          (troop_add_item, "trp_player", "itm_spear", 0),
        (else_try),
          (eq, "$background_answer_32", 53),
          (troop_raise_attribute, "trp_player", ca_agility, 2),
          (troop_raise_skill, "trp_player", "skl_looting", 1),
          (troop_raise_skill, "trp_player", "skl_power_strike", 1),
          (troop_raise_skill, "trp_player", "skl_riding", 2),
          (troop_add_gold, "trp_player", 30),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 30),
          (troop_add_item, "trp_player", "itm_wolf", 0),
        (else_try),
          (eq, "$background_answer_32", 54),
          (troop_raise_attribute, "trp_player", ca_charisma, 2),
          (troop_raise_skill, "trp_player", "skl_leadership", 1),
          (troop_raise_skill, "trp_player", "skl_trainer", 1),
          (troop_raise_skill, "trp_player", "skl_tactics", 2),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 20),
          (troop_add_gold, "trp_player", 40),
          (troop_add_item, "trp_player", "itm_dried_meat", 0),
        (try_end),
        (try_begin),
          (eq, "$background_answer_33", 55),
          (troop_raise_attribute, "trp_player", ca_intelligence, 2),
          (troop_raise_skill, "trp_player", "skl_leadership", 1),
          (troop_raise_skill, "trp_player", "skl_persuasion", 2),
          (troop_raise_skill, "trp_player", "skl_trade", 1),
          (troop_add_gold, "trp_player", 300),
          (troop_raise_proficiency, "trp_player", wpt_polearm, 50),
        (else_try),
          (eq, "$background_answer_33", 56),
          (troop_raise_attribute, "trp_player", ca_agility, 1),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_skill, "trp_player", "skl_athletics", 2),
          (troop_raise_skill, "trp_player", "skl_ironflesh", 1),
          (troop_raise_skill, "trp_player", "skl_tactics", 1),
          (troop_raise_proficiency, "trp_player", wpt_throwing, 50),
          (troop_add_gold, "trp_player", 50),
          (troop_add_item, "trp_player", "itm_leather_boots", 0),
          (call_script, "script_change_troop_renown", "trp_player", 30),
        (else_try),
          (eq, "$background_answer_33", 57),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_attribute, "trp_player", ca_agility, 1),
          (troop_raise_skill, "trp_player", "skl_athletics", 1),
          (troop_raise_skill, "trp_player", "skl_inventory_management", 1),
          (troop_raise_skill, "trp_player", "skl_looting", 2),
          (troop_raise_proficiency, "trp_player", wpt_archery, 50),
          (troop_add_gold, "trp_player", 200),
          (troop_add_item, "trp_player", "itm_short_bow", 0),
          (troop_add_item, "trp_player", "itm_arrows", 0),
        (else_try),
          (eq, "$background_answer_33", 58),
          (troop_raise_attribute, "trp_player", ca_strength, 2),
          (troop_raise_skill, "trp_player", "skl_weapon_master", 1),
          (troop_raise_skill, "trp_player", "skl_power_draw", 3),
          (troop_raise_proficiency, "trp_player", wpt_archery, 20),
          (troop_add_gold, "trp_player", 20),
          (troop_add_item, "trp_player", "itm_nomad_bow", 0),
          (troop_add_item, "trp_player", "itm_arrows", 0),
        (else_try),
          (eq, "$background_answer_33", 59),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_attribute, "trp_player", ca_agility, 1),
          (troop_raise_skill, "trp_player", "skl_trade", 1),
          (troop_raise_skill, "trp_player", "skl_inventory_management", 1),
          (troop_raise_skill, "trp_player", "skl_riding", 2),
          (troop_add_gold, "trp_player", 70),
          (troop_raise_proficiency, "trp_player", wpt_archery, 30),
          (troop_add_item, "trp_player", "itm_saddle_horse", 0),
        (else_try),
          (eq, "$background_answer_33", 60),
          (troop_raise_attribute, "trp_player", ca_intelligence, 2),
          (troop_raise_skill, "trp_player", "skl_tactics", 1),
          (troop_raise_skill, "trp_player", "skl_engineer", 2),
          (troop_raise_skill, "trp_player", "skl_weapon_master", 1),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 20),
          (troop_add_gold, "trp_player", 40),
          (troop_add_item, "trp_player", "itm_tools", 0),
        (try_end),
        (try_begin),
          (eq, "$background_answer_34", 61),
          (troop_raise_attribute, "trp_player", ca_intelligence, 2),
          (troop_raise_skill, "trp_player", "skl_surgery", 2),
          (troop_raise_skill, "trp_player", "skl_power_strike", 2),
          (troop_add_gold, "trp_player", 40),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 50),
          (troop_add_item, "trp_player", "itm_butchering_knife", 0),
        (else_try),
          (eq, "$background_answer_34", 62),
          (troop_raise_attribute, "trp_player", ca_agility, 1),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_skill, "trp_player", "skl_athletics", 2),
          (troop_raise_skill, "trp_player", "skl_ironflesh", 1),
          (troop_raise_skill, "trp_player", "skl_tactics", 1),
          (troop_raise_proficiency, "trp_player", wpt_throwing, 50),
          (troop_add_gold, "trp_player", 160),
          (call_script, "script_change_troop_renown", "trp_player", 50),
          (troop_add_item, "trp_player", "itm_black_boots", 0),
        (else_try),
          (eq, "$background_answer_34", 63),
          (troop_raise_attribute, "trp_player", ca_intelligence, 2),
          (troop_raise_skill, "trp_player", "skl_tracking", 1),
          (troop_raise_skill, "trp_player", "skl_spotting", 1),
          (troop_raise_skill, "trp_player", "skl_pathfinding", 2),
          (troop_raise_proficiency, "trp_player", wpt_crossbow, 30),
          (troop_add_gold, "trp_player", 40),
          (troop_add_item, "trp_player", "itm_oil", 0),
        (else_try),
          (eq, "$background_answer_34", 64),
          (troop_raise_attribute, "trp_player", ca_charisma, 1),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_skill, "trp_player", "skl_leadership", 1),
          (troop_raise_skill, "trp_player", "skl_persuasion", 3),
          (troop_raise_proficiency, "trp_player", wpt_polearm, 60),
          (troop_add_gold, "trp_player", 150),
          (troop_add_item, "trp_player", "itm_saddle_horse", 0),
        (else_try),
          (eq, "$background_answer_34", 65),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_attribute, "trp_player", ca_charisma, 1),
          (troop_raise_skill, "trp_player", "skl_weapon_master", 1),
          (troop_raise_skill, "trp_player", "skl_leadership", 1),
          (troop_raise_skill, "trp_player", "skl_trainer", 2),
          (troop_add_gold, "trp_player", 150),
          (troop_raise_proficiency, "trp_player", wpt_polearm, 40),
          (troop_add_item, "trp_player", "itm_darkelf_spear", 0),
        (else_try),
          (eq, "$background_answer_34", 66),
          (troop_raise_attribute, "trp_player", ca_agility, 1),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_skill, "trp_player", "skl_power_strike", 1),
          (troop_raise_skill, "trp_player", "skl_riding", 2),
          (troop_raise_skill, "trp_player", "skl_weapon_master", 1),
          (troop_raise_proficiency, "trp_player", wpt_polearm, 90),
          (troop_add_gold, "trp_player", 50),
          (troop_add_item, "trp_player", "itm_darkelf_lance", 0),
        (try_end),
        (try_begin),
          (eq, "$background_answer_35", 67),
          (troop_raise_attribute, "trp_player", ca_strength, 2),
          (troop_raise_skill, "trp_player", "skl_tactics", 1),
          (troop_raise_skill, "trp_player", "skl_athletics", 2),
          (troop_raise_skill, "trp_player", "skl_power_throw", 1),
          (troop_add_gold, "trp_player", 30),
          (troop_raise_proficiency, "trp_player", wpt_throwing, 50),
          (troop_add_item, "trp_player", "itm_dwarf_helmet2", 0),
          (call_script, "script_change_troop_renown", "trp_player", 30),
        (else_try),
          (eq, "$background_answer_35", 68),
          (troop_raise_attribute, "trp_player", ca_intelligence, 2),
          (troop_raise_skill, "trp_player", "skl_first_aid", 2),
          (troop_raise_skill, "trp_player", "skl_athletics", 1),
          (troop_raise_skill, "trp_player", "skl_trade", 1),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 20),
          (troop_add_gold, "trp_player", 190),
          (troop_add_item, "trp_player", "itm_slayer_body", 0),
        (else_try),
          (eq, "$background_answer_35", 69),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_skill, "trp_player", "skl_spotting", 1),
          (troop_raise_skill, "trp_player", "skl_tracking", 1),
          (troop_raise_skill, "trp_player", "skl_weapon_master", 2),
          (troop_raise_proficiency, "trp_player", wpt_firearm, 100),
          (troop_add_gold, "trp_player", 30),
          (troop_set_inventory_slot, "trp_player", 17, "itm_flintlock_pistol"),
          (troop_set_inventory_slot, "trp_player", 18, "itm_cartridges"),
        (else_try),
          (eq, "$background_answer_35", 70),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_skill, "trp_player", "skl_trade", 1),
          (troop_raise_skill, "trp_player", "skl_shield", 3),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 20),
          (troop_add_gold, "trp_player", 150),
          (troop_add_item, "trp_player", "itm_plate_covered_round_shield", 0),
        (else_try),
          (eq, "$background_answer_35", 71),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_attribute, "trp_player", ca_agility, 1),
          (troop_raise_skill, "trp_player", "skl_ironflesh", 1),
          (troop_raise_skill, "trp_player", "skl_power_strike", 1),
          (troop_raise_skill, "trp_player", "skl_shield", 2),
          (troop_add_gold, "trp_player", 200),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 30),
          (troop_add_item, "trp_player", "itm_dwarf_one_handed_hammer", 0),
        (else_try),
          (eq, "$background_answer_35", 72),
          (troop_raise_attribute, "trp_player", ca_intelligence, 2),
          (troop_raise_skill, "trp_player", "skl_persuasion", 1),
          (troop_raise_skill, "trp_player", "skl_leadership", 1),
          (troop_raise_skill, "trp_player", "skl_inventory_management", 2),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 20),
          (troop_add_gold, "trp_player", 300),
        (try_end),
        (try_begin),
          (eq, "$background_answer_36", 73),
          (troop_raise_attribute, "trp_player", ca_strength, 2),
          (troop_raise_skill, "trp_player", "skl_constitution", 2),
          (troop_raise_skill, "trp_player", "skl_trade", 2),
          (troop_add_gold, "trp_player", 500),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 30),
          (troop_add_item, "trp_player", "itm_poisoned_star", 0),
        (else_try),
          (eq, "$background_answer_36", 74),
          (troop_raise_attribute, "trp_player", ca_intelligence, 2),
          (troop_raise_skill, "trp_player", "skl_trade", 2),
          (troop_raise_skill, "trp_player", "skl_inventory_management", 1),
          (troop_raise_skill, "trp_player", "skl_weapon_master", 1),
          (troop_raise_proficiency, "trp_player", wpt_firearm, 80),
          (troop_add_gold, "trp_player", 90),
          (troop_add_item, "trp_player", "itm_flintlock_pistol", 0),
          (troop_add_item, "trp_player", "itm_cartridges", 0),
        (else_try),
          (eq, "$background_answer_36", 75),
          (troop_raise_attribute, "trp_player", ca_strength, 2),
          (troop_raise_skill, "trp_player", "skl_persuasion", 1),
          (troop_raise_skill, "trp_player", "skl_power_strike", 1),
          (troop_raise_skill, "trp_player", "skl_ironflesh", 2),
          (troop_raise_proficiency, "trp_player", wpt_polearm, 30),
          (troop_add_gold, "trp_player", 30),
          (troop_add_item, "trp_player", "itm_rat_mould", 0),
        (else_try),
          (eq, "$background_answer_36", 76),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_skill, "trp_player", "skl_trade", 1),
          (troop_raise_skill, "trp_player", "skl_prisoner_management", 3),
          (troop_raise_proficiency, "trp_player", wpt_polearm, 20),
          (troop_add_gold, "trp_player", 100),
          (troop_add_item, "trp_player", "itm_catcher", 0),
        (else_try),
          (eq, "$background_answer_36", 77),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_attribute, "trp_player", ca_agility, 1),
          (troop_raise_skill, "trp_player", "skl_weapon_master", 1),
          (troop_raise_skill, "trp_player", "skl_power_throw", 3),
          (troop_raise_skill, "trp_player", "skl_power_strike", 2),
          (troop_add_gold, "trp_player", 30),
          (troop_raise_proficiency, "trp_player", wpt_throwing, 100),
          (troop_add_item, "trp_player", "itm_mace_3", 0),
          (troop_add_item, "trp_player", "itm_throwing_star", 0),
        (else_try),
          (eq, "$background_answer_36", 78),
          (troop_raise_attribute, "trp_player", ca_intelligence, 2),
          (troop_raise_skill, "trp_player", "skl_persuasion", 1),
          (troop_raise_skill, "trp_player", "skl_leadership", 1),
          (troop_raise_skill, "trp_player", "skl_inventory_management", 2),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 20),
          (troop_add_gold, "trp_player", 400),
        (try_end),
        (try_begin),
          (eq, "$background_type", 55),
          (troop_raise_attribute, "trp_player", ca_intelligence, 2),
          (troop_raise_attribute, "trp_player", ca_charisma, 1),
          (troop_raise_skill, "trp_player", "skl_leadership", 1),
          (troop_raise_skill, "trp_player", "skl_persuasion", 2),
          (troop_raise_skill, "trp_player", "skl_tracking", 1),
          (troop_raise_skill, "trp_player", "skl_spotting", 1),
          (troop_add_gold, "trp_player", 250),
          (call_script, "script_change_troop_renown", "trp_player", 30),
        (else_try),
          (eq, "$background_type", 56),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_attribute, "trp_player", ca_intelligence, 2),
          (troop_raise_skill, "trp_player", "skl_pathfinding", 1),
          (troop_raise_skill, "trp_player", "skl_tactics", 3),
          (troop_raise_skill, "trp_player", "skl_spotting", 1),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 10),
          (troop_add_gold, "trp_player", 300),
        (else_try),
          (eq, "$background_type", 57),
          (troop_raise_attribute, "trp_player", ca_strength, 2),
          (troop_raise_attribute, "trp_player", ca_agility, 1),
          (troop_raise_skill, "trp_player", "skl_athletics", 2),
          (troop_raise_skill, "trp_player", "skl_power_strike", 1),
          (troop_raise_skill, "trp_player", "skl_ironflesh", 1),
          (troop_raise_skill, "trp_player", "skl_shield", 1),
          (troop_raise_proficiency, "trp_player", wpt_two_handed_weapon, 20),
          (troop_add_gold, "trp_player", 50),
          (troop_add_item, "trp_player", "itm_beastmen_spear4", 0),
        (else_try),
          (eq, "$background_type", 58),
          (troop_raise_attribute, "trp_player", ca_intelligence, 2),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_skill, "trp_player", "skl_athletics", 1),
          (troop_raise_skill, "trp_player", "skl_tactics", 1),
          (troop_raise_skill, "trp_player", "skl_trainer", 2),
          (troop_raise_skill, "trp_player", "skl_inventory_management", 1),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 10),
          (troop_add_gold, "trp_player", 80),
          (troop_add_item, "trp_player", "itm_javelin", 0),
        (else_try),
          (eq, "$background_type", 60),
          (troop_raise_attribute, "trp_player", ca_charisma, 2),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_skill, "trp_player", "skl_leadership", 2),
          (troop_raise_skill, "trp_player", "skl_prisoner_management", 2),
          (troop_raise_skill, "trp_player", "skl_tactics", 1),
          (troop_raise_proficiency, "trp_player", wpt_two_handed_weapon, 40),
          (troop_add_item, "trp_player", "itm_tab_shield_small_round_a", 5),
          (troop_add_gold, "trp_player", 200),
          (val_add, "$player_right_to_rule", 5),
          (troop_get_slot, ":var0", "trp_player", 7),
          (val_add, ":var0", 50),
          (troop_set_slot, "trp_player", 7, ":var0"),
        (try_end),
        (try_begin),
          (eq, "$background_answer_38", 79),
          (troop_raise_attribute, "trp_player", ca_strength, 2),
          (troop_raise_skill, "trp_player", "skl_power_strike", 1),
          (troop_raise_skill, "trp_player", "skl_riding", 1),
          (troop_raise_proficiency, "trp_player", wpt_two_handed_weapon, 35),
          (troop_add_item, "trp_player", "itm_beastmen_two_handed_axe", 0),
        (else_try),
          (eq, "$background_answer_38", 80),
          (troop_raise_attribute, "trp_player", ca_agility, 2),
          (troop_raise_skill, "trp_player", "skl_athletics", 2),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 35),
          (troop_add_item, "trp_player", "itm_fur_legs", 0),
        (else_try),
          (eq, "$background_answer_38", 81),
          (troop_raise_attribute, "trp_player", ca_strength, 2),
          (troop_raise_skill, "trp_player", "skl_ironflesh", 1),
          (troop_raise_skill, "trp_player", "skl_constitution", 1),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 10),
          (troop_add_item, "trp_player", "itm_beastmen_wooden_shield2", 0),
        (else_try),
          (eq, "$background_answer_38", 82),
          (troop_raise_attribute, "trp_player", ca_intelligence, 2),
          (troop_raise_skill, "trp_player", "skl_weapon_master", 2),
          (troop_raise_proficiency, "trp_player", wpt_polearm, 35),
          (troop_add_item, "trp_player", "itm_quarter_staff", 0),
        (try_end),
        (try_begin),
          (eq, "$background_answer_39", 79),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_skill, "trp_player", "skl_constitution", 2),
          (troop_raise_skill, "trp_player", "skl_power_strike", 1),
          (troop_raise_skill, "trp_player", "skl_athletics", 1),
          (troop_add_gold, "trp_player", 50),
          (troop_get_slot, ":var0", "trp_player", 7),
          (val_add, ":var0", 20),
          (troop_set_slot, "trp_player", 7, ":var0"),
        (else_try),
          (eq, "$background_answer_39", 80),
          (troop_raise_attribute, "trp_player", ca_strength, 2),
          (troop_raise_skill, "trp_player", "skl_ironflesh", 2),
          (troop_raise_skill, "trp_player", "skl_first_aid", 2),
          (troop_add_gold, "trp_player", 20),
          (troop_get_slot, ":var0", "trp_player", 7),
          (val_add, ":var0", 100),
          (troop_set_slot, "trp_player", 7, ":var0"),
        (else_try),
          (eq, "$background_answer_39", 81),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_skill, "trp_player", "skl_tracking", 2),
          (troop_raise_skill, "trp_player", "skl_spotting", 1),
          (troop_raise_skill, "trp_player", "skl_pathfinding", 1),
          (troop_add_gold, "trp_player", 50),
          (call_script, "script_change_player_relation_with_faction", "fac_kingdom_11", -90),
          (troop_get_slot, ":var0", "trp_player", 7),
          (val_add, ":var0", 100),
          (troop_set_slot, "trp_player", 7, ":var0"),
        (else_try),
          (eq, "$background_answer_39", 82),
          (troop_raise_attribute, "trp_player", ca_charisma, 2),
          (troop_raise_skill, "trp_player", "skl_constitution", 2),
          (troop_raise_skill, "trp_player", "skl_wound_treatment", 2),
          (troop_add_item, "trp_player", "itm_cheese", 0),
        (else_try),
          (eq, "$background_answer_39", 83),
          (troop_raise_attribute, "trp_player", ca_strength, 2),
          (troop_raise_skill, "trp_player", "skl_ironflesh", 2),
          (troop_raise_skill, "trp_player", "skl_leadership", 1),
          (troop_raise_skill, "trp_player", "skl_trainer", 1),
          (troop_add_item, "trp_player", "itm_beastman_helm", 0),
        (else_try),
          (eq, "$background_answer_39", 84),
          (troop_raise_attribute, "trp_player", ca_agility, 1),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_skill, "trp_player", "skl_riding", 2),
          (troop_raise_skill, "trp_player", "skl_inventory_management", 2),
          (troop_add_gold, "trp_player", 120),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 20),
          (troop_add_item, "trp_player", "itm_raw_leather", 0),
        (try_end),
        (try_begin),
          (eq, "$background_answer_47", 97),
          (troop_raise_attribute, "trp_player", ca_charisma, 1),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_skill, "trp_player", "skl_leadership", 2),
          (troop_raise_skill, "trp_player", "skl_power_strike", 1),
          (troop_raise_skill, "trp_player", "skl_weapon_master", 1),
          (troop_add_gold, "trp_player", 100),
          (val_add, "$player_right_to_rule", 5),
          (troop_get_slot, ":var0", "trp_player", 7),
          (val_add, ":var0", 50),
          (troop_set_slot, "trp_player", 7, ":var0"),
        (else_try),
          (eq, "$background_answer_47", 98),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_attribute, "trp_player", ca_agility, 1),
          (troop_raise_skill, "trp_player", "skl_riding", 2),
          (troop_raise_skill, "trp_player", "skl_shield", 1),
          (troop_raise_skill, "trp_player", "skl_weapon_master", 1),
          (troop_add_gold, "trp_player", 20),
          (troop_add_item, "trp_player", "itm_blood_lance", 0),
        (else_try),
          (eq, "$background_answer_47", 99),
          (troop_raise_attribute, "trp_player", ca_charisma, 1),
          (troop_raise_attribute, "trp_player", ca_agility, 1),
          (troop_raise_skill, "trp_player", "skl_shield", 1),
          (troop_raise_skill, "trp_player", "skl_athletics", 1),
          (troop_raise_skill, "trp_player", "skl_leadership", 1),
          (troop_raise_skill, "trp_player", "skl_inventory_management", 1),
          (troop_add_gold, "trp_player", 50),
          (troop_add_item, "trp_player", "itm_house_gambeson", 0),
        (else_try),
          (eq, "$background_answer_47", 100),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_attribute, "trp_player", ca_charisma, 1),
          (troop_raise_skill, "trp_player", "skl_leadership", 1),
          (troop_raise_skill, "trp_player", "skl_surgery", 2),
          (troop_raise_skill, "trp_player", "skl_wound_treatment", 1),
          (troop_add_item, "trp_player", "itm_book_intelligence", 0),
        (else_try),
          (eq, "$background_answer_47", 101),
          (troop_raise_attribute, "trp_player", ca_strength, 2),
          (troop_raise_skill, "trp_player", "skl_power_strike", 1),
          (troop_raise_skill, "trp_player", "skl_looting", 1),
          (troop_raise_skill, "trp_player", "skl_prisoner_management", 1),
          (troop_add_gold, "trp_player", 220),
        (else_try),
          (eq, "$background_answer_47", 102),
          (troop_raise_attribute, "trp_player", ca_agility, 2),
          (troop_raise_skill, "trp_player", "skl_athletics", 2),
          (troop_raise_skill, "trp_player", "skl_power_throw", 1),
          (troop_raise_skill, "trp_player", "skl_power_draw", 1),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 20),
          (troop_add_item, "trp_player", "itm_dried_meat", 0),
        (try_end),
        (try_begin),
          (eq, "$background_answer_53", 109),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_attribute, "trp_player", ca_charisma, 1),
          (troop_raise_skill, "trp_player", "skl_leadership", 1),
          (troop_raise_skill, "trp_player", "skl_ironflesh", 1),
          (troop_raise_skill, "trp_player", "skl_power_strike", 1),
          (troop_raise_skill, "trp_player", "skl_weapon_master", 1),
          (troop_add_gold, "trp_player", 30),
          (troop_add_item, "trp_player", "itm_chaos_dwarf_heavy_shield1"),
        (else_try),
          (eq, "$background_answer_53", 110),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_skill, "trp_player", "skl_magic_control", 1),
          (troop_raise_skill, "trp_player", "skl_engineer", 1),
          (troop_raise_skill, "trp_player", "skl_power_strike", 1),
          (troop_raise_skill, "trp_player", "skl_leadership", 1),
          (troop_add_gold, "trp_player", 50),
          (troop_add_item, "trp_player", "itm_chaos_dwarf_one_handed_hammer"),
        (else_try),
          (eq, "$background_answer_53", 111),
          (troop_raise_attribute, "trp_player", ca_intelligence, 2),
          (troop_raise_skill, "trp_player", "skl_magic_control", 2),
          (troop_raise_skill, "trp_player", "skl_first_aid", 1),
          (troop_raise_skill, "trp_player", "skl_surgery", 1),
          (troop_add_gold, "trp_player", 50),
          (troop_add_item, "trp_player", "itm_chaosdwarf_battle_sceptre"),
        (else_try),
          (eq, "$background_answer_53", 112),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_attribute, "trp_player", ca_charisma, 1),
          (troop_raise_skill, "trp_player", "skl_engineer", 2),
          (troop_raise_skill, "trp_player", "skl_trade", 1),
          (troop_raise_skill, "trp_player", "skl_weapon_master", 1),
          (troop_add_item, "trp_player", "itm_tools"),
        (else_try),
          (eq, "$background_answer_53", 113),
          (troop_raise_attribute, "trp_player", ca_charisma, 2),
          (troop_raise_skill, "trp_player", "skl_leadership", 2),
          (troop_raise_skill, "trp_player", "skl_trainer", 1),
          (troop_raise_skill, "trp_player", "skl_prisoner_management", 1),
          (troop_add_gold, "trp_player", 40),
          (troop_add_item, "trp_player", "itm_chaosdwarf_full15"),
        (else_try),
          (eq, "$background_answer_53", 114),
          (troop_raise_attribute, "trp_player", ca_agility, 1),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_skill, "trp_player", "skl_looting", 1),
          (troop_raise_skill, "trp_player", "skl_pathfinding", 1),
          (troop_raise_skill, "trp_player", "skl_tracking", 1),
          (troop_raise_skill, "trp_player", "skl_power_strike", 1),
          (troop_raise_proficiency, "trp_player", wpt_firearm, 20),
          (troop_add_gold, "trp_player", 70),
          (troop_add_item, "trp_player", "itm_flintlock_pistol"),
          (troop_add_item, "trp_player", "itm_cartridges"),
        (try_end),
        (try_begin),
          (eq, "$background_answer_50", 103),
          (troop_raise_attribute, "trp_player", ca_intelligence, 2),
          (troop_raise_skill, "trp_player", "skl_spotting", 2),
          (troop_raise_skill, "trp_player", "skl_wound_treatment", 1),
          (troop_raise_skill, "trp_player", "skl_inventory_management", 1),
          (troop_add_gold, "trp_player", 20),
          (troop_add_item, "trp_player", "itm_oil", 0),
        (else_try),
          (eq, "$background_answer_50", 104),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_attribute, "trp_player", ca_charisma, 1),
          (troop_raise_skill, "trp_player", "skl_leadership", 2),
          (troop_raise_skill, "trp_player", "skl_first_aid", 1),
          (troop_raise_skill, "trp_player", "skl_persuasion", 1),
          (troop_add_gold, "trp_player", 20),
          (troop_add_item, "trp_player", "itm_grain", 0),
          (troop_add_item, "trp_player", "itm_apples", 0),
          (troop_add_item, "trp_player", "itm_cabbages", 0),
        (else_try),
          (eq, "$background_answer_50", 105),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_skill, "trp_player", "skl_engineer", 2),
          (troop_raise_skill, "trp_player", "skl_power_strike", 1),
          (troop_raise_skill, "trp_player", "skl_trade", 1),
          (troop_add_gold, "trp_player", 20),
          (troop_add_item, "trp_player", "itm_iron", 0),
        (else_try),
          (eq, "$background_answer_50", 106),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_attribute, "trp_player", ca_charisma, 1),
          (troop_raise_skill, "trp_player", "skl_looting", 2),
          (troop_raise_skill, "trp_player", "skl_spotting", 2),
          (troop_add_item, "trp_player", "itm_velvet", 0),
        (else_try),
          (eq, "$background_answer_50", 107),
          (troop_raise_attribute, "trp_player", ca_agility, 2),
          (troop_raise_skill, "trp_player", "skl_pathfinding", 2),
          (troop_raise_skill, "trp_player", "skl_spotting", 1),
          (troop_raise_skill, "trp_player", "skl_athletics", 1),
          (troop_add_gold, "trp_player", 20),
          (troop_add_item, "trp_player", "itm_woodelf_boots3", 0),
        (else_try),
          (eq, "$background_answer_50", 108),
          (troop_raise_attribute, "trp_player", ca_agility, 1),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_skill, "trp_player", "skl_power_draw", 2),
          (troop_raise_skill, "trp_player", "skl_tracking", 1),
          (troop_raise_skill, "trp_player", "skl_horse_archery", 1),
          (troop_raise_proficiency, "trp_player", wpt_archery, 20),
          (troop_add_gold, "trp_player", 20),
          (troop_add_item, "trp_player", "itm_short_bow", 0),
          (troop_add_item, "trp_player", "itm_arrows", 0),
        (try_end),
        (try_begin),
          (eq, "$background_type", 61),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_attribute, "trp_player", ca_charisma, 2),
          (troop_raise_skill, "trp_player", "skl_trade", 3),
          (troop_raise_skill, "trp_player", "skl_inventory_management", 2),
          (troop_add_item, "trp_player", "itm_ale", 0),
          (troop_add_gold, "trp_player", 150),
        (else_try),
          (eq, "$background_type", 62),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_attribute, "trp_player", ca_charisma, 2),
          (troop_raise_skill, "trp_player", "skl_leadership", 1),
          (troop_raise_skill, "trp_player", "skl_persuasion", 2),
          (troop_raise_skill, "trp_player", "skl_trade", 2),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 10),
          (troop_raise_proficiency, "trp_player", wpt_polearm, 20),
          (troop_add_gold, "trp_player", 320),
        (else_try),
          (eq, "$background_type", 63),
          (troop_raise_attribute, "trp_player", ca_agility, 2),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_skill, "trp_player", "skl_looting", 3),
          (troop_raise_skill, "trp_player", "skl_inventory_management", 1),
          (troop_raise_skill, "trp_player", "skl_athletics", 1),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 10),
          (troop_raise_proficiency, "trp_player", wpt_archery, 10),
          (troop_add_gold, "trp_player", 300),
        (else_try),
          (eq, "$background_type", 64),
          (troop_raise_attribute, "trp_player", ca_strength, 2),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_skill, "trp_player", "skl_athletics", 1),
          (troop_raise_skill, "trp_player", "skl_power_draw", 2),
          (troop_raise_skill, "trp_player", "skl_weapon_master", 2),
          (troop_raise_proficiency, "trp_player", wpt_archery, 50),
          (troop_add_gold, "trp_player", 30),
          (troop_add_item, "trp_player", "itm_arrows", 0),
          (troop_add_item, "trp_player", "itm_short_bow", 0),
        (else_try),
          (eq, "$background_type", 65),
          (troop_raise_attribute, "trp_player", ca_charisma, 2),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_skill, "trp_player", "skl_ironflesh", 1),
          (troop_raise_skill, "trp_player", "skl_inventory_management", 1),
          (troop_raise_skill, "trp_player", "skl_leadership", 2),
          (troop_raise_skill, "trp_player", "skl_persuasion", 1),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 10),
          (troop_raise_proficiency, "trp_player", wpt_firearm, 30),
          (troop_add_item, "trp_player", "itm_tab_shield_small_round_a", 5),
          (troop_add_gold, "trp_player", 200),
        (else_try),
          (eq, "$background_type", 66),
          (troop_raise_attribute, "trp_player", ca_agility, 2),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_skill, "trp_player", "skl_ironflesh", 1),
          (troop_raise_skill, "trp_player", "skl_power_strike", 1),
          (troop_raise_skill, "trp_player", "skl_athletics", 2),
          (troop_raise_skill, "trp_player", "skl_looting", 1),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 10),
          (troop_raise_proficiency, "trp_player", wpt_firearm, 50),
          (troop_add_item, "trp_player", "itm_flintlock_pistol"),
          (troop_add_item, "trp_player", "itm_cartridges"),
          (troop_add_gold, "trp_player", 80),
        (try_end),
        (try_begin),
          (eq, "$background_answer_41", 83),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_attribute, "trp_player", ca_agility, 1),
          (troop_raise_skill, "trp_player", "skl_ironflesh", 2),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 10),
          (troop_add_item, "trp_player", "itm_cabbages", 0),
        (else_try),
          (eq, "$background_answer_41", 84),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_skill, "trp_player", "skl_ironflesh", 1),
          (troop_raise_skill, "trp_player", "skl_constitution", 1),
          (troop_raise_proficiency, "trp_player", wpt_archery, 10),
          (troop_add_gold, "trp_player", 20),
          (troop_add_item, "trp_player", "itm_smoked_fish", 0),
        (else_try),
          (eq, "$background_answer_41", 85),
          (troop_raise_attribute, "trp_player", ca_strength, 2),
          (troop_raise_skill, "trp_player", "skl_ironflesh", 1),
          (troop_raise_skill, "trp_player", "skl_constitution", 1),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 10),
          (troop_add_gold, "trp_player", 20),
          (troop_add_item, "trp_player", "itm_dried_meat", 0),
          (troop_add_item, "trp_player", "itm_sausages", 0),
        (else_try),
          (eq, "$background_answer_41", 86),
          (troop_raise_attribute, "trp_player", ca_charisma, 1),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_skill, "trp_player", "skl_ironflesh", 1),
          (troop_raise_skill, "trp_player", "skl_riding", 1),
          (troop_add_gold, "trp_player", 20),
          (troop_add_item, "trp_player", "itm_cheese", 0),
          (troop_add_item, "trp_player", "itm_cheese", 0),
        (else_try),
          (eq, "$background_answer_41", 87),
          (troop_raise_attribute, "trp_player", ca_charisma, 2),
          (troop_raise_skill, "trp_player", "skl_inventory_management", 1),
          (troop_raise_skill, "trp_player", "skl_trade", 1),
          (troop_add_item, "trp_player", "itm_ale", 0),
          (troop_add_item, "trp_player", "itm_wine", 0),
        (try_end),
        (try_begin),
          (eq, "$background_answer_42", 85),
          (troop_raise_attribute, "trp_player", ca_charisma, 2),
          (troop_raise_skill, "trp_player", "skl_persuasion", 2),
          (troop_raise_skill, "trp_player", "skl_riding", 1),
          (troop_raise_skill, "trp_player", "skl_pathfinding", 1),
          (troop_add_gold, "trp_player", 150),
          (troop_get_slot, ":var0", "trp_player", 7),
          (val_add, ":var0", 20),
          (troop_set_slot, "trp_player", 7, ":var0"),
        (else_try),
          (eq, "$background_answer_42", 86),
          (troop_raise_attribute, "trp_player", ca_agility, 2),
          (troop_raise_skill, "trp_player", "skl_riding", 2),
          (troop_raise_skill, "trp_player", "skl_horse_archery", 2),
          (troop_add_item, "trp_player", "itm_hound", 0),
        (else_try),
          (eq, "$background_answer_42", 87),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_skill, "trp_player", "skl_trade", 2),
          (troop_raise_skill, "trp_player", "skl_power_draw", 1),
          (troop_raise_skill, "trp_player", "skl_inventory_management", 1),
          (troop_add_gold, "trp_player", 50),
          (troop_add_item, "trp_player", "itm_short_bow", 0),
          (troop_add_item, "trp_player", "itm_arrows", 0),
        (else_try),
          (eq, "$background_answer_42", 88),
          (troop_raise_attribute, "trp_player", ca_strength, 2),
          (troop_raise_skill, "trp_player", "skl_athletics", 2),
          (troop_raise_skill, "trp_player", "skl_constitution", 2),
          (troop_add_gold, "trp_player", 30),
          (troop_add_item, "trp_player", "itm_halfing_falchion", 0),
        (else_try),
          (eq, "$background_answer_42", 89),
          (troop_raise_attribute, "trp_player", ca_strength, 2),
          (troop_raise_skill, "trp_player", "skl_ironflesh", 1),
          (troop_raise_skill, "trp_player", "skl_shield", 1),
          (troop_raise_skill, "trp_player", "skl_athletics", 1),
          (troop_raise_skill, "trp_player", "skl_weapon_master", 1),
          (troop_add_item, "trp_player", "itm_fieldwarden", 0),
        (else_try),
          (eq, "$background_answer_42", 90),
          (troop_raise_attribute, "trp_player", ca_agility, 1),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_skill, "trp_player", "skl_riding", 2),
          (troop_raise_skill, "trp_player", "skl_pathfinding", 2),
          (troop_add_gold, "trp_player", 20),
          (troop_raise_proficiency, "trp_player", wpt_one_handed_weapon, 20),
          (troop_add_item, "trp_player", "itm_hound", 0),
        (try_end),
        (try_begin),
          (eq, "$background_answer_44", 91),
          (troop_raise_attribute, "trp_player", ca_strength, 2),
          (troop_raise_skill, "trp_player", "skl_engineer", 2),
          (troop_raise_skill, "trp_player", "skl_power_strike", 1),
          (troop_raise_skill, "trp_player", "skl_trade", 1),
          (troop_add_gold, "trp_player", 50),
          (troop_add_item, "trp_player", "itm_iron", 0),
        (else_try),
          (eq, "$background_answer_44", 92),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_attribute, "trp_player", ca_agility, 1),
          (troop_raise_skill, "trp_player", "skl_athletics", 2),
          (troop_raise_skill, "trp_player", "skl_spotting", 2),
          (troop_add_item, "trp_player", "itm_fur_coat", 0),
        (else_try),
          (eq, "$background_answer_44", 93),
          (troop_raise_attribute, "trp_player", ca_intelligence, 2),
          (troop_raise_skill, "trp_player", "skl_wound_treatment", 2),
          (troop_raise_skill, "trp_player", "skl_inventory_management", 2),
          (troop_add_gold, "trp_player", 50),
          (troop_add_item, "trp_player", "itm_fur_coat", 0),
        (else_try),
          (eq, "$background_answer_44", 94),
          (troop_raise_attribute, "trp_player", ca_charisma, 1),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_skill, "trp_player", "skl_trade", 2),
          (troop_raise_skill, "trp_player", "skl_persuasion", 2),
          (troop_add_gold, "trp_player", 130),
          (troop_add_gold, "trp_player", 100),
        (else_try),
          (eq, "$background_answer_44", 95),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_attribute, "trp_player", ca_agility, 1),
          (troop_raise_skill, "trp_player", "skl_power_strike", 1),
          (troop_raise_skill, "trp_player", "skl_pathfinding", 1),
          (troop_raise_skill, "trp_player", "skl_athletics", 1),
          (troop_raise_skill, "trp_player", "skl_spotting", 1),
          (troop_add_gold, "trp_player", 70),
          (troop_add_item, "trp_player", "itm_short_bow", 0),
          (troop_add_item, "trp_player", "itm_arrows", 0),
        (else_try),
          (eq, "$background_answer_44", 96),
          (troop_raise_attribute, "trp_player", ca_agility, 1),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_skill, "trp_player", "skl_riding", 2),
          (troop_raise_skill, "trp_player", "skl_weapon_master", 2),
          (troop_add_gold, "trp_player", 120),
          (troop_raise_proficiency, "trp_player", wpt_polearm, 20),
          (troop_add_item, "trp_player", "itm_saddle_horse", 0),
        (try_end),
        (try_begin),
          (eq, "$background_answer_4", 1),
          (troop_raise_attribute, "trp_player", ca_strength, 2),
          (troop_raise_skill, "trp_player", "skl_power_strike", 1),
        (else_try),
          (eq, "$background_answer_4", 2),
          (troop_raise_attribute, "trp_player", ca_charisma, 2),
          (troop_raise_skill, "trp_player", "skl_ironflesh", 1),
        (else_try),
          (eq, "$background_answer_4", 3),
          (troop_raise_attribute, "trp_player", ca_agility, 2),
          (troop_raise_skill, "trp_player", "skl_pathfinding", 1),
        (else_try),
          (eq, "$background_answer_4", 4),
          (troop_raise_attribute, "trp_player", ca_charisma, 1),
          (troop_raise_skill, "trp_player", "skl_power_strike", 1),
        (else_try),
          (eq, "$background_answer_4", 5),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_skill, "trp_player", "skl_weapon_master", 1),
        (else_try),
          (eq, "$background_answer_4", 6),
          (troop_raise_attribute, "trp_player", ca_agility, 1),
          (troop_raise_attribute, "trp_player", ca_intelligence, 1),
          (troop_raise_skill, "trp_player", "skl_looting", 1),
        (else_try),
          (eq, "$background_answer_4", 7),
          (troop_raise_attribute, "trp_player", ca_strength, 1),
          (troop_raise_skill, "trp_player", "skl_leadership", 1),
        (try_end),
        (try_begin),
          (eq, "$background_type", 1),
          (jump_to_menu, "mnu_auto_return"),
          (start_presentation, "prsnt_banner_selection"),
        (else_try),
          (change_screen_return, 0),
        (try_end),
        (set_show_messages, 1),
      ]
      ),

      ("go_back_dot",
      [],
      "Go_back.",
      [
        (jump_to_menu, "mnu_start_character_4"),
      ]
      ),
    ],
  ),

  ("past_life_explanation", mnf_disable_all_keys,
    "{s3}",
    "none",
    [
      (try_begin),
        (gt, "$current_string_reg", 14),
        (assign, "$current_string_reg", 10),
      (try_end),
      (str_store_string_reg, s3, "$current_string_reg"),
      (try_begin),
        (ge, "$current_string_reg", 14),
        (str_store_string, s5, "@Back to the beginning..."),
      (else_try),
        (str_store_string, s5, "@View next segment..."),
      (try_end),
    ],
    [
      ("view_next",
      [],
      "{s5}",
      [
        (val_add, "$current_string_reg", 1),
        (jump_to_menu, "mnu_past_life_explanation"),
      ]
      ),

      ("continue",
      [],
      "Continue...",
      []
      ),

      ("go_back_dot",
      [],
      "Go_back.",
      [
        (jump_to_menu, "mnu_choose_skill"),
      ]
      ),
    ],
  ),

  ("auto_return", 0,
    "{!}This menu automatically returns to caller.",
    "none",
    [
      (change_screen_return, 0),
    ],
    [
    ],
    [],
  ),

  ("morale_report", 0,
    "{s1}",
    "none",
    [
      (call_script, "script_get_player_party_morale_values"),
      (assign, ":var0", reg0),
      (assign, reg1, "$g_player_party_morale_modifier_party_size"),
      (try_begin),
        (gt, reg1, 0),
        (str_store_string, s2, "@{!} -"),
      (else_try),
        (str_store_string, s2, "str_space"),
      (try_end),
      (assign, reg2, "$g_player_party_morale_modifier_leadership"),
      (try_begin),
        (gt, reg2, 0),
        (str_store_string, s3, "@{!} +"),
      (else_try),
        (str_store_string, s3, "str_space"),
      (try_end),
      (try_begin),
        (gt, "$g_player_party_morale_modifier_no_food", 0),
        (assign, reg7, "$g_player_party_morale_modifier_no_food"),
        (str_store_string, s5, "@^No food:  -{reg7}"),
      (else_try),
        (str_store_string, s5, "str_space"),
      (try_end),
      (assign, reg3, "$g_player_party_morale_modifier_food"),
      (try_begin),
        (gt, reg3, 0),
        (str_store_string, s4, "@{!} +"),
      (else_try),
        (str_store_string, s4, "str_space"),
      (try_end),
      (try_begin),
        (gt, "$g_player_party_morale_modifier_debt", 0),
        (assign, reg6, "$g_player_party_morale_modifier_debt"),
        (str_store_string, s6, "@^Wage debt:  -{reg6}"),
      (else_try),
        (str_store_string, s6, "str_space"),
      (try_end),
      (party_get_morale, reg5, "p_main_party"),
      (store_sub, reg4, reg5, ":var0"),
      (try_begin),
        (gt, reg4, 0),
        (str_store_string, s7, "@{!} +"),
      (else_try),
        (str_store_string, s7, "str_space"),
      (try_end),
      (assign, reg6, 50),
      (str_store_string, s1, "str_current_party_morale_is_reg5_current_party_morale_modifiers_are__base_morale__50_party_size_s2reg1_leadership_s3reg2_food_variety_s4reg3s5s6_recent_events_s7reg4_total__reg5___"),
      (try_for_range, ":var1", "fac_kingdom_1", "fac_kingdoms_end"),
        (faction_get_slot, ":var2", ":var1", 99),
        (val_div, ":var2", 100),
        (neq, ":var2", 0),
        (assign, reg6, ":var2"),
        (str_store_faction_name, s9, ":var1"),
        (str_store_string, s1, "str_s1extra_morale_for_s9_troops__reg6_"),
        (store_sub, ":var3", ":var1", "fac_player_supporters_faction"),
        (add_info_page_note_from_sreg, 0, ":var3", "@Morale for {s9} troops: {reg6}", 0),
      (try_end),
    ],
    [
      ("continue",
      [],
      "Continue...",
      [
        (jump_to_menu, "mnu_reports"),
      ]
      ),
    ],
  ),

  ("courtship_relations", 0,
    "{s1}",
    "none",
    [
      (str_store_string, s1, "str_courtships_in_progress_"),
      (try_for_range, ":var0", "trp_knight_1_1_wife", "trp_heroes_end"),
        (troop_slot_eq, ":var0", 5, 2),
        (call_script, "script_troop_get_relation_with_troop", "trp_player", ":var0"),
        (gt, reg0, 0),
        (assign, reg3, reg0),
        (str_store_troop_name, s2, ":var0"),
        (store_current_hours, ":var1"),
        (troop_get_slot, ":var2", ":var0", 4),
        (val_sub, ":var1", ":var2"),
        (store_div, ":var3", ":var1", 24),
        (assign, reg4, ":var3"),
        (str_store_string, s1, "str_s1_s2_relation_reg3_last_visit_reg4_days_ago"),
      (try_end),
      (str_store_string, s1, "str_s1__poems_known"),
      (try_begin),
        (gt, "$allegoric_poem_recitations", 0),
        (str_store_string, s1, "str_s1_storming_the_castle_of_love_allegoric"),
      (try_end),
      (try_begin),
        (gt, "$tragic_poem_recitations", 0),
        (str_store_string, s1, "str_s1_kais_and_layali_tragic"),
      (try_end),
      (try_begin),
        (gt, "$comic_poem_recitations", 0),
        (str_store_string, s1, "str_s1_a_conversation_in_the_garden_comic"),
      (try_end),
      (try_begin),
        (gt, "$heroic_poem_recitations", 0),
        (str_store_string, s1, "str_s1_helgered_and_kara_epic"),
      (try_end),
      (try_begin),
        (gt, "$mystic_poem_recitations", 0),
        (str_store_string, s1, "str_s1_a_hearts_desire_mystic"),
      (try_end),
    ],
    [
      ("continue",
      [],
      "Continue...",
      [
        (jump_to_menu, "mnu_reports"),
      ]
      ),
    ],
  ),

  ("lord_relations", 0,
    "{s1}",
    "none",
    [
      (assign, ":var0", 0),
      (try_for_range, ":var1", "trp_npc1", "trp_heroes_end"),
        (troop_slot_eq, ":var1", 2, 2),
        (troop_slot_ge, ":var1", 5, 1),
        (val_add, ":var0", 1),
        (troop_set_slot, ":var1", 46, 0),
      (try_end),
      (str_clear, s1),
      (try_for_range, ":var2", 0, ":var0"),
        (assign, ":var3", -100),
        (assign, ":var4", -1),
        (try_for_range, ":var1", "trp_npc1", "trp_heroes_end"),
          (troop_slot_eq, ":var1", 46, 0),
          (troop_slot_eq, ":var1", 2, 2),
          (troop_slot_ge, ":var1", 5, 1),
          (call_script, "script_troop_get_player_relation", ":var1"),
          (assign, ":var5", reg0),
          (ge, ":var5", ":var3"),
          (assign, ":var3", ":var5"),
          (assign, ":var4", ":var1"),
        (try_end),
        (gt, ":var4", -1),
        (str_store_troop_name_link, s4, ":var4"),
        (assign, reg4, ":var3"),
        (str_store_string, s1, "@{!}{s1}^{s4}: {reg4}"),
        (troop_set_slot, ":var4", 46, 1),
      (try_end),
    ],
    [
      ("continue",
      [],
      "Continue...",
      [
        (jump_to_menu, "mnu_reports"),
      ]
      ),
    ],
  ),

  ("companion_report", 0,
    "{s7}{s2}",
    "none",
    [
      (str_clear, s1),
      (str_clear, s2),
      (str_store_string, s7, "str_no_companions_in_service"),
      (try_begin),
        (troop_get_slot, ":var0", "trp_player", 30),
        (try_begin),
          (call_script, "script_cf_dplmc_troop_is_female", "trp_player"),
          (str_store_string, s8, "str_husband"),
        (else_try),
          (str_store_string, s8, "str_wife"),
        (try_end),
        (try_begin),
          (le, ":var0", 0),
          (troop_get_slot, ":var0", "trp_player", 34),
          (str_store_string, s8, "str_betrothed"),
        (try_end),
        (gt, ":var0", 0),
        (str_store_troop_name, s4, ":var0"),
        (troop_get_slot, ":var1", ":var0", 12),
        (try_begin),
          (main_party_has_troop, ":var0"),
          (str_store_string, s5, "str_in_your_party"),
        (else_try),
          (troop_get_slot, ":var2", "$companion_temp3", 10),
          (party_is_active, ":var2"),
          (party_slot_eq, ":var2", 0, 33),
          (party_get_slot, ":var3", ":var2", 23),
          (troop_get_slot, ":var4", ":var3", 12),
          (str_store_party_name, s9, ":var4"),
          (str_store_string, s8, "str_pcamp_acting_as_commander"),
          (str_store_string, s5, "str_pcamp_near_s9"),
        (else_try),
          (store_num_parties_of_template, ":var5", "pt_dplmc_spouse"),
          (gt, ":var5", 0),
          (str_store_string, s5, "str_expected_back_imminently"),
        (else_try),
          (is_between, ":var1", "p_town_1", "p_salt_mine"),
          (str_store_party_name, s5, ":var1"),
        (else_try),
          (troop_slot_eq, ":var0", 2, 2),
          (str_store_string, s5, "str_leading_party"),
        (else_try),
          (str_store_string, s5, "str_whereabouts_unknown"),
        (try_end),
        (str_store_string, s3, "str_s4_s8_s5"),
        (str_store_string, s2, "str_s2_s3"),
      (try_end),
      (try_begin),
        (eq, "$cheat_mode", 1),
        (gt, "$npc_to_rejoin_party", 0),
        (str_store_troop_name, s5, "$npc_to_rejoin_party"),
        (str_store_string, s1, s2),
        (str_store_string, s2, "@{!}DEBUG -- {s1}^NPC in rejoin queue: {s5}^"),
      (try_end),
      (try_for_range, ":var6", "trp_npc1", "trp_kingdom_1_lord"),
        (str_clear, s2),
        (str_clear, s3),
        (assign, "$companion_temp3", ":var6"),
        (try_begin),
          (troop_get_slot, ":var7", ":var6", 150),
          (troop_slot_eq, ":var6", 2, 5),
          (str_store_troop_name, s4, ":var6"),
          (try_begin),
            (troop_slot_eq, ":var6", 151, 1),
            (str_store_string, s8, "str_gathering_support"),
            (try_begin),
              (eq, ":var7", 1),
              (str_store_string, s5, "str_expected_back_imminently"),
            (else_try),
              (assign, reg3, ":var7"),
              (str_store_string, s5, "str_expected_back_in_approximately_reg3_days"),
            (try_end),
          (else_try),
            (troop_slot_eq, ":var6", 151, 2),
            (troop_get_slot, ":var8", ":var6", 67),
            (str_store_party_name, s11, ":var8"),
            (str_store_string, s8, "str_gathering_intelligence"),
            (try_begin),
              (eq, ":var7", 1),
              (str_store_string, s5, "str_expected_back_imminently"),
            (else_try),
              (assign, reg3, ":var7"),
              (str_store_string, s5, "str_expected_back_in_approximately_reg3_days"),
            (try_end),
          (else_try),
            (troop_slot_ge, ":var6", 151, 3),
            (neg|troop_slot_eq, ":var6", 151, 8),
            (troop_get_slot, ":var9", ":var6", 152),
            (str_store_faction_name, s9, ":var9"),
            (str_store_string, s8, "str_diplomatic_embassy_to_s9"),
            (try_begin),
              (eq, ":var7", 1),
              (str_store_string, s5, "str_expected_back_imminently"),
            (else_try),
              (assign, reg3, ":var7"),
              (str_store_string, s5, "str_expected_back_in_approximately_reg3_days"),
            (try_end),
          (else_try),
            (eq, ":var6", "$g_player_minister"),
            (str_store_string, s8, "str_serving_as_minister"),
            (try_begin),
              (is_between, "$g_player_court", "p_town_1", "p_salt_mine"),
              (str_store_party_name, s9, "$g_player_court"),
              (str_store_string, s5, "str_in_your_court_at_s9"),
            (else_try),
              (str_store_string, s5, "str_whereabouts_unknown"),
            (try_end),
          (else_try),
            (main_party_has_troop, ":var6"),
            (str_store_string, s8, "str_under_arms"),
            (str_store_string, s5, "str_in_your_party"),
          (else_try),
            (troop_slot_eq, ":var6", 151, 8),
            (str_store_string, s8, "str_attempting_to_rejoin_party"),
            (str_store_string, s5, "str_whereabouts_unknown"),
          (else_try),
            (troop_slot_ge, ":var6", 12, 1),
            (str_store_string, s8, "str_separated_from_party"),
            (str_store_string, s5, "str_whereabouts_unknown"),
          (else_try),
            (try_begin),
              (check_quest_active, "qst_lend_companion"),
              (quest_slot_eq, "qst_lend_companion", 2, ":var6"),
              (str_store_string, s8, "@On loan,"),
            (else_try),
              (check_quest_active, "qst_lend_surgeon"),
              (quest_slot_eq, "qst_lend_surgeon", 2, ":var6"),
              (str_store_string, s8, "@On loan,"),
            (else_try),
              (troop_set_slot, ":var6", 151, 8),
              (str_store_string, s8, "str_attempting_to_rejoin_party"),
            (try_end),
            (str_store_string, s5, "str_whereabouts_unknown"),
            (try_begin),
              (eq, "$cheat_mode", 1),
              (troop_get_slot, reg2, ":var6", 151),
              (troop_get_slot, reg3, ":var6", 150),
              (troop_get_slot, reg4, ":var6", 8),
              (troop_get_slot, reg4, ":var6", 82),
              (display_message, "@{!}DEBUG: {s4} current mission: {reg2}, days on mission: {reg3}, prisoner: {reg4}, pphistory: {reg5}"),
            (try_end),
          (try_end),
          (str_store_string, s3, "str_s4_s8_s5"),
          (str_store_string_reg, s3, s0),
          (str_store_string, s2, "str_s2_s3"),
          (str_clear, s7),
        (else_try),
          (neg|troop_slot_eq, ":var6", 2, 2),
          (troop_slot_ge, ":var6", 8, "p_town_1"),
          (str_store_troop_name, s4, ":var6"),
          (str_store_string, s8, "str_missing_after_battle"),
          (str_store_string, s5, "str_whereabouts_unknown"),
          (str_store_string, s3, "str_s4_s8_s5"),
          (str_store_string, s2, s1),
          (str_store_string, s1, "str_s2_s3"),
          (str_clear, s7),
        (try_end),
      (try_end),
    ],
    [
      ("continue",
      [],
      "Continue...",
      [
        (jump_to_menu, "mnu_reports"),
        (assign, "$g_player_troop", "trp_player"),
        (set_player_troop, "$g_player_troop"),
      ]
      ),
    ],
  ),

  ("faction_orders", 0,
    "{!}{s9}",
    "none",
    [
      (str_clear, s9),
      (store_current_hours, ":var0"),
      (try_for_range, ":var1", "fac_player_supporters_faction", "fac_kingdoms_end"),
        (faction_slot_eq, ":var1", 21, 0),
        (neq, ":var1", "fac_player_supporters_faction"),
        (faction_get_slot, ":var2", ":var1", 4),
        (try_begin),
          (faction_get_slot, ":var3", ":var1", 8),
          (gt, ":var3", -1),
          (assign, ":var4", ":var3"),
        (else_try),
          (faction_get_slot, ":var4", ":var1", 11),
        (try_end),
        (call_script, "script_npc_decision_checklist_faction_ai_alt", ":var4"),
        (assign, ":var5", reg0),
        (str_store_string, s26, s14),
        (faction_get_slot, ":var6", ":var1", 4),
        (faction_get_slot, ":var7", ":var1", 5),
        (faction_get_slot, ":var8", ":var1", 8),
        (faction_get_slot, ":var9", ":var1", 9),
        (str_store_faction_name, s10, ":var1"),
        (try_begin),
          (faction_get_slot, ":var10", ":var1", 64),
          (try_begin),
            (eq, ":var10", 1),
            (str_store_string, s11, "@Appoint next marshal"),
          (else_try),
            (is_between, ":var10", "p_town_1", "p_salt_mine"),
            (str_store_party_name, s12, ":var10"),
            (str_store_string, s11, "@Award {s12} as fief"),
          (else_try),
            (eq, ":var10", 0),
            (str_store_string, s11, "str_dplmc_none"),
          (else_try),
            (assign, reg3, ":var10"),
            (str_store_string, s11, "@{!}Error ({reg3})"),
          (try_end),
          (store_current_hours, reg4),
          (faction_get_slot, ":var11", ":var1", 65),
          (val_sub, reg4, ":var11"),
          (str_store_string, s10, "@{!}{s10}^Faction political issue: {s11}"),
          (try_begin),
            (faction_slot_ge, ":var1", 64, 1),
            (str_store_string, s10, "@{!}{s10} (on agenda {reg4} hours)"),
          (try_end),
        (try_end),
        (assign, reg2, ":var9"),
        (try_begin),
          (eq, ":var6", 0),
          (str_store_string, s11, "@{!}Defending"),
        (else_try),
          (eq, ":var6", 1),
          (str_store_string, s11, "@{!}Gathering army"),
        (else_try),
          (eq, ":var6", 2),
          (str_store_party_name, s11, ":var7"),
          (str_store_string, s11, "@{!}Besieging {s11}"),
        (else_try),
          (eq, ":var6", 3),
          (str_store_party_name, s11, ":var7"),
          (str_store_string, s11, "@{!}Raiding {s11}"),
        (else_try),
          (eq, ":var6", 4),
          (str_store_party_name, s11, ":var7"),
          (str_store_string, s11, "str_attacking_enemy_army_near_s11"),
        (else_try),
          (eq, ":var6", 6),
          (str_store_party_name, s11, ":var7"),
          (str_store_string, s11, "str_holding_feast_at_s11"),
        (else_try),
          (eq, ":var6", 5),
          (str_store_party_name, s11, ":var7"),
          (str_store_string, s11, "@{!}Attacking enemies around {s11}"),
        (else_try),
          (assign, reg4, ":var6"),
          (str_store_string, s11, "str_sfai_reg4"),
        (try_end),
        (try_begin),
          (lt, ":var8", 0),
          (str_store_string, s12, "@No one"),
        (else_try),
          (str_store_troop_name, s12, ":var8"),
          (troop_get_slot, reg21, ":var8", 150),
          (str_store_string, s12, "@{!}{s12} (controversy: {reg21})"),
        (try_end),
        (try_for_parties, ":var12"),
          (party_slot_eq, ":var12", 4, 12),
          (store_faction_of_party, ":var13", ":var12"),
          (eq, ":var13", ":var1"),
          (str_store_party_name, s38, ":var12"),
          (str_store_string, s12, "@{!}{s12}^Screening party: {s38}"),
        (try_end),
        (try_begin),
          (this_or_next|eq, ":var5", 0),
          (eq, ":var5", 6),
          (store_current_hours, ":var14"),
          (faction_get_slot, ":var15", ":var1", 97),
          (val_sub, ":var14", ":var15"),
          (ge, ":var14", 18),
          (store_current_hours, ":var16"),
          (faction_set_slot, ":var1", 96, ":var16"),
        (try_end),
        (try_begin),
          (neq, ":var5", ":var2"),
          (store_current_hours, ":var16"),
          (faction_set_slot, ":var1", 97, ":var16"),
        (try_end),
        (call_script, "script_evaluate_realm_stability", ":var1"),
        (assign, ":var17", reg0),
        (assign, ":var18", reg1),
        (faction_get_slot, ":var19", ":var1", 94),
        (store_sub, ":var20", ":var0", ":var19"),
        (val_sub, ":var20", 72),
        (faction_get_slot, ":var15", ":var1", 97),
        (store_sub, ":var14", ":var0", ":var15"),
        (faction_get_slot, ":var21", ":var1", 95),
        (store_sub, ":var22", ":var0", ":var21"),
        (faction_get_slot, ":var23", ":var1", 96),
        (store_sub, ":var24", ":var0", ":var23"),
        (faction_get_slot, ":var25", ":var1", 98),
        (store_sub, ":var26", ":var0", ":var25"),
        (assign, reg3, ":var14"),
        (assign, reg4, ":var22"),
        (assign, reg5, ":var20"),
        (assign, reg7, ":var17"),
        (assign, reg8, ":var18"),
        (assign, reg9, ":var24"),
        (assign, reg10, ":var26"),
        (str_store_string, s14, s26),
        (str_store_string, s9, "str_s9s10_current_state_s11_hours_at_current_state_reg3_current_strategic_thinking_s14_marshall_s12_since_the_last_offensive_ended_reg4_hours_since_the_decisive_event_reg10_hours_since_the_last_rest_reg9_hours_since_the_last_feast_ended_reg5_hours_percent_disgruntled_lords_reg7_percent_restless_lords_reg8__"),
      (try_end),
      (try_begin),
        (neg|is_between, "$g_cheat_selected_faction", "fac_player_supporters_faction", "fac_kingdoms_end"),
        (call_script, "script_get_next_active_kingdom", "fac_kingdoms_end"),
        (assign, "$g_cheat_selected_faction", reg0),
      (try_end),
      (str_store_faction_name, s10, "$g_cheat_selected_faction"),
      (str_store_string, s9, "@Selected faction is: {s10}^^{s9}"),
    ],
    [
      ("faction_orders_next_faction",
      [],
      "{!}Select_next_faction.",
      [
        (call_script, "script_get_next_active_kingdom", "$g_cheat_selected_faction"),
        (assign, "$g_cheat_selected_faction", reg0),
        (jump_to_menu, "mnu_faction_orders"),
      ]
      ),

      ("faction_orders_political_collapse",
      [],
      "{!}CHEAT_-_Cause_all_lords_in_faction_to_fall_out_with_their_liege.",
      [
        (try_for_range, ":var0", "trp_npc1", "trp_knight_1_1_wife"),
          (troop_slot_eq, ":var0", 2, 2),
          (store_faction_of_troop, ":var1", ":var0"),
          (eq, ":var1", "$g_cheat_selected_faction"),
          (faction_get_slot, ":var2", ":var1", 11),
          (call_script, "script_troop_change_relation_with_troop", ":var0", ":var2", -200),
        (try_end),
      ]
      ),

      ("faction_orders_defend",
      [],
      "{!}Force_defend.",
      [
        (faction_set_slot, "$g_cheat_selected_faction", 4, 0),
        (faction_set_slot, "$g_cheat_selected_faction", 5, -1),
        (jump_to_menu, "mnu_faction_orders"),
      ]
      ),

      ("faction_orders_feast",
      [],
      "{!}Force_feast.",
      [
        (assign, ":var0", 0),
        (try_for_range, ":var1", "p_town_1", "p_village_1"),
          (neg|party_slot_ge, ":var1", 54, 1),
          (store_faction_of_party, ":var2", ":var1"),
          (eq, ":var2", "$g_cheat_selected_faction"),
          (party_get_slot, ":var3", ":var1", 7),
          (troop_get_slot, ":var4", ":var3", 7),
          (store_random_in_range, ":var5", 0, 1000),
          (val_add, ":var4", ":var5"),
          (gt, ":var4", ":var0"),
          (assign, ":var0", ":var4"),
          (assign, ":var6", ":var1"),
        (try_end),
        (try_begin),
          (gt, ":var6", "p_town_1"),
          (faction_set_slot, "$g_cheat_selected_faction", 4, 6),
          (faction_set_slot, "$g_cheat_selected_faction", 5, ":var6"),
          (try_begin),
            (eq, "$g_player_eligible_feast_center_no", ":var6"),
            (assign, "$g_player_eligible_feast_center_no", -1),
          (try_end),
          (store_current_hours, ":var7"),
          (faction_set_slot, "$g_cheat_selected_faction", 94, ":var7"),
        (try_end),
        (jump_to_menu, "mnu_faction_orders"),
      ]
      ),

      ("faction_orders_gather",
      [],
      "{!}Force_gather_army.",
      [
        (store_current_hours, ":var0"),
        (faction_set_slot, "$g_cheat_selected_faction", 4, 1),
        (faction_set_slot, "$g_cheat_selected_faction", 95, ":var0"),
        (faction_set_slot, "$g_cheat_selected_faction", 9, 1),
        (faction_set_slot, "$g_cheat_selected_faction", 5, -1),
        (jump_to_menu, "mnu_faction_orders"),
      ]
      ),

      ("faction_orders_increase_time",
      [],
      "{!}Increase_last_offensive_time_by_24_hours.",
      [
        (faction_get_slot, ":var0", "$g_cheat_selected_faction", 95),
        (val_sub, ":var0", 24),
        (faction_set_slot, "$g_cheat_selected_faction", 95, ":var0"),
        (jump_to_menu, "mnu_faction_orders"),
      ]
      ),

      ("faction_orders_rethink",
      [],
      "{!}Force_rethink.",
      [
        (call_script, "script_init_ai_calculation"),
        (call_script, "script_decide_faction_ai", "$g_cheat_selected_faction"),
        (jump_to_menu, "mnu_faction_orders"),
      ]
      ),

      ("faction_orders_rethink_all",
      [],
      "{!}Force_rethink_for_all_factions.",
      [
        (call_script, "script_recalculate_ais"),
        (jump_to_menu, "mnu_faction_orders"),
      ]
      ),

      ("enable_alt_ai",
      [
        (eq, "$g_use_alternative_ai", 2),
      ],
      "{!}CHEAT!_-_enable_alternative_ai",
      [
        (assign, "$g_use_alternative_ai", 1),
        (jump_to_menu, "mnu_faction_orders"),
      ]
      ),

      ("disable_alt_ai",
      [
        (eq, "$g_use_alternative_ai", 2),
      ],
      "{!}CHEAT!_-_disable_alternative_ai",
      [
        (assign, "$g_use_alternative_ai", 0),
        (jump_to_menu, "mnu_faction_orders"),
      ]
      ),

      ("faction_orders_init_econ",
      [],
      "{!}Initialize_economic_stats.",
      [
        (call_script, "script_initialize_economic_information"),
        (jump_to_menu, "mnu_faction_orders"),
      ]
      ),

      ("go_back_dot",
      [],
      "{!}Go_back.",
      [
        (jump_to_menu, "mnu_reports"),
      ]
      ),
    ],
  ),

  ("character_report", 0,
    "{s9}",
    "none",
    [
      (try_begin),
        (gt, "$g_player_reading_book", 0),
        (player_has_item, "$g_player_reading_book"),
        (str_store_item_name, s8, "$g_player_reading_book"),
        (str_store_string, s9, "@You are currently reading {s8}."),
      (else_try),
        (assign, "$g_player_reading_book", 0),
        (str_store_string, s9, "@You are not reading any books."),
      (try_end),
      (assign, ":var0", 0),
      (assign, ":var1", 0),
      (str_store_string, s6, "str_dplmc_none"),
      (str_store_string, s8, "str_dplmc_none"),
      (try_for_range, ":var2", "trp_npc1", "trp_knight_1_1_wife"),
        (this_or_next|troop_slot_eq, ":var2", 2, 2),
        (troop_slot_eq, ":var2", 2, 9),
        (call_script, "script_troop_get_player_relation", ":var2"),
        (assign, ":var3", reg0),
        (try_begin),
          (gt, ":var3", 20),
          (try_begin),
            (eq, ":var0", 0),
            (str_store_troop_name, s8, ":var2"),
          (else_try),
            (eq, ":var0", 1),
            (str_store_troop_name, s7, ":var2"),
            (str_store_string, s8, "@{s7} and {s8}"),
          (else_try),
            (str_store_troop_name, s7, ":var2"),
            (str_store_string, s8, "@{!}{s7}, {s8}"),
          (try_end),
          (val_add, ":var0", 1),
        (else_try),
          (lt, ":var3", -20),
          (try_begin),
            (eq, ":var1", 0),
            (str_store_troop_name, s6, ":var2"),
          (else_try),
            (eq, ":var1", 1),
            (str_store_troop_name, s5, ":var2"),
            (str_store_string, s6, "@{s5} and {s6}"),
          (else_try),
            (str_store_troop_name, s5, ":var2"),
            (str_store_string, s6, "@{!}{s5}, {s6}"),
          (try_end),
          (val_add, ":var1", 1),
        (try_end),
      (try_end),
      (str_clear, s12),
      (try_begin),
        (gt, "$player_right_to_rule", 0),
        (assign, reg12, "$player_right_to_rule"),
        (str_store_string, s12, "str__right_to_rule_reg12"),
      (try_end),
      (str_clear, s15),
      (try_begin),
        (this_or_next|gt, "$claim_arguments_made", 0),
        (this_or_next|gt, "$ruler_arguments_made", 0),
        (this_or_next|gt, "$victory_arguments_made", 0),
        (this_or_next|gt, "$lords_arguments_made", 0),
        (eq, 1, 0),
        (assign, reg3, "$claim_arguments_made"),
        (assign, reg4, "$ruler_arguments_made"),
        (assign, reg5, "$victory_arguments_made"),
        (assign, reg6, "$lords_arguments_made"),
        (assign, reg7, "$benefit_arguments_made"),
        (str_store_string, s15, "str_political_arguments_made_legality_reg3_rights_of_lords_reg4_unificationpeace_reg5_rights_of_commons_reg6_fief_pledges_reg7"),
      (try_end),
      (assign, reg3, "$player_honor"),
      (troop_get_slot, reg2, "trp_player", 7),
      (str_store_string, s9, "str_renown_reg2_honour_rating_reg3s12_friends_s8_enemies_s6_s9"),
      (call_script, "script_get_number_of_hero_centers", "trp_player"),
      (assign, ":var4", reg0),
      (try_begin),
        (gt, ":var4", 0),
        (try_for_range, ":var5", 0, ":var4"),
          (call_script, "script_troop_get_leaded_center_with_index", "trp_player", ":var5"),
          (assign, ":var6", reg0),
          (try_begin),
            (eq, ":var5", 0),
            (str_store_party_name, s8, ":var6"),
          (else_try),
            (eq, ":var5", 1),
            (str_store_party_name, s7, ":var6"),
            (str_store_string, s8, "@{s7} and {s8}"),
          (else_try),
            (str_store_party_name, s7, ":var6"),
            (str_store_string, s8, "@{!}{s7}, {s8}"),
          (try_end),
        (try_end),
        (str_store_string, s9, "@Your estates are: {s8}.^{s9}"),
      (try_end),
      (try_begin),
        (gt, "$players_kingdom", 0),
        (str_store_faction_name, s8, "$players_kingdom"),
        (try_begin),
          (is_between, "$players_kingdom", "fac_kingdom_1", "fac_kingdoms_end"),
          (call_script, "script_dplmc_get_troop_standing_in_faction", "trp_player", "$players_kingdom"),
          (ge, reg0, 50),
          (str_store_string, s9, "str_you_are_king_queen_of_s8_s9"),
        (else_try),
          (this_or_next|is_between, "$players_kingdom", "fac_kingdom_1", "fac_kingdoms_end"),
          (neg|faction_slot_eq, "fac_player_supporters_faction", 11, "trp_player"),
          (str_store_string, s9, "str_you_are_a_lord_lady_of_s8_s9"),
        (else_try),
          (str_store_string, s9, "str_you_are_king_queen_of_s8_s9"),
        (try_end),
      (try_end),
    ],
    [
      ("skills",
      [],
      "View_Skills",
      [
        (jump_to_menu, "mnu_character_skills"),
      ]
      ),

      ("effects",
      [],
      "View_All_Current_Effects_On_The_Player",
      [
        (jump_to_menu, "mnu_character_effects"),
      ]
      ),

      ("continue",
      [
        (eq, "$cheat_mode", 1),
      ],
      "{!}CHEAT!_-_increase_Right_to_Rule",
      [
        (val_add, "$player_right_to_rule", 5),
        (jump_to_menu, "mnu_character_report"),
      ]
      ),

      ("continue",
      [
        (eq, "$cheat_mode", 1),
        (str_store_troop_name, s14, "$g_talk_troop"),
      ],
      "{!}CHEAT!_-_increase_your_relation_with_{s14}",
      [
        (call_script, "script_change_player_relation_with_troop", "$g_talk_troop", 5),
        (jump_to_menu, "mnu_character_report"),
      ]
      ),

      ("continue",
      [
        (eq, "$cheat_mode", 1),
      ],
      "{!}CHEAT!_-_increase_honor",
      [
        (val_add, "$player_honor", 10),
        (jump_to_menu, "mnu_character_report"),
      ]
      ),

      ("continue",
      [
        (eq, "$cheat_mode", 1),
      ],
      "{!}CHEAT!_-_decrease_honor",
      [
        (val_add, "$player_honor", -5),
        (jump_to_menu, "mnu_character_report"),
      ]
      ),

      ("continue",
      [
        (eq, "$cheat_mode", 1),
      ],
      "{!}CHEAT!_-_increase_renown",
      [
        (troop_get_slot, ":var0", "trp_player", 7),
        (val_add, ":var0", 50),
        (troop_set_slot, "trp_player", 7, ":var0"),
        (jump_to_menu, "mnu_character_report"),
      ]
      ),

      ("continue",
      [
        (eq, "$cheat_mode", 1),
      ],
      "{!}CHEAT!_-_increase_persuasion",
      [
        (troop_raise_skill, "trp_player", "skl_persuasion", 1),
        (jump_to_menu, "mnu_character_report"),
      ]
      ),

      ("continue",
      [],
      "Continue...",
      [
        (jump_to_menu, "mnu_reports"),
      ]
      ),
    ],
  ),

  ("character_skills", 0,
    "These are the skills which the player has learnt.",
    "none",
    [],
    [
      ("dodge",
      [
        (troop_slot_eq, "trp_player", 58, 2),
      ],
      "Dodge",
      [
        (jump_to_menu, "mnu_character_skills"),
      ]
      ),

      ("ignore_pain",
      [
        (troop_slot_eq, "trp_player", 173, 2),
      ],
      "Ignore_Pain",
      [
        (jump_to_menu, "mnu_character_skills"),
      ]
      ),

      ("mighty_blow",
      [
        (troop_slot_eq, "trp_player", 176, 2),
      ],
      "Mighty_Blow",
      [
        (jump_to_menu, "mnu_character_skills"),
      ]
      ),

      ("magic_resistance_6",
      [
        (troop_slot_eq, "trp_player", 228, 6),
      ],
      "Magic_Resistance_6+",
      [
        (jump_to_menu, "mnu_character_skills"),
      ]
      ),

      ("magic_resistance_5",
      [
        (troop_slot_eq, "trp_player", 228, 5),
      ],
      "Magic_Resistance_5+",
      [
        (jump_to_menu, "mnu_character_skills"),
      ]
      ),

      ("magic_resistance_4",
      [
        (troop_slot_eq, "trp_player", 228, 4),
      ],
      "Magic_Resistance_4+",
      [
        (jump_to_menu, "mnu_character_skills"),
      ]
      ),

      ("magic_resistance_3",
      [
        (troop_slot_eq, "trp_player", 228, 3),
      ],
      "Magic_Resistance_3+",
      [
        (jump_to_menu, "mnu_character_skills"),
      ]
      ),

      ("magic_resistance_2",
      [
        (troop_slot_eq, "trp_player", 228, 2),
      ],
      "Magic_Resistance_2+",
      [
        (jump_to_menu, "mnu_character_skills"),
      ]
      ),

      ("leave",
      [],
      "Return_to_character_report.",
      [
        (jump_to_menu, "mnu_character_report"),
      ]
      ),
    ],
  ),

  ("character_effects", 0,
    "These are the effects that are currently affecting the player.",
    "none",
    [],
    [
      ("ward4",
      [
        (troop_slot_eq, "trp_player", 170, 2),
      ],
      "4+_Ward_Save.",
      [
        (jump_to_menu, "mnu_character_effects"),
      ]
      ),

      ("ward5",
      [
        (troop_slot_eq, "trp_player", 171, 2),
      ],
      "5+_Ward_Save.",
      [
        (jump_to_menu, "mnu_character_effects"),
      ]
      ),

      ("ward6",
      [
        (troop_slot_eq, "trp_player", 172, 2),
      ],
      "6+_Ward_Save.",
      [
        (jump_to_menu, "mnu_character_effects"),
      ]
      ),

      ("regeneration",
      [
        (troop_slot_eq, "trp_player", 174, 2),
      ],
      "Regeneration.",
      [
        (jump_to_menu, "mnu_character_effects"),
      ]
      ),

      ("strength",
      [
        (eq, "$strengthpotion", 1),
      ],
      "+5_Power_Strike_(Drunk_Potion_of_Strength).",
      [
        (jump_to_menu, "mnu_character_effects"),
      ]
      ),

      ("toughness",
      [
        (eq, "$toughnesspotion", 1),
      ],
      "+5_Ironflesh_(Drunk_Potion_of_Toughness).",
      [
        (jump_to_menu, "mnu_character_effects"),
      ]
      ),

      ("battle",
      [
        (eq, "$battlepotion", 1),
      ],
      "+10_Agility_(Drunk_Potion_of_Battle).",
      [
        (jump_to_menu, "mnu_character_effects"),
      ]
      ),

      ("strength",
      [
        (eq, "$instabilitypotion", 1),
      ],
      "Ethereal_(Dodge_Activated_by_Potion_of_Instability).",
      [
        (jump_to_menu, "mnu_character_effects"),
      ]
      ),

      ("elemental",
      [
        (eq, "$elementalpotion", 1),
      ],
      "Athletics_and_Riding_Set_to_10_(Drunk_Potion_of_Elemental_Speed).",
      [
        (jump_to_menu, "mnu_character_effects"),
      ]
      ),

      ("pain",
      [
        (eq, "$painpotion", 1),
      ],
      "Senses_Numbed_(Ignore_Pain_Activated_by_Potion_of_Pain).",
      [
        (jump_to_menu, "mnu_character_effects"),
      ]
      ),

      ("disguise",
      [
        (eq, "$disguised", 1),
      ],
      "Elusive_Aura_(Auto_Sneak_Activated_by_Potion_of_Disguise).",
      [
        (jump_to_menu, "mnu_character_effects"),
      ]
      ),

      ("plague",
      [
        (eq, "$has_plague", 1),
      ],
      "You_Have_the_Plague_(-3_to_Strength_and_Agility,_-2_to_Power_Strike,_Ironflesh_and_Athletics).",
      [
        (jump_to_menu, "mnu_character_effects"),
      ]
      ),

      ("fall",
      [
        (eq, "$hasfall", 1),
      ],
      "Damaged_Knee_and_Foot_(From_Fall,_-2_to_Athletics).",
      [
        (jump_to_menu, "mnu_character_effects"),
      ]
      ),

      ("poisoned",
      [
        (troop_slot_eq, "trp_player", 222, 1),
      ],
      "You_are_poisoned_(take_damage_over_time).",
      [
        (jump_to_menu, "mnu_character_effects"),
      ]
      ),

      ("drunk",
      [
        (eq, "$is_drunk", 1),
      ],
      "You_are_drunk_(See_recent_notes_for_effects._Also_has_in_battle_effects).",
      [
        (jump_to_menu, "mnu_character_effects"),
      ]
      ),

      ("leave",
      [],
      "Return_to_character_report.",
      [
        (jump_to_menu, "mnu_character_report"),
      ]
      ),
    ],
  ),

  ("party_size_report", 0,
    "{s1}",
    "none",
    [
      (call_script, "script_game_get_party_companion_limit"),
      (assign, ":var0", reg0),
      (store_skill_level, ":var1", "skl_leadership", "trp_player"),
      (val_mul, ":var1", 6),
      (store_attribute_level, ":var2", "trp_player", ca_charisma),
      (val_mul, ":var2", 2),
      (troop_get_slot, ":var3", "trp_player", 7),
      (val_div, ":var3", 16),
      (try_begin),
        (gt, ":var1", 0),
        (str_store_string, s2, "@{!} +"),
      (else_try),
        (str_store_string, s2, "str_space"),
      (try_end),
      (try_begin),
        (gt, ":var2", 0),
        (str_store_string, s3, "@{!} +"),
      (else_try),
        (str_store_string, s3, "str_space"),
      (try_end),
      (try_begin),
        (gt, ":var3", 0),
        (str_store_string, s4, "@{!} +"),
      (else_try),
        (str_store_string, s4, "str_space"),
      (try_end),
      (assign, ":var4", 0),
      (party_get_num_companion_stacks, ":var5", "p_main_party"),
      (try_for_range, ":var6", 0, ":var5"),
        (party_stack_get_troop_id, ":var7", "p_main_party", ":var6"),
        (troop_get_type, ":var8", ":var7"),
        (eq, ":var8", 7),
        (party_stack_get_size, ":var9", "p_main_party", ":var6"),
        (val_add, ":var4", ":var9"),
      (try_end),
      (try_begin),
        (gt, ":var4", 0),
        (str_store_string, s5, "@{!} -"),
      (else_try),
        (str_store_string, s5, "str_space"),
      (try_end),
      (try_for_range, ":var10", 6, 10),
        (str_clear, ":var10"),
      (try_end),
      (assign, ":var11", 0),
      (try_begin),
        (is_between, "$players_kingdom", "fac_player_supporters_faction", "fac_kingdoms_end"),
        (try_begin),
          (faction_slot_eq, "$players_kingdom", 11, "trp_player"),
          (store_mul, ":var12", 3, "$player_right_to_rule"),
          (val_clamp, ":var12", 20, 101),
          (assign, reg6, ":var12"),
          (str_store_string, s8, "@Monarch: +{reg6}^"),
        (else_try),
          (assign, ":var12", 0),
        (try_end),
        (try_begin),
          (faction_slot_eq, "$players_kingdom", 8, "trp_player"),
          (assign, ":var13", 20),
          (assign, reg6, ":var13"),
          (str_store_string, s7, "@Marshal: +{reg6}^"),
        (else_try),
          (assign, ":var13", 0),
        (try_end),
        (assign, ":var14", "$players_kingdom"),
        (assign, ":var15", -3),
        (assign, ":var16", 4),
        (try_begin),
          (this_or_next|eq, ":var14", "fac_player_supporters_faction"),
          (faction_slot_eq, ":var14", 11, "trp_player"),
          (faction_get_slot, ":var16", ":var14", 82),
          (faction_get_slot, reg0, ":var14", 81),
          (val_add, ":var16", reg0),
          (val_clamp, ":var16", 0, 4),
          (store_mul, ":var15", ":var16", -1),
          (val_add, ":var16", 1),
        (try_end),
        (try_begin),
          (faction_slot_eq, "$players_kingdom", 11, "trp_player"),
          (try_begin),
            (faction_get_slot, ":var17", "$players_kingdom", 241),
            (neq, ":var17", 0),
            (val_clamp, ":var17", ":var15", ":var16"),
            (val_mul, ":var17", 6),
            (val_add, ":var11", ":var17"),
          (try_end),
        (else_try),
          (try_begin),
            (faction_get_slot, ":var17", "$players_kingdom", 241),
            (neq, ":var17", 0),
            (val_clamp, ":var17", ":var15", ":var16"),
            (val_mul, ":var17", -4),
            (val_add, ":var11", ":var17"),
          (try_end),
          (try_begin),
            (faction_get_slot, ":var18", "$players_kingdom", 242),
            (neq, ":var18", 0),
            (val_clamp, ":var18", ":var15", ":var16"),
            (val_mul, ":var18", 5),
            (val_add, ":var11", ":var18"),
          (try_end),
          (try_begin),
            (faction_get_slot, ":var19", "$players_kingdom", 244),
            (neq, ":var19", 0),
            (val_clamp, ":var19", ":var15", ":var16"),
            (val_mul, ":var19", -8),
            (val_add, ":var11", ":var19"),
          (try_end),
          (try_begin),
            (faction_get_slot, ":var20", "$players_kingdom", 243),
            (neq, ":var20", 0),
            (val_clamp, ":var20", ":var15", ":var16"),
            (val_mul, ":var20", 4),
            (val_add, ":var11", ":var20"),
          (try_end),
        (try_end),
        (val_div, ":var11", 2),
        (try_begin),
          (neq, ":var11", 0),
          (assign, reg6, ":var11"),
          (str_store_string, s9, "@Policy: {reg6}%^"),
        (try_end),
      (else_try),
        (neg|is_between, "$players_kingdom", "fac_player_supporters_faction", "fac_kingdoms_end"),
        (assign, ":var12", 0),
        (assign, ":var13", 0),
        (assign, ":var11", 0),
      (try_end),
      (assign, ":var21", 0),
      (try_for_range, ":var22", "p_castle_1", "p_village_1"),
        (party_slot_eq, ":var22", 7, "trp_player"),
        (val_add, ":var21", 20),
      (try_end),
      (try_begin),
        (gt, ":var21", 0),
        (assign, reg6, ":var21"),
        (str_store_string, s6, "@Castellan: +{reg6}^"),
      (try_end),
      (assign, reg5, ":var0"),
      (assign, reg1, ":var1"),
      (val_mul, ":var2", 2),
      (assign, reg2, ":var2"),
      (assign, reg3, ":var3"),
      (assign, reg6, ":var4"),
      (str_store_string, s1, "@Current party size limit is {reg5}.^Current party size modifiers are:^^Base size:  +30^Leadership: {s2}{reg1}^Charisma: {s3}{reg2}^Renown: {s4}{reg3}^Ogres {s5}{reg6}^TOTAL:  {reg5}"),
    ],
    [
      ("continue",
      [],
      "Continue...",
      [
        (jump_to_menu, "mnu_reports"),
      ]
      ),
    ],
  ),

  ("faction_relations_report", 0,
    "{s1}",
    "none",
    [
      (str_clear, s2),
      (try_for_range, ":var0", "fac_player_supporters_faction", "fac_kingdoms_end"),
        (faction_slot_eq, ":var0", 21, 0),
        (neq, ":var0", "fac_player_supporters_faction"),
        (store_relation, ":var1", "fac_player_supporters_faction", ":var0"),
        (try_begin),
          (ge, ":var1", 90),
          (str_store_string, s3, "@Loyal"),
        (else_try),
          (ge, ":var1", 80),
          (str_store_string, s3, "@Devoted"),
        (else_try),
          (ge, ":var1", 70),
          (str_store_string, s3, "@Fond"),
        (else_try),
          (ge, ":var1", 60),
          (str_store_string, s3, "@Gracious"),
        (else_try),
          (ge, ":var1", 50),
          (str_store_string, s3, "@Friendly"),
        (else_try),
          (ge, ":var1", 40),
          (str_store_string, s3, "@Supportive"),
        (else_try),
          (ge, ":var1", 30),
          (str_store_string, s3, "@Favorable"),
        (else_try),
          (ge, ":var1", 20),
          (str_store_string, s3, "@Cooperative"),
        (else_try),
          (ge, ":var1", 10),
          (str_store_string, s3, "@Accepting"),
        (else_try),
          (ge, ":var1", 0),
          (str_store_string, s3, "@Indifferent"),
        (else_try),
          (ge, ":var1", -10),
          (str_store_string, s3, "@Suspicious"),
        (else_try),
          (ge, ":var1", -20),
          (str_store_string, s3, "@Grumbling"),
        (else_try),
          (ge, ":var1", -30),
          (str_store_string, s3, "@Hostile"),
        (else_try),
          (ge, ":var1", -40),
          (str_store_string, s3, "@Resentful"),
        (else_try),
          (ge, ":var1", -50),
          (str_store_string, s3, "@Angry"),
        (else_try),
          (ge, ":var1", -60),
          (str_store_string, s3, "@Hateful"),
        (else_try),
          (ge, ":var1", -70),
          (str_store_string, s3, "@Revengeful"),
        (else_try),
          (str_store_string, s3, "@Vengeful"),
        (try_end),
        (str_store_faction_name, s4, ":var0"),
        (assign, reg1, ":var1"),
        (str_store_string, s2, "@{!}{s2}^{s4}: {reg1} ({s3})"),
      (try_end),
      (str_store_string, s1, "@Your relation with the factions are:^{s2}"),
    ],
    [
      ("continue",
      [],
      "Continue...",
      [
        (jump_to_menu, "mnu_reports"),
      ]
      ),
    ],
  ),

  ("camp", mnf_scale_picture,
    "You set up camp. What do you want to do?",
    "none",
    [
      (assign, "$g_player_icon_state", 0),
      (set_background_mesh, "mesh_pic_camp"),
      (try_begin),
        (eq, "$g_encountered_party_template", "pt_player_camp"),
        (jump_to_menu, "mnu_player_camp"),
      (else_try),
        (call_script, "script_find_closest_player_camp", "p_main_party"),
        (gt, reg0, 0),
        (eq, reg1, 0),
        (assign, "$auto_enter_town", reg0),
        (change_screen_return),
      (try_end),
    ],
    [
      ("camp_action_1",
      [
        (eq, "$cheat_mode", 1),
      ],
      "{!}Cheat:_Walk_around.",
      [
        (set_jump_mission, "mt_ai_training"),
        (call_script, "script_setup_random_scene"),
        (change_screen_mission),
      ]
      ),

      ("dplmc_camp_manage_inventory",
      [
        (call_script, "script_cf_dplmc_player_party_meets_autoloot_conditions"),
      ],
      "Manage_auto-loot_settings.",
      [
        (try_begin),
          (call_script, "script_dplmc_initialize_autoloot", 0),
        (try_end),
        (troop_clear_inventory, "trp_temp_troop"),
        (assign, "$pool_troop", "trp_temp_troop"),
        (assign, "$dplmc_return_menu", "mnu_camp"),
        (assign, "$inventory_menu_offset", 0),
        (assign, "$lord_selected", "trp_player"),
        (str_clear, s30),
        (jump_to_menu, "mnu_dplmc_manage_loot_pool"),
      ]
      ),

      ("dplmc_camp_manage_inventory_disabled",
      [
        (try_begin),
          (call_script, "script_cf_dplmc_player_party_meets_autoloot_conditions"),
        (try_end),
        (eq, reg0, 0),
        (disable_menu_option),
      ],
      "Auto-loot_requires_Inv._Management_or_Looting_at_rank_2.",
      []
      ),

      ("dplmc_camp_preferences",
      [],
      "Diplomacy_preferences.",
      [
        (jump_to_menu, "mnu_dplmc_preferences"),
        (assign, "$g_presentation_next_presentation", -1),
      ]
      ),

      ("camp_mod_opition",
      [],
      "Change_Warsword_Conquest_Settings.",
      [
        (start_presentation, "prsnt_mod_option"),
      ]
      ),

      ("camp_action",
      [],
      "Take_an_action.",
      [
        (jump_to_menu, "mnu_camp_action"),
      ]
      ),

      ("action_prebattle_custom_divisions",
      [],
      "Manage_Split_Troop_Assignments.",
      [
        (start_presentation, "prsnt_prebattle_custom_divisions"),
      ]
      ),

      ("action_prebattle_mod_preferences",
      [],
      "PBOD_Mod_Preferences.",
      [
        (start_presentation, "prsnt_pbod_preferences"),
      ]
      ),

      ("camp_wait_here",
      [],
      "Wait_here_for_some_time.",
      [
        (assign, "$g_camp_mode", 1),
        (assign, "$g_infinite_camping", 0),
        (assign, "$g_player_icon_state", 1),
        (try_begin),
          (party_is_active, "p_main_party"),
          (party_get_current_terrain, ":var0", "p_main_party"),
          (try_begin),
            (eq, ":var0", 5),
            (unlock_achievement, 28),
          (try_end),
        (try_end),
        (rest_for_hours_interactive, 8760, "$g_warsword_wait_multiplier", 1),
        (change_screen_return),
      ]
      ),

      ("camp_cheat",
      [
        (eq, "$cheat_mode", 1),
      ],
      "CHEAT_MENU!",
      [
        (jump_to_menu, "mnu_camp_cheat"),
      ]
      ),

      ("resume_travelling",
      [],
      "Resume_travelling.",
      [
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("camp_cheat", 0,
    "Select a cheat:",
    "none",
    [],
    [
      ("camp_cheat_second_menu",
      [],
      "Go_to_2nd_camp_cheat_menu_[for_testers].",
      [
        (jump_to_menu, "mnu_cheat_2nd_menu"),
      ]
      ),

      ("camp_cheat_find_item",
      [],
      "Find_an_item...",
      [
        (jump_to_menu, "mnu_cheat_find_item"),
      ]
      ),

      ("camp_cheat_3",
      [],
      "{!}Increase_player_renown.",
      [
        (str_store_string, s1, "@Player renown is increased by 50. "),
        (call_script, "script_change_troop_renown", "trp_player", 50),
        (jump_to_menu, "mnu_camp_cheat"),
      ]
      ),

      ("camp_cheat_5",
      [],
      "{!}Scramble_taverngoers.",
      [
        (try_for_range, ":var0", 95, 100),
          (neq, ":var0", 97),
          (try_for_range, ":var1", "p_town_1", "p_castle_1"),
            (party_set_slot, ":var1", ":var0", -1),
          (try_end),
          (try_begin),
            (eq, ":var0", 95),
            (assign, ":var2", "trp_ransom_broker_1"),
            (assign, ":var3", "trp_tavern_traveler_1"),
          (else_try),
            (eq, ":var0", 96),
            (assign, ":var2", "trp_tavern_traveler_1"),
            (assign, ":var3", "trp_tavern_bookseller_1"),
          (else_try),
            (eq, ":var0", 99),
            (assign, ":var2", "trp_tavern_minstrel_1"),
            (assign, ":var3", "trp_humanitarian_1"),
          (else_try),
            (eq, ":var0", 98),
            (assign, ":var2", "trp_tavern_bookseller_1"),
            (assign, ":var3", "trp_tavern_minstrel_1"),
          (try_end),
          (assign, ":var4", 0),
          (str_store_string, s51, "@nowhere in particular"),
          (try_for_range, ":var5", ":var2", ":var3"),
            (troop_set_slot, ":var5", 12, -1),
            (store_random_in_range, ":var6", "p_town_1", "p_castle_1"),
            (try_begin),
              (party_slot_ge, ":var6", ":var0", ":var2"),
            (else_try),
              (val_add, ":var4", 1),
              (str_store_party_name_link, s50, ":var6"),
              (party_set_slot, ":var6", ":var0", ":var5"),
              (troop_set_slot, ":var5", 12, ":var6"),
              (try_begin),
                (eq, ":var4", 1),
                (str_store_string, s51, s50),
              (else_try),
                (str_store_string, s51, "str_s50_comma_s51"),
              (try_end),
            (try_end),
          (try_end),
          (str_store_troop_name_plural, s10, ":var2"),
          (str_store_string_reg, s11, s51),
          (display_message, "@You can find {s10}s at {s11}."),
        (try_end),
        (call_script, "script_update_mercenary_units_of_towns"),
      ]
      ),

      ("camp_cheat_4",
      [],
      "{!}Increase_player_positive_reputation.",
      [
        (assign, reg7, "$player_honor"),
        (val_add, reg7, 1),
        (display_message, "@Player reputation is increased by 1 and it is now {reg7}."),
        (val_add, "$player_honor", 1),
        (jump_to_menu, "mnu_camp_cheat"),
      ]
      ),

      ("camp_cheat_24",
      [],
      "{!}Increase_player_negative_reputation.",
      [
        (assign, reg7, "$player_honor"),
        (val_add, reg7, 1),
        (display_message, "@Player reputation is decreased by 1 and it is now {reg7}."),
        (val_add, "$player_honor", -1),
        (jump_to_menu, "mnu_camp_cheat"),
      ]
      ),

      ("camp_cheat_5",
      [],
      "{!}Update_political_notes.",
      [
        (try_for_range, ":var0", "trp_npc1", "trp_knight_1_1_wife"),
          (troop_slot_eq, ":var0", 2, 2),
          (call_script, "script_update_troop_political_notes", ":var0"),
        (try_end),
        (try_for_range, ":var1", "fac_player_supporters_faction", "fac_kingdoms_end"),
          (call_script, "script_update_faction_political_notes", ":var1"),
        (try_end),
      ]
      ),

      ("camp_cheat_6",
      [],
      "{!}Update_troop_notes.",
      [
        (try_for_range, ":var0", "trp_npc1", "trp_knight_1_1_wife"),
          (troop_slot_eq, ":var0", 2, 2),
          (call_script, "script_update_troop_notes", ":var0"),
        (try_end),
        (try_for_range, ":var1", "trp_knight_1_1_wife", "trp_heroes_end"),
          (call_script, "script_update_troop_notes", ":var1"),
          (call_script, "script_update_troop_political_notes", ":var1"),
          (call_script, "script_update_troop_location_notes", ":var1", 0),
        (try_end),
      ]
      ),

      ("camp_cheat_7",
      [],
      "{!}Scramble_minstrels.",
      [
        (call_script, "script_update_tavern_minstrels"),
      ]
      ),

      ("cheat_faction_orders",
      [
        (neq, "$cheat_mode", 0),
        (try_begin),
          (eq, "$cheat_mode", 1),
          (str_store_string, s1, "@all"),
        (else_try),
          (eq, "$cheat_mode", 2),
          (str_store_string, s1, "@troop"),
        (else_try),
          (eq, "$cheat_mode", 3),
          (str_store_string, s1, "@economic"),
        (else_try),
          (eq, "$cheat_mode", 4),
          (str_store_string, s1, "@political"),
        (try_end),
      ],
      "{!}Debug_messages_to_{s1}.",
      [
        (val_add, "$cheat_mode", 1),
        (val_mod, "$cheat_mode", 5),
        (jump_to_menu, "mnu_camp_cheat"),
      ]
      ),

      ("cheat_recheck_encumbrance",
      [],
      "{!}Cheat:_Re-check_encumbrances_and_combat_abilities.",
      [
        (call_script, "script_set_troop_skill_flags"),
        (assign, "$show_autoloot_data", 1),
        (try_for_range, ":var0", "trp_farmer", "trp_town_walker_1"),
          (call_script, "script_ce_get_troop_encumbrance", ":var0"),
          (call_script, "script_ce_put_troop_encumbrance", ":var0", 1),
        (try_end),
        (try_for_range, ":var0", "trp_kingdom_heroes_including_player_begin", "trp_heroes_end"),
          (call_script, "script_ce_get_troop_encumbrance", ":var0"),
          (call_script, "script_ce_put_troop_encumbrance", ":var0", 0),
        (try_end),
        (call_script, "script_ce_get_troop_encumbrance", "trp_player"),
        (call_script, "script_ce_put_troop_encumbrance", "trp_player", 0),
      ]
      ),

      ("back_to_camp_menu",
      [],
      "{!}Back_to_camp_menu.",
      [
        (jump_to_menu, "mnu_camp"),
      ]
      ),
    ],
  ),

  ("cheat_2nd_menu", 0,
    "Select a cheat:",
    "none",
    [
      (eq, "$g_warsword_tester", 1),
    ],
    [
      ("camp_cheat_give_gold",
      [],
      "Give_250_denars",
      [
        (troop_add_gold, "trp_player", 250),
      ]
      ),

      ("camp_cheat_heal",
      [],
      "Heal_party.",
      [
        (heal_party, "p_main_party"),
      ]
      ),

      ("camp_cheat_xp",
      [
        (store_character_level, ":var0", "trp_player"),
      ],
      "Add_xp_to_party.",
      [
        (set_show_messages, 0),
        (party_get_num_companion_stacks, ":var0", "p_main_party"),
        (try_for_range, ":var1", 0, ":var0"),
          (party_stack_get_troop_id, ":var2", "p_main_party", ":var1"),
          (try_begin),
            (party_stack_get_size, ":var3", "p_main_party", ":var1"),
            (call_script, "script_game_get_upgrade_xp", ":var2"),
            (store_mul, ":var4", reg0, ":var3"),
            (try_begin),
              (troop_is_hero, ":var2"),
              (store_character_level, ":var5", ":var2"),
              (assign, ":var6", 100),
              (try_begin),
                (le, ":var5", 10),
                (assign, ":var4", 100),
              (else_try),
                (le, ":var5", 25),
                (assign, ":var4", 1000),
              (else_try),
                (le, ":var5", 35),
                (assign, ":var4", 10000),
              (else_try),
                (le, ":var5", 50),
                (assign, ":var4", 30000),
              (else_try),
                (le, ":var5", 60),
                (assign, ":var4", 1000000),
              (else_try),
                (assign, ":var4", 10000000),
              (try_end),
              (try_for_range, ":var7", 0, ":var6"),
                (party_add_xp_to_stack, "p_main_party", ":var1", ":var4"),
                (add_xp_to_troop, 1, ":var2"),
                (store_character_level, ":var8", ":var2"),
                (lt, ":var5", ":var8"),
                (assign, ":var6", 0),
              (try_end),
            (else_try),
              (party_add_xp_to_stack, "p_main_party", ":var1", ":var4"),
            (try_end),
          (try_end),
        (try_end),
        (set_show_messages, 1),
      ]
      ),

      ("camp_cheat_2_4",
      [
        (is_between, "$players_kingdom", "fac_kingdom_1", "fac_kingdoms_end"),
      ],
      "{!}Add_medium_quality_reinforcements_from_your_kingdom.",
      [
        (assign, ":var0", "$players_kingdom"),
        (faction_get_slot, ":var1", ":var0", 78),
        (faction_get_slot, ":var2", ":var0", 79),
        (party_add_template, "p_main_party", ":var1"),
        (party_add_template, "p_main_party", ":var2"),
      ]
      ),

      ("camp_cheat_2_5",
      [
        (is_between, "$players_kingdom", "fac_kingdom_1", "fac_kingdoms_end"),
      ],
      "{!}Add_high_quality_reinforcements_from_your_kingdom.",
      [
        (assign, ":var0", "$players_kingdom"),
        (faction_get_slot, ":var1", ":var0", 111),
        (faction_get_slot, ":var2", ":var0", 112),
        (party_add_template, "p_main_party", ":var1"),
        (party_add_template, "p_main_party", ":var2"),
      ]
      ),

      ("camp_cheat_0",
      [],
      "{!}Increase_player_Right_To_Rule.",
      [
        (try_begin),
          (this_or_next|key_is_down, key_left_shift),
          (key_is_down, key_right_shift),
          (call_script, "script_change_player_right_to_rule", 5),
        (else_try),
          (call_script, "script_change_player_right_to_rule", 2),
        (try_end),
      ]
      ),

      ("camp_cheat_2_5",
      [],
      "{!}Increase_player_honor.",
      [
        (try_begin),
          (this_or_next|key_is_down, key_left_shift),
          (key_is_down, key_right_shift),
          (call_script, "script_change_player_honor", 10),
        (else_try),
          (call_script, "script_change_player_honor", 3),
        (try_end),
      ]
      ),

      ("camp_cheat_7",
      [
        (troop_slot_ge, "trp_player", 30, 1),
      ],
      "{!}Divorce_player_spouse",
      [
        (troop_get_slot, ":var0", "trp_player", 30),
        (troop_set_slot, ":var0", 30, -1),
        (troop_set_slot, "trp_player", 30, -1),
        (call_script, "script_change_player_relation_with_troop", ":var0", -40),
        (try_for_range, ":var1", "trp_npc1", "trp_heroes_end"),
          (neq, ":var1", ":var0"),
          (call_script, "script_dplmc_troop_get_family_relation_to_troop", ":var0", ":var1"),
          (gt, reg0, 0),
          (val_mul, reg0, -2),
          (val_div, reg0, 3),
          (val_min, reg0, -1),
          (call_script, "script_change_player_relation_with_troop", ":var1", reg0),
        (try_end),
      ]
      ),

      ("camp_cheat_weather",
      [],
      "Change_weather..",
      [
        (jump_to_menu, "mnu_cheat_change_weather"),
      ]
      ),

      ("camp_cheat_6",
      [],
      "{!}Infinite_camp",
      [
        (assign, "$g_camp_mode", 1),
        (assign, "$g_infinite_camping", 1),
        (assign, "$g_player_icon_state", 1),
        (rest_for_hours_interactive, 87600, 20),
        (change_screen_return),
      ]
      ),

      ("back_to_camp_cheat_menu",
      [],
      "{!}Back_to_first_camp_cheat_menu.",
      [
        (jump_to_menu, "mnu_camp_cheat"),
      ]
      ),
    ],
  ),

  ("cheat_find_item", 0,
    "{!}Current item range: {reg5} to {reg6}",
    "none",
    [
      (assign, reg5, "$cheat_find_item_range_begin"),
      (store_add, reg6, "$cheat_find_item_range_begin", 96),
      (val_min, reg6, "itm_items_end"),
      (val_sub, reg6, 1),
    ],
    [
      ("cheat_find_item_next_range",
      [],
      "{!}Move_to_next_item_range.",
      [
        (val_add, "$cheat_find_item_range_begin", 96),
        (try_begin),
          (ge, "$cheat_find_item_range_begin", "itm_fellblade"),
          (assign, "$cheat_find_item_range_begin", 0),
        (try_end),
        (jump_to_menu, "mnu_cheat_find_item"),
      ]
      ),

      ("cheat_find_item_choose_this",
      [],
      "{!}Choose_from_this_range.",
      [
        (troop_clear_inventory, "trp_find_item_cheat"),
        (store_add, ":var0", "$cheat_find_item_range_begin", 96),
        (val_min, ":var0", "itm_fellblade"),
        (store_sub, ":var1", ":var0", "$cheat_find_item_range_begin"),
        (try_begin),
          (try_for_range, ":var2", 0, ":var1"),
            (store_add, ":var3", "$cheat_find_item_range_begin", ":var2"),
            (troop_add_items, "trp_find_item_cheat", ":var3", 1),
          (try_end),
          (change_screen_trade, "trp_find_item_cheat"),
        (try_end),
      ]
      ),

      ("camp_action_4",
      [],
      "{!}Back_to_camp_menu.",
      [
        (jump_to_menu, "mnu_camp"),
      ]
      ),
    ],
  ),

  ("cheat_change_weather", 0,
    "{!}Current cloud amount: {reg5}^Current Fog Strength: {reg6}",
    "none",
    [
      (get_global_cloud_amount, reg5),
      (get_global_haze_amount, reg6),
    ],
    [
      ("cheat_increase_cloud",
      [],
      "{!}Increase_Cloud_Amount.",
      [
        (get_global_cloud_amount, ":var0"),
        (val_add, ":var0", 5),
        (val_min, ":var0", 100),
        (set_global_cloud_amount, ":var0"),
      ]
      ),

      ("cheat_decrease_cloud",
      [],
      "{!}Decrease_Cloud_Amount.",
      [
        (get_global_cloud_amount, ":var0"),
        (val_sub, ":var0", 5),
        (val_max, ":var0", 0),
        (set_global_cloud_amount, ":var0"),
      ]
      ),

      ("cheat_increase_fog",
      [],
      "{!}Increase_Fog_Amount.",
      [
        (get_global_haze_amount, ":var0"),
        (val_add, ":var0", 5),
        (val_min, ":var0", 100),
        (set_global_haze_amount, ":var0"),
      ]
      ),

      ("cheat_decrease_fog",
      [],
      "{!}Decrease_Fog_Amount.",
      [
        (get_global_haze_amount, ":var0"),
        (val_sub, ":var0", 5),
        (val_max, ":var0", 0),
        (set_global_haze_amount, ":var0"),
      ]
      ),

      ("camp_action_4",
      [],
      "{!}Back_to_camp_menu.",
      [
        (jump_to_menu, "mnu_camp"),
      ]
      ),
    ],
  ),

  ("camp_action", 0,
    "Choose an action:",
    "none",
    [],
    [
      ("camp_action_second_menu",
      [],
      "Go_to_2nd_action_menu.",
      [
        (jump_to_menu, "mnu_action_2nd_menu"),
      ]
      ),

      ("camp_recruit_prisoners",
      [
        (troops_can_join, 1),
        (store_current_hours, ":var0"),
        (val_sub, ":var0", 24),
        (gt, ":var0", "$g_prisoner_recruit_last_time"),
        (try_begin),
          (gt, "$g_prisoner_recruit_last_time", 0),
          (assign, "$g_prisoner_recruit_troop_id", 0),
          (assign, "$g_prisoner_recruit_size", 0),
          (assign, "$g_prisoner_recruit_last_time", 0),
        (try_end),
      ],
      "Recruit_some_of_your_prisoners_to_your_party.",
      [
        (jump_to_menu, "mnu_camp_recruit_prisoners"),
      ]
      ),

      ("action_create_pcamp",
      [
        (neq, "$g_encountered_party_template", "pt_player_camp"),
      ],
      "Create_a_permanent_camp.",
      [
        (jump_to_menu, "mnu_create_pcamp"),
      ]
      ),

      ("action_read_book",
      [],
      "Select_a_book_to_read.",
      [
        (jump_to_menu, "mnu_camp_action_read_book"),
      ]
      ),

      ("camp_change_name",
      [],
      "Change_the_name_of_your_party.",
      [
        (assign, "$g_presentation_state", 3),
        (assign, "$g_encountered_party", "p_main_party"),
        (start_presentation, "prsnt_name_kingdom"),
      ]
      ),

      ("action_export_import",
      [],
      "Export/import_NPCs.",
      [
        (jump_to_menu, "mnu_export_import_npcs"),
      ]
      ),

      ("action_change_troops",
      [],
      "Change_your_kingdom's_default_troops.",
      [
        (jump_to_menu, "mnu_camp_action_change_troops"),
      ]
      ),

      ("action_change_troops2",
      [],
      "Change_your_kingdom's_default_troops_-_part_II",
      [
        (jump_to_menu, "mnu_camp_action_change_troops2"),
      ]
      ),

      ("action_modify_banner",
      [
        (eq, "$cheat_mode", 1),
      ],
      "{!}Cheat:_Modify_your_banner.",
      [
        (start_presentation, "prsnt_banner_selection"),
      ]
      ),

      ("action_drink_potion",
      [
        (try_for_range, ":var0", "itm_potion_healing", "itm_ring_cheap"),
          (store_item_kind_count, ":var1", ":var0", "trp_player"),
          (ge, ":var1", 1),
        (try_end),
      ],
      "Drink_a_potion.",
      [
        (jump_to_menu, "mnu_drink_potion"),
      ]
      ),

      ("magic_in_siegsz",
      [
        (eq, "$magic_in_sieges", 1),
      ],
      "Deactivate_Magic_in_Sieges.",
      [
        (assign, "$magic_in_sieges", 0),
        (jump_to_menu, "mnu_camp_action"),
      ]
      ),

      ("magic_in_siegsz",
      [
        (eq, "$magic_in_sieges", 0),
      ],
      "Activate_Magic_in_Sieges.",
      [
        (assign, "$magic_in_sieges", 1),
        (jump_to_menu, "mnu_camp_action"),
      ]
      ),

      ("camp_action_4",
      [],
      "Back_to_camp_menu.",
      [
        (jump_to_menu, "mnu_camp"),
      ]
      ),
    ],
  ),

  ("action_2nd_menu", 0,
    "Select an action:",
    "none",
    [],
    [
      ("action_modify_banner",
      [
        (eq, "$cheat_mode", 1),
      ],
      "{!}Cheat:_Modify_your_banner.",
      [
        (start_presentation, "prsnt_banner_selection"),
      ]
      ),

      ("action_change_kingdom_colors",
      [
        (faction_slot_eq, "fac_player_supporters_faction", 21, 0),
        (faction_slot_eq, "fac_player_supporters_faction", 11, "trp_player"),
      ],
      "Change_your_kingdom_colors",
      [
        (jump_to_menu, "mnu_change_kingdom_colors"),
      ]
      ),

      ("action_rename_kingdom",
      [
        (faction_slot_eq, "fac_player_supporters_faction", 21, 0),
        (faction_slot_eq, "fac_player_supporters_faction", 11, "trp_player"),
      ],
      "Rename_your_kingdom.",
      [
        (start_presentation, "prsnt_name_kingdom"),
      ]
      ),

      ("action_retire",
      [],
      "Retire_from_adventuring.",
      [
        (jump_to_menu, "mnu_retirement_verify"),
      ]
      ),

      ("action_fix_ports",
      [
        (eq, "$cheat_mode", 1),
      ],
      "Fix_ports_from_traders_bug.",
      [
        (call_script, "script_fix_ports_from_traders"),
      ]
      ),

      ("camp_action_15",
      [],
      "Back_to_camp_menu.",
      [
        (jump_to_menu, "mnu_camp"),
      ]
      ),
    ],
  ),

  ("drink_potion", 0,
    "Which potion would you like to drink:",
    "none",
    [],
    [
      ("drink_healing_potion",
      [
        (store_item_kind_count, ":var0", "itm_potion_healing"),
        (ge, ":var0", 1),
      ],
      "Drink_a_healing_potion.",
      [
        (troop_remove_item, "trp_player", "itm_potion_healing"),
        (display_message, "@You drunk a potion", 0xFFAAFFAA),
        (troop_set_health, "trp_player", 100),
        (jump_to_menu, "mnu_drink_potion"),
      ]
      ),

      ("drink_healing_strength",
      [
        (eq, "$strengthpotion", 0),
        (store_item_kind_count, ":var0", "itm_potion_strength"),
        (ge, ":var0", 1),
      ],
      "Drink_a_potion_of_strength.",
      [
        (troop_remove_item, "trp_player", "itm_potion_strength"),
        (display_message, "@You drunk a potion", 0xFFAAFFAA),
        (troop_raise_skill, "trp_player", 35, 5),
        (assign, "$strengthpotion", 1),
        (jump_to_menu, "mnu_drink_potion"),
      ]
      ),

      ("drink_healing_toughness",
      [
        (eq, "$toughnesspotion", 0),
        (store_item_kind_count, ":var0", "itm_potion_toughness"),
        (ge, ":var0", 1),
      ],
      "Drink_a_potion_of_toughness.",
      [
        (troop_remove_item, "trp_player", "itm_potion_toughness"),
        (display_message, "@You drunk a potion", 0xFFAAFFAA),
        (troop_raise_skill, "trp_player", 36, 5),
        (assign, "$toughnesspotion", 1),
        (jump_to_menu, "mnu_drink_potion"),
      ]
      ),

      ("drink_healing_battle",
      [
        (eq, "$battlepotion", 0),
        (store_item_kind_count, ":var0", "itm_potion_battle"),
        (ge, ":var0", 1),
      ],
      "Drink_a_potion_of_battle.",
      [
        (troop_remove_item, "trp_player", "itm_potion_battle"),
        (display_message, "@You drunk a potion", 0xFFAAFFAA),
        (store_skill_level, ":var0", 27, "trp_player"),
        (troop_set_slot, "trp_player", 245, ":var0"),
        (call_script, "script_troop_set_skill_level", "skl_weapon_master", 10, "trp_player"),
        (assign, "$battlepotion", 1),
        (jump_to_menu, "mnu_drink_potion"),
      ]
      ),

      ("drink_healing_instability",
      [
        (eq, "$instabilitypotion", 0),
        (store_item_kind_count, ":var0", "itm_potion_instability"),
        (ge, ":var0", 1),
      ],
      "Drink_a_potion_of_instability.",
      [
        (troop_remove_item, "trp_player", "itm_potion_instability"),
        (display_message, "@You drunk a potion", 0xFFAAFFAA),
        (troop_get_slot, ":var0", "trp_player", 58),
        (try_begin),
          (eq, ":var0", 2),
          (jump_to_menu, "mnu_drink_potion"),
        (else_try),
          (troop_set_slot, "trp_player", 58, 2),
          (assign, "$instabilitypotion", 1),
          (jump_to_menu, "mnu_drink_potion"),
        (try_end),
      ]
      ),

      ("drink_healing_elemental",
      [
        (eq, "$elementalpotion", 0),
        (store_item_kind_count, ":var0", "itm_potion_elemental"),
        (ge, ":var0", 1),
      ],
      "Drink_a_potion_of_elemental_speed.",
      [
        (troop_remove_item, "trp_player", "itm_potion_elemental"),
        (display_message, "@You drunk a potion", 0xFFAAFFAA),
        (store_skill_level, "$originalath1", 25, "trp_player"),
        (call_script, "script_troop_set_skill_level", "skl_athletics", 10),
        (assign, "$elementalpotion", 1),
        (jump_to_menu, "mnu_drink_potion"),
      ]
      ),

      ("drink_healing_knowledge",
      [
        (store_item_kind_count, ":var0", "itm_potion_knowledge"),
        (ge, ":var0", 1),
      ],
      "Drink_a_potion_of_knowledge.",
      [
        (troop_remove_item, "trp_player", "itm_potion_knowledge"),
        (display_message, "@You drunk a potion", 0xFFAAFFAA),
        (add_xp_to_troop, 1000, "trp_player"),
        (jump_to_menu, "mnu_drink_potion"),
      ]
      ),

      ("drink_healing_pain",
      [
        (eq, "$painpotion", 0),
        (store_item_kind_count, ":var0", "itm_potion_pain"),
        (ge, ":var0", 1),
      ],
      "Drink_a_potion_of_pain.",
      [
        (troop_remove_item, "trp_player", "itm_potion_pain"),
        (display_message, "@You drunk a potion", 0xFFAAFFAA),
        (troop_get_slot, ":var0", "trp_player", 173),
        (try_begin),
          (eq, ":var0", 2),
          (troop_set_slot, "trp_player", 173, 4),
          (assign, "$painpotion", 1),
          (jump_to_menu, "mnu_drink_potion"),
        (else_try),
          (troop_set_slot, "trp_player", 173, 2),
          (assign, "$painpotion", 1),
          (jump_to_menu, "mnu_drink_potion"),
        (try_end),
      ]
      ),

      ("drink_healing_disguise",
      [
        (eq, "$disguised", 0),
        (store_item_kind_count, ":var0", "itm_potion_disguise"),
        (ge, ":var0", 1),
      ],
      "Drink_a_potion_of_disguise.",
      [
        (troop_remove_item, "trp_player", "itm_potion_disguise"),
        (display_message, "@You drunk a potion", 0xFFAAFFAA),
        (assign, "$disguised", 1),
        (jump_to_menu, "mnu_drink_potion"),
      ]
      ),

      ("drink_healing_curing",
      [
        (store_item_kind_count, ":var0", "itm_potion_curing"),
        (ge, ":var0", 1),
      ],
      "Drink_a_potion_of_curing.",
      [
        (troop_remove_item, "trp_player", "itm_potion_curing"),
        (display_message, "@You drunk a potion", 0xFFAAFFAA),
        (assign, "$has_plague", 0),
        (troop_set_slot, "trp_player", 222, 0),
        (jump_to_menu, "mnu_drink_potion"),
      ]
      ),

      ("camp_action_4",
      [],
      "Back_to_camp_menu.",
      [
        (jump_to_menu, "mnu_camp"),
      ]
      ),
    ],
  ),

  ("camp_recruit_prisoners", 0,
    "You offer your prisoners freedom if they agree to join you as soldiers. {s18}",
    "none",
    [
      (assign, ":var0", 0),
      (party_get_num_prisoner_stacks, ":var1", "p_main_party"),
      (try_for_range, ":var2", 0, ":var1"),
        (party_prisoner_stack_get_troop_id, ":var3", "p_main_party", ":var2"),
        (neg|troop_is_hero, ":var3"),
        (val_add, ":var0", 1),
      (try_end),
      (try_begin),
        (eq, ":var0", 0),
        (jump_to_menu, "mnu_camp_no_prisoners"),
      (else_try),
        (eq, "$g_prisoner_recruit_troop_id", 0),
        (store_current_hours, "$g_prisoner_recruit_last_time"),
        (store_random_in_range, ":var4", 0, 100),
        (store_skill_level, ":var5", "skl_persuasion", "trp_player"),
        (store_sub, ":var6", 15, ":var5"),
        (val_mul, ":var6", 4),
        (try_begin),
          (lt, ":var4", ":var6"),
          (assign, "$g_prisoner_recruit_troop_id", -7),
        (else_try),
          (assign, ":var0", 0),
          (party_get_num_prisoner_stacks, ":var1", "p_main_party"),
          (try_for_range, ":var2", 0, ":var1"),
            (party_prisoner_stack_get_troop_id, ":var3", "p_main_party", ":var2"),
            (neg|troop_is_hero, ":var3"),
            (val_add, ":var0", 1),
          (try_end),
          (store_random_in_range, ":var7", 0, ":var0"),
          (try_for_range, ":var2", 0, ":var1"),
            (party_prisoner_stack_get_troop_id, ":var3", "p_main_party", ":var2"),
            (neg|troop_is_hero, ":var3"),
            (val_sub, ":var7", 1),
            (lt, ":var7", 0),
            (assign, ":var1", 0),
            (assign, "$g_prisoner_recruit_troop_id", ":var3"),
            (party_prisoner_stack_get_size, "$g_prisoner_recruit_size", "p_main_party", ":var2"),
          (try_end),
        (try_end),
        (try_begin),
          (gt, "$g_prisoner_recruit_troop_id", 0),
          (party_get_free_companions_capacity, ":var8", "p_main_party"),
          (val_min, "$g_prisoner_recruit_size", ":var8"),
          (assign, reg1, "$g_prisoner_recruit_size"),
          (gt, "$g_prisoner_recruit_size", 0),
          (try_begin),
            (gt, "$g_prisoner_recruit_size", 1),
            (assign, reg2, 1),
          (else_try),
            (assign, reg2, 0),
          (try_end),
          (str_store_troop_name_by_count, s1, "$g_prisoner_recruit_troop_id", "$g_prisoner_recruit_size"),
          (str_store_string, s18, "@{reg1} {s1} {reg2?accept:accepts} the offer."),
        (else_try),
          (str_store_string, s18, "@No one accepts the offer."),
        (try_end),
      (try_end),
    ],
    [
      ("camp_recruit_prisoners_accept",
      [
        (gt, "$g_prisoner_recruit_troop_id", 0),
      ],
      "Take_them.",
      [
        (remove_troops_from_prisoners, "$g_prisoner_recruit_troop_id", "$g_prisoner_recruit_size"),
        (party_add_members, "p_main_party", "$g_prisoner_recruit_troop_id", "$g_prisoner_recruit_size"),
        (store_mul, ":var0", -3, "$g_prisoner_recruit_size"),
        (call_script, "script_change_player_party_morale", ":var0"),
        (jump_to_menu, "mnu_camp"),
      ]
      ),

      ("camp_recruit_prisoners_reject",
      [
        (gt, "$g_prisoner_recruit_troop_id", 0),
      ],
      "Reject_them.",
      [
        (jump_to_menu, "mnu_camp"),
        (assign, "$g_prisoner_recruit_troop_id", 0),
        (assign, "$g_prisoner_recruit_size", 0),
      ]
      ),

      ("continue",
      [
        (le, "$g_prisoner_recruit_troop_id", 0),
      ],
      "Go_back.",
      [
        (jump_to_menu, "mnu_camp"),
      ]
      ),
    ],
  ),

  ("camp_no_prisoners", 0,
    "You have no prisoners to recruit from.",
    "none",
    [],
    [
      ("continue",
      [],
      "Continue...",
      [
        (jump_to_menu, "mnu_camp"),
      ]
      ),
    ],
  ),

  ("camp_action_read_book", 0,
    "Choose a book to read:",
    "none",
    [],
    [
      ("action_read_book_1",
      [
        (player_has_item, "itm_book_tactics"),
        (item_slot_eq, "itm_book_tactics", 3, 0),
        (str_store_item_name, s1, "itm_book_tactics"),
      ],
      "{s1}.",
      [
        (assign, "$temp", "itm_book_tactics"),
        (jump_to_menu, "mnu_camp_action_read_book_start"),
      ]
      ),

      ("action_read_book_2",
      [
        (player_has_item, "itm_book_persuasion"),
        (item_slot_eq, "itm_book_persuasion", 3, 0),
        (str_store_item_name, s1, "itm_book_persuasion"),
      ],
      "{s1}.",
      [
        (assign, "$temp", "itm_book_persuasion"),
        (jump_to_menu, "mnu_camp_action_read_book_start"),
      ]
      ),

      ("action_read_book_3",
      [
        (player_has_item, "itm_book_leadership"),
        (item_slot_eq, "itm_book_leadership", 3, 0),
        (str_store_item_name, s1, "itm_book_leadership"),
      ],
      "{s1}.",
      [
        (assign, "$temp", "itm_book_leadership"),
        (jump_to_menu, "mnu_camp_action_read_book_start"),
      ]
      ),

      ("action_read_book_4",
      [
        (player_has_item, "itm_book_intelligence"),
        (item_slot_eq, "itm_book_intelligence", 3, 0),
        (str_store_item_name, s1, "itm_book_intelligence"),
      ],
      "{s1}.",
      [
        (assign, "$temp", "itm_book_intelligence"),
        (jump_to_menu, "mnu_camp_action_read_book_start"),
      ]
      ),

      ("action_read_book_5",
      [
        (player_has_item, "itm_book_trade"),
        (item_slot_eq, "itm_book_trade", 3, 0),
        (str_store_item_name, s1, "itm_book_trade"),
      ],
      "{s1}.",
      [
        (assign, "$temp", "itm_book_trade"),
        (jump_to_menu, "mnu_camp_action_read_book_start"),
      ]
      ),

      ("action_read_book_6",
      [
        (player_has_item, "itm_book_weapon_mastery"),
        (item_slot_eq, "itm_book_weapon_mastery", 3, 0),
        (str_store_item_name, s1, "itm_book_weapon_mastery"),
      ],
      "{s1}.",
      [
        (assign, "$temp", "itm_book_weapon_mastery"),
        (jump_to_menu, "mnu_camp_action_read_book_start"),
      ]
      ),

      ("action_read_book_7",
      [
        (player_has_item, "itm_book_engineering"),
        (item_slot_eq, "itm_book_engineering", 3, 0),
        (str_store_item_name, s1, "itm_book_engineering"),
      ],
      "{s1}.",
      [
        (assign, "$temp", "itm_book_engineering"),
        (jump_to_menu, "mnu_camp_action_read_book_start"),
      ]
      ),

      ("camp_action_4",
      [],
      "Back_to_camp_menu.",
      [
        (jump_to_menu, "mnu_camp"),
      ]
      ),
    ],
  ),

  ("camp_action_read_book_start", 0,
    "{s1}",
    "none",
    [
      (assign, ":var0", "$temp"),
      (str_store_item_name, s2, ":var0"),
      (try_begin),
        (store_attribute_level, ":var1", "trp_player", ca_intelligence),
        (item_get_slot, ":var2", ":var0", 4),
        (le, ":var2", ":var1"),
        (str_store_string, s1, "@You start reading {s2}. After a few pages, you feel you could learn a lot from this book. You decide to keep it close by and read whenever you have the time."),
        (assign, "$g_player_reading_book", ":var0"),
      (else_try),
        (str_store_string, s1, "@You flip through the pages of {s2}, but you find the text confusing and difficult to follow. Try as you might, it soon gives you a headache, and you're forced to give up the attempt."),
      (try_end),
    ],
    [
      ("continue",
      [],
      "Continue...",
      [
        (jump_to_menu, "mnu_camp"),
      ]
      ),
    ],
  ),

  ("retirement_verify", 0,
    "You are at day {reg0}. Your current luck is {reg1}. Are you sure you want to retire?",
    "none",
    [
      (store_current_day, reg0),
      (assign, reg1, "$g_player_luck"),
    ],
    [
      ("retire_yes",
      [],
      "Yes.",
      [
        (start_presentation, "prsnt_retirement"),
      ]
      ),

      ("retire_no",
      [],
      "No.",
      [
        (jump_to_menu, "mnu_camp"),
      ]
      ),
    ],
  ),

  ("end_game", 0,
    "The decision is made, and you resolve to give up your adventurer's life and settle down. You sell off your weapons and armour, gather up all your money, and ride off into the sunset....",
    "none",
    [],
    [
      ("end_game_bye",
      [],
      "Farewell.",
      [
        (change_screen_quit),
      ]
      ),
    ],
  ),

  ("cattle_herd", mnf_scale_picture,
    "You encounter a herd of cattle.",
    "none",
    [
      (play_sound, "snd_cow_moo"),
      (set_background_mesh, "mesh_pic_cattle"),
    ],
    [
      ("cattle_drive_away",
      [],
      "Drive_the_cattle_onward.",
      [
        (party_set_slot, "$g_encountered_party", 7, 1),
        (party_set_ai_behavior, "$g_encountered_party", ai_bhvr_driven_by_party),
        (party_set_ai_object, "$g_encountered_party", "p_main_party"),
        (party_set_extra_text, "$g_encountered_party", "str_ai_bhvr_driven_by_party"),
        (change_screen_return),
      ]
      ),

      ("cattle_drag_with",
      [],
      "Drag_the_cattle_with_you.",
      [
        (party_set_slot, "$g_encountered_party", 7, 1),
        (party_set_ai_behavior, "$g_encountered_party", ai_bhvr_escort_party),
        (party_set_ai_object, "$g_encountered_party", "p_main_party"),
        (party_set_extra_text, "$g_encountered_party", "str_ai_bhvr_escort_party"),
        (change_screen_return),
      ]
      ),

      ("cattle_stop",
      [],
      "Bring_the_herd_to_a_stop.",
      [
        (party_set_slot, "$g_encountered_party", 7, 0),
        (party_set_ai_behavior, "$g_encountered_party", ai_bhvr_hold),
        (party_set_extra_text, "$g_encountered_party", "@Grazing"),
        (change_screen_return),
      ]
      ),

      ("cattle_kill",
      [
        (assign, ":var0", 1),
        (try_begin),
          (check_quest_active, "qst_move_cattle_herd"),
          (quest_slot_eq, "qst_move_cattle_herd", 8, "$g_encountered_party"),
          (assign, ":var0", 0),
        (try_end),
        (eq, ":var0", 1),
      ],
      "Slaughter_some_of_the_animals.",
      [
        (jump_to_menu, "mnu_cattle_herd_kill"),
      ]
      ),

      ("leave",
      [],
      "Leave.",
      [
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("cattle_herd_kill", 0,
    "How many animals do you want to slaughter?",
    "none",
    [
      (party_get_num_companions, reg5, "$g_encountered_party"),
    ],
    [
      ("cattle_kill_1",
      [
        (ge, reg5, 1),
      ],
      "One.",
      [
        (call_script, "script_kill_cattle_from_herd", "$g_encountered_party", 1),
        (jump_to_menu, "mnu_cattle_herd_kill_end"),
        (change_screen_loot, "trp_temp_troop"),
        (play_sound, "snd_cow_slaughter"),
      ]
      ),

      ("cattle_kill_2",
      [
        (ge, reg5, 2),
      ],
      "Two.",
      [
        (call_script, "script_kill_cattle_from_herd", "$g_encountered_party", 2),
        (jump_to_menu, "mnu_cattle_herd_kill_end"),
        (change_screen_loot, "trp_temp_troop"),
        (play_sound, "snd_cow_slaughter"),
      ]
      ),

      ("cattle_kill_3",
      [
        (ge, reg5, 3),
      ],
      "Three.",
      [
        (call_script, "script_kill_cattle_from_herd", "$g_encountered_party", 3),
        (jump_to_menu, "mnu_cattle_herd_kill_end"),
        (change_screen_loot, "trp_temp_troop"),
        (play_sound, "snd_cow_slaughter"),
      ]
      ),

      ("cattle_kill_4",
      [
        (ge, reg5, 4),
      ],
      "Four.",
      [
        (call_script, "script_kill_cattle_from_herd", "$g_encountered_party", 4),
        (jump_to_menu, "mnu_cattle_herd_kill_end"),
        (change_screen_loot, "trp_temp_troop"),
        (play_sound, "snd_cow_slaughter"),
      ]
      ),

      ("cattle_kill_5",
      [
        (ge, reg5, 5),
      ],
      "Five.",
      [
        (call_script, "script_kill_cattle_from_herd", "$g_encountered_party", 5),
        (jump_to_menu, "mnu_cattle_herd_kill_end"),
        (change_screen_loot, "trp_temp_troop"),
        (play_sound, "snd_cow_slaughter"),
      ]
      ),

      ("go_back_dot",
      [],
      "Go_back.",
      [
        (jump_to_menu, "mnu_cattle_herd"),
      ]
      ),
    ],
  ),

  ("cattle_herd_kill_end", 0,
    "{!}You shouldn't be reading this.",
    "none",
    [
      (change_screen_return),
    ],
    [
    ],
    [],
  ),

  ("arena_duel_fight", 0,
    "You and your opponent prepare to duel.",
    "none",
    [],
    [
      ("continue",
      [],
      "Continue...",
      [
        (assign, "$g_leave_encounter", 0),
        (try_begin),
          (is_between, "$g_encountered_party", "p_town_1", "p_castle_1"),
          (party_get_slot, ":var0", "$g_encountered_party", 16),
        (else_try),
          (eq, "$g_start_arena_fight_at_nearest_town", 1),
          (assign, ":var1", -1),
          (assign, ":var2", 10000),
          (try_for_range, ":var3", "p_town_1", "p_castle_1"),
            (store_distance_to_party_from_party, ":var4", ":var3", "$g_encountered_party"),
            (lt, ":var4", ":var2"),
            (assign, ":var2", ":var4"),
            (assign, ":var1", ":var3"),
          (try_end),
          (try_begin),
            (ge, ":var1", 0),
            (party_get_slot, ":var0", ":var1", 16),
          (try_end),
          (assign, "$g_start_arena_fight_at_nearest_town", 0),
        (else_try),
          (party_get_current_terrain, ":var5", "p_main_party"),
          (eq, ":var5", 4),
          (assign, ":var0", "scn_training_ground_ranged_melee_3"),
        (else_try),
          (eq, ":var5", 5),
          (assign, ":var0", "scn_training_ground_ranged_melee_4"),
        (else_try),
          (assign, ":var0", "scn_training_ground_ranged_melee_1"),
        (try_end),
        (modify_visitors_at_site, ":var0"),
        (reset_visitors),
        (set_visitor, 0, "trp_player"),
        (set_visitor, 1, "$g_duel_troop"),
        (set_jump_mission, "mt_duel_with_lord"),
        (jump_to_scene, ":var0"),
        (jump_to_menu, "mnu_arena_duel_conclusion"),
        (change_screen_mission),
      ]
      ),
    ],
  ),

  ("arena_duel_conclusion", 0,
    "{!}{s11}",
    "none",
    [
      (try_begin),
        (eq, "$g_leave_encounter", 1),
        (change_screen_return),
      (try_end),
      (str_store_troop_name, s10, "$g_duel_troop"),
      (try_begin),
        (quest_slot_eq, "qst_duel_for_lady", 2, "$g_duel_troop"),
        (check_quest_failed, "qst_duel_for_lady"),
        (str_store_string, s11, "str_you_lie_stunned_for_several_minutes_then_stagger_to_your_feet_to_find_your_s10_standing_over_you_you_have_lost_the_duel"),
      (else_try),
        (quest_slot_eq, "qst_duel_for_lady", 2, "$g_duel_troop"),
        (check_quest_succeeded, "qst_duel_for_lady"),
        (str_store_string, s11, "str_s10_lies_in_the_arenas_dust_for_several_minutes_then_staggers_to_his_feet_you_have_won_the_duel"),
      (else_try),
        (quest_slot_eq, "qst_duel_courtship_rival", 2, "$g_duel_troop"),
        (check_quest_failed, "qst_duel_courtship_rival"),
        (str_store_string, s11, "str_you_lie_stunned_for_several_minutes_then_stagger_to_your_feet_to_find_your_s10_standing_over_you_you_have_lost_the_duel"),
      (else_try),
        (quest_slot_eq, "qst_duel_courtship_rival", 2, "$g_duel_troop"),
        (check_quest_succeeded, "qst_duel_courtship_rival"),
        (str_store_string, s11, "str_s10_lies_in_the_arenas_dust_for_several_minutes_then_staggers_to_his_feet_you_have_won_the_duel"),
      (else_try),
        (quest_slot_eq, "qst_duel_avenge_insult", 2, "$g_duel_troop"),
        (check_quest_succeeded, "qst_duel_avenge_insult"),
        (str_store_string, s11, "str_s10_lies_in_the_arenas_dust_for_several_minutes_then_staggers_to_his_feet_you_have_won_the_duel"),
      (else_try),
        (quest_slot_eq, "qst_duel_avenge_insult", 2, "$g_duel_troop"),
        (check_quest_failed, "qst_duel_avenge_insult"),
        (str_store_string, s11, "str_you_lie_stunned_for_several_minutes_then_stagger_to_your_feet_to_find_your_s10_standing_over_you_you_have_lost_the_duel"),
      (else_try),
        (quest_slot_eq, "qst_denounce_lord", 2, "$g_duel_troop"),
        (check_quest_succeeded, "qst_denounce_lord"),
        (str_store_string, s11, "str_s10_lies_in_the_arenas_dust_for_several_minutes_then_staggers_to_his_feet_you_have_won_the_duel"),
      (else_try),
        (quest_slot_eq, "qst_denounce_lord", 2, "$g_duel_troop"),
        (check_quest_failed, "qst_denounce_lord"),
        (str_store_string, s11, "str_you_lie_stunned_for_several_minutes_then_stagger_to_your_feet_to_find_your_s10_standing_over_you_you_have_lost_the_duel"),
      (else_try),
        (str_store_troop_name, s10, "$g_duel_troop"),
      (try_end),
    ],
    [
      ("continue",
      [],
      "Continue...",
      [
        (call_script, "script_get_meeting_scene"),
        (assign, ":var0", reg0),
        (modify_visitors_at_site, ":var0"),
        (reset_visitors),
        (set_visitor, 0, "trp_player"),
        (set_visitor, 17, "$g_duel_troop"),
        (set_jump_mission, "mt_conversation_encounter"),
        (jump_to_scene, ":var0"),
        (assign, "$talk_context", 17),
        (change_screen_map_conversation, "$g_duel_troop"),
      ]
      ),
    ],
  ),

  ("simple_encounter", mnf_enable_hot_keys|mnf_scale_picture,
    "{s2} You have {reg10} troops fit for battle against their {reg11}. {s4}",
    "none",
    [
      (str_clear, s4),
      (try_for_range, ":var0", "trp_kingdom_heroes_including_player_begin", "trp_heroes_end"),
        (call_script, "script_ce_get_troop_encumbrance", ":var0"),
        (call_script, "script_ce_put_troop_encumbrance", ":var0", 0),
      (try_end),
      (call_script, "script_ce_get_troop_encumbrance", "trp_player"),
      (call_script, "script_ce_put_troop_encumbrance", "trp_player", 0),
      (assign, "$g_enemy_party", "$g_encountered_party"),
      (assign, "$g_ally_party", -1),
      (call_script, "script_encounter_calculate_fit"),
      (try_begin),
        (eq, "$new_encounter", 1),
        (assign, "$new_encounter", 0),
        (assign, "$g_encounter_is_in_village", 0),
        (assign, "$g_encounter_type", 0),
        (try_begin),
          (party_slot_eq, "$g_enemy_party", 4, 5),
          (party_get_slot, ":var1", "$g_enemy_party", 5),
          (store_distance_to_party_from_party, ":var2", ":var1", "$g_enemy_party"),
          (try_begin),
            (lt, ":var2", 4),
            (assign, "$g_encounter_is_in_village", ":var1"),
            (assign, "$g_encounter_type", 1),
          (try_end),
        (try_end),
        (try_begin),
          (gt, "$g_player_raiding_village", 0),
          (assign, "$g_encounter_is_in_village", "$g_player_raiding_village"),
          (assign, "$g_encounter_type", 2),
          (party_quick_attach_to_current_battle, "$g_encounter_is_in_village", 1),
          (str_store_string, s1, "@Villagers"),
          (display_message, "str_s1_joined_battle_enemy", 0xFF3333),
        (else_try),
          (eq, "$g_encounter_type", 1),
          (party_quick_attach_to_current_battle, "$g_encounter_is_in_village", 0),
          (str_store_string, s1, "@Villagers"),
          (display_message, "str_s1_joined_battle_friend", 0x33FF33),
        (try_end),
        (call_script, "script_let_nearby_parties_join_current_battle", 0, 0),
        (call_script, "script_encounter_init_variables"),
        (assign, "$encountered_party_hostile", 0),
        (assign, "$encountered_party_friendly", 0),
        (try_begin),
          (gt, "$g_encountered_party_relation", 0),
          (try_begin),
            (check_quest_active, "qst_cause_provocation"),
            (neg|check_quest_concluded, "qst_cause_provocation"),
            (quest_slot_eq, "qst_cause_provocation", 3, "$g_encountered_party_faction"),
            (party_slot_eq, "$g_encountered_party", 0, 11),
            (assign, "$encountered_party_friendly", 0),
          (else_try),
            (assign, "$encountered_party_friendly", 1),
          (try_end),
        (try_end),
        (try_begin),
          (lt, "$g_encountered_party_relation", 0),
          (assign, "$encountered_party_hostile", 1),
          (try_begin),
            (encountered_party_is_attacker),
            (assign, "$cant_leave_encounter", 1),
          (try_end),
        (try_end),
        (assign, "$talk_context", 2),
        (call_script, "script_setup_party_meeting", "$g_encountered_party"),
      (else_try),
        (try_begin),
          (eq, "$cant_leave_encounter", 1),
          (call_script, "script_party_count_members_with_full_health", "p_main_party_backup"),
          (assign, ":var3", reg0),
          (call_script, "script_party_count_members_with_full_health", "p_encountered_party_backup"),
          (val_add, ":var3", reg0),
          (call_script, "script_party_count_members_with_full_health", "p_main_party"),
          (assign, ":var4", reg0),
          (call_script, "script_party_count_members_with_full_health", "p_collective_enemy"),
          (val_add, ":var4", reg0),
          (store_sub, ":var5", ":var3", 10),
          (lt, ":var4", ":var5"),
          (assign, "$cant_leave_encounter", 0),
        (try_end),
        (eq, "$g_leave_encounter", 1),
        (change_screen_return),
      (try_end),
      (try_begin),
        (party_is_active, "$g_encountered_party"),
        (str_store_party_name, s1, "$g_encountered_party"),
        (try_begin),
          (eq, "$g_encounter_type", 0),
          (str_store_string, s2, "@You have encountered {s1}."),
        (else_try),
          (eq, "$g_encounter_type", 1),
          (str_store_party_name, s3, "$g_encounter_is_in_village"),
          (str_store_string, s2, "@You have engaged {s1} while they were raiding {s3}."),
        (else_try),
          (eq, "$g_encounter_type", 2),
          (str_store_party_name, s3, "$g_encounter_is_in_village"),
          (str_store_string, s2, "@You were caught by {s1} while your forces were raiding {s3}."),
        (try_end),
      (try_end),
      (try_begin),
        (call_script, "script_party_count_members_with_full_health", "p_collective_enemy"),
        (assign, ":var6", reg0),
        (assign, ":var7", 0),
        (try_begin),
          (eq, "$g_battle_result", 1),
          (call_script, "script_cf_reset_npc_wounds"),
          (this_or_next|le, ":var6", 0),
          (le, ":var6", "$num_routed_enemies"),
          (assign, ":var7", 1),
        (else_try),
          (eq, "$g_engaged_enemy", 1),
          (this_or_next|le, ":var6", 0),
          (le, "$g_enemy_fit_for_battle", "$num_routed_enemies"),
          (ge, "$g_friend_fit_for_battle", 1),
          (assign, ":var7", 1),
        (try_end),
        (this_or_next|eq, ":var7", 1),
        (eq, "$g_enemy_surrenders", 1),
        (assign, "$g_next_menu", -1),
        (jump_to_menu, "mnu_total_victory"),
      (else_try),
        (call_script, "script_party_count_members_with_full_health", "p_main_party"),
        (assign, ":var8", reg0),
        (assign, ":var9", 0),
        (try_begin),
          (eq, "$g_battle_result", -1),
          (call_script, "script_cf_reset_npc_wounds"),
          (le, ":var8", "$num_routed_us"),
          (assign, ":var9", 1),
        (else_try),
          (eq, "$g_engaged_enemy", 1),
          (ge, "$g_enemy_fit_for_battle", 1),
          (le, "$g_friend_fit_for_battle", 0),
          (assign, ":var9", 1),
        (try_end),
        (this_or_next|eq, ":var9", 1),
        (eq, "$g_player_surrenders", 1),
        (troop_get_slot, ":var10", "trp_player", 225),
        (try_begin),
          (eq, ":var10", 1),
          (troop_get_slot, ":var11", "trp_player", 226),
          (eq, ":var11", 5),
          (store_skill_level, ":var12", 18, "trp_player"),
          (val_mul, ":var12", 10),
          (val_clamp, ":var12", 1, 81),
          (store_random_in_range, ":var13", 1, 101),
          (lt, ":var13", ":var12"),
          (assign, "$g_next_menu", "mnu_player_escape"),
          (assign, "$player_escape", 1),
        (else_try),
          (assign, "$g_next_menu", "mnu_captivity_start_wilderness"),
        (try_end),
        (jump_to_menu, "mnu_total_defeat"),
      (try_end),
      (party_get_template_id, "$g_encountered_party_template", "$g_enemy_party"),
      (try_begin),
        (eq, "$g_encountered_party_template", "pt_looters"),
        (set_background_mesh, "mesh_pic_bandits"),
      (else_try),
        (eq, "$g_encountered_party_template", "pt_mountain_bandits"),
        (set_background_mesh, "mesh_pic_mountain_bandits"),
      (else_try),
        (eq, "$g_encountered_party_template", "pt_steppe_bandits"),
        (set_background_mesh, "mesh_pic_steppe_bandits"),
      (else_try),
        (eq, "$g_encountered_party_template", "pt_taiga_bandits"),
        (set_background_mesh, "mesh_pic_steppe_bandits"),
      (else_try),
        (eq, "$g_encountered_party_template", "pt_sea_raiders"),
        (set_background_mesh, "mesh_pic_sea_raiders"),
      (else_try),
        (set_background_mesh, "mesh_pic_deserters"),
      (else_try),
        (eq, "$g_encountered_party_template", "pt_center_reinforcements"),
        (set_background_mesh, "mesh_pic_recruits"),
      (else_try),
        (eq, "$g_encountered_party_template", "pt_kingdom_hero_party"),
        (party_stack_get_troop_id, ":var14", "$g_encountered_party", 0),
        (ge, ":var14", 1),
        (troop_get_slot, ":var15", ":var14", 14),
        (try_begin),
          (eq, ":var15", 27),
          (set_background_mesh, "mesh_pic_swad"),
        (else_try),
          (eq, ":var15", 28),
          (set_background_mesh, "mesh_pic_vaegir"),
        (else_try),
          (eq, ":var15", 29),
          (set_background_mesh, "mesh_pic_khergit"),
        (else_try),
          (eq, ":var15", 30),
          (set_background_mesh, "mesh_pic_nord"),
        (else_try),
          (eq, ":var15", 31),
          (set_background_mesh, "mesh_pic_rhodock"),
        (else_try),
          (eq, ":var15", 32),
          (set_background_mesh, "mesh_pic_sarranid_encounter"),
        (try_end),
      (try_end),
      (try_begin),
        (party_slot_eq, "p_main_party", 47, 1),
        (str_store_string, s4, "@{s4}^^The troops you selected are ready to join you in battle."),
      (else_try),
        (str_store_string, s4, "@{s4}^^Your captains will deal with troop assignments."),
      (try_end),
      (try_begin),
        (party_slot_eq, "p_main_party", 231, 1),
        (str_store_string, s4, "@{s4}^^Your orders have been sent to your captains."),
      (else_try),
        (str_store_string, s4, "@{s4}^^There is no tactical plan in place."),
      (try_end),
    ],
    [
      ("deployment",
      [
        (eq, "$encountered_party_friendly", 0),
        (neg|troop_is_wounded, "trp_player"),
        (party_get_current_terrain, ":var0", "p_main_party"),
        (assign, ":var1", 0),
        (assign, ":var2", 0),
        (assign, ":var3", -1),
        (assign, ":var4", 10000),
        (try_for_range, ":var5", "p_town_1", "p_salt_mine"),
          (store_distance_to_party_from_party, ":var6", ":var5", "p_main_party"),
          (lt, ":var6", ":var4"),
          (assign, ":var4", ":var6"),
          (assign, ":var3", ":var5"),
        (try_end),
        (try_begin),
          (eq, ":var0", 7),
          (this_or_next|eq, ":var3", "p_castle_12"),
          (this_or_next|eq, ":var3", "p_village_83"),
          (this_or_next|eq, ":var3", "p_village_54"),
          (this_or_next|eq, ":var3", "p_town_24"),
          (this_or_next|eq, ":var3", "p_town_23"),
          (this_or_next|eq, ":var3", "p_village_79"),
          (this_or_next|eq, ":var3", "p_village_126"),
          (this_or_next|eq, ":var3", "p_village_127"),
          (this_or_next|eq, ":var3", "p_town_6"),
          (this_or_next|eq, ":var3", "p_village_39"),
          (this_or_next|eq, ":var3", "p_town_15"),
          (this_or_next|eq, ":var3", "p_town_32"),
          (eq, ":var3", "p_village_97"),
          (assign, ":var2", 1),
        (try_end),
        (try_begin),
          (neq, ":var0", 0),
          (neq, ":var0", 7),
          (assign, ":var1", 1),
        (try_end),
        (try_begin),
          (eq, ":var0", 7),
          (eq, ":var2", 1),
          (assign, ":var1", 1),
        (try_end),
        (eq, ":var1", 1),
        (party_slot_eq, "p_main_party", 231, 0),
        (party_get_skill_level, ":var7", "p_main_party", 15),
        (ge, ":var7", 2),
        (call_script, "script_party_count_fit_for_battle", "p_collective_friends"),
        (assign, ":var8", reg0),
        (call_script, "script_party_count_fit_for_battle", "p_collective_enemy"),
        (assign, ":var9", reg0),
        (store_add, ":var10", ":var8", ":var9"),
        (party_get_slot, ":var11", "p_main_party", 48),
        (gt, ":var10", ":var11"),
      ],
      "Choose_who_will_join_you_in_battle.",
      [
        (assign, "$g_next_menu", "mnu_simple_encounter"),
        (start_presentation, "prsnt_prebattle_custom_deployment"),
      ]
      ),

      ("orders",
      [
        (eq, "$encountered_party_friendly", 0),
        (neg|troop_is_wounded, "trp_player"),
        (party_get_current_terrain, ":var0", "p_main_party"),
        (assign, ":var1", 0),
        (assign, ":var2", 0),
        (assign, ":var3", -1),
        (assign, ":var4", 10000),
        (try_for_range, ":var5", "p_town_1", "p_salt_mine"),
          (store_distance_to_party_from_party, ":var6", ":var5", "p_main_party"),
          (lt, ":var6", ":var4"),
          (assign, ":var4", ":var6"),
          (assign, ":var3", ":var5"),
        (try_end),
        (try_begin),
          (eq, ":var0", 7),
          (this_or_next|eq, ":var3", "p_castle_12"),
          (this_or_next|eq, ":var3", "p_village_83"),
          (this_or_next|eq, ":var3", "p_village_54"),
          (this_or_next|eq, ":var3", "p_town_24"),
          (this_or_next|eq, ":var3", "p_town_23"),
          (this_or_next|eq, ":var3", "p_village_79"),
          (this_or_next|eq, ":var3", "p_village_126"),
          (this_or_next|eq, ":var3", "p_village_127"),
          (this_or_next|eq, ":var3", "p_town_6"),
          (this_or_next|eq, ":var3", "p_village_39"),
          (this_or_next|eq, ":var3", "p_town_15"),
          (this_or_next|eq, ":var3", "p_town_32"),
          (eq, ":var3", "p_village_97"),
          (assign, ":var2", 1),
        (try_end),
        (try_begin),
          (neq, ":var0", 0),
          (neq, ":var0", 7),
          (assign, ":var1", 1),
        (try_end),
        (try_begin),
          (eq, ":var0", 7),
          (eq, ":var2", 1),
          (assign, ":var1", 1),
        (try_end),
        (eq, ":var1", 1),
        (party_slot_eq, "p_main_party", 231, 0),
        (party_get_skill_level, ":var7", "p_main_party", 15),
        (ge, ":var7", 2),
      ],
      "Plan_your_battle_with_the_enemy.",
      [
        (assign, "$g_next_menu", "mnu_simple_encounter"),
        (start_presentation, "prsnt_prebattle_orders"),
      ]
      ),

      ("do_orders",
      [
        (party_slot_eq, "p_main_party", 231, 1),
      ],
      "Enough_planning._To_battle!",
      [
        (party_set_slot, "p_main_party", 231, 0),
        (assign, "$g_battle_result", 0),
        (assign, "$g_engaged_enemy", 1),
        (call_script, "script_calculate_renown_value"),
        (call_script, "script_calculate_battle_advantage"),
        (assign, ":var0", reg0),
        (set_battle_advantage, ":var0"),
        (set_party_battle_mode),
        (call_script, "script_party_calculate_strength", "p_main_party", 1),
        (assign, ":var1", reg0),
        (party_collect_attachments_to_party, "p_main_party", "p_collective_ally"),
        (call_script, "script_party_calculate_strength", "p_collective_ally", 1),
        (assign, ":var2", reg0),
        (call_script, "script_party_calculate_strength", "p_collective_enemy", 0),
        (assign, ":var3", reg0),
        (store_div, ":var4", ":var2", ":var3"),
        (set_battle_advantage, ":var0"),
        (set_party_battle_mode),
        (try_begin),
          (eq, "$g_encounter_type", 1),
          (assign, "$g_village_raid_evil", 0),
          (set_jump_mission, "mt_village_raid"),
          (party_get_slot, ":var5", "$g_encounter_is_in_village", 10),
          (jump_to_scene, ":var5"),
        (else_try),
          (eq, "$g_encounter_type", 2),
          (assign, "$g_village_raid_evil", 0),
          (set_jump_mission, "mt_village_raid"),
          (party_get_slot, ":var5", "$g_encounter_is_in_village", 10),
          (jump_to_scene, ":var5"),
        (else_try),
          (set_jump_mission, "mt_lead_charge"),
          (call_script, "script_setup_random_scene"),
        (try_end),
        (try_begin),
          (this_or_next|eq, "$g_encountered_party_template", "pt_sorceror_quest"),
          (eq, "$g_encountered_party_template", "pt_knights_quest"),
          (assign, "$g_next_menu", "mnu_sorceror_outcome"),
        (else_try),
          (assign, "$g_next_menu", "mnu_simple_encounter"),
        (try_end),
        (jump_to_menu, "mnu_battle_debrief"),
        (change_screen_mission),
      ]
      ),

      ("clear_orders",
      [
        (this_or_next|party_slot_eq, "p_main_party", 47, 1),
        (party_slot_eq, "p_main_party", 231, 1),
      ],
      "Re-assess_the_situation.",
      [
        (try_begin),
          (party_slot_eq, "p_main_party", 47, 1),
          (party_set_slot, "p_main_party", 47, 0),
        (try_end),
        (try_begin),
          (party_slot_eq, "p_main_party", 231, 1),
          (party_set_slot, "p_main_party", 231, 0),
          (party_set_slot, "p_main_party", 232, 0),
        (try_end),
        (jump_to_menu, "mnu_simple_encounter"),
      ]
      ),

      ("hold",
      [
        (eq, "$encountered_party_friendly", 0),
        (neg|troop_is_wounded, "trp_player"),
        (party_get_current_terrain, ":var0", "p_main_party"),
        (assign, ":var1", 0),
        (assign, ":var2", 0),
        (assign, ":var3", -1),
        (assign, ":var4", 10000),
        (try_for_range, ":var5", "p_town_1", "p_salt_mine"),
          (store_distance_to_party_from_party, ":var6", ":var5", "p_main_party"),
          (lt, ":var6", ":var4"),
          (assign, ":var4", ":var6"),
          (assign, ":var3", ":var5"),
        (try_end),
        (try_begin),
          (eq, ":var0", 7),
          (this_or_next|eq, ":var3", "p_castle_12"),
          (this_or_next|eq, ":var3", "p_village_83"),
          (this_or_next|eq, ":var3", "p_village_54"),
          (this_or_next|eq, ":var3", "p_town_24"),
          (this_or_next|eq, ":var3", "p_town_23"),
          (this_or_next|eq, ":var3", "p_village_79"),
          (this_or_next|eq, ":var3", "p_village_126"),
          (this_or_next|eq, ":var3", "p_village_127"),
          (this_or_next|eq, ":var3", "p_town_6"),
          (this_or_next|eq, ":var3", "p_village_39"),
          (this_or_next|eq, ":var3", "p_town_15"),
          (this_or_next|eq, ":var3", "p_town_32"),
          (eq, ":var3", "p_village_97"),
          (assign, ":var2", 1),
        (try_end),
        (try_begin),
          (neq, ":var0", 0),
          (neq, ":var0", 7),
          (assign, ":var1", 1),
        (try_end),
        (try_begin),
          (eq, ":var0", 7),
          (eq, ":var2", 1),
          (assign, ":var1", 1),
        (try_end),
        (eq, ":var1", 1),
        (party_slot_eq, "p_main_party", 231, 0),
        (party_get_skill_level, ":var7", "p_main_party", 15),
        (ge, ":var7", 1),
        (party_slot_eq, "p_main_party", 231, 0),
      ],
      "Take_the_field.",
      [
        (party_set_slot, "p_main_party", 232, 1),
        (party_get_slot, ":var0", "p_main_party", 250),
        (try_begin),
          (gt, ":var0", 0),
          (party_set_slot, "p_main_party_backup", 250, ":var0"),
        (try_end),
        (party_set_slot, "p_main_party", 250, 910),
        (assign, "$g_battle_result", 0),
        (assign, "$g_engaged_enemy", 1),
        (call_script, "script_calculate_renown_value"),
        (call_script, "script_calculate_battle_advantage"),
        (assign, ":var1", reg0),
        (set_battle_advantage, ":var1"),
        (set_party_battle_mode),
        (call_script, "script_party_calculate_strength", "p_main_party", 1),
        (assign, ":var2", reg0),
        (party_collect_attachments_to_party, "p_main_party", "p_collective_ally"),
        (call_script, "script_party_calculate_strength", "p_collective_ally", 1),
        (assign, ":var3", reg0),
        (call_script, "script_party_calculate_strength", "p_collective_enemy", 0),
        (assign, ":var4", reg0),
        (store_div, ":var5", ":var3", ":var4"),
        (set_battle_advantage, ":var1"),
        (set_party_battle_mode),
        (try_begin),
          (eq, "$g_encounter_type", 1),
          (assign, "$g_village_raid_evil", 0),
          (set_jump_mission, "mt_village_raid"),
          (party_get_slot, ":var6", "$g_encounter_is_in_village", 10),
          (jump_to_scene, ":var6"),
        (else_try),
          (eq, "$g_encounter_type", 2),
          (assign, "$g_village_raid_evil", 0),
          (set_jump_mission, "mt_village_raid"),
          (party_get_slot, ":var6", "$g_encounter_is_in_village", 10),
          (jump_to_scene, ":var6"),
        (else_try),
          (set_jump_mission, "mt_lead_charge"),
          (call_script, "script_setup_random_scene"),
        (try_end),
        (try_begin),
          (this_or_next|eq, "$g_encountered_party_template", "pt_sorceror_quest"),
          (eq, "$g_encountered_party_template", "pt_knights_quest"),
          (assign, "$g_next_menu", "mnu_sorceror_outcome"),
        (else_try),
          (assign, "$g_next_menu", "mnu_simple_encounter"),
        (try_end),
        (jump_to_menu, "mnu_battle_debrief"),
        (change_screen_mission),
      ]
      ),

      ("follow",
      [
        (eq, "$encountered_party_friendly", 0),
        (neg|troop_is_wounded, "trp_player"),
        (party_get_current_terrain, ":var0", "p_main_party"),
        (assign, ":var1", 0),
        (assign, ":var2", 0),
        (assign, ":var3", -1),
        (assign, ":var4", 10000),
        (try_for_range, ":var5", "p_town_1", "p_salt_mine"),
          (store_distance_to_party_from_party, ":var6", ":var5", "p_main_party"),
          (lt, ":var6", ":var4"),
          (assign, ":var4", ":var6"),
          (assign, ":var3", ":var5"),
        (try_end),
        (try_begin),
          (eq, ":var0", 7),
          (this_or_next|eq, ":var3", "p_castle_12"),
          (this_or_next|eq, ":var3", "p_village_83"),
          (this_or_next|eq, ":var3", "p_village_54"),
          (this_or_next|eq, ":var3", "p_town_24"),
          (this_or_next|eq, ":var3", "p_town_23"),
          (this_or_next|eq, ":var3", "p_village_79"),
          (this_or_next|eq, ":var3", "p_village_126"),
          (this_or_next|eq, ":var3", "p_village_127"),
          (this_or_next|eq, ":var3", "p_town_6"),
          (this_or_next|eq, ":var3", "p_village_39"),
          (this_or_next|eq, ":var3", "p_town_15"),
          (this_or_next|eq, ":var3", "p_town_32"),
          (eq, ":var3", "p_village_97"),
          (assign, ":var2", 1),
        (try_end),
        (try_begin),
          (neq, ":var0", 0),
          (neq, ":var0", 7),
          (assign, ":var1", 1),
        (try_end),
        (try_begin),
          (eq, ":var0", 7),
          (eq, ":var2", 1),
          (assign, ":var1", 1),
        (try_end),
        (eq, ":var1", 1),
        (party_slot_eq, "p_main_party", 231, 0),
        (party_get_skill_level, ":var7", "p_main_party", 15),
        (ge, ":var7", 1),
        (party_slot_eq, "p_main_party", 231, 0),
      ],
      "Lead_your_troops.",
      [
        (party_set_slot, "p_main_party", 232, 1),
        (party_get_slot, ":var0", "p_main_party", 250),
        (try_begin),
          (gt, ":var0", 0),
          (party_set_slot, "p_main_party_backup", 250, ":var0"),
        (try_end),
        (party_set_slot, "p_main_party", 250, 911),
        (assign, "$g_battle_result", 0),
        (assign, "$g_engaged_enemy", 1),
        (call_script, "script_calculate_renown_value"),
        (call_script, "script_calculate_battle_advantage"),
        (assign, ":var1", reg0),
        (set_battle_advantage, ":var1"),
        (set_party_battle_mode),
        (call_script, "script_party_calculate_strength", "p_main_party", 1),
        (assign, ":var2", reg0),
        (party_collect_attachments_to_party, "p_main_party", "p_collective_ally"),
        (call_script, "script_party_calculate_strength", "p_collective_ally", 1),
        (assign, ":var3", reg0),
        (call_script, "script_party_calculate_strength", "p_collective_enemy", 0),
        (assign, ":var4", reg0),
        (store_div, ":var5", ":var3", ":var4"),
        (set_battle_advantage, ":var1"),
        (set_party_battle_mode),
        (try_begin),
          (eq, "$g_encounter_type", 1),
          (assign, "$g_village_raid_evil", 0),
          (set_jump_mission, "mt_village_raid"),
          (party_get_slot, ":var6", "$g_encounter_is_in_village", 10),
          (jump_to_scene, ":var6"),
        (else_try),
          (eq, "$g_encounter_type", 2),
          (assign, "$g_village_raid_evil", 0),
          (set_jump_mission, "mt_village_raid"),
          (party_get_slot, ":var6", "$g_encounter_is_in_village", 10),
          (jump_to_scene, ":var6"),
        (else_try),
          (set_jump_mission, "mt_lead_charge"),
          (call_script, "script_setup_random_scene"),
        (try_end),
        (try_begin),
          (this_or_next|eq, "$g_encountered_party_template", "pt_sorceror_quest"),
          (eq, "$g_encountered_party_template", "pt_knights_quest"),
          (assign, "$g_next_menu", "mnu_sorceror_outcome"),
        (else_try),
          (assign, "$g_next_menu", "mnu_simple_encounter"),
        (try_end),
        (jump_to_menu, "mnu_battle_debrief"),
        (change_screen_mission),
      ]
      ),

      ("encounter_attack",
      [
        (eq, "$encountered_party_friendly", 0),
        (neg|troop_is_wounded, "trp_player"),
        (party_get_current_terrain, ":var0", "p_main_party"),
        (assign, ":var1", 0),
        (assign, ":var2", 0),
        (assign, ":var3", -1),
        (assign, ":var4", 10000),
        (try_for_range, ":var5", "p_town_1", "p_salt_mine"),
          (store_distance_to_party_from_party, ":var6", ":var5", "p_main_party"),
          (lt, ":var6", ":var4"),
          (assign, ":var4", ":var6"),
          (assign, ":var3", ":var5"),
        (try_end),
        (try_begin),
          (eq, ":var0", 7),
          (this_or_next|eq, ":var3", "p_castle_12"),
          (this_or_next|eq, ":var3", "p_village_83"),
          (this_or_next|eq, ":var3", "p_village_54"),
          (this_or_next|eq, ":var3", "p_town_24"),
          (this_or_next|eq, ":var3", "p_town_23"),
          (this_or_next|eq, ":var3", "p_village_79"),
          (this_or_next|eq, ":var3", "p_village_126"),
          (this_or_next|eq, ":var3", "p_village_127"),
          (this_or_next|eq, ":var3", "p_town_6"),
          (this_or_next|eq, ":var3", "p_village_39"),
          (this_or_next|eq, ":var3", "p_town_15"),
          (this_or_next|eq, ":var3", "p_town_32"),
          (eq, ":var3", "p_village_97"),
          (assign, ":var2", 1),
        (try_end),
        (try_begin),
          (neq, ":var0", 0),
          (neq, ":var0", 7),
          (assign, ":var1", 1),
        (try_end),
        (try_begin),
          (eq, ":var0", 7),
          (eq, ":var2", 1),
          (assign, ":var1", 1),
        (try_end),
        (eq, ":var1", 1),
        (party_slot_eq, "p_main_party", 231, 0),
      ],
      "Charge_the_enemy.",
      [
        (try_begin),
          (party_slot_eq, "p_main_party", 231, 1),
          (party_set_slot, "p_main_party", 231, 0),
        (try_end),
        (assign, "$g_battle_result", 0),
        (assign, "$g_engaged_enemy", 1),
        (call_script, "script_calculate_renown_value"),
        (call_script, "script_calculate_battle_advantage"),
        (assign, ":var0", reg0),
        (set_battle_advantage, ":var0"),
        (set_party_battle_mode),
        (call_script, "script_party_calculate_strength", "p_main_party", 1),
        (assign, ":var1", reg0),
        (party_collect_attachments_to_party, "p_main_party", "p_collective_ally"),
        (call_script, "script_party_calculate_strength", "p_collective_ally", 1),
        (assign, ":var2", reg0),
        (call_script, "script_party_calculate_strength", "p_collective_enemy", 0),
        (assign, ":var3", reg0),
        (store_div, ":var4", ":var2", ":var3"),
        (set_battle_advantage, ":var0"),
        (set_party_battle_mode),
        (try_begin),
          (eq, "$g_encounter_type", 1),
          (assign, "$g_village_raid_evil", 0),
          (set_jump_mission, "mt_village_raid"),
          (party_get_slot, ":var5", "$g_encounter_is_in_village", 10),
          (jump_to_scene, ":var5"),
        (else_try),
          (eq, "$g_encounter_type", 2),
          (assign, "$g_village_raid_evil", 0),
          (set_jump_mission, "mt_village_raid"),
          (party_get_slot, ":var5", "$g_encounter_is_in_village", 10),
          (jump_to_scene, ":var5"),
        (else_try),
          (set_jump_mission, "mt_lead_charge"),
          (call_script, "script_setup_random_scene"),
        (try_end),
        (try_begin),
          (this_or_next|eq, "$g_encountered_party_template", "pt_sorceror_quest"),
          (eq, "$g_encountered_party_template", "pt_knights_quest"),
          (assign, "$g_next_menu", "mnu_sorceror_outcome"),
        (else_try),
          (assign, "$g_next_menu", "mnu_simple_encounter"),
        (try_end),
        (jump_to_menu, "mnu_battle_debrief"),
        (change_screen_mission),
      ]
      ),

      ("encounter_attack",
      [
        (eq, "$encountered_party_friendly", 0),
        (neg|troop_is_wounded, "trp_player"),
        (party_get_current_terrain, ":var0", "p_main_party"),
        (assign, ":var1", 0),
        (assign, ":var2", 0),
        (assign, ":var3", -1),
        (assign, ":var4", 10000),
        (try_for_range, ":var5", "p_town_1", "p_salt_mine"),
          (store_distance_to_party_from_party, ":var6", ":var5", "p_main_party"),
          (lt, ":var6", ":var4"),
          (assign, ":var4", ":var6"),
          (assign, ":var3", ":var5"),
        (try_end),
        (try_begin),
          (eq, ":var0", 7),
          (this_or_next|eq, ":var3", "p_castle_12"),
          (this_or_next|eq, ":var3", "p_village_83"),
          (this_or_next|eq, ":var3", "p_village_54"),
          (this_or_next|eq, ":var3", "p_town_24"),
          (this_or_next|eq, ":var3", "p_town_23"),
          (this_or_next|eq, ":var3", "p_village_79"),
          (this_or_next|eq, ":var3", "p_village_126"),
          (this_or_next|eq, ":var3", "p_village_127"),
          (this_or_next|eq, ":var3", "p_town_6"),
          (this_or_next|eq, ":var3", "p_village_39"),
          (this_or_next|eq, ":var3", "p_town_15"),
          (this_or_next|eq, ":var3", "p_town_32"),
          (eq, ":var3", "p_village_97"),
          (assign, ":var2", 1),
        (try_end),
        (try_begin),
          (eq, ":var0", 0),
          (assign, ":var1", 1),
        (try_end),
        (try_begin),
          (eq, ":var0", 7),
          (eq, ":var2", 0),
          (assign, ":var1", 1),
        (try_end),
        (eq, ":var1", 1),
        (party_slot_eq, "p_main_party", 231, 0),
      ],
      "Close_in_and_board_the_enemy.",
      [
        (assign, "$g_battle_result", 0),
        (assign, "$g_engaged_enemy", 1),
        (call_script, "script_calculate_renown_value"),
        (call_script, "script_calculate_battle_advantage"),
        (set_battle_advantage, reg0),
        (set_party_battle_mode),
        (try_begin),
          (eq, "$g_encounter_type", 1),
          (assign, "$g_village_raid_evil", 0),
          (set_jump_mission, "mt_village_raid"),
          (party_get_slot, ":var0", "$g_encounter_is_in_village", 10),
          (jump_to_scene, ":var0"),
        (else_try),
          (eq, "$g_encounter_type", 2),
          (assign, "$g_village_raid_evil", 0),
          (set_jump_mission, "mt_village_raid"),
          (party_get_slot, ":var0", "$g_encounter_is_in_village", 10),
          (jump_to_scene, ":var0"),
        (else_try),
          (set_jump_mission, "mt_ship_battle"),
          (troop_get_type, ":var1", "trp_player"),
          (store_faction_of_party, ":var2", "$g_encountered_party"),
          (try_begin),
            (eq, ":var1", 3),
            (eq, ":var2", "fac_kingdom_4"),
            (jump_to_scene, "scn_sea_cd_both"),
          (else_try),
            (eq, ":var1", 3),
            (neq, ":var2", "fac_kingdom_4"),
            (jump_to_scene, "scn_sea_cd_player"),
          (else_try),
            (neq, ":var1", 3),
            (eq, ":var2", "fac_kingdom_4"),
            (jump_to_scene, "scn_sea_cd_enemy"),
          (else_try),
            (try_begin),
              (val_add, reg10, reg11),
              (gt, reg10, 60),
              (jump_to_scene, "scn_sea_4"),
            (else_try),
              (val_add, reg10, reg11),
              (gt, reg10, 30),
              (jump_to_scene, "scn_sea_5"),
            (else_try),
              (jump_to_scene, "scn_sea_4"),
            (try_end),
          (try_end),
        (try_end),
        (assign, "$g_next_menu", "mnu_simple_encounter"),
        (jump_to_menu, "mnu_battle_debrief"),
        (change_screen_mission),
      ]
      ),

      ("encounter_order_attack",
      [
        (eq, "$encountered_party_friendly", 0),
        (call_script, "script_party_count_members_with_full_health", "p_main_party"),
        (ge, reg0, 4),
        (party_slot_eq, "p_main_party", 231, 0),
      ],
      "Order_your_troops_to_attack_without_you.",
      [
        (jump_to_menu, "mnu_order_attack_begin"),
      ]
      ),

      ("encounter_leave",
      [
        (eq, "$cant_leave_encounter", 0),
        (party_slot_eq, "p_main_party", 231, 0),
      ],
      "Leave.",
      [
        (try_begin),
          (eq, "$encountered_party_friendly", 0),
          (encountered_party_is_attacker),
          (call_script, "script_objectionable_action", 1, "str_flee_battle"),
        (try_end),
        (try_begin),
          (eq, "$encountered_party_friendly", 0),
          (party_get_num_companion_stacks, ":var0", "p_encountered_party_backup"),
          (try_for_range, ":var1", 0, ":var0"),
            (party_stack_get_troop_id, ":var2", "p_encountered_party_backup", ":var1"),
            (is_between, ":var2", "trp_npc1", "trp_knight_1_1_wife"),
            (troop_slot_eq, ":var2", 2, 2),
            (store_faction_of_troop, ":var3", ":var2"),
            (call_script, "script_add_log_entry", 15, "trp_player", -1, ":var2", ":var3"),
          (try_end),
        (try_end),
        (leave_encounter),
        (change_screen_return),
      ]
      ),

      ("encounter_retreat",
      [
        (eq, "$cant_leave_encounter", 1),
        (call_script, "script_get_max_skill_of_player_party", "skl_tactics"),
        (assign, ":var0", reg0),
        (val_add, ":var0", 4),
        (call_script, "script_party_count_members_with_full_health", "p_collective_enemy", 0),
        (assign, ":var1", reg0),
        (val_div, ":var1", 2),
        (val_div, ":var1", ":var0"),
        (val_max, ":var1", 1),
        (call_script, "script_party_count_fit_regulars", "p_main_party"),
        (assign, ":var2", reg0),
        (ge, ":var2", ":var1"),
        (party_slot_eq, "p_main_party", 231, 0),
      ],
      "Pull_back,_leaving_some_soldiers_behind_to_cover_your_retreat.",
      [
        (jump_to_menu, "mnu_encounter_retreat_confirm"),
      ]
      ),

      ("encounter_surrender",
      [
        (eq, "$cant_leave_encounter", 1),
        (party_slot_eq, "p_main_party", 231, 0),
      ],
      "Surrender.",
      [
        (assign, "$g_player_surrenders", 1),
      ]
      ),
    ],
  ),

  ("encounter_retreat_confirm", 0,
    "As the party member with the highest tactics skill, ({reg2}), {reg3?you devise:{s3} devises} a plan that will allow you and your men to escape with your lives, but you'll have to leave {reg4} soldiers behind to stop the enemy from giving chase.",
    "none",
    [
      (call_script, "script_get_max_skill_of_player_party", "skl_tactics"),
      (assign, ":var0", reg0),
      (assign, ":var1", reg1),
      (assign, reg2, ":var0"),
      (val_add, ":var0", 4),
      (call_script, "script_party_count_members_with_full_health", "p_collective_enemy", 0),
      (assign, ":var2", reg0),
      (val_div, ":var2", 2),
      (store_div, reg4, ":var2", ":var0"),
      (val_max, reg4, 1),
      (try_begin),
        (eq, ":var1", "trp_player"),
        (assign, reg3, 1),
      (else_try),
        (assign, reg3, 0),
        (str_store_troop_name, s3, ":var1"),
      (try_end),
      (set_fixed_point_multiplier, 100),
      (position_set_x, pos0, 70),
      (position_set_y, pos0, 5),
      (position_set_z, pos0, 75),
      (set_game_menu_tableau_mesh, "tableau_troop_note_mesh", ":var1", pos0),
    ],
    [
      ("leave_behind",
      [],
      "Go_on._The_sacrifice_of_these_men_will_save_the_rest.",
      [
        (assign, ":var0", reg4),
        (try_for_range, ":var1", 0, ":var0"),
          (call_script, "script_cf_party_remove_random_regular_troop", "p_main_party"),
          (assign, ":var2", reg0),
          (store_random_in_range, ":var3", 0, 100),
          (ge, ":var3", 30),
          (party_add_prisoners, "$g_encountered_party", ":var2", 1),
        (try_end),
        (call_script, "script_change_player_party_morale", -20),
        (call_script, "script_change_troop_renown", "trp_player", -7),
        (try_begin),
          (call_script, "script_get_max_skill_of_player_party", "skl_tactics"),
          (is_between, reg1, "trp_npc1", "trp_kingdom_1_lord"),
          (call_script, "script_change_troop_renown", reg1, 1),
        (try_end),
        (jump_to_menu, "mnu_encounter_retreat"),
      ]
      ),

      ("dont_leave_behind",
      [],
      "No._We_leave_no_one_behind.",
      [
        (jump_to_menu, "mnu_simple_encounter"),
      ]
      ),
    ],
  ),

  ("encounter_retreat", 0,
    "You tell {reg4} of your troops to hold the enemy while you retreat with the rest of your party.",
    "none",
    [],
    [
      ("continue",
      [],
      "Continue...",
      [
        (call_script, "script_objectionable_action", 1, "str_flee_battle"),
        (party_get_num_companion_stacks, ":var0", "p_encountered_party_backup"),
        (try_for_range, ":var1", 0, ":var0"),
          (party_stack_get_troop_id, ":var2", "p_encountered_party_backup", ":var1"),
          (is_between, ":var2", "trp_npc1", "trp_knight_1_1_wife"),
          (troop_slot_eq, ":var2", 2, 2),
          (store_faction_of_troop, ":var3", ":var2"),
          (call_script, "script_add_log_entry", 16, "trp_player", -1, ":var2", ":var3"),
        (try_end),
        (party_ignore_player, "$g_encountered_party", 1),
        (leave_encounter),
        (change_screen_return),
        (assign, "$g_move_fast", 1),
      ]
      ),
    ],
  ),

  ("order_attack_begin", 0,
    "Your troops prepare to attack the enemy.",
    "none",
    [],
    [
      ("order_attack_begin",
      [],
      "Order_the_attack_to_begin.",
      [
        (party_get_template_id, ":var0", "$g_encountered_party"),
        (try_begin),
          (eq, ":var0", "pt_village_farmers"),
          (unlock_achievement, 27),
        (try_end),
        (assign, "$g_engaged_enemy", 1),
        (jump_to_menu, "mnu_order_attack_2"),
      ]
      ),

      ("call_back",
      [],
      "Call_them_back.",
      [
        (jump_to_menu, "mnu_simple_encounter"),
      ]
      ),
    ],
  ),

  ("order_attack_2", mnf_disable_all_keys,
    "{s4}^^Your casualties: {s8}^^Enemy casualties: {s9}",
    "none",
    [
      (set_background_mesh, "mesh_pic_charge"),
      (call_script, "script_party_calculate_strength", "p_main_party", 1),
      (assign, ":var0", reg0),
      (call_script, "script_party_calculate_strength", "p_collective_enemy", 0),
      (assign, ":var1", reg0),
      (party_collect_attachments_to_party, "p_main_party", "p_collective_ally"),
      (call_script, "script_party_calculate_strength", "p_collective_ally", 1),
      (assign, ":var2", reg0),
      (try_begin),
        (le, ":var2", ":var1"),
        (assign, ":var3", ":var2"),
      (else_try),
        (assign, ":var3", ":var1"),
      (try_end),
      (try_begin),
        (le, ":var3", 25),
        (assign, ":var4", 1),
      (else_try),
        (le, ":var3", 50),
        (assign, ":var4", 2),
      (else_try),
        (le, ":var3", 75),
        (assign, ":var4", 3),
      (else_try),
        (le, ":var3", 125),
        (assign, ":var4", 4),
      (else_try),
        (le, ":var3", 200),
        (assign, ":var4", 5),
      (else_try),
        (le, ":var3", 400),
        (assign, ":var4", 6),
      (else_try),
        (le, ":var3", 800),
        (assign, ":var4", 7),
      (else_try),
        (le, ":var3", 1600),
        (assign, ":var4", 8),
      (else_try),
        (le, ":var3", 3200),
        (assign, ":var4", 9),
      (else_try),
        (le, ":var3", 6400),
        (assign, ":var4", 10),
      (else_try),
        (le, ":var3", 12800),
        (assign, ":var4", 11),
      (else_try),
        (le, ":var3", 25600),
        (assign, ":var4", 12),
      (else_try),
        (le, ":var3", 51200),
        (assign, ":var4", 13),
      (else_try),
        (le, ":var3", 102400),
        (assign, ":var4", 14),
      (else_try),
        (assign, ":var4", 15),
      (try_end),
      (val_div, ":var0", ":var4"),
      (val_max, ":var0", 1),
      (val_div, ":var1", ":var4"),
      (val_max, ":var1", 1),
      (val_div, ":var2", ":var4"),
      (val_max, ":var2", 1),
      (store_mul, "$g_strength_contribution_of_player", ":var0", 100),
      (val_div, "$g_strength_contribution_of_player", ":var2"),
      (inflict_casualties_to_party_group, "p_main_party", ":var1", "p_temp_casualties"),
      (call_script, "script_print_casualties_to_s0", "p_temp_casualties", 0),
      (str_store_string_reg, s8, s0),
      (try_begin),
        (ge, "$g_ally_party", 0),
        (inflict_casualties_to_party_group, "$g_ally_party", ":var1", "p_temp_casualties"),
        (str_store_string_reg, s8, s0),
      (try_end),
      (inflict_casualties_to_party_group, "$g_encountered_party", ":var2", "p_temp_casualties"),
      (party_get_num_companion_stacks, ":var5", "p_temp_casualties"),
      (try_for_range, ":var6", 0, ":var5"),
        (party_stack_get_troop_id, ":var7", "p_temp_casualties", ":var6"),
        (try_begin),
          (party_stack_get_size, ":var8", "p_temp_casualties", ":var6"),
          (gt, ":var8", 0),
          (party_add_members, "p_total_enemy_casualties", ":var7", ":var8"),
          (party_stack_get_num_wounded, ":var9", "p_temp_casualties", ":var6"),
          (gt, ":var9", 0),
          (party_wound_members, "p_total_enemy_casualties", ":var7", ":var9"),
        (try_end),
      (try_end),
      (call_script, "script_print_casualties_to_s0", "p_temp_casualties", 0),
      (str_store_string_reg, s9, s0),
      (party_collect_attachments_to_party, "$g_encountered_party", "p_collective_enemy"),
      (assign, "$no_soldiers_left", 0),
      (try_begin),
        (call_script, "script_party_count_members_with_full_health", "p_main_party"),
        (assign, ":var10", reg0),
        (store_add, ":var11", "$num_routed_us", 1),
        (le, ":var10", ":var11"),
        (assign, "$no_soldiers_left", 1),
        (str_store_string, s4, "str_order_attack_failure"),
      (else_try),
        (call_script, "script_party_count_members_with_full_health", "p_collective_enemy"),
        (assign, ":var12", reg0),
        (this_or_next|le, ":var12", 0),
        (le, ":var12", "$num_routed_enemies"),
        (assign, ":var13", 0),
        (party_get_num_companion_stacks, ":var14", "p_collective_enemy"),
        (try_begin),
          (eq, ":var14", 0),
          (assign, ":var13", 1),
        (else_try),
          (party_stack_get_troop_id, ":var15", "p_collective_enemy", 0),
          (try_begin),
            (neg|troop_is_hero, ":var15"),
            (assign, ":var13", 1),
          (else_try),
            (troop_is_wounded, ":var15"),
            (assign, ":var13", 1),
          (try_end),
        (try_end),
        (eq, ":var13", 1),
        (assign, "$g_battle_result", 1),
        (assign, "$no_soldiers_left", 1),
        (str_store_string, s4, "str_order_attack_success"),
      (else_try),
        (str_store_string, s4, "str_order_attack_continue"),
      (try_end),
    ],
    [
      ("order_attack_continue",
      [
        (eq, "$no_soldiers_left", 0),
      ],
      "Order_your_soldiers_to_continue_the_attack.",
      [
        (jump_to_menu, "mnu_order_attack_2"),
      ]
      ),

      ("order_retreat",
      [
        (eq, "$no_soldiers_left", 0),
      ],
      "Call_your_soldiers_back.",
      [
        (jump_to_menu, "mnu_simple_encounter"),
      ]
      ),

      ("continue",
      [
        (eq, "$no_soldiers_left", 1),
      ],
      "Continue...",
      [
        (jump_to_menu, "mnu_simple_encounter"),
      ]
      ),
    ],
  ),

  ("battle_debrief", mnf_disable_all_keys|mnf_scale_picture,
    "{s11}^^Your Casualties:{s8}{s10}^^Enemy Casualties:{s9}",
    "none",
    [
      (try_begin),
        (eq, "$g_battle_result", 1),
        (call_script, "script_change_troop_renown", "trp_player", "$battle_renown_value"),
        (assign, ":var0", 0),
        (try_for_range, ":var1", "trp_npc1", "trp_kingdom_1_lord"),
          (main_party_has_troop, ":var1"),
          (val_add, ":var0", 1),
        (try_end),
        (try_begin),
          (gt, ":var0", 0),
          (store_div, ":var0", "$battle_renown_value", ":var0"),
          (val_max, ":var0", 1),
          (try_for_range, ":var1", "trp_npc1", "trp_kingdom_1_lord"),
            (main_party_has_troop, ":var1"),
            (call_script, "script_change_troop_renown", ":var1", ":var0"),
          (try_end),
        (try_end),
        (try_begin),
          (ge, "$g_encountered_party", 0),
          (party_is_active, "$g_encountered_party"),
          (party_get_template_id, ":var2", "$g_encountered_party"),
          (eq, ":var2", "pt_kingdom_caravan_party"),
          (get_achievement_stat, ":var3", 30, 0),
          (get_achievement_stat, ":var4", 30, 1),
          (val_add, ":var4", 1),
          (set_achievement_stat, 30, 1, ":var4"),
          (try_begin),
            (ge, ":var3", 3),
            (ge, ":var4", 3),
            (unlock_achievement, 30),
          (try_end),
        (try_end),
        (try_begin),
          (party_get_current_terrain, ":var5", "p_main_party"),
          (eq, ":var5", 4),
          (get_achievement_stat, ":var6", 8, 0),
          (val_add, ":var6", 1),
          (set_achievement_stat, 8, 0, ":var6"),
          (try_begin),
            (eq, ":var6", 10),
            (unlock_achievement, 8),
          (try_end),
        (try_end),
        (try_begin),
          (ge, "$g_enemy_party", 0),
          (party_is_active, "$g_enemy_party"),
          (party_stack_get_troop_id, ":var7", "$g_enemy_party", 0),
          (eq, ":var7", "trp_mountain_bandit"),
          (get_achievement_stat, ":var8", 13, 0),
          (val_add, ":var8", 1),
          (set_achievement_stat, 13, 0, ":var8"),
          (try_begin),
            (eq, ":var8", 10),
            (unlock_achievement, 13),
          (try_end),
        (try_end),
        (try_begin),
          (is_between, "$g_ally_party", "p_town_1", "p_village_1"),
          (unlock_achievement, 1),
        (try_end),
        (try_begin),
          (eq, "$g_joined_battle_to_help", 1),
          (unlock_achievement, 34),
        (try_end),
      (try_end),
      (assign, "$g_joined_battle_to_help", 0),
      (call_script, "script_count_casualties_and_adjust_morale"),
      (call_script, "script_encounter_calculate_fit"),
      (call_script, "script_party_count_fit_regulars", "p_main_party"),
      (assign, "$playerparty_postbattle_regulars", reg0),
      (try_begin),
        (eq, "$g_battle_result", 1),
        (eq, "$g_enemy_fit_for_battle", 0),
        (str_store_string, s11, "@You were victorious!"),
        (try_begin),
          (gt, "$g_friend_fit_for_battle", 1),
          (set_background_mesh, "mesh_pic_victory"),
        (try_end),
      (else_try),
        (eq, "$g_battle_result", -1),
        (ge, "$g_enemy_fit_for_battle", 1),
        (this_or_next|le, "$g_friend_fit_for_battle", 0),
        (le, "$playerparty_postbattle_regulars", 0),
        (str_store_string, s11, "@Battle was lost. Your forces were utterly crushed."),
        (set_background_mesh, "mesh_pic_defeat"),
      (else_try),
        (eq, "$g_battle_result", -1),
        (str_store_string, s11, "@Your companions carry you away from the fighting."),
        (try_begin),
          (eq, "$character_gender", 1),
          (set_background_mesh, "mesh_pic_wounded_fem"),
        (else_try),
          (set_background_mesh, "mesh_pic_wounded"),
        (try_end),
      (else_try),
        (eq, "$g_battle_result", 1),
        (str_store_string, s11, "@You have defeated the enemy."),
        (try_begin),
          (gt, "$g_friend_fit_for_battle", 1),
          (set_background_mesh, "mesh_pic_victory"),
        (try_end),
      (else_try),
        (eq, "$g_battle_result", 0),
        (str_store_string, s11, "@You have retreated from the fight."),
      (try_end),
      (try_begin),
        (gt, "$playerparty_prebattle_regulars", 9),
        (store_add, ":var9", 3, "$g_battle_result"),
        (store_div, ":var10", "$playerparty_prebattle_regulars", ":var9"),
        (lt, "$playerparty_postbattle_regulars", ":var10"),
        (call_script, "script_objectionable_action", 2, "str_excessive_casualties"),
      (try_end),
      (call_script, "script_print_casualties_to_s0", "p_player_casualties", 0),
      (str_store_string_reg, s8, s0),
      (call_script, "script_print_casualties_to_s0", "p_enemy_casualties", 0),
      (str_store_string_reg, s9, s0),
      (str_clear, s10),
      (try_begin),
        (eq, "$any_allies_at_the_last_battle", 1),
        (call_script, "script_print_casualties_to_s0", "p_ally_casualties", 0),
        (str_store_string, s10, "@^^Ally Casualties:{s0}"),
      (try_end),
    ],
    [
      ("continue",
      [],
      "Continue...",
      [
        (jump_to_menu, "$g_next_menu"),
      ]
      ),
    ],
  ),

  ("total_victory", 0,
    "You shouldn't be reading this... {s9}",
    "none",
    [
      (assign, ":var0", 0),
      (try_begin),
        (eq, "$routed_party_added", 0),
        (assign, "$routed_party_added", 1),
        (call_script, "script_add_routed_party"),
      (try_end),
      (try_begin),
        (check_quest_active, "qst_track_down_bandits"),
        (neg|check_quest_succeeded, "qst_track_down_bandits"),
        (neg|check_quest_failed, "qst_track_down_bandits"),
        (quest_get_slot, ":var1", "qst_track_down_bandits", 8),
        (party_is_active, ":var1"),
        (party_get_attached_to, ":var2"),
        (this_or_next|eq, ":var1", "$g_enemy_party"),
        (eq, ":var2", "$g_enemy_party"),
        (call_script, "script_succeed_quest", "qst_track_down_bandits"),
      (try_end),
      (call_script, "script_cf_reset_npc_wounds"),
      (try_begin),
        (check_quest_active, "qst_kidnapped_girl"),
        (quest_slot_eq, "qst_kidnapped_girl", 11, 2),
        (quest_get_slot, ":var3", "qst_kidnapped_girl", 10),
        (gt, ":var3", 0),
        (quest_get_slot, ":var1", "qst_kidnapped_girl", 8),
        (party_get_attached_to, ":var2"),
        (this_or_next|eq, ":var1", "$g_enemy_party"),
        (eq, ":var2", "$g_enemy_party"),
        (call_script, "script_troop_add_gold", "trp_player", ":var3"),
        (quest_set_slot, "qst_kidnapped_girl", 10, 0),
      (try_end),
      (try_begin),
        (gt, "$g_private_battle_with_troop", 0),
        (troop_slot_eq, "$g_private_battle_with_troop", 10, "$g_encountered_party"),
        (assign, "$g_private_battle_with_troop", 0),
        (try_begin),
          (eq, "$g_disable_condescending_comments", 0),
          (assign, "$g_disable_condescending_comments", 1),
        (else_try),
          (eq, "$g_disable_condescending_comments", 2),
          (assign, "$g_disable_condescending_comments", 3),
        (try_end),
      (try_end),
      (party_get_num_companion_stacks, ":var4", "p_collective_enemy"),
      (try_for_range, ":var5", 0, ":var4"),
        (party_stack_get_troop_id, ":var6", "p_collective_enemy", ":var5"),
        (is_between, ":var6", "trp_knight_1_1", "trp_kingdom_1_pretender"),
        (troop_is_wounded, ":var6"),
        (party_add_members, "p_total_enemy_casualties", ":var6", 1),
      (try_end),
      (try_begin),
        (eq, "$thanked_by_ally_leader", 0),
        (assign, "$thanked_by_ally_leader", 1),
        (gt, "$g_ally_party", 0),
        (store_add, ":var7", "$g_starting_strength_friends", "$g_starting_strength_enemy_party"),
        (val_sub, ":var7", "$g_starting_strength_main_party"),
        (store_sub, ":var8", "$g_starting_strength_friends", "$g_starting_strength_main_party"),
        (store_mul, ":var9", ":var8", 100),
        (val_add, ":var7", 1),
        (val_div, ":var9", ":var7"),
        (store_sub, ":var10", 100, ":var9"),
        (store_mul, ":var11", ":var10", "$g_starting_strength_enemy_party"),
        (val_div, ":var11", 3000),
        (val_min, ":var11", 4),
        (store_mul, "$g_relation_boost", ":var10", ":var10"),
        (val_div, "$g_relation_boost", 700),
        (val_clamp, "$g_relation_boost", 0, 20),
        (party_get_num_companion_stacks, ":var12", "$g_ally_party"),
        (gt, ":var12", 0),
        (store_faction_of_party, ":var13", "$g_ally_party"),
        (call_script, "script_change_player_relation_with_faction", ":var13", ":var11"),
        (party_stack_get_troop_id, ":var14", "$g_ally_party"),
        (party_stack_get_troop_dna, ":var15", "$g_ally_party", 0),
        (try_begin),
          (troop_is_hero, ":var14"),
          (troop_get_slot, ":var16", ":var14", 22),
          (assign, ":var17", "$g_relation_boost"),
          (try_begin),
            (lt, ":var16", -5),
            (val_div, ":var17", 3),
          (try_end),
          (call_script, "script_change_player_relation_with_troop", ":var14", ":var17"),
        (try_end),
        (assign, "$talk_context", 13),
        (call_script, "script_setup_troop_meeting", ":var14", ":var15"),
      (else_try),
        (assign, ":var0", 0),
        (party_get_num_companion_stacks, ":var4", "p_total_enemy_casualties"),
        (try_for_range, ":var18", "$last_defeated_hero", ":var4"),
          (eq, ":var0", 0),
          (party_stack_get_troop_id, ":var6", "p_total_enemy_casualties", ":var18"),
          (party_stack_get_troop_dna, ":var19", "p_total_enemy_casualties", ":var18"),
          (troop_is_hero, ":var6"),
          (store_faction_of_troop, ":var20", ":var6"),
          (try_begin),
            (store_relation, ":var21", ":var20", "fac_player_faction"),
            (ge, ":var21", 0),
            (str_store_troop_name, s4, ":var6"),
            (try_begin),
              (eq, "$cheat_mode", 1),
              (display_message, "@{!}{s4} skipped in p total enemy casualties capture queue because is friendly"),
            (try_end),
          (else_try),
            (try_begin),
              (party_stack_get_troop_id, ":var22", "$g_encountered_party", 0),
              (is_between, ":var22", "trp_npc1", "trp_knight_1_1_wife"),
              (troop_slot_eq, ":var22", 2, 2),
              (store_sub, ":var23", ":var22", "trp_npc1"),
              (get_achievement_stat, ":var24", 7, ":var23"),
              (eq, ":var24", 1),
              (unlock_achievement, 7),
            (try_end),
            (store_add, "$last_defeated_hero", ":var18", 1),
            (call_script, "script_remove_troop_from_prison", ":var6"),
            (troop_set_slot, ":var6", 10, -1),
            (call_script, "script_cf_check_hero_can_escape_from_player", ":var6"),
            (str_store_troop_name, s1, ":var6"),
            (str_store_faction_name, s3, ":var20"),
            (str_store_string, s17, "@{s1} of {s3} managed to escape."),
            (display_log_message, "@{!}{s17}"),
            (jump_to_menu, "mnu_enemy_slipped_away"),
            (assign, ":var0", 1),
          (else_try),
            (store_add, "$last_defeated_hero", ":var18", 1),
            (call_script, "script_remove_troop_from_prison", ":var6"),
            (troop_set_slot, ":var6", 10, -1),
            (assign, "$talk_context", 9),
            (call_script, "script_setup_troop_meeting", ":var6", ":var19"),
            (assign, ":var0", 1),
          (try_end),
        (try_end),
        (eq, ":var0", 1),
      (else_try),
        (assign, ":var0", 0),
        (party_get_num_prisoner_stacks, ":var25", "p_collective_enemy"),
        (try_for_range, ":var18", "$last_freed_hero", ":var25"),
          (eq, ":var0", 0),
          (party_prisoner_stack_get_troop_id, ":var6", "p_collective_enemy", ":var18"),
          (troop_is_hero, ":var6"),
          (party_prisoner_stack_get_troop_dna, ":var19", "p_collective_enemy", ":var18"),
          (store_add, "$last_freed_hero", ":var18", 1),
          (assign, "$talk_context", 8),
          (call_script, "script_setup_troop_meeting", ":var6", ":var19"),
          (assign, ":var0", 1),
        (try_end),
        (eq, ":var0", 1),
      (else_try),
        (eq, "$capture_screen_shown", 0),
        (assign, "$capture_screen_shown", 1),
        (party_clear, "p_temp_party"),
        (assign, "$g_move_heroes", 0),
        (call_script, "script_party_add_wounded_members_as_prisoners", "p_temp_party", "p_total_enemy_casualties"),
        (call_script, "script_party_add_party_prisoners", "p_temp_party", "p_collective_enemy"),
        (try_begin),
          (call_script, "script_party_calculate_strength", "p_collective_friends_backup", 0),
          (assign, ":var26", reg0),
          (gt, ":var26", 0),
          (call_script, "script_party_calculate_strength", "p_main_party_backup", 0),
          (assign, ":var27", reg0),
          (store_sub, ":var28", ":var26", ":var27"),
          (store_mul, ":var29", ":var28", 1000),
          (val_div, ":var29", ":var26"),
          (assign, "$pin_number", ":var29"),
          (party_clear, "p_temp_party_2"),
          (call_script, "script_move_members_with_ratio", "p_temp_party", "p_temp_party_2"),
          (try_begin),
            (gt, "$g_ally_party", 0),
            (distribute_party_among_party_group, "p_temp_party_2", "$g_ally_party"),
          (try_end),
        (try_end),
        (party_get_num_companions, ":var30", "p_temp_party"),
        (party_get_num_prisoners, ":var31", "p_temp_party"),
        (store_add, ":var32", ":var30", ":var31"),
        (gt, ":var32", 0),
        (change_screen_exchange_with_party, "p_temp_party"),
      (else_try),
        (eq, "$loot_screen_shown", 0),
        (assign, "$loot_screen_shown", 1),
        (try_begin),
          (gt, "$g_ally_party", 0),
          (call_script, "script_party_add_party", "$g_ally_party", "p_temp_party"),
        (else_try),
          (party_get_num_attached_parties, ":var33", "p_main_party"),
          (gt, ":var33", 0),
          (party_get_attached_party_with_rank, ":var34", "p_main_party", 0),
          (call_script, "script_party_add_party", ":var34", "p_temp_party"),
        (try_end),
        (troop_clear_inventory, "trp_temp_troop"),
        (call_script, "script_party_calculate_loot", "p_total_enemy_casualties"),
        (gt, reg0, 0),
        (troop_sort_inventory, "trp_temp_troop"),
        (try_begin),
          (eq, "$g_autoloot_enable", 1),
          (change_screen_loot, "trp_temp_troop"),
        (else_try),
          (assign, "$dplmc_return_menu", "mnu_total_victory"),
          (assign, "$lord_selected", "trp_player"),
          (jump_to_menu, "mnu_dplmc_manage_loot_pool"),
        (try_end),
      (else_try),
        (try_begin),
          (le, "$g_ally_party", 0),
          (end_current_battle),
        (try_end),
        (call_script, "script_party_give_xp_and_gold", "p_total_enemy_casualties"),
        (try_begin),
          (eq, "$g_enemy_party", 0),
          (display_message, "str_error_string"),
        (try_end),
        (try_begin),
          (party_is_active, "$g_ally_party"),
          (call_script, "script_battle_political_consequences", "$g_enemy_party", "$g_ally_party"),
        (else_try),
          (call_script, "script_battle_political_consequences", "$g_enemy_party", "p_main_party"),
        (try_end),
        (call_script, "script_event_player_defeated_enemy_party", "$g_enemy_party"),
        (call_script, "script_clear_party_group", "$g_enemy_party"),
        (try_begin),
          (eq, "$g_next_menu", -1),
          (call_script, "script_post_battle_personality_clash_check"),
          (party_stack_get_troop_id, ":var35", "p_encountered_party_backup", 0),
          (try_begin),
            (is_between, ":var35", "trp_npc1", "trp_knight_1_1_wife"),
            (neg|is_between, "$g_encountered_party", "p_town_1", "p_salt_mine"),
            (store_faction_of_troop, ":var36", ":var35"),
            (try_begin),
              (eq, "$g_ally_party", 0),
              (call_script, "script_add_log_entry", 11, "trp_player", -1, ":var35", ":var36"),
              (try_begin),
                (eq, "$cheat_mode", 1),
                (display_message, "@{!}Victory comment. Player was alone"),
              (try_end),
            (else_try),
              (ge, "$g_strength_contribution_of_player", 40),
              (call_script, "script_add_log_entry", 11, "trp_player", -1, ":var35", ":var36"),
              (try_begin),
                (eq, "$cheat_mode", 1),
                (display_message, "@{!}Ordinary victory comment. The player provided at least 40 percent forces."),
              (try_end),
            (else_try),
              (gt, "$g_starting_strength_enemy_party", 1000),
              (call_script, "script_get_closest_center", "p_main_party"),
              (assign, ":var37", reg0),
              (call_script, "script_add_log_entry", 19, "trp_player", ":var37", -1, ":var36"),
              (try_begin),
                (eq, "$cheat_mode", 1),
                (display_message, "@{!}Player participation comment. The enemy had at least 1k starting strength."),
              (try_end),
            (else_try),
              (eq, "$cheat_mode", 1),
              (display_message, "@{!}No victory comment. The battle was small, and the player provided less than 40 percent of allied strength"),
            (try_end),
          (try_end),
          (val_add, "$g_total_victories", 1),
          (leave_encounter),
          (change_screen_return),
        (else_try),
          (try_begin),
            (eq, "$g_next_menu", "mnu_dplmc_town_riot_removed"),
            (jump_to_menu, "$g_next_menu"),
          (else_try),
            (eq, "$g_next_menu", "mnu_castle_taken"),
            (call_script, "script_add_log_entry", 10, "trp_player", "$g_encountered_party", -1, "$g_encountered_party_faction"),
            (store_current_hours, ":var38"),
            (faction_set_slot, "$players_kingdom", 98, ":var38"),
            (try_begin),
              (assign, ":var39", 0),
              (is_between, "$players_kingdom", "fac_kingdom_1", "fac_kingdoms_end"),
              (call_script, "script_dplmc_get_troop_standing_in_faction", "trp_player", "$players_kingdom"),
              (ge, reg0, 50),
              (assign, ":var39", 1),
              (assign, "$g_center_taken_by_player_faction", "$g_encountered_party"),
              (faction_get_slot, ":var40", "fac_player_supporters_faction", 11),
              (try_begin),
                (eq, ":var40", "trp_player"),
                (assign, ":var40", "trp_heroes_end"),
                (try_for_range, ":var41", "trp_npc1", ":var40"),
                  (this_or_next|troop_slot_eq, trp_amazon_woman, "trp_player"),
                  (troop_slot_eq, "trp_player", 30, ":var41"),
                  (neg|troop_slot_ge, ":var40", 8, 0),
                  (neg|troop_slot_ge, ":var40", 2, 11),
                  (assign, ":var40", ":var41"),
                (try_end),
              (try_end),
              (is_between, ":var40", "trp_npc1", "trp_heroes_end"),
              (neg|troop_slot_ge, ":var40", 8, 0),
              (neg|troop_slot_ge, ":var40", 2, 11),
              (change_screen_return),
              (start_map_conversation, ":var40", -1),
            (else_try),
              (neq, ":var39", 1),
              (is_between, "$players_kingdom", "fac_kingdom_1", "fac_kingdoms_end"),
              (jump_to_menu, "$g_next_menu"),
            (else_try),
              (eq, "$players_kingdom", "fac_player_supporters_faction"),
              (assign, "$g_center_taken_by_player_faction", "$g_encountered_party"),
              (neg|faction_slot_eq, "fac_player_supporters_faction", 11, "trp_player"),
              (faction_get_slot, ":var40", "fac_player_supporters_faction", 11),
              (change_screen_return),
              (assign, "$talk_context", 20),
              (call_script, "script_start_court_conversation", ":var40", "$current_town"),
            (else_try),
              (this_or_next|eq, ":var39", 1),
              (neg|is_between, "$players_kingdom", "fac_kingdom_1", "fac_kingdoms_end"),
              (assign, "$g_center_taken_by_player_faction", "$g_encountered_party"),
              (assign, "$talk_context", 20),
              (change_screen_return),
              (assign, ":var42", "trp_hired_blade"),
              (assign, ":var43", "$players_kingdom"),
              (try_begin),
                (neg|is_between, "$players_kingdom", "fac_kingdom_1", "fac_kingdoms_end"),
                (assign, ":var43", "$g_player_culture"),
                (this_or_next|is_between, ":var43", "fac_kingdom_1", "fac_kingdoms_end"),
                (is_between, ":var43", "fac_culture_1", "fac_player_faction"),
              (else_try),
                (neg|is_between, "$players_kingdom", "fac_kingdom_1", "fac_kingdoms_end"),
                (is_between, "$g_player_court", "p_town_1", "p_salt_mine"),
                (party_slot_ge, "$g_player_court", 61, 1),
                (party_get_slot, ":var43", "$g_player_court", 61),
              (try_end),
              (try_begin),
                (is_between, ":var43", "fac_player_supporters_faction", "fac_kingdoms_end"),
                (faction_get_slot, ":var43", ":var43", 10),
              (try_end),
              (try_begin),
                (is_between, ":var43", "fac_culture_1", "fac_player_faction"),
                (faction_get_slot, reg0, ":var43", 49),
                (ge, reg0, "trp_farmer"),
                (assign, ":var42", reg0),
              (try_end),
              (try_begin),
                (neq, ":var42", "trp_hired_blade"),
                (store_character_level, ":var44", ":var42"),
              (else_try),
                (assign, ":var44", 0),
              (try_end),
              (party_get_num_companion_stacks, ":var4", "p_main_party"),
              (try_for_range, ":var18", 0, ":var4"),
                (party_stack_get_troop_id, ":var6", "p_main_party", ":var18"),
                (neq, ":var6", "trp_player"),
                (party_stack_get_size, ":var45", "p_main_party", ":var18"),
                (party_stack_get_num_wounded, ":var46", "p_main_party", ":var18"),
                (troop_get_slot, ":var47", "p_main_party", 146),
                (assign, ":var48", 0),
                (try_begin),
                  (neg|troop_is_hero, ":var6"),
                  (store_add, ":var49", ":var46", ":var47"),
                  (gt, ":var45", ":var49"),
                  (assign, ":var48", 1),
                (else_try),
                  (troop_is_hero, ":var6"),
                  (neg|troop_is_wounded, ":var6"),
                  (assign, ":var48", 1),
                (try_end),
                (eq, ":var48", 1),
                (try_begin),
                  (troop_is_hero, ":var6"),
                  (troop_get_slot, ":var50", ":var6", 7),
                  (store_mul, ":var51", ":var50", 100),
                  (val_add, ":var51", 1000),
                (else_try),
                  (store_character_level, ":var52", ":var6"),
                  (assign, ":var51", ":var52"),
                (try_end),
                (try_begin),
                  (gt, ":var51", ":var44"),
                  (assign, ":var44", ":var51"),
                  (assign, ":var42", ":var6"),
                  (party_stack_get_troop_dna, ":var53", "p_main_party", ":var18"),
                (try_end),
              (try_end),
              (call_script, "script_start_court_conversation", ":var42", "$current_town", ":var53"),
            (try_end),
          (try_end),
        (try_end),
      (try_end),
    ],
    [
      ("continue",
      [],
      "Continue...",
      []
      ),
    ],
  ),

  ("enemy_slipped_away", 0,
    "{s17}",
    "none",
    [],
    [
      ("continue",
      [],
      "Continue...",
      [
        (jump_to_menu, "mnu_total_victory"),
      ]
      ),
    ],
  ),

  ("total_defeat", 0,
    "{!}You shouldn't be reading this...",
    "none",
    [
      (play_track, "track_capture", 1),
      (party_get_num_prisoner_stacks, ":var0", "p_main_party"),
      (try_for_range, ":var1", 0, ":var0"),
        (party_prisoner_stack_get_troop_id, ":var2", "p_main_party", ":var1"),
        (troop_is_hero, ":var2"),
        (call_script, "script_remove_troop_from_prison", ":var2"),
      (try_end),
      (try_begin),
        (party_is_active, "$g_ally_party"),
        (call_script, "script_battle_political_consequences", "$g_ally_party", "$g_enemy_party"),
      (else_try),
        (call_script, "script_battle_political_consequences", "p_main_party", "$g_enemy_party"),
      (try_end),
      (call_script, "script_cf_reset_npc_wounds"),
      (try_begin),
        (eq, "$player_escape", 0),
        (call_script, "script_loot_player_items", "$g_enemy_party"),
      (try_end),
      (try_begin),
        (eq, "$disposition", 2),
        (eq, "$players_kingdom", 0),
        (troop_get_slot, ":var3", "trp_player", 7),
        (gt, ":var3", 250),
        (try_begin),
          (lt, ":var3", 1000),
          (call_script, "script_change_player_honor", 1),
        (else_try),
          (lt, "$player_right_to_rule", 30),
          (call_script, "script_change_player_honor", 1),
        (try_end),
      (try_end),
      (assign, "$g_move_heroes", 0),
      (party_clear, "p_temp_party"),
      (call_script, "script_party_add_party_prisoners", "p_temp_party", "p_main_party"),
      (call_script, "script_party_prisoners_add_party_companions", "p_temp_party", "p_main_party"),
      (distribute_party_among_party_group, "p_temp_party", "$g_enemy_party"),
      (assign, "$g_prison_heroes", 1),
      (call_script, "script_party_remove_all_companions", "p_main_party"),
      (assign, "$g_prison_heroes", 0),
      (assign, "$g_move_heroes", 1),
      (call_script, "script_party_remove_all_prisoners", "p_main_party"),
      (val_add, "$g_total_defeats", 1),
      (try_begin),
        (neq, "$g_player_surrenders", 1),
        (store_random_in_range, ":var4", 0, 100),
        (ge, ":var4", "$g_player_luck"),
        (jump_to_menu, "$g_next_menu"),
      (else_try),
        (try_begin),
          (eq, "$g_next_menu", -1),
          (leave_encounter),
          (change_screen_return),
        (else_try),
          (jump_to_menu, "$g_next_menu"),
        (try_end),
      (try_end),
      (try_begin),
        (gt, "$g_ally_party", 0),
        (call_script, "script_party_wound_all_members", "$g_ally_party"),
      (try_end),
      (party_get_num_companion_stacks, ":var5", "p_encountered_party_backup"),
      (try_for_range, ":var1", 0, ":var5"),
        (party_stack_get_troop_id, ":var2", "p_encountered_party_backup", ":var1"),
        (is_between, ":var2", "trp_npc1", "trp_knight_1_1_wife"),
        (troop_slot_eq, ":var2", 2, 2),
        (store_faction_of_troop, ":var6", ":var2"),
        (call_script, "script_add_log_entry", 14, "trp_player", -1, ":var2", ":var6"),
      (try_end),
    ],
    [
    ],
    [],
  ),

  ("player_escape", mnf_disable_all_keys,
    "You have managed to use the shadows to evade capture from the victor.",
    "none",
    [],
    [
      ("continue",
      [],
      "Continue...",
      [
        (call_script, "script_set_parties_around_player_ignore_player", 8, 12),
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("permanent_damage", mnf_disable_all_keys,
    "{s0}",
    "none",
    [
      (assign, ":var0", 1),
      (try_for_range, ":var1", 0, ":var0"),
        (store_random_in_range, ":var2", 0, 4),
        (store_attribute_level, ":var3", "trp_player", ":var2"),
        (try_begin),
          (gt, ":var3", 3),
          (neq, ":var2", 3),
          (try_begin),
            (eq, ":var2", 0),
            (str_store_string, s0, "@Some of your tendons have been damaged in the battle. You lose 1 strength."),
          (else_try),
            (eq, ":var2", 1),
            (str_store_string, s0, "@You took a nasty wound which will cause you to limp slightly even after it heals. You lose 1 agility."),
          (else_try),
            (str_store_string, s0, "@You have trouble thinking straight after the battle, perhaps from a particularly hard hit to your head, and frequent headaches now plague your existence. Your intelligence is reduced by 1."),
          (try_end),
        (else_try),
          (lt, ":var0", 200),
          (val_add, ":var0", 1),
        (try_end),
      (try_end),
      (try_begin),
        (eq, ":var0", 200),
        (try_begin),
          (eq, "$g_next_menu", -1),
          (leave_encounter),
          (change_screen_return),
        (else_try),
          (jump_to_menu, "$g_next_menu"),
        (try_end),
      (else_try),
        (troop_raise_attribute, "trp_player", ":var2", -1),
      (try_end),
    ],
    [
      ("s0",
      [
        (store_random_in_range, ":var0", 0, 4),
        (try_begin),
          (eq, ":var0", 0),
          (str_store_string, s0, "@Perhaps I'm getting unlucky..."),
        (else_try),
          (eq, ":var0", 1),
          (str_store_string, s0, "@Retirement is starting to sound better and better."),
        (else_try),
          (eq, ":var0", 2),
          (str_store_string, s0, "@No matter! I will persevere!"),
        (else_try),
          (eq, ":var0", 3),
          (try_begin),
            (eq, "$character_gender", 1),
            (str_store_string, s0, "@What did I do to deserve this?"),
          (else_try),
            (str_store_string, s0, "@I suppose it'll make for a good story, at least..."),
          (try_end),
        (try_end),
      ],
      "{s0}",
      [
        (try_begin),
          (eq, "$g_next_menu", -1),
          (leave_encounter),
          (change_screen_return),
        (else_try),
          (jump_to_menu, "$g_next_menu"),
        (try_end),
      ]
      ),
    ],
  ),

  ("pre_join", 0,
    "You come across a battle between {s2} and {s1}. You decide to...",
    "none",
    [
      (str_store_party_name, s1, "$g_encountered_party"),
      (str_store_party_name, s2, "$g_encountered_party_2"),
    ],
    [
      ("pre_join_help_attackers",
      [
        (store_faction_of_party, ":var0", "$g_encountered_party_2"),
        (store_relation, ":var1", ":var0", "fac_player_supporters_faction"),
        (try_begin),
          (eq, ":var0", "$players_kingdom"),
          (str_store_string, s21, "@Ally"),
        (else_try),
          (ge, ":var1", 10),
          (str_store_string, s21, "@Friend"),
        (else_try),
          (lt, ":var1", 0),
          (str_store_string, s21, "@Enemy"),
        (else_try),
          (str_store_string, s21, "@Neutral"),
        (try_end),
      ],
      "Move_in_to_help_the_{s2}._({s21})",
      [
        (select_enemy, 0),
        (assign, "$g_enemy_party", "$g_encountered_party"),
        (assign, "$g_ally_party", "$g_encountered_party_2"),
        (jump_to_menu, "mnu_join_battle"),
      ]
      ),

      ("pre_join_help_defenders",
      [
        (store_faction_of_party, ":var0", "$g_encountered_party"),
        (store_relation, ":var1", ":var0", "fac_player_supporters_faction"),
        (try_begin),
          (eq, ":var1", "$players_kingdom"),
          (str_store_string, s21, "@Ally"),
        (else_try),
          (ge, ":var1", 10),
          (str_store_string, s21, "@Friend"),
        (else_try),
          (lt, ":var1", 0),
          (str_store_string, s21, "@Enemy"),
        (else_try),
          (str_store_string, s21, "@Neutral"),
        (try_end),
      ],
      "Rush_to_the_aid_of_the_{s1}._({s21})",
      [
        (select_enemy, 1),
        (assign, "$g_enemy_party", "$g_encountered_party_2"),
        (assign, "$g_ally_party", "$g_encountered_party"),
        (jump_to_menu, "mnu_join_battle"),
      ]
      ),

      ("pre_join_leave",
      [],
      "Don't_get_involved.",
      [
        (leave_encounter),
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("join_battle", mnf_enable_hot_keys,
    "You are helping the {s2} against the {s1}. You have {reg10} troops fit for battle against the enemy's {reg11}. {s4}",
    "none",
    [
      (str_clear, s4),
      (str_store_party_name, s1, "$g_enemy_party"),
      (str_store_party_name, s2, "$g_ally_party"),
      (call_script, "script_encounter_calculate_fit"),
      (try_begin),
        (eq, "$new_encounter", 1),
        (assign, "$new_encounter", 0),
        (call_script, "script_encounter_init_variables"),
      (else_try),
        (eq, "$g_leave_encounter", 1),
        (change_screen_return),
      (try_end),
      (try_begin),
        (call_script, "script_party_count_members_with_full_health", "p_collective_enemy"),
        (assign, ":var0", reg0),
        (assign, ":var1", 0),
        (try_begin),
          (eq, "$g_battle_result", 1),
          (this_or_next|le, ":var0", 0),
          (le, ":var0", "$num_routed_enemies"),
          (assign, ":var1", 1),
        (else_try),
          (eq, "$g_engaged_enemy", 1),
          (le, "$g_enemy_fit_for_battle", 0),
          (ge, "$g_friend_fit_for_battle", 1),
          (assign, ":var1", 1),
        (try_end),
        (this_or_next|eq, ":var1", 1),
        (eq, "$g_enemy_surrenders", 1),
        (assign, "$g_next_menu", -1),
        (jump_to_menu, "mnu_total_victory"),
      (else_try),
        (call_script, "script_party_count_members_with_full_health", "p_collective_friends"),
        (assign, ":var2", reg0),
        (assign, ":var3", 0),
        (try_begin),
          (eq, "$g_battle_result", -1),
          (le, ":var2", "$num_routed_allies"),
          (assign, ":var3", 1),
        (try_end),
        (this_or_next|eq, ":var3", 1),
        (eq, "$g_player_surrenders", 1),
        (leave_encounter),
        (change_screen_return),
      (try_end),
      (str_store_party_name, s1, "$g_enemy_party"),
      (str_store_party_name, s2, "$g_ally_party"),
      (try_begin),
        (party_slot_eq, "p_main_party", 47, 1),
        (str_store_string, s4, "@{s4}^^The troops you selected are ready to join you in battle."),
      (else_try),
        (str_store_string, s4, "@{s4}^^Your captains will deal with troop assignments."),
      (try_end),
      (try_begin),
        (party_slot_eq, "p_main_party", 231, 1),
        (str_store_string, s4, "@{s4}^^Your orders have been sent to your captains."),
      (else_try),
        (str_store_string, s4, "@{s4}^^There is no tactical plan in place."),
      (try_end),
    ],
    [
      ("deployment",
      [
        (party_get_current_terrain, ":var0", "p_main_party"),
        (neq, ":var0", 0),
        (neg|troop_is_wounded, "trp_player"),
        (party_slot_eq, "p_main_party", 231, 0),
        (party_get_skill_level, ":var1", "p_main_party", 15),
        (ge, ":var1", 2),
        (call_script, "script_party_count_fit_for_battle", "p_collective_friends"),
        (assign, ":var2", reg0),
        (call_script, "script_party_count_fit_for_battle", "p_collective_enemy"),
        (assign, ":var3", reg0),
        (store_add, ":var4", ":var2", ":var3"),
        (party_get_slot, ":var5", "p_main_party", 48),
        (gt, ":var4", ":var5"),
      ],
      "Choose_who_will_join_you_in_battle.",
      [
        (assign, "$g_next_menu", "mnu_join_battle"),
        (start_presentation, "prsnt_prebattle_custom_deployment"),
      ]
      ),

      ("orders",
      [
        (party_get_current_terrain, ":var0", "p_main_party"),
        (neq, ":var0", 0),
        (neg|troop_is_wounded, "trp_player"),
        (party_slot_eq, "p_main_party", 231, 0),
        (party_get_skill_level, ":var1", "p_main_party", 15),
        (ge, ":var1", 2),
      ],
      "Plan_your_battle_with_the_enemy.",
      [
        (assign, "$g_next_menu", "mnu_join_battle"),
        (start_presentation, "prsnt_prebattle_orders"),
      ]
      ),

      ("do_orders",
      [
        (party_slot_eq, "p_main_party", 231, 1),
      ],
      "Enough_planning._To_battle!",
      [
        (party_set_slot, "p_main_party", 231, 0),
        (assign, "$g_joined_battle_to_help", 1),
        (party_set_next_battle_simulation_time, "$g_encountered_party", -1),
        (assign, "$g_battle_result", 0),
        (call_script, "script_calculate_renown_value"),
        (call_script, "script_calculate_battle_advantage"),
        (set_battle_advantage, reg0),
        (set_party_battle_mode),
        (set_jump_mission, "mt_lead_charge"),
        (call_script, "script_setup_random_scene"),
        (assign, "$g_next_menu", "mnu_join_battle"),
        (jump_to_menu, "mnu_battle_debrief"),
        (change_screen_mission),
      ]
      ),

      ("clear_orders",
      [
        (this_or_next|party_slot_eq, "p_main_party", 47, 1),
        (party_slot_eq, "p_main_party", 231, 1),
      ],
      "Re-assess_the_situation.",
      [
        (try_begin),
          (party_slot_eq, "p_main_party", 47, 1),
          (party_set_slot, "p_main_party", 47, 0),
        (try_end),
        (try_begin),
          (party_slot_eq, "p_main_party", 231, 1),
          (party_set_slot, "p_main_party", 231, 0),
          (party_set_slot, "p_main_party", 232, 0),
        (try_end),
        (jump_to_menu, "mnu_join_battle"),
      ]
      ),

      ("hold",
      [
        (party_get_current_terrain, ":var0", "p_main_party"),
        (neq, ":var0", 0),
        (neg|troop_is_wounded, "trp_player"),
        (party_slot_eq, "p_main_party", 231, 0),
        (party_get_skill_level, ":var1", "p_main_party", 15),
        (ge, ":var1", 1),
        (party_slot_eq, "p_main_party", 231, 0),
      ],
      "Take_the_field.",
      [
        (party_set_slot, "p_main_party", 232, 1),
        (party_get_slot, ":var0", "p_main_party", 250),
        (try_begin),
          (gt, ":var0", 0),
          (party_set_slot, "p_main_party_backup", 250, ":var0"),
        (try_end),
        (party_set_slot, "p_main_party", 250, 910),
        (assign, "$g_joined_battle_to_help", 1),
        (party_set_next_battle_simulation_time, "$g_encountered_party", -1),
        (assign, "$g_battle_result", 0),
        (call_script, "script_calculate_renown_value"),
        (call_script, "script_calculate_battle_advantage"),
        (set_battle_advantage, reg0),
        (set_party_battle_mode),
        (set_jump_mission, "mt_lead_charge"),
        (call_script, "script_setup_random_scene"),
        (assign, "$g_next_menu", "mnu_join_battle"),
        (jump_to_menu, "mnu_battle_debrief"),
        (change_screen_mission),
      ]
      ),

      ("follow",
      [
        (party_get_current_terrain, ":var0", "p_main_party"),
        (neq, ":var0", 0),
        (neg|troop_is_wounded, "trp_player"),
        (party_slot_eq, "p_main_party", 231, 0),
        (party_get_skill_level, ":var1", "p_main_party", 15),
        (ge, ":var1", 1),
        (party_slot_eq, "p_main_party", 231, 0),
      ],
      "Lead_your_troops.",
      [
        (party_set_slot, "p_main_party", 232, 1),
        (party_get_slot, ":var0", "p_main_party", 250),
        (try_begin),
          (gt, ":var0", 0),
          (party_set_slot, "p_main_party_backup", 250, ":var0"),
        (try_end),
        (party_set_slot, "p_main_party", 250, 911),
        (assign, "$g_joined_battle_to_help", 1),
        (party_set_next_battle_simulation_time, "$g_encountered_party", -1),
        (assign, "$g_battle_result", 0),
        (call_script, "script_calculate_renown_value"),
        (call_script, "script_calculate_battle_advantage"),
        (set_battle_advantage, reg0),
        (set_party_battle_mode),
        (set_jump_mission, "mt_lead_charge"),
        (call_script, "script_setup_random_scene"),
        (assign, "$g_next_menu", "mnu_join_battle"),
        (jump_to_menu, "mnu_battle_debrief"),
        (change_screen_mission),
      ]
      ),

      ("join_attack",
      [
        (party_get_current_terrain, ":var0", "p_main_party"),
        (neq, ":var0", 0),
        (neg|troop_is_wounded, "trp_player"),
        (party_slot_eq, "p_main_party", 231, 0),
      ],
      "Charge_the_enemy.",
      [
        (try_begin),
          (party_slot_eq, "p_main_party", 231, 1),
          (party_set_slot, "p_main_party", 231, 0),
        (try_end),
        (assign, "$g_joined_battle_to_help", 1),
        (party_set_next_battle_simulation_time, "$g_encountered_party", -1),
        (assign, "$g_battle_result", 0),
        (call_script, "script_calculate_renown_value"),
        (call_script, "script_calculate_battle_advantage"),
        (set_battle_advantage, reg0),
        (set_party_battle_mode),
        (set_jump_mission, "mt_lead_charge"),
        (call_script, "script_setup_random_scene"),
        (assign, "$g_next_menu", "mnu_join_battle"),
        (jump_to_menu, "mnu_battle_debrief"),
        (change_screen_mission),
      ]
      ),

      ("join_attack",
      [
        (party_get_current_terrain, ":var0", "p_main_party"),
        (eq, ":var0", 0),
        (neg|troop_is_wounded, "trp_player"),
        (party_slot_eq, "p_main_party", 231, 0),
      ],
      "Board_the_enemy",
      [
        (party_set_next_battle_simulation_time, "$g_encountered_party", -1),
        (assign, "$g_battle_result", 0),
        (call_script, "script_calculate_renown_value"),
        (call_script, "script_calculate_battle_advantage"),
        (set_battle_advantage, reg0),
        (set_party_battle_mode),
        (set_jump_mission, "mt_lead_charge_water_battle"),
        (call_script, "script_setup_random_scene"),
        (assign, "$g_next_menu", "mnu_join_battle"),
        (jump_to_menu, "mnu_battle_debrief"),
        (change_screen_mission),
      ]
      ),

      ("join_order_attack",
      [
        (call_script, "script_party_count_members_with_full_health", "p_main_party"),
        (ge, reg0, 3),
        (party_slot_eq, "p_main_party", 231, 0),
      ],
      "Order_your_troops_to_attack_with_your_allies_while_you_stay_back.",
      [
        (assign, "$g_joined_battle_to_help", 1),
        (party_set_next_battle_simulation_time, "$g_encountered_party", -1),
        (jump_to_menu, "mnu_join_order_attack"),
      ]
      ),

      ("join_leave",
      [
        (party_slot_eq, "p_main_party", 231, 0),
      ],
      "Leave.",
      [
        (try_begin),
          (neg|troop_is_wounded, "trp_player"),
          (call_script, "script_objectionable_action", 1, "str_flee_battle"),
          (party_stack_get_troop_id, ":var0", "$g_enemy_party", 0),
          (is_between, ":var0", "trp_npc1", "trp_knight_1_1_wife"),
          (call_script, "script_add_log_entry", 15, "trp_player", -1, ":var0", -1),
        (try_end),
        (leave_encounter),
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("join_order_attack", mnf_disable_all_keys,
    "{s4}^^Your casualties: {s8}^^Allies' casualties: {s9}^^Enemy casualties: {s10}",
    "none",
    [
      (call_script, "script_party_calculate_strength", "p_main_party", 1),
      (assign, ":var0", reg0),
      (val_div, ":var0", 5),
      (call_script, "script_party_calculate_strength", "p_collective_friends", 0),
      (assign, ":var1", reg0),
      (val_div, ":var1", 5),
      (call_script, "script_party_calculate_strength", "p_collective_enemy", 0),
      (assign, ":var2", reg0),
      (val_div, ":var2", 5),
      (try_begin),
        (eq, ":var1", 0),
        (store_div, ":var3", ":var2", 2),
      (else_try),
        (assign, ":var3", ":var2"),
        (val_mul, ":var3", ":var0"),
        (val_div, ":var3", ":var1"),
      (try_end),
      (val_sub, ":var2", ":var3"),
      (inflict_casualties_to_party_group, "p_main_party", ":var3", "p_temp_casualties"),
      (call_script, "script_print_casualties_to_s0", "p_temp_casualties", 0),
      (str_store_string_reg, s8, s0),
      (inflict_casualties_to_party_group, "$g_enemy_party", ":var1", "p_temp_casualties"),
      (party_get_num_companion_stacks, ":var4", "p_temp_casualties"),
      (try_for_range, ":var5", 0, ":var4"),
        (party_stack_get_troop_id, ":var6", "p_temp_casualties", ":var5"),
        (try_begin),
          (party_stack_get_size, ":var7", "p_temp_casualties", ":var5"),
          (gt, ":var7", 0),
          (party_add_members, "p_total_enemy_casualties", ":var6", ":var7"),
          (party_stack_get_num_wounded, ":var8", "p_temp_casualties", ":var5"),
          (gt, ":var8", 0),
          (party_wound_members, "p_total_enemy_casualties", ":var6", ":var8"),
        (try_end),
      (try_end),
      (call_script, "script_print_casualties_to_s0", "p_temp_casualties", 0),
      (str_store_string_reg, s10, s0),
      (call_script, "script_collect_friendly_parties"),
      (inflict_casualties_to_party_group, "$g_ally_party", ":var2", "p_temp_casualties"),
      (call_script, "script_print_casualties_to_s0", "p_temp_casualties", 0),
      (str_store_string_reg, s9, s0),
      (party_collect_attachments_to_party, "$g_enemy_party", "p_collective_enemy"),
      (assign, "$no_soldiers_left", 0),
      (try_begin),
        (call_script, "script_party_count_members_with_full_health", "p_main_party"),
        (assign, ":var9", reg0),
        (le, ":var9", "$num_routed_us"),
        (assign, "$no_soldiers_left", 1),
        (str_store_string, s4, "str_join_order_attack_failure"),
      (else_try),
        (call_script, "script_party_count_members_with_full_health", "p_collective_enemy"),
        (assign, ":var10", reg0),
        (this_or_next|le, ":var10", 0),
        (le, ":var10", "$num_routed_enemies"),
        (assign, "$g_battle_result", 1),
        (assign, "$no_soldiers_left", 1),
        (str_store_string, s4, "str_join_order_attack_success"),
      (else_try),
        (str_store_string, s4, "str_join_order_attack_continue"),
      (try_end),
    ],
    [
      ("continue",
      [],
      "Continue...",
      [
        (jump_to_menu, "mnu_join_battle"),
      ]
      ),
    ],
  ),

  ("zendar", mnf_auto_enter,
    "You enter the town of Zendar.",
    "none",
    [
      (reset_price_rates, 0),
      (set_price_rate_for_item, "itm_tools", 70),
      (set_price_rate_for_item, "itm_salt", 140),
    ],
    [
      ("zendar_enter",
      [],
      "_",
      [
        (set_jump_mission, "mt_town_default"),
        (jump_to_scene, "scn_zendar_center"),
        (change_screen_mission),
      ]
,
      "Door_to_the_town_center."
      ),

      ("zendar_tavern",
      [],
      "_",
      [
        (set_jump_mission, "mt_town_default"),
        (jump_to_scene, "scn_the_happy_boar"),
        (change_screen_mission),
      ]
,
      "Door_to_the_tavern."
      ),

      ("zendar_merchant",
      [],
      "_",
      [
        (set_jump_mission, "mt_town_default"),
        (jump_to_scene, "scn_zendar_merchant"),
        (change_screen_mission),
      ]
,
      "Door_to_the_merchant."
      ),

      ("zendar_arena",
      [],
      "_",
      [
        (set_jump_mission, "mt_town_default"),
        (jump_to_scene, "scn_zendar_arena"),
        (change_screen_mission),
      ]
,
      "Door_to_the_arena."
      ),

      ("town_1_leave",
      [],
      "_",
      [
        (leave_encounter),
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("salt_mine", mnf_auto_enter,
    "You enter the salt mine.",
    "none",
    [
      (reset_price_rates, 0),
      (set_price_rate_for_item, "itm_salt", 55),
    ],
    [
      ("enter",
      [],
      "Enter.",
      [
        (set_jump_mission, "mt_town_center"),
        (jump_to_scene, "scn_salt_mine"),
        (change_screen_mission),
      ]
      ),

      ("leave",
      [],
      "Leave.",
      [
        (leave_encounter),
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("four_ways_inn", mnf_auto_enter,
    "You arrive at the Four Ways Inn.",
    "none",
    [
      (assign, "$current_town", "p_four_ways_inn"),
    ],
    [
      ("enter",
      [],
      "Enter.",
      [
        (set_jump_mission, "mt_ai_training"),
        (jump_to_scene, "scn_four_ways_inn"),
        (change_screen_mission),
      ]
      ),

      ("leave",
      [],
      "Leave.",
      [
        (leave_encounter),
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("test_scene", 0,
    "You enter the test scene.",
    "none",
    [],
    [
      ("enter",
      [],
      "Enter_1.",
      [
        (set_jump_mission, "mt_ai_training"),
        (jump_to_scene, "scn_multi_scene_1"),
        (change_screen_mission),
      ]
      ),

      ("enter",
      [],
      "Enter_2.",
      [
        (set_jump_mission, "mt_ai_training"),
        (jump_to_scene, "scn_multi_scene_2"),
        (change_screen_mission),
      ]
      ),

      ("enter",
      [],
      "Enter_3.",
      [
        (set_jump_mission, "mt_ai_training"),
        (jump_to_scene, "scn_multi_scene_3"),
        (change_screen_mission),
      ]
      ),

      ("enter",
      [],
      "Enter_4.",
      [
        (set_jump_mission, "mt_ai_training"),
        (jump_to_scene, "scn_multi_scene_4"),
        (change_screen_mission),
      ]
      ),

      ("enter",
      [],
      "Enter_5.",
      [
        (set_jump_mission, "mt_ai_training"),
        (jump_to_scene, "scn_multi_scene_5"),
        (change_screen_mission),
      ]
      ),

      ("enter",
      [],
      "Enter_6.",
      [
        (set_jump_mission, "mt_ai_training"),
        (jump_to_scene, "scn_multi_scene_6"),
        (change_screen_mission),
      ]
      ),

      ("enter",
      [],
      "Enter_7.",
      [
        (set_jump_mission, "mt_ai_training"),
        (jump_to_scene, "scn_test2"),
        (change_screen_mission),
      ]
      ),

      ("enter",
      [],
      "Enter_8.",
      [
        (set_jump_mission, "mt_ai_training"),
        (jump_to_scene, "scn_test3"),
        (change_screen_mission),
      ]
      ),

      ("enter",
      [],
      "Enter_9.",
      [
        (set_jump_mission, "mt_ai_training"),
        (jump_to_scene, "scn_multi_scene_13"),
        (change_screen_mission),
      ]
      ),

      ("leave",
      [],
      "Leave.",
      [
        (leave_encounter),
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("battlefields", 0,
    "{!}Select a field...",
    "none",
    [],
    [
      ("enter_f1",
      [],
      "{!}Field_1",
      [
        (set_jump_mission, "mt_ai_training"),
        (jump_to_scene, "scn_field_1"),
        (change_screen_mission),
      ]
      ),

      ("enter_f2",
      [],
      "{!}Field_2",
      [
        (set_jump_mission, "mt_ai_training"),
        (jump_to_scene, "scn_field_2"),
        (change_screen_mission),
      ]
      ),

      ("enter_f3",
      [],
      "{!}Field_3",
      [
        (set_jump_mission, "mt_ai_training"),
        (jump_to_scene, "scn_field_3"),
        (change_screen_mission),
      ]
      ),

      ("enter_f4",
      [],
      "{!}Field_4",
      [
        (set_jump_mission, "mt_ai_training"),
        (jump_to_scene, "scn_field_4"),
        (change_screen_mission),
      ]
      ),

      ("enter_f5",
      [],
      "{!}Field_5",
      [
        (set_jump_mission, "mt_ai_training"),
        (jump_to_scene, "scn_field_5"),
        (change_screen_mission),
      ]
      ),

      ("leave",
      [],
      "Leave.",
      [
        (leave_encounter),
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("dhorak_keep", 0,
    "You enter the Dhorak Keep",
    "none",
    [],
    [
      ("enter",
      [],
      "Enter.",
      [
        (set_jump_mission, "mt_town_center"),
        (jump_to_scene, "scn_dhorak_keep"),
        (change_screen_mission),
      ]
      ),

      ("leave",
      [],
      "Leave.",
      [
        (leave_encounter),
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("join_siege_outside", mnf_enable_hot_keys|mnf_scale_picture,
    "{s1} has come under siege by {s2}.",
    "none",
    [
      (str_store_party_name, s1, "$g_encountered_party"),
      (str_store_party_name, s2, "$g_encountered_party_2"),
      (try_begin),
        (eq, "$character_gender", 1),
        (set_background_mesh, "mesh_pic_siege_sighted_fem"),
      (else_try),
        (set_background_mesh, "mesh_pic_siege_sighted"),
      (try_end),
    ],
    [
      ("approach_besiegers",
      [
        (store_faction_of_party, ":var0", "$g_encountered_party_2"),
        (store_relation, ":var1", ":var0", "fac_player_supporters_faction"),
        (ge, ":var1", 0),
        (store_faction_of_party, ":var0", "$g_encountered_party"),
        (store_relation, ":var1", ":var0", "fac_player_supporters_faction"),
        (lt, ":var1", 0),
      ],
      "Approach_the_siege_camp.",
      [
        (jump_to_menu, "mnu_besiegers_camp_with_allies"),
      ]
      ),

      ("pass_through_siege",
      [
        (store_faction_of_party, ":var0", "$g_encountered_party"),
        (store_relation, ":var1", ":var0", "fac_player_supporters_faction"),
        (ge, ":var1", 0),
      ],
      "Pass_through_the_siege_lines_and_enter_{s1}.",
      [
        (jump_to_menu, "mnu_cut_siege_without_fight"),
      ]
      ),

      ("leave",
      [],
      "Leave.",
      [
        (leave_encounter),
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("cut_siege_without_fight", 0,
    "The besiegers let you approach the gates without challenge.",
    "none",
    [],
    [
      ("continue",
      [],
      "Continue...",
      [
        (try_begin),
          (this_or_next|eq, "$g_encountered_party_faction", "fac_player_supporters_faction"),
          (eq, "$g_encountered_party_faction", "$players_kingdom"),
          (jump_to_menu, "mnu_town"),
        (else_try),
          (jump_to_menu, "mnu_castle_outside"),
        (try_end),
      ]
      ),
    ],
  ),

  ("besiegers_camp_with_allies", mnf_enable_hot_keys,
    "{s1} remains under siege. The banners of {s2} fly above the camp of the besiegers, where you and your men are welcomed. {s4}",
    "none",
    [
      (str_clear, s4),
      (str_store_party_name, s1, "$g_encountered_party"),
      (str_store_party_name, s2, "$g_encountered_party_2"),
      (assign, "$g_enemy_party", "$g_encountered_party"),
      (assign, "$g_ally_party", "$g_encountered_party_2"),
      (select_enemy, 0),
      (call_script, "script_encounter_calculate_fit"),
      (try_begin),
        (eq, "$new_encounter", 1),
        (assign, "$new_encounter", 0),
        (call_script, "script_encounter_init_variables"),
      (try_end),
      (try_begin),
        (eq, "$g_leave_encounter", 1),
        (change_screen_return),
      (else_try),
        (assign, ":var0", 0),
        (try_begin),
          (eq, "$g_battle_result", 1),
          (assign, ":var0", 1),
        (else_try),
          (le, "$g_enemy_fit_for_battle", 0),
          (ge, "$g_friend_fit_for_battle", 1),
          (assign, ":var0", 1),
        (try_end),
        (this_or_next|eq, ":var0", 1),
        (eq, "$g_enemy_surrenders", 1),
        (party_get_num_prisoner_stacks, ":var1", "$g_enemy_party"),
        (try_for_range, ":var2", 0, ":var1"),
          (party_prisoner_stack_get_troop_id, ":var3", "p_collective_enemy", ":var2"),
          (troop_is_hero, ":var3"),
          (try_begin),
            (check_quest_active, "qst_rescue_prisoner"),
            (quest_slot_eq, "qst_rescue_prisoner", 2, ":var3"),
            (call_script, "script_succeed_quest", "qst_rescue_prisoner"),
          (else_try),
            (check_quest_active, "qst_deliver_message_to_prisoner_lord"),
            (quest_slot_eq, "qst_deliver_message_to_prisoner_lord", 2, ":var3"),
            (call_script, "script_end_quest", "qst_deliver_message_to_prisoner_lord"),
          (try_end),
        (try_end),
        (try_begin),
          (store_faction_of_party, ":var4", "$g_ally_party"),
          (call_script, "script_dplmc_get_troop_standing_in_faction", "trp_player", ":var4"),
          (ge, reg0, 10),
          (party_stack_get_troop_id, ":var5", "$g_encountered_party_2", 0),
          (call_script, "script_troop_get_player_relation", ":var5"),
          (this_or_next|troop_slot_eq, ":var5", 53, 1),
          (ge, reg0, -10),
          (eq, "$capture_screen_shown", 0),
          (assign, "$capture_screen_shown", 1),
          (party_clear, "p_temp_party"),
          (assign, "$g_move_heroes", 0),
          (change_screen_exchange_with_party, "p_temp_party"),
        (else_try),
          (eq, "$loot_screen_shown", 0),
          (assign, "$loot_screen_shown", 1),
          (troop_clear_inventory, "trp_temp_troop"),
          (call_script, "script_party_calculate_loot", "p_total_enemy_casualties"),
          (gt, reg0, 0),
          (troop_sort_inventory, "trp_temp_troop"),
          (try_begin),
            (eq, "$g_autoloot_enable", 1),
            (assign, "$dplmc_return_menu", "$g_siege_final_menu"),
            (assign, "$lord_selected", "trp_player"),
            (jump_to_menu, "mnu_dplmc_manage_loot_pool"),
          (else_try),
            (change_screen_loot, "trp_temp_troop"),
          (try_end),
        (else_try),
          (call_script, "script_party_give_xp_and_gold", "p_total_enemy_casualties"),
          (val_add, "$g_total_victories", 1),
          (call_script, "script_party_wound_all_members", "$g_enemy_party"),
          (leave_encounter),
          (change_screen_return),
        (try_end),
      (else_try),
        (call_script, "script_party_count_members_with_full_health", "p_collective_friends"),
        (assign, ":var6", reg0),
        (eq, "$g_battle_result", -1),
        (eq, ":var6", 0),
        (leave_encounter),
        (change_screen_return),
      (try_end),
      (try_begin),
        (party_slot_eq, "p_main_party", 47, 1),
        (str_store_string, s4, "@{s4}^^The troops you selected are ready to join you in battle."),
      (else_try),
        (str_store_string, s4, "@{s4}^^Your captains will deal with troop assignments."),
      (try_end),
      (try_begin),
        (party_slot_eq, "p_main_party", 231, 1),
        (str_store_string, s4, "@{s4}^^Your orders have been sent to your captains."),
      (else_try),
        (str_store_string, s4, "@{s4}^^There is no tactical plan in place."),
      (try_end),
    ],
    [
      ("talk_to_siege_commander",
      [],
      "Request_a_meeting_with_the_commander.",
      [
        (call_script, "script_get_meeting_scene"),
        (assign, ":var0", reg0),
        (modify_visitors_at_site, ":var0"),
        (reset_visitors),
        (set_visitor, 0, "trp_player"),
        (party_stack_get_troop_id, ":var1", "$g_encountered_party_2", 0),
        (party_stack_get_troop_dna, ":var2", "$g_encountered_party_2", 0),
        (set_visitor, 17, ":var1", ":var2"),
        (set_jump_mission, "mt_conversation_encounter"),
        (jump_to_scene, ":var0"),
        (assign, "$talk_context", 4),
        (change_screen_map_conversation, ":var1"),
      ]
      ),

      ("deployment",
      [
        (neg|troop_is_wounded, "trp_player"),
        (party_slot_eq, "p_main_party", 231, 0),
        (party_get_skill_level, ":var0", "p_main_party", 15),
        (ge, ":var0", 2),
        (call_script, "script_party_count_fit_for_battle", "p_collective_friends"),
        (assign, ":var1", reg0),
        (call_script, "script_party_count_fit_for_battle", "p_collective_enemy"),
        (assign, ":var2", reg0),
        (store_add, ":var3", ":var1", ":var2"),
        (party_get_slot, ":var4", "p_main_party", 48),
        (gt, ":var3", ":var4"),
      ],
      "Choose_who_will_join_you_in_battle.",
      [
        (assign, "$g_next_menu", "mnu_besiegers_camp_with_allies"),
        (start_presentation, "prsnt_prebattle_custom_deployment"),
      ]
      ),

      ("orders",
      [
        (neg|troop_is_wounded, "trp_player"),
        (party_slot_eq, "p_main_party", 231, 0),
        (party_get_skill_level, ":var0", "p_main_party", 15),
        (ge, ":var0", 2),
      ],
      "Plan_your_battle_with_the_enemy.",
      [
        (assign, "$g_next_menu", "mnu_besiegers_camp_with_allies"),
        (start_presentation, "prsnt_prebattle_orders"),
      ]
      ),

      ("do_orders",
      [
        (party_slot_eq, "p_main_party", 231, 1),
      ],
      "Enough_planning._To_battle!",
      [
        (party_set_slot, "p_main_party", 231, 0),
        (assign, "$g_joined_battle_to_help", 1),
        (party_set_next_battle_simulation_time, "$g_encountered_party", -1),
        (try_begin),
          (check_quest_active, "qst_join_siege_with_army"),
          (quest_slot_eq, "qst_join_siege_with_army", 1, "$g_encountered_party"),
          (add_xp_as_reward, 250),
          (call_script, "script_end_quest", "qst_join_siege_with_army"),
          (faction_get_slot, ":var0", "$players_kingdom", 8),
          (str_store_troop_name_link, s9, ":var0"),
          (setup_quest_text, "qst_follow_army"),
          (call_script, "script_dplmc_store_troop_is_female", ":var0"),
          (str_store_string, s2, "@{s9} wants you to follow {reg0?her:his} army until further notice."),
          (call_script, "script_start_quest", "qst_follow_army", ":var0"),
          (assign, "$g_player_follow_army_warnings", 0),
        (try_end),
        (try_begin),
          (party_slot_eq, "$g_encountered_party", 0, 3),
          (party_get_slot, ":var1", "$g_encountered_party", 18),
        (else_try),
          (party_get_slot, ":var1", "$g_encountered_party", 10),
        (try_end),
        (call_script, "script_calculate_battle_advantage"),
        (val_mul, reg0, 2),
        (val_div, reg0, 3),
        (set_battle_advantage, reg0),
        (set_party_battle_mode),
        (try_begin),
          (party_slot_eq, "$g_encountered_party", 27, 1),
          (set_jump_mission, "mt_castle_attack_walls_belfry"),
        (else_try),
          (set_jump_mission, "mt_castle_attack_walls_ladder"),
        (try_end),
        (jump_to_scene, ":var1"),
        (assign, "$g_siege_final_menu", "mnu_besiegers_camp_with_allies"),
        (assign, "$g_siege_battle_state", 1),
        (assign, "$g_next_menu", "mnu_castle_besiege_inner_battle"),
        (jump_to_menu, "mnu_battle_debrief"),
        (change_screen_mission),
      ]
      ),

      ("clear_orders",
      [
        (this_or_next|party_slot_eq, "p_main_party", 47, 1),
        (party_slot_eq, "p_main_party", 231, 1),
      ],
      "Re-assess_the_situation.",
      [
        (try_begin),
          (party_slot_eq, "p_main_party", 47, 1),
          (party_set_slot, "p_main_party", 47, 0),
        (try_end),
        (try_begin),
          (party_slot_eq, "p_main_party", 231, 1),
          (party_set_slot, "p_main_party", 231, 0),
          (party_set_slot, "p_main_party", 232, 0),
        (try_end),
        (jump_to_menu, "mnu_besiegers_camp_with_allies"),
      ]
      ),

      ("join_siege_with_allies",
      [
        (neg|troop_is_wounded, "trp_player"),
        (party_slot_eq, "p_main_party", 231, 0),
      ],
      "Join_the_next_assault.",
      [
        (try_begin),
          (party_slot_eq, "p_main_party", 231, 1),
          (party_set_slot, "p_main_party", 231, 0),
        (try_end),
        (assign, "$g_joined_battle_to_help", 1),
        (party_set_next_battle_simulation_time, "$g_encountered_party", -1),
        (try_begin),
          (check_quest_active, "qst_join_siege_with_army"),
          (quest_slot_eq, "qst_join_siege_with_army", 1, "$g_encountered_party"),
          (add_xp_as_reward, 250),
          (call_script, "script_end_quest", "qst_join_siege_with_army"),
          (faction_get_slot, ":var0", "$players_kingdom", 8),
          (str_store_troop_name_link, s9, ":var0"),
          (setup_quest_text, "qst_follow_army"),
          (call_script, "script_dplmc_store_troop_is_female", ":var0"),
          (str_store_string, s2, "@{s9} wants you to follow {reg0?her:his} army until further notice."),
          (call_script, "script_start_quest", "qst_follow_army", ":var0"),
          (assign, "$g_player_follow_army_warnings", 0),
        (try_end),
        (try_begin),
          (party_slot_eq, "$g_encountered_party", 0, 3),
          (party_get_slot, ":var1", "$g_encountered_party", 18),
        (else_try),
          (party_get_slot, ":var1", "$g_encountered_party", 10),
        (try_end),
        (call_script, "script_calculate_battle_advantage"),
        (val_mul, reg0, 2),
        (val_div, reg0, 3),
        (set_battle_advantage, reg0),
        (set_party_battle_mode),
        (try_begin),
          (party_slot_eq, "$g_encountered_party", 27, 1),
          (set_jump_mission, "mt_castle_attack_walls_belfry"),
        (else_try),
          (set_jump_mission, "mt_castle_attack_walls_ladder"),
        (try_end),
        (jump_to_scene, ":var1"),
        (assign, "$g_siege_final_menu", "mnu_besiegers_camp_with_allies"),
        (assign, "$g_siege_battle_state", 1),
        (assign, "$g_next_menu", "mnu_castle_besiege_inner_battle"),
        (jump_to_menu, "mnu_battle_debrief"),
        (change_screen_mission),
      ]
      ),

      ("join_siege_stay_back",
      [
        (call_script, "script_party_count_members_with_full_health", "p_main_party"),
        (ge, reg0, 3),
        (party_slot_eq, "p_main_party", 231, 0),
      ],
      "Order_your_soldiers_to_join_the_next_assault_without_you.",
      [
        (assign, "$g_joined_battle_to_help", 1),
        (party_set_next_battle_simulation_time, "$g_encountered_party", -1),
        (try_begin),
          (check_quest_active, "qst_join_siege_with_army"),
          (quest_slot_eq, "qst_join_siege_with_army", 1, "$g_encountered_party"),
          (add_xp_as_reward, 100),
          (call_script, "script_end_quest", "qst_join_siege_with_army"),
          (faction_get_slot, ":var0", "$players_kingdom", 8),
          (str_store_troop_name_link, s9, ":var0"),
          (setup_quest_text, "qst_follow_army"),
          (call_script, "script_dplmc_store_troop_is_female", ":var0"),
          (str_store_string, s2, "@{s9} wants you to follow {reg0?her:his} army until further notice."),
          (call_script, "script_start_quest", "qst_follow_army", ":var0"),
          (assign, "$g_player_follow_army_warnings", 0),
        (try_end),
        (jump_to_menu, "mnu_castle_attack_walls_with_allies_simulate"),
      ]
      ),

      ("leave",
      [
        (party_slot_eq, "p_main_party", 231, 0),
      ],
      "Leave.",
      [
        (leave_encounter),
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("castle_outside", mnf_scale_picture,
    "You are outside {s2}.{s11} {s3} {s4}",
    "none",
    [
      (assign, "$g_enemy_party", "$g_encountered_party"),
      (assign, "$g_ally_party", -1),
      (str_store_party_name, s2, "$g_encountered_party"),
      (call_script, "script_encounter_calculate_fit"),
      (assign, "$all_doors_locked", 1),
      (assign, "$current_town", "$g_encountered_party"),
      (try_begin),
        (eq, "$new_encounter", 1),
        (assign, "$new_encounter", 0),
        (call_script, "script_let_nearby_parties_join_current_battle", 1, 0),
        (call_script, "script_encounter_init_variables"),
        (assign, "$entry_to_town_forbidden", 0),
        (try_begin),
          (gt, "$sneaked_into_town", 0),
          (eq, "$g_dplmc_player_disguise", 1),
          (display_message, "@Removing disguise...", 0xF0DD33),
          (try_begin),
            (eq, "$g_dplmc_player_disguise", 1),
            (set_show_messages, 0),
            (try_for_range, ":var0", 0, 10),
              (troop_get_inventory_slot, ":var1", "trp_player", ":var0"),
              (neq, ":var1", -1),
              (troop_get_inventory_slot_modifier, ":var2", "trp_player", ":var0"),
              (troop_add_item, "trp_random_town_sequence", ":var1", ":var2"),
            (try_end),
            (call_script, "script_move_inventory_and_gold", "trp_player", "trp_random_town_sequence", 0),
            (call_script, "script_dplmc_copy_inventory", "trp_random_town_sequence", "trp_player"),
            (call_script, "script_troop_transfer_gold", "trp_random_town_sequence", "trp_player", 0),
            (set_show_messages, 1),
          (try_end),
        (try_end),
        (assign, "$sneaked_into_town", 0),
        (assign, "$town_entered", 0),
        (assign, "$encountered_party_hostile", 0),
        (assign, "$encountered_party_friendly", 0),
        (try_begin),
          (gt, "$g_player_besiege_town", 0),
          (neq, "$g_player_besiege_town", "$g_encountered_party"),
          (party_slot_eq, "$g_player_besiege_town", 54, "p_main_party"),
          (call_script, "script_lift_siege", "$g_player_besiege_town", 0),
          (assign, "$g_player_besiege_town", -1),
        (try_end),
        (store_faction_of_party, ":var3", "$g_encountered_party"),
        (store_relation, "$g_talk_troop_faction_relation", ":var3", "fac_player_faction"),
        (assign, "$g_encountered_party_relation", "$g_talk_troop_faction_relation"),
        (try_begin),
          (lt, "$g_encountered_party_relation", 0),
          (assign, "$encountered_party_hostile", 1),
          (assign, "$entry_to_town_forbidden", 1),
        (try_end),
        (try_begin),
          (party_slot_eq, "$g_encountered_party", 39, "trp_peasant_woman"),
          (assign, "$encountered_party_hostile", 1),
          (assign, "$entry_to_town_forbidden", 1),
        (try_end),
        (assign, "$cant_sneak_into_town", 0),
        (try_begin),
          (eq, "$current_town", "$last_sneak_attempt_town"),
          (store_current_hours, reg2),
          (val_sub, reg2, "$last_sneak_attempt_time"),
          (lt, reg2, 12),
          (assign, "$cant_sneak_into_town", 1),
        (try_end),
      (else_try),
        (eq, "$g_leave_encounter", 1),
        (change_screen_return),
      (try_end),
      (str_clear, s4),
      (try_begin),
        (eq, "$entry_to_town_forbidden", 1),
        (try_begin),
          (eq, "$cant_sneak_into_town", 1),
          (str_store_string, s4, "str_sneaking_to_town_impossible"),
        (else_try),
          (str_store_string, s4, "str_entrance_to_town_forbidden"),
        (try_end),
      (try_end),
      (party_get_slot, ":var4", "$current_town", 7),
      (store_faction_of_party, ":var3", "$current_town"),
      (str_store_faction_name, s9, ":var3"),
      (try_begin),
        (ge, ":var4", 0),
        (str_store_troop_name, s8, ":var4"),
        (str_store_string, s7, "@{s8} of {s9}"),
      (try_end),
      (assign, ":var5", 0),
      (try_begin),
        (eq, "$g_encountered_party_faction", "$players_kingdom"),
        (is_between, "$players_kingdom", "fac_kingdom_1", "fac_kingdoms_end"),
        (call_script, "script_dplmc_get_troop_standing_in_faction", "trp_player", "$players_kingdom"),
        (ge, reg0, 50),
        (assign, ":var5", 1),
      (try_end),
      (assign, ":var6", reg0),
      (assign, ":var7", reg4),
      (assign, ":var8", 0),
      (assign, reg4, 0),
      (try_begin),
        (lt, ":var4", 1),
      (else_try),
        (call_script, "script_troop_get_family_relation_to_troop", ":var4", "trp_player"),
        (ge, ":var8", 1),
      (else_try),
        (eq, ":var3", "$players_kingdom"),
        (is_between, ":var3", "fac_player_supporters_faction", "fac_kingdoms_end"),
        (faction_slot_eq, ":var3", 11, ":var4"),
        (str_store_string, s11, "@liege"),
        (assign, ":var8", 1),
      (else_try),
        (eq, ":var3", "$players_oath_renounced_against_kingdom"),
        (is_between, ":var3", "fac_kingdom_1", "fac_kingdoms_end"),
        (faction_slot_eq, ":var3", 11, ":var4"),
        (str_store_string, s11, "@former liege"),
        (assign, ":var8", 1),
      (else_try),
        (neg|this_or_next|troop_is_hero, ":var4"),
        (troop_slot_eq, ":var4", 5, 0),
      (else_try),
        (call_script, "script_dplmc_is_affiliated_family_member", ":var4"),
        (ge, reg0, 1),
        (assign, ":var8", 1),
        (try_begin),
          (ge, "$g_encountered_party_relation", 0),
          (str_store_string, s11, "str_dplmc_ally"),
        (else_try),
          (str_store_string, s11, "@affiliate"),
        (try_end),
      (else_try),
        (call_script, "script_troop_get_player_relation", ":var4"),
        (assign, ":var8", reg0),
        (is_between, ":var4", "trp_npc1", "trp_kingdom_1_lord"),
        (neg|troop_slot_eq, ":var4", 82, 8),
        (try_begin),
          (ge, "$g_encountered_party_relation", 0),
          (ge, ":var8", 50),
          (str_store_string, s11, "str_dplmc_ally"),
        (else_try),
          (ge, "$g_encountered_party_relation", 0),
          (ge, ":var8", 20),
          (str_store_string, s11, "str_dplmc_friend"),
        (else_try),
          (str_store_string, s11, "@former companion"),
        (try_end),
        (assign, ":var8", 1),
      (else_try),
        (lt, "$g_encountered_party_relation", 0),
        (assign, ":var8", 0),
      (else_try),
        (ge, ":var8", 50),
        (str_store_string, s11, "str_dplmc_friend"),
      (else_try),
        (eq, ":var3", "$players_kingdom"),
        (faction_slot_eq, ":var3", 8, ":var4"),
        (str_store_string, s11, "@marshall"),
      (else_try),
        (ge, ":var5", 1),
        (str_store_string, s11, "@vassal"),
        (assign, ":var8", 1),
      (else_try),
        (assign, ":var8", 0),
      (try_end),
      (try_begin),
        (party_slot_eq, "$current_town", 0, 2),
        (try_begin),
          (eq, ":var4", "trp_player"),
          (str_store_string, s11, "@ Your own banner flies over the castle gate."),
        (else_try),
          (ge, ":var8", 1),
          (str_store_string, s11, "@ You see the banner of your {s11} {s7} over the castle gate."),
        (else_try),
          (ge, ":var4", 0),
          (str_store_string, s11, "@ You see the banner of {s7} over the castle gate."),
        (else_try),
          (is_between, ":var3", "fac_player_supporters_faction", "fac_kingdoms_end"),
          (str_store_string, s11, "str__this_castle_is_temporarily_under_royal_control"),
        (else_try),
          (str_store_string, s11, "str__this_castle_does_not_seem_to_be_under_anyones_control"),
        (try_end),
      (else_try),
        (try_begin),
          (eq, ":var4", "trp_player"),
          (str_store_string, s11, "@ Your own banner flies over the town gates."),
        (else_try),
          (ge, ":var8", 1),
          (str_store_string, s11, "@ You see the banner of your {s11} {s7} over the town gates."),
        (else_try),
          (ge, ":var4", 0),
          (str_store_string, s11, "@ You see the banner of {s7} over the town gates."),
        (else_try),
          (is_between, ":var3", "fac_player_supporters_faction", "fac_kingdoms_end"),
          (str_store_string, s11, "str__this_town_is_temporarily_under_royal_control"),
        (else_try),
          (str_store_string, s11, "str__the_townspeople_seem_to_have_declared_their_independence"),
        (try_end),
      (try_end),
      (party_get_num_companions, ":var9", "p_collective_enemy"),
      (assign, "$castle_undefended", 0),
      (str_clear, s3),
      (try_begin),
        (eq, ":var9", 0),
        (assign, "$castle_undefended", 1),
        (str_store_string, s3, "str_castle_is_abondened"),
      (else_try),
        (party_slot_eq, "$g_encountered_party", 39, "trp_peasant_woman"),
        (str_store_string, s3, "str_dplmc_place_is_occupied_by_insurgents"),
      (else_try),
        (this_or_next|eq, ":var5", 1),
        (eq, "$g_encountered_party_faction", "fac_player_supporters_faction"),
        (str_store_string, s3, "str_place_is_occupied_by_player"),
      (else_try),
        (lt, "$g_encountered_party_relation", 0),
        (str_store_string, s3, "str_place_is_occupied_by_enemy"),
      (else_try),
      (try_end),
      (assign, reg0, ":var6"),
      (assign, reg4, ":var7"),
      (try_begin),
        (eq, "$g_leave_town_outside", 2),
        (assign, "$g_leave_town_outside", 0),
        (assign, "$g_permitted_to_center", 0),
        (change_screen_return),
      (else_try),
        (check_quest_active, "qst_escort_lady"),
        (quest_slot_eq, "qst_escort_lady", 1, "$g_encountered_party"),
        (quest_get_slot, ":var10", "qst_escort_lady", 4),
        (assign, "$talk_context", 10),
        (call_script, "script_setup_troop_meeting", ":var10", -1),
      (else_try),
        (check_quest_active, "qst_kidnapped_girl"),
        (quest_slot_eq, "qst_kidnapped_girl", 12, "$g_encountered_party"),
        (quest_slot_eq, "qst_kidnapped_girl", 11, 3),
        (assign, "$talk_context", 10),
        (call_script, "script_setup_troop_meeting", "trp_kidnapped_girl", -1),
      (else_try),
        (check_quest_active, "qst_escort_merchant_caravan"),
        (quest_slot_eq, "qst_escort_merchant_caravan", 11, 1),
        (quest_get_slot, ":var11", "qst_escort_merchant_caravan", 8),
        (party_is_active, ":var11"),
        (quest_get_slot, ":var12", "qst_escort_merchant_caravan", 1),
        (eq, "$current_town", ":var12"),
        (store_distance_to_party_from_party, ":var13", ":var12", ":var11"),
        (lt, ":var13", 4),
        (assign, "$talk_context", 2),
        (assign, "$g_encountered_party", ":var11"),
        (party_stack_get_troop_id, ":var14", ":var11", 0),
        (party_stack_get_troop_dna, ":var15", ":var11", 0),
        (call_script, "script_setup_troop_meeting", ":var14", ":var15"),
      (else_try),
        (eq, "$caravan_escort_state", 1),
        (party_is_active, "$caravan_escort_party_id"),
        (eq, "$current_town", "$caravan_escort_destination_town"),
        (store_distance_to_party_from_party, ":var13", "$caravan_escort_destination_town", "$caravan_escort_party_id"),
        (lt, ":var13", 5),
        (assign, "$talk_context", 2),
        (assign, "$g_encountered_party", "$caravan_escort_party_id"),
        (party_stack_get_troop_id, ":var14", "$caravan_escort_party_id", 0),
        (party_stack_get_troop_dna, ":var15", "$caravan_escort_party_id", 0),
        (call_script, "script_setup_troop_meeting", ":var14", ":var15"),
      (else_try),
        (eq, "$g_town_visit_after_rest", 1),
        (assign, "$g_town_visit_after_rest", 0),
        (jump_to_menu, "mnu_town"),
      (else_try),
        (party_slot_eq, "$g_encountered_party", 39, "trp_peasant_woman"),
        (try_begin),
          (eq, "$g_player_besiege_town", "$g_encountered_party"),
          (jump_to_menu, "mnu_castle_besiege"),
        (try_end),
      (else_try),
        (party_slot_eq, "$g_encountered_party", 0, 2),
        (assign, ":var5", 0),
        (try_begin),
          (eq, "$g_encountered_party_faction", "$players_kingdom"),
          (is_between, "$players_kingdom", "fac_kingdom_1", "fac_kingdoms_end"),
          (call_script, "script_dplmc_get_troop_standing_in_faction", "trp_player", "$players_kingdom"),
          (ge, reg0, 50),
          (assign, ":var5", 1),
        (try_end),
        (this_or_next|eq, ":var5", 1),
        (this_or_next|party_slot_eq, "$g_encountered_party", 7, "trp_player"),
        (faction_slot_eq, "$g_encountered_party_faction", 11, "trp_player"),
        (jump_to_menu, "mnu_enter_your_own_castle"),
      (else_try),
        (party_slot_eq, "$g_encountered_party", 0, 2),
        (ge, "$g_encountered_party_relation", 0),
        (this_or_next|eq, "$castle_undefended", 1),
        (this_or_next|eq, "$g_permitted_to_center", 1),
        (eq, "$g_encountered_party_faction", "$players_kingdom"),
        (jump_to_menu, "mnu_town"),
      (else_try),
        (party_slot_eq, "$g_encountered_party", 0, 3),
        (ge, "$g_encountered_party_relation", 0),
        (jump_to_menu, "mnu_town"),
      (else_try),
        (eq, "$g_player_besiege_town", "$g_encountered_party"),
        (jump_to_menu, "mnu_castle_besiege"),
      (try_end),
      (try_begin),
        (party_slot_eq, "$g_encountered_party", 39, "trp_peasant_woman"),
        (set_background_mesh, "mesh_pic_townriot"),
      (else_try),
        (call_script, "script_set_town_picture"),
      (try_end),
    ],
    [
      ("approach_gates",
      [
        (this_or_next|eq, "$entry_to_town_forbidden", 1),
        (party_slot_eq, "$g_encountered_party", 0, 2),
        (neg|party_slot_eq, "$g_encountered_party", 39, "trp_peasant_woman"),
      ],
      "Approach_the_gates_and_hail_the_guard.",
      [
        (jump_to_menu, "mnu_castle_guard"),
      ]
      ),

      ("town_sneak",
      [
        (try_begin),
          (party_slot_eq, "$g_encountered_party", 0, 3),
          (str_store_string, s7, "str_town"),
        (else_try),
          (str_store_string, s7, "str_castle"),
        (try_end),
        (eq, "$entry_to_town_forbidden", 1),
        (eq, "$cant_sneak_into_town", 0),
        (neg|party_slot_eq, "$g_encountered_party", 39, "trp_peasant_woman"),
      ],
      "Disguise_yourself_and_try_to_sneak_into_the_{s7}.",
      [
        (try_begin),
          (eq, "$g_dplmc_player_disguise", 1),
          (troop_get_slot, ":var0", "trp_player", 80),
          (val_max, ":var0", 1),
          (troop_set_slot, "trp_player", 80, ":var0"),
          (troop_clear_inventory, "trp_random_town_sequence"),
          (try_for_range, ":var1", 0, 10),
            (troop_set_inventory_slot, "trp_random_town_sequence", ":var1", -1),
          (try_end),
          (store_troop_gold, ":var2", "trp_random_town_sequence"),
          (troop_remove_gold, "trp_random_town_sequence", ":var2"),
          (jump_to_menu, "mnu_dplmc_choose_disguise"),
        (else_try),
          (faction_get_slot, ":var3", "$g_encountered_party_faction", 30),
          (party_get_num_companions, ":var4", "p_main_party"),
          (party_get_num_prisoners, ":var5", "p_main_party"),
          (val_add, ":var4", ":var5"),
          (val_mul, ":var4", 2),
          (val_div, ":var4", 3),
          (store_add, ":var6", ":var3", ":var4"),
          (store_random_in_range, ":var7", 0, 100),
          (try_begin),
            (troop_slot_eq, "trp_player", 226, 5),
            (store_skill_level, ":var8", "skl_magic_control", "trp_player"),
            (store_mul, ":var9", ":var8", 5),
            (val_add, ":var7", ":var9"),
          (try_end),
          (try_begin),
            (this_or_next|eq, "$cheat_mode", 1),
            (this_or_next|eq, "$disguised", 1),
            (this_or_next|ge, ":var7", ":var6"),
            (eq, "$g_last_defeated_bandits_town", "$g_encountered_party"),
            (assign, "$g_last_defeated_bandits_town", 0),
            (assign, "$town_entered", 1),
            (jump_to_menu, "mnu_sneak_into_town_suceeded"),
            (assign, "$g_mt_mode", 1),
          (else_try),
            (jump_to_menu, "mnu_sneak_into_town_caught"),
          (try_end),
        (try_end),
      ]
      ),

      ("dplmc_riot_start_siege",
      [
        (party_slot_eq, "$g_encountered_party", 54, -1),
        (party_slot_eq, "$g_encountered_party", 39, "trp_peasant_woman"),
        (lt, "$g_encountered_party_2", 1),
        (call_script, "script_party_count_fit_for_battle", "p_main_party"),
        (gt, reg0, 5),
        (try_begin),
          (party_slot_eq, "$g_encountered_party", 0, 3),
          (assign, reg6, 1),
        (else_try),
          (assign, reg6, 0),
        (try_end),
      ],
      "Besiege_the_{reg6?town:castle}_to_counter_the_insurgency.",
      [
        (assign, "$g_player_besiege_town", "$g_encountered_party"),
        (jump_to_menu, "mnu_castle_besiege"),
      ]
      ),

      ("dplmc_riot_negotiate",
      [
        (party_slot_eq, "$g_encountered_party", 54, -1),
        (party_slot_eq, "$g_encountered_party", 39, "trp_peasant_woman"),
        (lt, "$g_encountered_party_2", 1),
        (call_script, "script_party_count_fit_for_battle", "p_main_party"),
        (gt, reg0, 5),
        (try_begin),
          (party_slot_eq, "$g_encountered_party", 0, 3),
          (assign, reg6, 1),
        (else_try),
          (assign, reg6, 0),
        (try_end),
      ],
      "Begin_negotiations.",
      [
        (jump_to_menu, "mnu_dplmc_riot_negotiate"),
      ]
      ),

      ("castle_start_siege",
      [
        (neg|party_slot_eq, "$g_encountered_party", 39, "trp_peasant_woman"),
        (this_or_next|party_slot_eq, "$g_encountered_party", 54, -1),
        (party_slot_eq, "$g_encountered_party", 54, "p_main_party"),
        (store_relation, ":var0", "$g_encountered_party_faction", "fac_player_supporters_faction"),
        (lt, ":var0", 0),
        (lt, "$g_encountered_party_2", 1),
        (call_script, "script_party_count_fit_for_battle", "p_main_party"),
        (gt, reg0, 5),
        (try_begin),
          (party_slot_eq, "$g_encountered_party", 0, 3),
          (assign, reg6, 1),
        (else_try),
          (assign, reg6, 0),
        (try_end),
      ],
      "Besiege_the_{reg6?town:castle}.",
      [
        (assign, "$g_player_besiege_town", "$g_encountered_party"),
        (store_relation, ":var0", "fac_player_supporters_faction", "$g_encountered_party_faction"),
        (val_min, ":var0", -40),
        (call_script, "script_set_player_relation_with_faction", "$g_encountered_party_faction", ":var0"),
        (call_script, "script_update_all_notes"),
        (jump_to_menu, "mnu_castle_besiege"),
      ]
      ),

      ("cheat_castle_start_siege",
      [
        (eq, "$cheat_mode", 1),
        (this_or_next|party_slot_eq, "$g_encountered_party", 54, -1),
        (party_slot_eq, "$g_encountered_party", 54, "p_main_party"),
        (store_relation, ":var0", "$g_encountered_party_faction", "fac_player_supporters_faction"),
        (ge, ":var0", 0),
        (lt, "$g_encountered_party_2", 1),
        (call_script, "script_party_count_fit_for_battle", "p_main_party"),
        (gt, reg0, 1),
        (try_begin),
          (party_slot_eq, "$g_encountered_party", 0, 3),
          (assign, reg6, 1),
        (else_try),
          (assign, reg6, 0),
        (try_end),
      ],
      "{!}CHEAT:_Besiege_the_{reg6?town:castle}...",
      [
        (assign, "$g_player_besiege_town", "$g_encountered_party"),
        (jump_to_menu, "mnu_castle_besiege"),
      ]
      ),

      ("castle_leave",
      [],
      "Leave.",
      [
        (change_screen_return, 0),
      ]
      ),

      ("castle_cheat",
      [
        (eq, "$cheat_mode", 1),
      ],
      "{!}Use_Cheats",
      [
        (assign, "$town_entered", 1),
        (jump_to_menu, "mnu_town_cheats"),
      ]
      ),
    ],
  ),

  ("castle_guard", mnf_scale_picture,
    "You approach the gate. The men on the walls watch you closely.",
    "none",
    [
      (call_script, "script_set_town_picture"),
    ],
    [
      ("request_shelter",
      [
        (party_slot_eq, "$g_encountered_party", 0, 2),
        (ge, "$g_encountered_party_relation", 0),
      ],
      "Request_entry_to_the_castle.",
      [
        (party_get_slot, ":var0", "$g_encountered_party", 7),
        (try_begin),
          (lt, ":var0", 0),
          (jump_to_menu, "mnu_castle_entry_granted"),
        (else_try),
          (call_script, "script_troop_get_player_relation", ":var0"),
          (assign, ":var1", reg0),
          (try_begin),
            (gt, ":var1", -15),
            (jump_to_menu, "mnu_castle_entry_granted"),
          (else_try),
            (jump_to_menu, "mnu_castle_entry_denied"),
          (try_end),
        (try_end),
      ]
      ),

      ("request_meeting_commander",
      [],
      "Request_a_meeting_with_someone.",
      [
        (jump_to_menu, "mnu_castle_meeting"),
      ]
      ),

      ("guard_leave",
      [],
      "Leave.",
      [
        (change_screen_return, 0),
      ]
      ),
    ],
  ),

  ("castle_entry_granted", mnf_scale_picture,
    "After a brief wait, the guards open the gates for you and allow your party inside.",
    "none",
    [
      (call_script, "script_set_town_picture"),
    ],
    [
      ("continue",
      [],
      "Continue...",
      [
        (jump_to_menu, "mnu_town"),
      ]
      ),
    ],
  ),

  ("castle_entry_denied", mnf_scale_picture,
    "The lord of this castle has forbidden you from coming inside these walls, and the guard sergeant informs you that his men will fire if you attempt to come any closer.",
    "none",
    [
      (call_script, "script_set_town_picture"),
    ],
    [
      ("continue",
      [],
      "Continue...",
      [
        (jump_to_menu, "mnu_castle_guard"),
      ]
      ),
    ],
  ),

  ("castle_meeting", mnf_scale_picture,
    "With whom do you want to meet?",
    "none",
    [
      (assign, "$num_castle_meeting_troops", 0),
      (try_for_range, ":var0", "trp_npc1", "trp_knight_1_1_wife"),
        (troop_slot_eq, ":var0", 2, 2),
        (call_script, "script_get_troop_attached_party", ":var0"),
        (eq, "$g_encountered_party", reg0),
        (troop_set_slot, "trp_temp_array_a", "$num_castle_meeting_troops", ":var0"),
        (val_add, "$num_castle_meeting_troops", 1),
      (try_end),
      (call_script, "script_set_town_picture"),
    ],
    [
      ("guard_meet_s5",
      [
        (gt, "$num_castle_meeting_troops", 0),
        (troop_get_slot, ":var0", "trp_temp_array_a", 0),
        (str_store_troop_name, s5, ":var0"),
      ],
      "{s5}.",
      [
        (troop_get_slot, "$castle_meeting_selected_troop", "trp_temp_array_a", 0),
        (jump_to_menu, "mnu_castle_meeting_selected"),
      ]
      ),

      ("guard_meet_s5",
      [
        (gt, "$num_castle_meeting_troops", 1),
        (troop_get_slot, ":var0", "trp_temp_array_a", 1),
        (str_store_troop_name, s5, ":var0"),
      ],
      "{s5}.",
      [
        (troop_get_slot, "$castle_meeting_selected_troop", "trp_temp_array_a", 1),
        (jump_to_menu, "mnu_castle_meeting_selected"),
      ]
      ),

      ("guard_meet_s5",
      [
        (gt, "$num_castle_meeting_troops", 2),
        (troop_get_slot, ":var0", "trp_temp_array_a", 2),
        (str_store_troop_name, s5, ":var0"),
      ],
      "{s5}.",
      [
        (troop_get_slot, "$castle_meeting_selected_troop", "trp_temp_array_a", 2),
        (jump_to_menu, "mnu_castle_meeting_selected"),
      ]
      ),

      ("guard_meet_s5",
      [
        (gt, "$num_castle_meeting_troops", 3),
        (troop_get_slot, ":var0", "trp_temp_array_a", 3),
        (str_store_troop_name, s5, ":var0"),
      ],
      "{s5}.",
      [
        (troop_get_slot, "$castle_meeting_selected_troop", "trp_temp_array_a", 3),
        (jump_to_menu, "mnu_castle_meeting_selected"),
      ]
      ),

      ("guard_meet_s5",
      [
        (gt, "$num_castle_meeting_troops", 4),
        (troop_get_slot, ":var0", "trp_temp_array_a", 4),
        (str_store_troop_name, s5, ":var0"),
      ],
      "{s5}.",
      [
        (troop_get_slot, "$castle_meeting_selected_troop", "trp_temp_array_a", 4),
        (jump_to_menu, "mnu_castle_meeting_selected"),
      ]
      ),

      ("guard_meet_s5",
      [
        (gt, "$num_castle_meeting_troops", 5),
        (troop_get_slot, ":var0", "trp_temp_array_a", 5),
        (str_store_troop_name, s5, ":var0"),
      ],
      "{s5}.",
      [
        (troop_get_slot, "$castle_meeting_selected_troop", "trp_temp_array_a", 5),
        (jump_to_menu, "mnu_castle_meeting_selected"),
      ]
      ),

      ("guard_meet_s5",
      [
        (gt, "$num_castle_meeting_troops", 6),
        (troop_get_slot, ":var0", "trp_temp_array_a", 6),
        (str_store_troop_name, s5, ":var0"),
      ],
      "{s5}.",
      [
        (troop_get_slot, "$castle_meeting_selected_troop", "trp_temp_array_a", 6),
        (jump_to_menu, "mnu_castle_meeting_selected"),
      ]
      ),

      ("guard_meet_s5",
      [
        (gt, "$num_castle_meeting_troops", 7),
        (troop_get_slot, ":var0", "trp_temp_array_a", 7),
        (str_store_troop_name, s5, ":var0"),
      ],
      "{s5}.",
      [
        (troop_get_slot, "$castle_meeting_selected_troop", "trp_temp_array_a", 7),
        (jump_to_menu, "mnu_castle_meeting_selected"),
      ]
      ),

      ("guard_meet_s5",
      [
        (gt, "$num_castle_meeting_troops", 8),
        (troop_get_slot, ":var0", "trp_temp_array_a", 8),
        (str_store_troop_name, s5, ":var0"),
      ],
      "{s5}.",
      [
        (troop_get_slot, "$castle_meeting_selected_troop", "trp_temp_array_a", 8),
        (jump_to_menu, "mnu_castle_meeting_selected"),
      ]
      ),

      ("guard_meet_s5",
      [
        (gt, "$num_castle_meeting_troops", 9),
        (troop_get_slot, ":var0", "trp_temp_array_a", 9),
        (str_store_troop_name, s5, ":var0"),
      ],
      "{s5}.",
      [
        (troop_get_slot, "$castle_meeting_selected_troop", "trp_temp_array_a", 9),
        (jump_to_menu, "mnu_castle_meeting_selected"),
      ]
      ),

      ("forget_it",
      [],
      "Forget_it.",
      [
        (jump_to_menu, "mnu_castle_guard"),
      ]
      ),
    ],
  ),

  ("castle_meeting_selected", 0,
    "Your request for a meeting is relayed inside, and finally {s6} appears in the courtyard to speak with you.",
    "none",
    [
      (try_begin),
        (eq, "$g_leave_encounter", 1),
        (change_screen_return),
      (try_end),
      (str_store_troop_name, s6, "$castle_meeting_selected_troop"),
    ],
    [
      ("continue",
      [],
      "Continue...",
      [
        (jump_to_menu, "mnu_castle_outside"),
        (call_script, "script_start_courtyard_conversation", "$castle_meeting_selected_troop", "$current_town"),
      ]
      ),
    ],
  ),

  ("castle_besiege", mnf_enable_hot_keys|mnf_scale_picture,
    "You are laying siege to {s1}. {s2} {s3} {s4}",
    "none",
    [
      (str_clear, s4),
      (try_begin),
        (eq, "$character_gender", 1),
        (set_background_mesh, "mesh_pic_siege_sighted_fem"),
      (else_try),
        (set_background_mesh, "mesh_pic_siege_sighted"),
      (try_end),
      (assign, "$g_siege_force_wait", 0),
      (try_begin),
        (party_slot_eq, "$g_encountered_party", 54, -1),
        (party_set_slot, "$g_encountered_party", 54, "p_main_party"),
        (store_current_hours, ":var0"),
        (party_set_slot, "$g_encountered_party", 64, ":var0"),
        (assign, "$g_siege_method", 0),
        (assign, "$g_siege_sallied_out_once", 0),
        (assign, "$last_sneak_attempt_town", "$g_encountered_party"),
        (assign, "$last_sneak_attempt_time", ":var0"),
      (try_end),
      (party_get_slot, ":var1", "$g_encountered_party", 53),
      (call_script, "script_center_get_food_consumption", "$g_encountered_party"),
      (assign, ":var2", reg0),
      (assign, reg7, ":var2"),
      (assign, reg8, ":var1"),
      (store_div, reg3, ":var1", ":var2"),
      (try_begin),
        (party_slot_eq, "$g_encountered_party", 0, 3),
        (assign, reg6, 1),
      (else_try),
        (assign, reg6, 0),
      (try_end),
      (try_begin),
        (gt, reg3, 0),
        (str_store_string, s2, "@The {reg6?town's:castle's} food stores should last for {reg3} more days."),
      (else_try),
        (str_store_string, s2, "@The {reg6?town's:castle's} food stores have run out and the defenders are starving."),
      (try_end),
      (str_store_string, s3, "str_empty_string"),
      (try_begin),
        (ge, "$g_siege_method", 1),
        (store_current_hours, ":var0"),
        (try_begin),
          (lt, ":var0", "$g_siege_method_finish_hours"),
          (store_sub, reg9, "$g_siege_method_finish_hours", ":var0"),
          (try_begin),
            (eq, "$g_siege_method", 1),
            (str_store_string, s3, "@You're preparing to attack the walls, the work should finish in {reg9} hours."),
          (else_try),
            (eq, "$g_siege_method", 2),
            (str_store_string, s3, "@Your forces are building a siege tower. They estimate another {reg9} hours to complete construction."),
          (try_end),
        (else_try),
          (try_begin),
            (eq, "$g_siege_method", 1),
            (str_store_string, s3, "@You are ready to attack the walls at any time."),
          (else_try),
            (eq, "$g_siege_method", 2),
            (str_store_string, s3, "@The siege tower is built and ready to make an assault."),
          (try_end),
        (try_end),
      (try_end),
      (try_begin),
        (eq, "$g_castle_left_to_player", 1),
        (assign, "$g_castle_left_to_player", 0),
        (store_faction_of_party, ":var3", "$g_encountered_party"),
        (party_set_faction, "$g_encountered_party", "fac_neutral"),
        (party_get_num_attached_parties, ":var4", "$g_encountered_party"),
        (try_for_range_backwards, ":var5", 0, ":var4"),
          (party_get_attached_party_with_rank, ":var6", "$g_encountered_party", ":var5"),
          (party_detach, ":var6"),
          (party_get_slot, ":var7", ":var6", 0),
          (eq, ":var7", 13),
          (store_faction_of_party, ":var8", ":var6"),
          (call_script, "script_get_closest_walled_center_of_faction", ":var6", ":var8"),
          (try_begin),
            (gt, reg0, 0),
            (call_script, "script_party_set_ai_state", ":var6", 7, reg0),
          (else_try),
            (call_script, "script_party_set_ai_state", ":var6", 4, "$g_encountered_party"),
          (try_end),
        (try_end),
        (call_script, "script_party_remove_all_companions", "$g_encountered_party"),
        (change_screen_return),
        (party_collect_attachments_to_party, "$g_encountered_party", "p_collective_enemy"),
        (call_script, "script_party_copy", "p_encountered_party_backup", "p_collective_enemy"),
        (party_set_faction, "$g_encountered_party", ":var3"),
      (try_end),
      (assign, "$g_enemy_party", "$g_encountered_party"),
      (assign, "$g_ally_party", -1),
      (str_store_party_name, s1, "$g_encountered_party"),
      (call_script, "script_encounter_calculate_fit"),
      (assign, reg11, "$g_enemy_fit_for_battle"),
      (assign, reg10, "$g_friend_fit_for_battle"),
      (try_begin),
        (eq, "$g_leave_encounter", 1),
        (change_screen_return),
      (else_try),
        (party_slot_eq, "$g_encountered_party", 39, "trp_peasant_woman"),
        (call_script, "script_party_count_fit_regulars", "p_collective_enemy"),
        (assign, ":var9", 0),
        (try_begin),
          (eq, "$g_battle_result", 1),
          (assign, ":var9", 1),
        (else_try),
          (le, "$g_enemy_fit_for_battle", 0),
          (ge, "$g_friend_fit_for_battle", 1),
          (assign, ":var9", 1),
        (try_end),
        (this_or_next|eq, ":var9", 1),
        (eq, "$g_enemy_surrenders", 1),
        (assign, "$g_next_menu", "mnu_dplmc_town_riot_removed"),
        (jump_to_menu, "mnu_total_victory"),
      (else_try),
        (call_script, "script_party_count_fit_regulars", "p_collective_enemy"),
        (assign, ":var9", 0),
        (try_begin),
          (eq, "$g_battle_result", 1),
          (assign, ":var9", 1),
        (else_try),
          (le, "$g_enemy_fit_for_battle", 0),
          (ge, "$g_friend_fit_for_battle", 1),
          (assign, ":var9", 1),
        (try_end),
        (this_or_next|eq, ":var9", 1),
        (eq, "$g_enemy_surrenders", 1),
        (assign, "$g_next_menu", "mnu_castle_taken"),
        (jump_to_menu, "mnu_total_victory"),
      (else_try),
        (call_script, "script_party_count_members_with_full_health", "p_main_party"),
        (assign, ":var10", reg0),
        (eq, "$g_battle_result", -1),
        (eq, ":var10", 0),
        (assign, "$g_next_menu", "mnu_captivity_start_castle_defeat"),
        (jump_to_menu, "mnu_total_defeat"),
      (try_end),
      (try_begin),
        (party_slot_eq, "p_main_party", 47, 1),
        (str_store_string, s4, "@{s4}^^The troops you selected are ready to join you in battle."),
      (else_try),
        (str_store_string, s4, "@{s4}^^Your captains will deal with troop assignments."),
      (try_end),
      (try_begin),
        (party_slot_eq, "p_main_party", 231, 1),
        (str_store_string, s4, "@{s4}^^Your orders have been sent to your captains."),
      (else_try),
        (str_store_string, s4, "@{s4}^^There is no tactical plan in place."),
      (try_end),
    ],
    [
      ("siege_request_meeting",
      [
        (eq, "$cant_talk_to_enemy", 0),
      ],
      "Call_for_a_meeting_with_the_castle_commander.",
      [
        (assign, "$cant_talk_to_enemy", 1),
        (assign, "$g_enemy_surrenders", 0),
        (assign, "$g_castle_left_to_player", 0),
        (assign, "$talk_context", 7),
        (party_get_num_attached_parties, ":var0", "$g_encountered_party"),
        (try_begin),
          (gt, ":var0", 0),
          (party_get_attached_party_with_rank, ":var1", "$g_encountered_party", 0),
          (party_stack_get_troop_id, ":var2", ":var1", 0),
        (else_try),
          (party_stack_get_troop_id, ":var2", "$g_encountered_party", 0),
        (try_end),
        (call_script, "script_start_courtyard_conversation", ":var2", "$g_encountered_party"),
      ]
      ),

      ("wait_24_hours",
      [],
      "Wait_until_tomorrow.",
      [
        (assign, "$auto_besiege_town", "$g_encountered_party"),
        (assign, "$g_siege_force_wait", 1),
        (store_time_of_day, ":var0"),
        (val_add, ":var0", 1),
        (assign, ":var1", 31),
        (val_sub, ":var1", ":var0"),
        (val_mod, ":var1", 24),
        (val_add, ":var1", 1),
        (rest_for_hours_interactive, ":var1", "$g_warsword_wait_multiplier", 1),
        (assign, "$cant_talk_to_enemy", 0),
        (change_screen_return),
      ]
      ),

      ("deployment",
      [
        (neg|troop_is_wounded, "trp_player"),
        (ge, "$g_siege_method", 1),
        (gt, "$g_friend_fit_for_battle", 3),
        (store_current_hours, ":var0"),
        (ge, ":var0", "$g_siege_method_finish_hours"),
        (party_slot_eq, "p_main_party", 231, 0),
        (party_get_skill_level, ":var1", "p_main_party", 15),
        (ge, ":var1", 2),
        (call_script, "script_party_count_fit_for_battle", "p_collective_friends"),
        (assign, ":var2", reg0),
        (call_script, "script_party_count_fit_for_battle", "p_collective_enemy"),
        (assign, ":var3", reg0),
        (store_add, ":var4", ":var2", ":var3"),
        (party_get_slot, ":var5", "p_main_party", 48),
        (gt, ":var4", ":var5"),
      ],
      "Choose_who_will_join_you_in_battle.",
      [
        (assign, "$g_next_menu", "mnu_castle_besiege"),
        (start_presentation, "prsnt_prebattle_custom_deployment"),
      ]
      ),

      ("orders",
      [
        (neg|troop_is_wounded, "trp_player"),
        (ge, "$g_siege_method", 1),
        (gt, "$g_friend_fit_for_battle", 3),
        (store_current_hours, ":var0"),
        (ge, ":var0", "$g_siege_method_finish_hours"),
        (party_slot_eq, "p_main_party", 231, 0),
        (party_get_skill_level, ":var1", "p_main_party", 15),
        (ge, ":var1", 2),
      ],
      "Plan_your_battle_with_the_enemy.",
      [
        (assign, "$g_next_menu", "mnu_castle_besiege"),
        (start_presentation, "prsnt_prebattle_orders"),
      ]
      ),

      ("do_orders",
      [
        (party_slot_eq, "p_main_party", 231, 1),
      ],
      "Enough_planning._To_battle!",
      [
        (party_set_slot, "p_main_party", 231, 0),
        (try_begin),
          (party_slot_eq, "$g_encountered_party", 0, 3),
          (party_get_slot, ":var0", "$g_encountered_party", 18),
        (else_try),
          (party_get_slot, ":var0", "$g_encountered_party", 10),
        (try_end),
        (call_script, "script_calculate_renown_value"),
        (call_script, "script_calculate_battle_advantage"),
        (assign, ":var1", reg0),
        (val_mul, ":var1", 2),
        (val_div, ":var1", 3),
        (set_battle_advantage, ":var1"),
        (set_party_battle_mode),
        (assign, "$g_siege_battle_state", 1),
        (assign, ":var2", 0),
        (call_script, "script_party_get_archer_percentages"),
        (assign, ":var3", reg7),
        (try_begin),
          (le, ":var1", -3),
          (set_jump_mission, "mt_castle_attack_walls_defenders_sally"),
          (assign, "$g_siege_battle_state", 0),
          (assign, ":var2", 1),
        (else_try),
          (le, ":var1", 2),
          (ge, ":var3", 70),
          (set_jump_mission, "mt_castle_attack_walls_defenders_sally"),
          (assign, "$g_siege_battle_state", 0),
          (assign, ":var2", 1),
        (else_try),
          (party_slot_eq, "$current_town", 27, 1),
          (set_jump_mission, "mt_castle_attack_walls_belfry"),
        (else_try),
          (set_jump_mission, "mt_castle_attack_walls_ladder"),
        (try_end),
        (assign, "$cant_talk_to_enemy", 0),
        (assign, "$g_siege_final_menu", "mnu_castle_besiege"),
        (assign, "$g_next_menu", "mnu_castle_besiege_inner_battle"),
        (assign, "$g_siege_method", 0),
        (jump_to_scene, ":var0"),
        (try_begin),
          (eq, ":var2", 1),
          (jump_to_menu, "mnu_siege_attack_meets_sally"),
        (else_try),
          (jump_to_menu, "mnu_battle_debrief"),
          (change_screen_mission),
        (try_end),
      ]
      ),

      ("clear_orders",
      [
        (this_or_next|party_slot_eq, "p_main_party", 47, 1),
        (party_slot_eq, "p_main_party", 231, 1),
      ],
      "Re-assess_the_situation.",
      [
        (try_begin),
          (party_slot_eq, "p_main_party", 47, 1),
          (party_set_slot, "p_main_party", 47, 0),
        (try_end),
        (try_begin),
          (party_slot_eq, "p_main_party", 231, 1),
          (party_set_slot, "p_main_party", 231, 0),
          (party_set_slot, "p_main_party", 232, 0),
        (try_end),
        (jump_to_menu, "mnu_castle_besiege"),
      ]
      ),

      ("castle_lead_attack",
      [
        (neg|troop_is_wounded, "trp_player"),
        (ge, "$g_siege_method", 1),
        (gt, "$g_friend_fit_for_battle", 3),
        (store_current_hours, ":var0"),
        (ge, ":var0", "$g_siege_method_finish_hours"),
        (party_slot_eq, "p_main_party", 231, 0),
      ],
      "Lead_your_soldiers_in_an_assault.",
      [
        (try_begin),
          (party_slot_eq, "p_main_party", 231, 1),
          (party_set_slot, "p_main_party", 231, 0),
        (try_end),
        (try_begin),
          (party_slot_eq, "$g_encountered_party", 0, 3),
          (party_get_slot, ":var0", "$g_encountered_party", 18),
        (else_try),
          (party_get_slot, ":var0", "$g_encountered_party", 10),
        (try_end),
        (call_script, "script_calculate_renown_value"),
        (call_script, "script_calculate_battle_advantage"),
        (assign, ":var1", reg0),
        (val_mul, ":var1", 2),
        (val_div, ":var1", 3),
        (set_battle_advantage, ":var1"),
        (set_party_battle_mode),
        (assign, "$g_siege_battle_state", 1),
        (assign, ":var2", 0),
        (call_script, "script_party_get_archer_percentages"),
        (assign, ":var3", reg7),
        (try_begin),
          (le, ":var1", -3),
          (set_jump_mission, "mt_castle_attack_walls_defenders_sally"),
          (assign, "$g_siege_battle_state", 0),
          (assign, ":var2", 1),
        (else_try),
          (le, ":var1", 2),
          (ge, ":var3", 70),
          (set_jump_mission, "mt_castle_attack_walls_defenders_sally"),
          (assign, "$g_siege_battle_state", 0),
          (assign, ":var2", 1),
        (else_try),
          (party_slot_eq, "$current_town", 27, 1),
          (set_jump_mission, "mt_castle_attack_walls_belfry"),
        (else_try),
          (set_jump_mission, "mt_castle_attack_walls_ladder"),
        (try_end),
        (assign, "$cant_talk_to_enemy", 0),
        (assign, "$g_siege_final_menu", "mnu_castle_besiege"),
        (assign, "$g_next_menu", "mnu_castle_besiege_inner_battle"),
        (assign, "$g_siege_method", 0),
        (jump_to_scene, ":var0"),
        (try_begin),
          (eq, ":var2", 1),
          (jump_to_menu, "mnu_siege_attack_meets_sally"),
        (else_try),
          (jump_to_menu, "mnu_battle_debrief"),
          (change_screen_mission),
        (try_end),
      ]
      ),

      ("attack_stay_back",
      [
        (ge, "$g_siege_method", 1),
        (gt, "$g_friend_fit_for_battle", 3),
        (store_current_hours, ":var0"),
        (ge, ":var0", "$g_siege_method_finish_hours"),
        (party_slot_eq, "p_main_party", 231, 0),
      ],
      "Order_your_soldiers_to_attack_while_you_stay_back...",
      [
        (assign, "$cant_talk_to_enemy", 0),
        (jump_to_menu, "mnu_castle_attack_walls_simulate"),
      ]
      ),

      ("build_ladders",
      [
        (party_slot_eq, "$current_town", 27, 0),
        (eq, "$g_siege_method", 0),
        (party_slot_eq, "p_main_party", 231, 0),
      ],
      "Prepare_ladders_to_attack_the_walls.",
      [
        (jump_to_menu, "mnu_construct_ladders"),
      ]
      ),

      ("build_siege_tower",
      [
        (party_slot_eq, "$current_town", 27, 1),
        (eq, "$g_siege_method", 0),
        (party_slot_eq, "p_main_party", 231, 0),
      ],
      "Build_a_siege_tower.",
      [
        (jump_to_menu, "mnu_construct_siege_tower"),
      ]
      ),

      ("cheat_castle_lead_attack",
      [
        (eq, "$cheat_mode", 1),
        (eq, "$g_siege_method", 0),
        (party_slot_eq, "p_main_party", 231, 0),
      ],
      "{!}CHEAT:_Instant_build_equipments.",
      [
        (assign, "$g_siege_method", 1),
        (assign, "$g_siege_method_finish_hours", 0),
        (jump_to_menu, "mnu_castle_besiege"),
      ]
      ),

      ("cheat_conquer_castle",
      [
        (eq, "$cheat_mode", 1),
        (party_slot_eq, "p_main_party", 231, 0),
      ],
      "{!}CHEAT:_Instant_conquer_castle.",
      [
        (assign, "$g_next_menu", "mnu_castle_taken"),
        (jump_to_menu, "mnu_total_victory"),
      ]
      ),

      ("lift_siege",
      [
        (party_slot_eq, "p_main_party", 231, 0),
      ],
      "Abandon_the_siege.",
      [
        (call_script, "script_lift_siege", "$g_player_besiege_town", 0),
        (assign, "$g_player_besiege_town", -1),
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("siege_attack_meets_sally", mnf_scale_picture,
    "The defenders sally out to meet your assault.",
    "none",
    [
      (set_background_mesh, "mesh_pic_sally_out"),
    ],
    [
      ("continue",
      [],
      "Continue...",
      [
        (jump_to_menu, "mnu_battle_debrief"),
        (change_screen_mission),
      ]
      ),
    ],
  ),

  ("castle_besiege_inner_battle", mnf_scale_picture,
    "{s1}",
    "none",
    [
      (try_begin),
        (eq, "$character_gender", 1),
        (set_background_mesh, "mesh_pic_siege_sighted_fem"),
      (else_try),
        (set_background_mesh, "mesh_pic_siege_sighted"),
      (try_end),
      (assign, ":var0", "$g_battle_result"),
      (call_script, "script_encounter_calculate_fit"),
      (str_store_string, s1, "@As a last defensive effort, you retreat to the main hall of the keep. You and your remaining soldiers will put up a desperate fight here. If you are defeated, there's no other place to fall back to."),
      (str_store_string, s1, "@You've been driven away from the walls. Now the attackers are pouring into the streets. IF you can defeat them, you can perhaps turn the tide and save the day."),
      (try_begin),
        (this_or_next|neq, ":var0", 1),
        (this_or_next|le, "$g_friend_fit_for_battle", 0),
        (le, "$g_enemy_fit_for_battle", 0),
        (jump_to_menu, "$g_siege_final_menu"),
      (else_try),
        (call_script, "script_encounter_calculate_fit"),
        (party_slot_eq, "$g_encountered_party", 0, 3),
        (try_begin),
          (eq, "$g_siege_battle_state", 0),
          (eq, ":var0", 1),
          (assign, "$g_battle_result", 0),
          (jump_to_menu, "$g_siege_final_menu"),
        (else_try),
          (eq, "$g_siege_battle_state", 1),
          (eq, ":var0", 1),
          (str_store_string, s1, "@You've breached the town walls, but the stubborn defenders continue to resist you in the streets! You'll have to deal with them before you can attack the keep at the heart of the town."),
        (else_try),
          (eq, "$g_siege_battle_state", 2),
          (eq, ":var0", 1),
          (str_store_string, s1, "@The town centre is yours, but the remaining defenders have retreated to the castle. It must fall before you can complete your victory."),
        (else_try),
          (jump_to_menu, "$g_siege_final_menu"),
        (try_end),
      (else_try),
        (try_begin),
          (eq, "$g_siege_battle_state", 0),
          (eq, ":var0", 1),
          (assign, "$g_battle_result", 0),
          (jump_to_menu, "$g_siege_final_menu"),
        (else_try),
          (eq, "$g_siege_battle_state", 1),
          (eq, ":var0", 1),
          (str_store_string, s1, "@The remaining defenders have retreated to the castle as a last defense. You must go in and crush any remaining resistance."),
        (else_try),
          (jump_to_menu, "$g_siege_final_menu"),
        (try_end),
      (try_end),
    ],
    [
      ("continue",
      [],
      "Continue...",
      [
        (try_begin),
          (party_slot_eq, "$g_encountered_party", 0, 3),
          (try_begin),
            (eq, "$g_siege_battle_state", 1),
            (party_get_slot, ":var0", "$g_encountered_party", 10),
            (set_jump_mission, "mt_besiege_inner_battle_town_center"),
          (else_try),
            (party_get_slot, ":var0", "$g_encountered_party", 11),
            (set_jump_mission, "mt_besiege_inner_battle_castle"),
          (try_end),
        (else_try),
          (party_get_slot, ":var0", "$g_encountered_party", 11),
          (set_jump_mission, "mt_besiege_inner_battle_castle"),
        (try_end),
        (set_party_battle_mode),
        (jump_to_scene, ":var0"),
        (val_add, "$g_siege_battle_state", 1),
        (assign, "$g_next_menu", "mnu_castle_besiege_inner_battle"),
        (jump_to_menu, "mnu_battle_debrief"),
        (change_screen_mission),
      ]
      ),
    ],
  ),

  ("construct_ladders", 0,
    "As the party member with the highest Engineer skill ({reg2}), {reg3?you estimate:{s3} estimates} that it will take {reg4} hours to build enough scaling ladders for the assault.",
    "none",
    [
      (call_script, "script_get_max_skill_of_player_party", "skl_engineer"),
      (assign, ":var0", reg0),
      (assign, ":var1", reg1),
      (assign, reg2, ":var0"),
      (store_sub, reg4, 12, ":var0"),
      (val_mul, reg4, 2),
      (val_div, reg4, 3),
      (try_begin),
        (eq, ":var1", "trp_player"),
        (assign, reg3, 1),
      (else_try),
        (assign, reg3, 0),
        (str_store_troop_name, s3, ":var1"),
      (try_end),
      (set_fixed_point_multiplier, 100),
      (position_set_x, pos0, 70),
      (position_set_y, pos0, 5),
      (position_set_z, pos0, 75),
      (set_game_menu_tableau_mesh, "tableau_troop_note_mesh", ":var1", pos0),
    ],
    [
      ("build_ladders_cont",
      [],
      "Do_it.",
      [
        (assign, "$g_siege_method", 1),
        (store_current_hours, ":var0"),
        (call_script, "script_get_max_skill_of_player_party", "skl_engineer"),
        (store_sub, ":var1", 12, reg0),
        (val_mul, ":var1", 2),
        (val_div, ":var1", 3),
        (store_add, "$g_siege_method_finish_hours", ":var0", ":var1"),
        (assign, "$auto_besiege_town", "$current_town"),
        (rest_for_hours_interactive, 96, "$g_warsword_wait_multiplier", 1),
        (change_screen_return),
      ]
      ),

      ("go_back",
      [],
      "Go_back.",
      [
        (jump_to_menu, "mnu_castle_besiege"),
      ]
      ),
    ],
  ),

  ("construct_siege_tower", 0,
    "As the party member with the highest Engineer skill ({reg2}), {reg3?you estimate:{s3} estimates} that building a siege tower will take {reg4} hours.",
    "none",
    [
      (call_script, "script_get_max_skill_of_player_party", "skl_engineer"),
      (assign, ":var0", reg0),
      (assign, ":var1", reg1),
      (assign, reg2, ":var0"),
      (store_sub, reg4, 12, ":var0"),
      (val_mul, reg4, 6),
      (try_begin),
        (troop_slot_eq, "trp_player", 226, 17),
        (store_skill_level, ":var2", "skl_magic_control", "trp_player"),
        (store_mul, ":var3", ":var2", 5),
        (assign, ":var4", reg4),
        (val_mul, ":var4", ":var3"),
        (val_div, ":var4", 100),
        (val_sub, reg4, ":var4"),
      (try_end),
      (try_begin),
        (eq, ":var1", "trp_player"),
        (assign, reg3, 1),
      (else_try),
        (assign, reg3, 0),
        (str_store_troop_name, s3, ":var1"),
      (try_end),
      (set_fixed_point_multiplier, 100),
      (position_set_x, pos0, 70),
      (position_set_y, pos0, 5),
      (position_set_z, pos0, 75),
      (set_game_menu_tableau_mesh, "tableau_troop_note_mesh", ":var1", pos0),
    ],
    [
      ("build_siege_tower_cont",
      [],
      "Start_building.",
      [
        (assign, "$g_siege_method", 2),
        (store_current_hours, ":var0"),
        (call_script, "script_get_max_skill_of_player_party", "skl_engineer"),
        (store_sub, ":var1", 12, reg0),
        (val_mul, ":var1", 6),
        (try_begin),
          (troop_slot_eq, "trp_player", 226, 17),
          (store_skill_level, ":var2", "skl_magic_control", "trp_player"),
          (store_mul, ":var3", ":var2", 5),
          (assign, ":var4", ":var1"),
          (val_mul, ":var4", ":var3"),
          (val_div, ":var4", 100),
          (val_sub, ":var1", ":var4"),
        (try_end),
        (store_add, "$g_siege_method_finish_hours", ":var0", ":var1"),
        (assign, "$auto_besiege_town", "$current_town"),
        (rest_for_hours_interactive, 240, "$g_warsword_wait_multiplier", 1),
        (change_screen_return),
      ]
      ),

      ("go_back",
      [],
      "Go_back.",
      [
        (jump_to_menu, "mnu_castle_besiege"),
      ]
      ),
    ],
  ),

  ("castle_attack_walls_simulate", mnf_disable_all_keys|mnf_scale_picture,
    "{s4}^^Your casualties:{s8}^^Enemy casualties were: {s9}",
    "none",
    [
      (try_begin),
        (set_background_mesh, "mesh_pic_siege_attack"),
      (try_end),
      (call_script, "script_party_calculate_strength", "p_main_party", 1),
      (assign, ":var0", reg0),
      (val_div, ":var0", 10),
      (call_script, "script_party_calculate_strength", "$g_encountered_party", 0),
      (assign, ":var1", reg0),
      (val_div, ":var1", 4),
      (inflict_casualties_to_party_group, "p_main_party", ":var1", "p_temp_casualties"),
      (call_script, "script_print_casualties_to_s0", "p_temp_casualties", 0),
      (str_store_string_reg, s8, s0),
      (inflict_casualties_to_party_group, "$g_encountered_party", ":var0", "p_temp_casualties"),
      (call_script, "script_print_casualties_to_s0", "p_temp_casualties", 0),
      (str_store_string_reg, s9, s0),
      (assign, "$no_soldiers_left", 0),
      (try_begin),
        (call_script, "script_party_count_members_with_full_health", "p_main_party"),
        (le, reg0, 0),
        (assign, "$no_soldiers_left", 1),
        (str_store_string, s4, "str_attack_walls_failure"),
      (else_try),
        (call_script, "script_party_count_members_with_full_health", "$g_encountered_party"),
        (le, reg0, 0),
        (assign, "$no_soldiers_left", 1),
        (assign, "$g_battle_result", 1),
        (str_store_string, s4, "str_attack_walls_success"),
      (else_try),
        (str_store_string, s4, "str_attack_walls_continue"),
      (try_end),
    ],
    [
      ("continue",
      [],
      "Continue...",
      [
        (jump_to_menu, "mnu_castle_besiege"),
      ]
      ),
    ],
  ),

  ("castle_attack_walls_with_allies_simulate", mnf_disable_all_keys|mnf_scale_picture,
    "{s4}^^Your casualties: {s8}^^Allies' casualties: {s9}^^Enemy casualties: {s10}",
    "none",
    [
      (try_begin),
        (set_background_mesh, "mesh_pic_siege_attack"),
      (try_end),
      (call_script, "script_party_calculate_strength", "p_main_party", 1),
      (assign, ":var0", reg0),
      (val_div, ":var0", 10),
      (call_script, "script_party_calculate_strength", "p_collective_friends", 0),
      (assign, ":var1", reg0),
      (val_div, ":var1", 10),
      (val_max, ":var1", 1),
      (call_script, "script_party_calculate_strength", "p_collective_enemy", 0),
      (assign, ":var2", reg0),
      (val_div, ":var2", 4),
      (try_begin),
        (eq, ":var1", 0),
        (store_div, ":var3", ":var2", 2),
      (else_try),
        (assign, ":var3", ":var2"),
        (val_mul, ":var3", ":var0"),
        (val_div, ":var3", ":var1"),
      (try_end),
      (val_sub, ":var2", ":var3"),
      (inflict_casualties_to_party_group, "p_main_party", ":var3", "p_temp_casualties"),
      (call_script, "script_print_casualties_to_s0", "p_temp_casualties", 0),
      (str_store_string_reg, s8, s0),
      (inflict_casualties_to_party_group, "$g_enemy_party", ":var1", "p_temp_casualties"),
      (call_script, "script_print_casualties_to_s0", "p_temp_casualties", 0),
      (str_store_string_reg, s10, s0),
      (call_script, "script_collect_friendly_parties"),
      (inflict_casualties_to_party_group, "$g_ally_party", ":var2", "p_temp_casualties"),
      (call_script, "script_print_casualties_to_s0", "p_temp_casualties", 0),
      (str_store_string_reg, s9, s0),
      (party_collect_attachments_to_party, "$g_enemy_party", "p_collective_enemy"),
      (assign, "$no_soldiers_left", 0),
      (try_begin),
        (call_script, "script_party_count_members_with_full_health", "p_main_party"),
        (le, reg0, 0),
        (assign, "$no_soldiers_left", 1),
        (str_store_string, s4, "str_attack_walls_failure"),
      (else_try),
        (call_script, "script_party_count_members_with_full_health", "p_collective_enemy"),
        (le, reg0, 0),
        (assign, "$no_soldiers_left", 1),
        (assign, "$g_battle_result", 1),
        (str_store_string, s4, "str_attack_walls_success"),
      (else_try),
        (str_store_string, s4, "str_attack_walls_continue"),
      (try_end),
    ],
    [
      ("continue",
      [],
      "Continue...",
      [
        (jump_to_menu, "mnu_besiegers_camp_with_allies"),
      ]
      ),
    ],
  ),

  ("castle_taken_by_friends", 0,
    "Nothing to see here.",
    "none",
    [
      (party_clear, "$g_encountered_party"),
      (party_stack_get_troop_id, ":var0", "$g_encountered_party_2", 0),
      (party_set_slot, "$g_encountered_party", 28, ":var0"),
      (store_faction_of_troop, ":var1", ":var0"),
      (call_script, "script_change_center_prosperity", "$g_encountered_party", -5),
      (try_begin),
        (assign, ":var2", 20),
        (is_between, "$g_encountered_party", "p_town_1", "p_castle_1"),
        (assign, ":var2", 40),
      (try_end),
      (try_begin),
        (neq, ":var1", "$g_encountered_party_faction"),
        (call_script, "script_faction_inflict_war_damage_on_faction", ":var1", "$g_encountered_party_faction", ":var2"),
      (try_end),
      (call_script, "script_give_center_to_faction", "$g_encountered_party", ":var1"),
      (call_script, "script_add_log_entry", 18, "trp_player", "$g_encountered_party", 0, "$g_encountered_party_faction"),
      (change_screen_return),
    ],
    [
    ],
    [],
  ),

  ("castle_taken", mnf_disable_all_keys,
    "{s3} has fallen to your troops, and you now have full control of the {reg2?town:castle}. You can plunder spoils of war worth {reg3} denars.{reg1? You may station troops here to defend it against enemies who may try to recapture it. Also, you should select now whether you will hold the {reg2?town:castle} yourself or give it to a faithful vassal...:}",
    "none",
    [
      (party_clear, "$g_encountered_party"),
      (try_begin),
        (eq, "$talk_context", 20),
        (assign, "$talk_context", 0),
      (try_end),
      (assign, ":var0", 0),
      (try_begin),
        (is_between, "$players_kingdom", "fac_kingdom_1", "fac_kingdoms_end"),
        (call_script, "script_dplmc_get_troop_standing_in_faction", "trp_player", "$players_kingdom"),
        (ge, reg0, 50),
        (assign, ":var0", 1),
      (try_end),
      (try_begin),
        (this_or_next|eq, ":var0", 1),
        (eq, "$players_kingdom", "fac_player_supporters_faction"),
        (party_get_slot, ":var1", "$g_encountered_party", 7),
        (neq, ":var1", "trp_player"),
        (try_for_range, ":var2", 0, 4),
          (call_script, "script_cf_reinforce_party", "$g_encountered_party"),
        (try_end),
      (try_end),
      (call_script, "script_lift_siege", "$g_encountered_party", 0),
      (assign, "$g_player_besiege_town", -1),
      (party_set_slot, "$g_encountered_party", 28, "trp_player"),
      (store_current_hours, ":var3"),
      (party_set_slot, "$g_encountered_party", 583, ":var3"),
      (try_begin),
        (is_between, "$g_encountered_party", "p_town_1", "p_castle_1"),
        (store_random_in_range, ":var4", 4000, 10000),
      (else_try),
        (store_random_in_range, ":var4", 1000, 8000),
      (try_end),
      (val_div, ":var4", 100),
      (val_mul, ":var4", 100),
      (assign, "$diplomacy_var", ":var4"),
      (call_script, "script_change_troop_renown", "trp_player", 5),
      (assign, ":var5", 20),
      (try_begin),
        (is_between, "$g_encountered_party", "p_town_1", "p_castle_1"),
        (assign, ":var5", 40),
      (try_end),
      (call_script, "script_faction_inflict_war_damage_on_faction", "$players_kingdom", "$g_encountered_party_faction", ":var5"),
      (try_begin),
        (is_between, "$players_kingdom", "fac_player_supporters_faction", "fac_kingdoms_end"),
        (neq, "$players_kingdom", "fac_player_supporters_faction"),
        (call_script, "script_give_center_to_faction", "$g_encountered_party", "$players_kingdom"),
        (call_script, "script_order_best_besieger_party_to_guard_center", "$g_encountered_party", "$players_kingdom"),
        (jump_to_menu, "mnu_castle_taken_2"),
      (else_try),
        (call_script, "script_give_center_to_faction", "$g_encountered_party", "fac_player_supporters_faction"),
        (call_script, "script_order_best_besieger_party_to_guard_center", "$g_encountered_party", "fac_player_supporters_faction"),
        (str_store_party_name, s3, "$g_encountered_party"),
        (assign, reg1, 0),
        (try_begin),
          (faction_slot_eq, "fac_player_supporters_faction", 11, "trp_player"),
          (assign, reg1, 1),
        (try_end),
      (try_end),
      (assign, reg2, 0),
      (try_begin),
        (is_between, "$g_encountered_party", "p_town_1", "p_castle_1"),
        (assign, reg2, 1),
      (try_end),
      (assign, reg3, "$diplomacy_var"),
    ],
    [
      ("dplmc_spoils_yourself",
      [],
      "Plunder_it_and_keep_the_spoils_all_for_yourself.",
      [
        (call_script, "script_change_center_prosperity", "$g_encountered_party", -8),
        (assign, ":var0", 0),
        (try_begin),
          (is_between, "$players_kingdom", "fac_player_supporters_faction", "fac_kingdoms_end"),
          (faction_get_slot, ":var1", "$players_kingdom", 11),
          (ge, ":var1", 0),
          (this_or_next|eq, ":var1", "trp_player"),
          (this_or_next|troop_slot_eq, ":var1", 30, "trp_player"),
          (troop_slot_eq, "trp_player", 30, ":var1"),
          (assign, ":var0", 1),
        (else_try),
          (eq, "$players_kingdom", "fac_player_supporters_faction"),
          (assign, ":var0", 1),
        (try_end),
        (try_for_range, ":var2", "trp_npc1", "trp_heroes_end"),
          (troop_slot_eq, ":var2", 2, 2),
          (store_faction_of_troop, ":var3", ":var2"),
          (this_or_next|eq, "$players_kingdom", ":var3"),
          (eq, "fac_player_supporters_faction", ":var3"),
          (this_or_next|eq, ":var0", 1),
          (eq, "fac_player_supporters_faction", ":var3"),
          (call_script, "script_change_player_relation_with_troop", ":var2", -2),
        (try_end),
        (try_begin),
          (gt, "$g_player_chamberlain", 0),
          (call_script, "script_dplmc_pay_into_treasury", "$diplomacy_var"),
        (else_try),
          (troop_add_gold, "trp_player", "$diplomacy_var"),
        (try_end),
        (call_script, "script_change_player_honor", -3),
        (assign, "$auto_enter_town", "$g_encountered_party"),
        (change_screen_return),
      ]
      ),

      ("dplmc_spoils_accompanying_vassals",
      [
        (is_between, "$players_kingdom", "fac_player_supporters_faction", "fac_kingdoms_end"),
        (faction_get_slot, ":var0", "$players_kingdom", 11),
        (this_or_next|eq, ":var0", "trp_player"),
        (this_or_next|troop_slot_eq, ":var0", 30, "trp_player"),
        (eq, "$players_kingdom", "fac_player_supporters_faction"),
        (assign, ":var1", 0),
        (try_for_range, ":var2", "trp_npc1", "trp_heroes_end"),
          (troop_slot_eq, ":var2", 2, 2),
          (store_faction_of_troop, ":var3", ":var2"),
          (this_or_next|eq, "$players_kingdom", ":var3"),
          (eq, "fac_player_supporters_faction", ":var3"),
          (troop_get_slot, ":var4", ":var2", 10),
          (ge, ":var4", 1),
          (store_distance_to_party_from_party, ":var5", "p_main_party", ":var4"),
          (le, ":var5", 25),
          (val_add, ":var1", 1),
        (try_end),
        (gt, ":var1", 0),
      ],
      "Plunder_it_and_share_the_spoils_equally_between_the_vassals_accompanying_you_and_yourself.",
      [
        (assign, ":var0", 1),
        (try_for_range, ":var1", "trp_npc1", "trp_heroes_end"),
          (troop_slot_eq, ":var1", 2, 2),
          (store_faction_of_troop, ":var2", ":var1"),
          (this_or_next|eq, "$players_kingdom", ":var2"),
          (eq, "fac_player_supporters_faction", ":var2"),
          (troop_get_slot, ":var3", ":var1", 10),
          (ge, ":var3", 1),
          (store_distance_to_party_from_party, ":var4", "p_main_party", ":var3"),
          (le, ":var4", 25),
          (val_add, ":var0", 1),
        (try_end),
        (store_div, ":var5", "$diplomacy_var", ":var0"),
        (try_for_range, ":var1", "trp_npc1", "trp_heroes_end"),
          (troop_slot_eq, ":var1", 2, 2),
          (store_faction_of_troop, ":var2", ":var1"),
          (this_or_next|eq, "$players_kingdom", ":var2"),
          (eq, "fac_player_supporters_faction", ":var2"),
          (troop_get_slot, ":var3", ":var1", 10),
          (ge, ":var3", 1),
          (store_distance_to_party_from_party, ":var4", "p_main_party", ":var3"),
          (le, ":var4", 25),
          (call_script, "script_dplmc_distribute_gold_to_lord_and_holdings", ":var5", ":var1"),
          (store_random_in_range, reg0, 0, 1000),
          (val_add, reg0, ":var5"),
          (val_div, reg0, 1000),
          (gt, reg0, 0),
          (val_min, reg0, 4),
          (assign, ":var6", reg0),
          (try_begin),
            (party_slot_eq, "$g_encountered_party", 0, 3),
            (call_script, "script_dplmc_get_troop_morality_value", ":var1", 3),
            (try_begin),
              (gt, reg0, 0),
              (val_sub, ":var6", reg0),
              (val_min, ":var6", -1),
            (else_try),
              (lt, reg0, 0),
              (val_sub, ":var6", reg0),
              (val_min, ":var6", 5),
            (else_try),
              (this_or_next|troop_slot_eq, ":var1", 53, 10),
              (this_or_next|troop_slot_eq, ":var1", 53, 9),
              (troop_slot_eq, ":var1", 53, 25),
              (val_sub, ":var6", 1),
            (try_end),
          (try_end),
          (call_script, "script_change_player_relation_with_troop", ":var1", ":var6"),
        (try_end),
        (val_div, "$diplomacy_var", ":var0"),
        (try_begin),
          (gt, "$g_player_chamberlain", 0),
          (call_script, "script_dplmc_pay_into_treasury", "$diplomacy_var"),
        (else_try),
          (troop_add_gold, "trp_player", "$diplomacy_var"),
        (try_end),
        (call_script, "script_change_center_prosperity", "$g_encountered_party", -8),
        (call_script, "script_change_player_honor", -1),
        (assign, "$auto_enter_town", "$g_encountered_party"),
        (change_screen_return),
      ]
      ),

      ("dplmc_spoils_all_vassals",
      [
        (is_between, "$players_kingdom", "fac_player_supporters_faction", "fac_kingdoms_end"),
        (faction_get_slot, ":var0", "$players_kingdom", 11),
        (this_or_next|eq, ":var0", "trp_player"),
        (this_or_next|troop_slot_eq, ":var0", 30, "trp_player"),
        (eq, "$players_kingdom", "fac_player_supporters_faction"),
        (assign, ":var1", "trp_heroes_end"),
        (try_for_range, ":var2", "trp_npc1", ":var1"),
          (troop_slot_eq, ":var2", 2, 2),
          (store_faction_of_troop, ":var3", ":var2"),
          (this_or_next|eq, ":var3", "fac_player_supporters_faction"),
          (eq, ":var3", "$players_kingdom"),
          (assign, ":var1", "trp_npc1"),
        (try_end),
        (eq, ":var1", "trp_npc1"),
      ],
      "Plunder_it_and_share_the_spoils_equally_between_your_vassals_and_yourself.",
      [
        (assign, ":var0", 1),
        (try_for_range, ":var1", "trp_npc1", "trp_heroes_end"),
          (troop_slot_eq, ":var1", 2, 2),
          (store_faction_of_troop, ":var2", ":var1"),
          (this_or_next|eq, ":var2", "fac_player_supporters_faction"),
          (eq, ":var2", "$players_kingdom"),
          (val_add, ":var0", 1),
        (try_end),
        (store_div, ":var3", "$diplomacy_var", ":var0"),
        (try_for_range, ":var1", "trp_npc1", "trp_heroes_end"),
          (troop_slot_eq, ":var1", 2, 2),
          (store_faction_of_troop, ":var2", ":var1"),
          (this_or_next|eq, ":var2", "fac_player_supporters_faction"),
          (eq, ":var2", "$players_kingdom"),
          (call_script, "script_dplmc_distribute_gold_to_lord_and_holdings", ":var3", ":var1"),
          (store_random_in_range, reg0, 0, 1000),
          (val_add, reg0, ":var3"),
          (val_div, reg0, 1000),
          (gt, reg0, 0),
          (val_min, reg0, 3),
          (assign, ":var4", reg0),
          (try_begin),
            (party_slot_eq, "$g_encountered_party", 0, 3),
            (call_script, "script_dplmc_get_troop_morality_value", ":var1", 3),
            (try_begin),
              (gt, reg0, 0),
              (val_sub, ":var4", reg0),
              (val_min, ":var4", -1),
            (else_try),
              (lt, reg0, 0),
              (val_sub, ":var4", reg0),
              (val_min, ":var4", 4),
            (else_try),
              (this_or_next|troop_slot_eq, ":var1", 53, 10),
              (this_or_next|troop_slot_eq, ":var1", 53, 9),
              (troop_slot_eq, ":var1", 53, 25),
              (val_sub, ":var4", 1),
            (try_end),
            (call_script, "script_change_player_relation_with_troop", ":var1", ":var4"),
          (try_end),
        (try_end),
        (val_div, "$diplomacy_var", ":var0"),
        (try_begin),
          (gt, "$g_player_chamberlain", 0),
          (call_script, "script_dplmc_pay_into_treasury", "$diplomacy_var"),
        (else_try),
          (troop_add_gold, "trp_player", "$diplomacy_var"),
        (try_end),
        (call_script, "script_change_center_prosperity", "$g_encountered_party", -8),
        (assign, "$auto_enter_town", "$g_encountered_party"),
        (change_screen_return),
      ]
      ),

      ("continue",
      [],
      "Continue...",
      [
        (call_script, "script_change_center_prosperity", "$g_encountered_party", -3),
        (assign, "$auto_enter_town", "$g_encountered_party"),
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("castle_taken_2", mnf_disable_all_keys,
    "{s3} has fallen to your troops, and you now have full control of the castle. It is time to send word to {s9} about your victory. {s5}",
    "none",
    [
      (str_store_party_name, s3, "$g_encountered_party"),
      (str_clear, s5),
      (faction_get_slot, ":var0", "$players_kingdom", 11),
      (str_store_troop_name, s9, ":var0"),
      (try_begin),
        (eq, "$player_has_homage", 0),
        (assign, reg8, 0),
        (try_begin),
          (party_slot_eq, "$g_encountered_party", 0, 3),
          (assign, reg8, 1),
        (try_end),
        (call_script, "script_dplmc_store_troop_is_female", ":var0"),
        (str_store_string, s5, "@However, since you are not a sworn {man/follower} of {s9}, there is no chance {reg0?she:he} would recognize you as the {lord/lady} of this {reg8?town:castle}."),
      (try_end),
    ],
    [
      ("castle_taken_claim",
      [
        (eq, "$player_has_homage", 1),
      ],
      "Request_that_{s3}_be_awarded_to_you.",
      [
        (party_set_slot, "$g_encountered_party", 28, "trp_player"),
        (assign, "$g_castle_requested_by_player", "$current_town"),
        (assign, "$g_castle_requested_for_troop", "trp_player"),
        (assign, "$auto_enter_town", "$g_encountered_party"),
        (change_screen_return),
      ]
      ),

      ("castle_taken_claim_2",
      [
        (troop_get_slot, ":var0", "trp_player", 30),
        (is_between, ":var0", "trp_npc1", "trp_knight_1_1_wife"),
        (troop_slot_eq, ":var0", 2, 2),
        (store_faction_of_troop, ":var1", ":var0"),
        (eq, ":var1", "$players_kingdom"),
      ],
      "Request_that_{s3}_be_awarded_to_your_{wife/husband}.",
      [
        (party_set_slot, "$g_encountered_party", 28, "trp_player"),
        (assign, "$g_castle_requested_by_player", "$current_town"),
        (troop_get_slot, ":var0", "trp_player", 30),
        (assign, "$g_castle_requested_for_troop", ":var0"),
        (assign, "$auto_enter_town", "$g_encountered_party"),
        (change_screen_return),
      ]
      ),

      ("castle_taken_no_claim",
      [],
      "Ask_no_rewards.",
      [
        (party_set_slot, "$g_encountered_party", 28, -1),
        (assign, "$auto_enter_town", "$g_encountered_party"),
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("requested_castle_granted_to_player", mnf_scale_picture,
    "You receive a message from your liege, {s3}.^^ {reg4?She:He} has decided to grant {s2}{reg3? and the nearby village of {s4}:} to you, with all due incomes and titles, to hold in {reg4?her:his} name for as long as you maintain your oath of homage..",
    "none",
    [
      (set_background_mesh, "mesh_pic_messenger"),
      (faction_get_slot, ":var0", "$players_kingdom", 11),
      (str_store_troop_name, s3, ":var0"),
      (str_store_party_name, s2, "$g_center_to_give_to_player"),
      (try_begin),
        (party_slot_eq, "$g_center_to_give_to_player", 0, 2),
        (assign, reg3, 1),
        (try_for_range, ":var1", "p_village_1", "p_salt_mine"),
          (party_slot_eq, ":var1", 120, "$g_center_to_give_to_player"),
          (str_store_party_name, s4, ":var1"),
        (try_end),
      (else_try),
        (assign, reg3, 0),
      (try_end),
      (call_script, "script_dplmc_store_troop_is_female_reg", ":var0", 4),
    ],
    [
      ("continue",
      [],
      "Continue.",
      [
        (call_script, "script_give_center_to_lord", "$g_center_to_give_to_player", "trp_player", 0),
        (jump_to_menu, "mnu_give_center_to_player_2"),
      ]
      ),
    ],
  ),

  ("requested_castle_granted_to_player_husband", mnf_scale_picture,
    "You receive a message from your liege, {s3}.^^ {reg4?She:He} has decided to grant {s2}{reg3? and the nearby village of {s4}:} to your husband, {s7}.",
    "none",
    [
      (set_background_mesh, "mesh_pic_messenger"),
      (faction_get_slot, ":var0", "$players_kingdom", 11),
      (str_store_troop_name, s3, ":var0"),
      (str_store_party_name, s2, "$g_center_to_give_to_player"),
      (try_begin),
        (party_slot_eq, "$g_center_to_give_to_player", 0, 2),
        (assign, reg3, 1),
        (try_for_range, ":var1", "p_village_1", "p_salt_mine"),
          (party_slot_eq, ":var1", 120, "$g_center_to_give_to_player"),
          (str_store_party_name, s4, ":var1"),
        (try_end),
      (else_try),
        (assign, reg3, 0),
      (try_end),
      (call_script, "script_dplmc_store_troop_is_female_reg", ":var0", 4),
      (troop_get_slot, ":var2", "trp_player", 30),
      (str_store_troop_name, s11, ":var2"),
      (str_store_string, s7, "str_to_your_husband_s11"),
    ],
    [
      ("continue",
      [],
      "Continue.",
      [
        (troop_get_slot, ":var0", "trp_player", 30),
        (call_script, "script_give_center_to_lord", "$g_center_to_give_to_player", ":var0", 0),
      ]
      ),
    ],
  ),

  ("requested_castle_granted_to_another", mnf_scale_picture,
    "You receive a message from your monarch, {s3}.^^ 'I was most pleased to hear of your valiant efforts in the capture of {s2}. Your victory has gladdened all our hearts. You also requested me to give you ownership of the castle, but that is a favor which I fear I cannot grant, as you already hold significant estates in my realm. Instead I have sent you {reg6} denars to cover the expenses of your campaign, but {s2} I give to {s5}.' ",
    "none",
    [
      (set_background_mesh, "mesh_pic_messenger"),
      (faction_get_slot, ":var0", "$players_kingdom", 11),
      (str_store_troop_name, s3, ":var0"),
      (str_store_party_name, s2, "$g_center_to_give_to_player"),
      (party_get_slot, ":var1", "$g_center_to_give_to_player", 7),
      (str_store_troop_name, s5, ":var1"),
      (assign, reg6, 900),
      (assign, "$g_castle_requested_by_player", -1),
      (assign, "$g_castle_requested_for_troop", -1),
    ],
    [
      ("accept_decision",
      [],
      "Accept_the_decision.",
      [
        (call_script, "script_troop_add_gold", "trp_player", reg6),
        (faction_get_slot, ":var0", "$players_kingdom", 11),
        (try_begin),
          (gt, ":var0", 0),
          (neq, ":var0", "trp_kingdom_heroes_including_player_begin"),
          (call_script, "script_dplmc_remove_gold_from_lord_and_holdings", reg6, ":var0"),
        (try_end),
        (change_screen_return),
      ]
      ),

      ("leave_faction",
      [],
      "You_have_been_wronged!_Renounce_your_oath_to_your_liege!_",
      [
        (faction_get_slot, ":var0", "$players_kingdom", 11),
        (try_begin),
          (gt, ":var0", 0),
          (neq, ":var0", "trp_kingdom_heroes_including_player_begin"),
          (call_script, "script_dplmc_remove_gold_from_lord_and_holdings", reg6, ":var0"),
        (try_end),
        (jump_to_menu, "mnu_leave_faction"),
        (call_script, "script_troop_add_gold", "trp_player", reg6),
      ]
      ),
    ],
  ),

  ("requested_castle_granted_to_another_female", mnf_scale_picture,
    "You receive a message from your monarch, {s3}.^^ 'I was most pleased to hear of your valiant efforts in the capture of {s2}. Your victory has gladdened all our hearts. You also requested me to give ownership of the castle to your {wife/husband}, but that is a favor which I fear I cannot grant, as {reg33?he:she} already holds significant estates in my realm. Instead I have sent you {reg6} denars to cover the expenses of your campaign, but {s2} I give to {s5}.' ",
    "none",
    [
      (set_background_mesh, "mesh_pic_messenger"),
      (faction_get_slot, ":var0", "$players_kingdom", 11),
      (str_store_troop_name, s3, ":var0"),
      (str_store_party_name, s2, "$g_center_to_give_to_player"),
      (party_get_slot, ":var1", "$g_center_to_give_to_player", 7),
      (str_store_troop_name, s5, ":var1"),
      (assign, reg6, 900),
      (assign, "$g_castle_requested_by_player", -1),
      (assign, "$g_castle_requested_for_troop", -1),
    ],
    [
      ("accept_decision",
      [],
      "Accept_the_decision.",
      [
        (call_script, "script_troop_add_gold", "trp_player", reg6),
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("leave_faction", 0,
    "Renouncing your oath is a grave act. Your lord may condemn you and confiscate your lands and holdings. However, if you return them of your own free will, he may let the betrayal go without a fight.",
    "none",
    [],
    [
      ("leave_faction_give_back",
      [],
      "Renounce_your_oath_and_give_up_your_holdings.",
      [
        (call_script, "script_player_leave_faction", 1),
        (change_screen_return),
      ]
      ),

      ("leave_faction_hold",
      [
        (str_store_party_name, s2, "$g_center_to_give_to_player"),
      ],
      "Renounce_your_oath_and_rule_your_lands,_including_{s2},_in_your_own_name.",
      [
        (call_script, "script_give_center_to_lord", "$g_center_to_give_to_player", "trp_player", 0),
        (call_script, "script_player_leave_faction", 0),
        (call_script, "script_activate_player_faction", "trp_player"),
        (change_screen_return),
      ]
      ),

      ("leave_faction_cancel",
      [],
      "Remain_loyal_and_accept_the_decision.",
      [
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("give_center_to_player", mnf_scale_picture,
    "Your lord offers to extend your fiefs! {s1} sends word that {reg4?she:he} is willing to grant {s2} to you in payment for your loyal service, adding it to your holdings. What is your answer?",
    "none",
    [
      (set_background_mesh, "mesh_pic_messenger"),
      (store_faction_of_party, ":var0", "$g_center_to_give_to_player"),
      (faction_get_slot, ":var1", ":var0", 11),
      (call_script, "script_dplmc_store_troop_is_female_reg", ":var1", 4),
      (str_store_troop_name, s1, ":var1"),
      (str_store_party_name, s2, "$g_center_to_give_to_player"),
    ],
    [
      ("give_center_to_player_accept",
      [],
      "Accept_the_offer.",
      [
        (call_script, "script_give_center_to_lord", "$g_center_to_give_to_player", "trp_player", 0),
        (jump_to_menu, "mnu_give_center_to_player_2"),
      ]
      ),

      ("give_center_to_player_reject",
      [],
      "Reject._You_have_no_interest_in_holding_{s2}.",
      [
        (party_set_slot, "$g_center_to_give_to_player", 7, -3),
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("give_center_to_player_2", 0,
    "With a brief ceremony, you are officially confirmed as the new lord of {s2}{reg3? and its bound village {s4}:}. {reg3?They:It} will make a fine part of your fiefdom. You can now claim the rents and revenues from your personal estates there, draft soldiers from the populace, and manage the lands as you see fit. However, you are also expected to defend your fief and your people from harm, as well as maintaining the rule of law and order.",
    "none",
    [
      (str_store_party_name, s2, "$g_center_to_give_to_player"),
      (assign, reg3, 0),
      (try_begin),
        (party_slot_eq, "$g_center_to_give_to_player", 0, 2),
        (try_for_range, ":var0", "p_village_1", "p_salt_mine"),
          (party_slot_eq, ":var0", 120, "$g_center_to_give_to_player"),
          (str_store_party_name, s4, ":var0"),
          (assign, reg3, 1),
        (try_end),
      (try_end),
    ],
    [
      ("continue",
      [],
      "Continue...",
      [
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("oath_fulfilled", 0,
    "You had a contract with {s1} to serve {reg4?her:him} for a certain duration. Your contract has now expired. What will you do?",
    "none",
    [
      (faction_get_slot, ":var0", "$players_kingdom", 11),
      (call_script, "script_dplmc_store_troop_is_female", ":var0"),
      (assign, reg4, reg0),
      (str_store_troop_name, s1, ":var0"),
    ],
    [
      ("renew_oath",
      [
        (faction_get_slot, ":var0", "$players_kingdom", 11),
        (str_store_troop_name, s1, ":var0"),
      ],
      "Renew_your_contract_with_{s1}_for_another_month.",
      [
        (store_current_day, ":var0"),
        (store_add, "$mercenary_service_next_renew_day", ":var0", 30),
        (change_screen_return),
      ]
      ),

      ("dont_renew_oath",
      [],
      "Become_free_of_your_bond.",
      [
        (call_script, "script_player_leave_faction", 1),
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("siege_started_defender", 0,
    "{s1} is launching an assault against the walls of {s2}. You have {reg10} troops fit for battle against the enemy's {reg11}. You decide to... {s4}",
    "none",
    [
      (str_clear, s4),
      (select_enemy, 1),
      (assign, "$g_enemy_party", "$g_encountered_party_2"),
      (assign, "$g_ally_party", "$g_encountered_party"),
      (str_store_party_name, s1, "$g_enemy_party"),
      (str_store_party_name, s2, "$g_ally_party"),
      (call_script, "script_encounter_calculate_fit"),
      (try_begin),
        (eq, "$g_siege_first_encounter", 1),
        (call_script, "script_let_nearby_parties_join_current_battle", 0, 1),
        (call_script, "script_encounter_init_variables"),
      (try_end),
      (try_begin),
        (eq, "$g_siege_first_encounter", 0),
        (try_begin),
          (call_script, "script_party_count_members_with_full_health", "p_collective_enemy"),
          (assign, ":var0", reg0),
          (call_script, "script_party_count_members_with_full_health", "p_collective_friends"),
          (assign, ":var1", reg0),
          (assign, ":var2", 0),
          (try_begin),
            (eq, "$g_battle_result", 1),
            (eq, ":var0", 0),
            (assign, ":var2", 1),
          (else_try),
            (eq, "$g_engaged_enemy", 1),
            (le, "$g_enemy_fit_for_battle", 0),
            (ge, "$g_friend_fit_for_battle", 1),
            (assign, ":var2", 1),
          (try_end),
          (this_or_next|eq, ":var2", 1),
          (eq, "$g_enemy_surrenders", 1),
          (assign, "$g_next_menu", -1),
          (jump_to_menu, "mnu_total_victory"),
        (else_try),
          (assign, ":var3", 0),
          (try_begin),
            (this_or_next|eq, "$g_battle_result", -1),
            (troop_is_wounded, "trp_player"),
            (eq, ":var1", 0),
            (assign, ":var3", 1),
          (try_end),
          (this_or_next|eq, ":var3", 1),
          (eq, "$g_player_surrenders", 1),
          (assign, "$g_next_menu", "mnu_captivity_start_under_siege_defeat"),
          (jump_to_menu, "mnu_total_defeat"),
        (else_try),
          (assign, ":var4", 0),
          (try_begin),
            (eq, "$g_battle_result", 1),
            (assign, ":var4", 1),
          (else_try),
            (eq, "$g_battle_result", 0),
            (store_div, ":var5", "$g_enemy_fit_for_battle", 3),
            (lt, ":var5", "$g_friend_fit_for_battle"),
            (assign, ":var4", 1),
          (else_try),
            (store_random_in_range, ":var6", 0, 100),
            (store_mul, ":var7", ":var1", 13),
            (val_div, ":var7", 10),
            (ge, ":var7", ":var0"),
            (lt, ":var6", 10),
            (neq, "$new_encounter", 1),
            (assign, ":var4", 1),
          (try_end),
          (try_begin),
            (eq, ":var4", 1),
            (party_get_slot, ":var8", "$g_encountered_party", 65),
            (val_add, ":var8", 100),
            (party_set_slot, "$g_encountered_party", 65, ":var8"),
            (party_set_slot, "$g_enemy_party", 2, 1),
            (try_for_range, ":var9", "trp_npc1", "trp_knight_1_1_wife"),
              (troop_slot_eq, ":var9", 2, 2),
              (neg|troop_slot_ge, ":var9", 8, 0),
              (troop_get_slot, ":var10", ":var9", 10),
              (gt, ":var10", 0),
              (party_slot_eq, ":var10", 4, 1),
              (party_slot_eq, ":var10", 5, "$g_encountered_party"),
              (party_slot_eq, ":var10", 8, 1),
              (call_script, "script_party_set_ai_state", ":var10", -1, -1),
              (call_script, "script_party_set_ai_state", ":var10", 1, "$g_encountered_party"),
            (try_end),
            (display_message, "@The enemy has been forced to retreat. The assault is over, but the siege continues."),
            (assign, "$g_battle_simulation_cancel_for_party", "$g_encountered_party"),
            (leave_encounter),
            (change_screen_return),
            (assign, "$g_battle_simulation_auto_enter_town_after_battle", "$g_encountered_party"),
          (try_end),
        (try_end),
      (try_end),
      (assign, "$g_siege_first_encounter", 0),
      (assign, "$new_encounter", 0),
      (try_begin),
        (party_slot_eq, "p_main_party", 47, 1),
        (str_store_string, s4, "@{s4}^^The troops you selected are ready to join you in battle."),
      (else_try),
        (str_store_string, s4, "@{s4}^^Your captains will deal with troop assignments."),
      (try_end),
      (try_begin),
        (party_slot_eq, "p_main_party", 231, 1),
        (str_store_string, s4, "@{s4}^^Your orders have been sent to your captains."),
      (else_try),
        (str_store_string, s4, "@{s4}^^There is no tactical plan in place."),
      (try_end),
    ],
    [
      ("dplmc_negotiate_with_besieger",
      [
        (party_slot_eq, "$current_town", 7, "trp_player"),
        (party_slot_ge, "$current_town", 54, 1),
      ],
      "Negotiate_with_the_besieger.",
      [
        (jump_to_menu, "mnu_dplmc_negotiate_besieger"),
      ]
      ),

      ("deployment",
      [
        (neg|troop_is_wounded, "trp_player"),
        (party_slot_eq, "p_main_party", 231, 0),
        (party_get_skill_level, ":var0", "p_main_party", 15),
        (ge, ":var0", 2),
        (call_script, "script_party_count_fit_for_battle", "p_collective_friends"),
        (assign, ":var1", reg0),
        (call_script, "script_party_count_fit_for_battle", "p_collective_enemy"),
        (assign, ":var2", reg0),
        (store_add, ":var3", ":var1", ":var2"),
        (party_get_slot, ":var4", "p_main_party", 48),
        (gt, ":var3", ":var4"),
      ],
      "Choose_who_will_join_you_in_battle.",
      [
        (assign, "$g_next_menu", "mnu_siege_started_defender"),
        (start_presentation, "prsnt_prebattle_custom_deployment"),
      ]
      ),

      ("orders",
      [
        (neg|troop_is_wounded, "trp_player"),
        (party_slot_eq, "p_main_party", 231, 0),
        (party_get_skill_level, ":var0", "p_main_party", 15),
        (ge, ":var0", 2),
      ],
      "Plan_your_battle_with_the_enemy.",
      [
        (assign, "$g_next_menu", "mnu_siege_started_defender"),
        (start_presentation, "prsnt_prebattle_orders"),
      ]
      ),

      ("do_orders",
      [
        (party_slot_eq, "p_main_party", 231, 1),
      ],
      "Enough_planning._To_battle!",
      [
        (party_set_slot, "p_main_party", 231, 0),
        (party_set_next_battle_simulation_time, "$g_encountered_party", -1),
        (assign, "$g_battle_result", 0),
        (try_begin),
          (party_slot_eq, "$g_encountered_party", 0, 3),
          (party_get_slot, ":var0", "$g_encountered_party", 18),
        (else_try),
          (party_get_slot, ":var0", "$g_encountered_party", 10),
        (try_end),
        (call_script, "script_calculate_battle_advantage"),
        (val_mul, reg0, 2),
        (val_div, reg0, 3),
        (set_battle_advantage, reg0),
        (set_party_battle_mode),
        (try_begin),
          (party_slot_eq, "$current_town", 27, 1),
          (set_jump_mission, "mt_castle_attack_walls_belfry"),
        (else_try),
          (set_jump_mission, "mt_castle_attack_walls_ladder"),
        (try_end),
        (jump_to_scene, ":var0"),
        (assign, "$g_next_menu", "mnu_siege_started_defender"),
        (jump_to_menu, "mnu_battle_debrief"),
        (change_screen_mission),
      ]
      ),

      ("clear_orders",
      [
        (this_or_next|party_slot_eq, "p_main_party", 47, 1),
        (party_slot_eq, "p_main_party", 231, 1),
      ],
      "Re-assess_the_situation.",
      [
        (try_begin),
          (party_slot_eq, "p_main_party", 47, 1),
          (party_set_slot, "p_main_party", 47, 0),
        (try_end),
        (try_begin),
          (party_slot_eq, "p_main_party", 231, 1),
          (party_set_slot, "p_main_party", 231, 0),
          (party_set_slot, "p_main_party", 232, 0),
        (try_end),
        (jump_to_menu, "mnu_siege_started_defender"),
      ]
      ),

      ("siege_defender_join_battle",
      [
        (neg|troop_is_wounded, "trp_player"),
        (party_slot_eq, "p_main_party", 231, 0),
      ],
      "Join_the_battle.",
      [
        (try_begin),
          (party_slot_eq, "p_main_party", 231, 1),
          (party_set_slot, "p_main_party", 231, 0),
        (try_end),
        (party_set_next_battle_simulation_time, "$g_encountered_party", -1),
        (assign, "$g_battle_result", 0),
        (try_begin),
          (party_slot_eq, "$g_encountered_party", 0, 3),
          (party_get_slot, ":var0", "$g_encountered_party", 18),
        (else_try),
          (party_get_slot, ":var0", "$g_encountered_party", 10),
        (try_end),
        (call_script, "script_calculate_battle_advantage"),
        (val_mul, reg0, 2),
        (val_div, reg0, 3),
        (set_battle_advantage, reg0),
        (set_party_battle_mode),
        (try_begin),
          (party_slot_eq, "$current_town", 27, 1),
          (set_jump_mission, "mt_castle_attack_walls_belfry"),
        (else_try),
          (set_jump_mission, "mt_castle_attack_walls_ladder"),
        (try_end),
        (jump_to_scene, ":var0"),
        (assign, "$g_next_menu", "mnu_siege_started_defender"),
        (jump_to_menu, "mnu_battle_debrief"),
        (change_screen_mission),
      ]
      ),

      ("siege_defender_troops_join_battle",
      [
        (call_script, "script_party_count_members_with_full_health", "p_main_party"),
        (this_or_next|troop_is_wounded, "trp_player"),
        (ge, reg0, 3),
        (party_slot_eq, "p_main_party", 231, 0),
      ],
      "Order_your_men_to_join_the_battle_without_you.",
      [
        (party_set_next_battle_simulation_time, "$g_encountered_party", -1),
        (select_enemy, 1),
        (assign, "$g_enemy_party", "$g_encountered_party_2"),
        (assign, "$g_ally_party", "$g_encountered_party"),
        (assign, "$g_siege_join", 1),
        (jump_to_menu, "mnu_siege_join_defense"),
      ]
      ),

      ("siege_defender_manage_troops",
      [
        (assign, ":var0", 0),
        (str_clear, s10),
        (party_get_slot, ":var1", "$g_encountered_party", 7),
        (store_party_size_wo_prisoners, ":var2", "$g_encountered_party"),
        (gt, ":var2", 0),
        (try_begin),
          (eq, ":var1", "trp_player"),
          (assign, ":var0", 1),
        (else_try),
          (store_faction_of_party, ":var3", "$g_encountered_party"),
          (eq, ":var3", "fac_player_supporters_faction"),
          (neg|party_slot_ge, "$g_encountered_party", 7, "trp_npc1"),
          (assign, ":var0", 1),
        (else_try),
          (lt, ":var1", 0),
          (store_faction_of_party, ":var4", "$g_encountered_party"),
          (eq, "$players_kingdom", ":var4"),
          (eq, "$g_encountered_party", "$g_castle_requested_by_player"),
          (str_store_string, s10, "str_retrieve_garrison_warning"),
          (assign, ":var0", 1),
        (else_try),
          (party_slot_ge, "$g_encountered_party", 7, "trp_npc1"),
          (store_faction_of_party, ":var4", "$g_encountered_party"),
          (eq, "$players_kingdom", ":var4"),
          (this_or_next|troop_slot_eq, ":var1", 30, "trp_player"),
          (troop_slot_eq, "trp_player", 30, ":var1"),
          (this_or_next|is_between, ":var1", "trp_npc1", "trp_heroes_end"),
          (troop_slot_eq, "trp_player", 30, ":var1"),
          (assign, ":var0", 1),
        (try_end),
        (eq, ":var0", 1),
        (party_slot_eq, "p_main_party", 231, 0),
      ],
      "Manage_the_garrison_{s10}.",
      [
        (change_screen_exchange_members, 1),
      ]
      ),
    ],
  ),

  ("siege_join_defense", mnf_disable_all_keys,
    "{s4}^^Your casualties: {s8}^^Allies' casualties: {s9}^^Enemy casualties: {s10}",
    "none",
    [
      (try_begin),
        (eq, "$g_siege_join", 1),
        (call_script, "script_party_calculate_strength", "p_main_party", 1),
        (assign, ":var0", reg0),
        (val_div, ":var0", 5),
      (else_try),
        (assign, ":var0", 0),
      (try_end),
      (call_script, "script_party_calculate_strength", "p_collective_ally", 0),
      (assign, ":var1", reg0),
      (val_div, ":var1", 5),
      (call_script, "script_party_calculate_strength", "p_collective_enemy", 0),
      (assign, ":var2", reg0),
      (val_div, ":var2", 10),
      (store_add, ":var3", ":var0", ":var1"),
      (try_begin),
        (eq, ":var3", 0),
        (store_div, ":var4", ":var2", 2),
      (else_try),
        (assign, ":var4", ":var2"),
        (val_mul, ":var4", ":var0"),
        (val_div, ":var4", ":var3"),
      (try_end),
      (val_sub, ":var2", ":var4"),
      (inflict_casualties_to_party_group, "p_main_party", ":var4", "p_temp_casualties"),
      (call_script, "script_print_casualties_to_s0", "p_temp_casualties", 0),
      (str_store_string_reg, s8, s0),
      (inflict_casualties_to_party_group, "$g_ally_party", ":var2", "p_temp_casualties"),
      (call_script, "script_print_casualties_to_s0", "p_temp_casualties", 0),
      (str_store_string_reg, s9, s0),
      (party_collect_attachments_to_party, "$g_ally_party", "p_collective_ally"),
      (inflict_casualties_to_party_group, "$g_enemy_party", ":var3", "p_temp_casualties"),
      (call_script, "script_print_casualties_to_s0", "p_temp_casualties", 0),
      (str_store_string_reg, s10, s0),
      (party_collect_attachments_to_party, "$g_enemy_party", "p_collective_enemy"),
      (try_begin),
        (call_script, "script_party_count_members_with_full_health", "p_main_party"),
        (le, reg0, 0),
        (str_store_string, s4, "str_siege_defender_order_attack_failure"),
      (else_try),
        (call_script, "script_party_count_members_with_full_health", "p_collective_enemy"),
        (le, reg0, 0),
        (assign, "$g_battle_result", 1),
        (str_store_string, s4, "str_siege_defender_order_attack_success"),
      (else_try),
        (str_store_string, s4, "str_siege_defender_order_attack_continue"),
      (try_end),
    ],
    [
      ("continue",
      [],
      "Continue...",
      [
        (jump_to_menu, "mnu_siege_started_defender"),
      ]
      ),
    ],
  ),

  ("enter_your_own_castle", 0,
    "{s10}",
    "none",
    [
      (try_begin),
        (is_between, "$players_kingdom", "fac_player_supporters_faction", "fac_kingdoms_end"),
        (neg|is_between, "$supported_pretender", "trp_kingdom_1_pretender", "trp_knight_1_1_wife"),
        (call_script, "script_dplmc_get_troop_standing_in_faction", "trp_player", "$players_kingdom"),
        (ge, reg0, 50),
        (try_begin),
          (eq, "$character_gender", 1),
          (call_script, "script_dplmc_print_cultural_word_to_sreg", "trp_player", 5, 10),
        (else_try),
          (call_script, "script_dplmc_print_cultural_word_to_sreg", "trp_player", 4, 10),
        (try_end),
        (str_store_string, s10, "@As you approach, you are spotted by the castle guards, who welcome you and open the gates for their {s10}."),
      (else_try),
        (neg|is_between, "$players_kingdom", "fac_kingdom_1", "fac_kingdoms_end"),
        (faction_get_slot, ":var0", "fac_player_supporters_faction", 11),
        (eq, ":var0", "trp_player"),
        (str_store_string, s10, "@As you approach, you are spotted by the castle guards, who welcome you and open the gates for their {king/queen}."),
      (else_try),
        (str_store_string, s10, "@As you approach, you are spotted by the castle guards, who welcome you and open the gates for their {lord/lady}."),
      (try_end),
      (str_store_party_name, s2, "$current_town"),
    ],
    [
      ("continue",
      [],
      "Continue...",
      [
        (jump_to_menu, "mnu_town"),
      ]
      ),
    ],
  ),

  ("village", mnf_enable_hot_keys,
    "{s20}^^{s10} {s12}^{s11}^{s6}{s7}",
    "none",
    [
      (assign, "$current_town", "$g_encountered_party"),
      (call_script, "script_update_center_recon_notes", "$current_town"),
      (assign, "$g_defending_against_siege", 0),
      (assign, "$g_battle_result", 0),
      (assign, "$qst_collect_taxes_currently_collecting", 0),
      (assign, "$qst_train_peasants_against_bandits_currently_training", 0),
      (set_show_messages, 1),
      (try_begin),
        (gt, "$auto_enter_menu_in_center", 0),
        (jump_to_menu, "$auto_enter_menu_in_center"),
        (assign, "$auto_enter_menu_in_center", 0),
      (try_end),
      (try_begin),
        (neq, "$g_player_raiding_village", "$current_town"),
        (assign, "$g_player_raiding_village", 0),
      (else_try),
        (jump_to_menu, "mnu_village_loot_continue"),
      (try_end),
      (try_begin),
        (eq, "$g_town_visit_after_rest", 1),
        (assign, "$g_town_visit_after_rest", 0),
      (try_end),
      (str_store_party_name, s2, "$current_town"),
      (party_get_slot, ":var0", "$current_town", 7),
      (store_faction_of_party, ":var1", "$current_town"),
      (str_store_faction_name, s9, ":var1"),
      (try_begin),
        (ge, ":var0", 0),
        (str_store_troop_name, s8, ":var0"),
        (str_store_string, s7, "@{s8} of {s9}"),
      (try_end),
      (str_clear, s10),
      (str_clear, s12),
      (str_clear, s20),
      (str_store_party_name, s20, "$current_town"),
      (try_begin),
        (neg|party_slot_eq, "$current_town", 35, 2),
        (str_store_string, s60, s2),
        (party_get_slot, ":var2", "$current_town", 50),
        (try_begin),
          (eq, "$cheat_mode", 1),
          (assign, reg4, ":var2"),
          (display_message, "@{!}Prosperity: {reg4}"),
        (try_end),
        (store_div, ":var3", ":var2", 10),
        (val_min, ":var3", 9),
        (val_add, ":var3", "str_village_prosperity_0"),
        (str_store_string, s10, ":var3"),
        (store_div, ":var3", ":var2", 20),
        (val_min, ":var3", 4),
        (try_begin),
          (is_between, "$current_town", "p_village_91", "p_salt_mine"),
          (val_add, ":var3", "str_oasis_village_alt_prosperity_0"),
        (else_try),
          (val_add, ":var3", "str_village_alt_prosperity_0"),
        (try_end),
        (str_store_string, s12, ":var3"),
      (try_end),
      (str_clear, s11),
      (assign, ":var4", reg0),
      (assign, ":var5", reg4),
      (assign, reg0, 0),
      (assign, reg4, 0),
      (try_begin),
        (lt, ":var0", 1),
      (else_try),
        (call_script, "script_troop_get_family_relation_to_troop", ":var0", "trp_player"),
        (ge, reg0, 1),
      (else_try),
        (eq, ":var1", "$players_kingdom"),
        (is_between, ":var1", "fac_player_supporters_faction", "fac_kingdoms_end"),
        (faction_slot_eq, ":var1", 11, ":var0"),
        (str_store_string, s11, "@liege"),
        (assign, reg0, 1),
      (else_try),
        (eq, ":var1", "$players_oath_renounced_against_kingdom"),
        (is_between, ":var1", "fac_kingdom_1", "fac_kingdoms_end"),
        (faction_slot_eq, ":var1", 11, ":var0"),
        (str_store_string, s11, "@former liege"),
        (assign, reg0, 1),
      (else_try),
        (neg|this_or_next|troop_is_hero, ":var0"),
        (troop_slot_eq, ":var0", 5, 0),
      (else_try),
        (call_script, "script_dplmc_is_affiliated_family_member", ":var0"),
        (ge, reg0, 1),
        (try_begin),
          (ge, "$g_encountered_party_relation", 0),
          (str_store_string, s11, "str_dplmc_ally"),
        (else_try),
          (str_store_string, s11, "@affiliate"),
        (try_end),
      (else_try),
        (call_script, "script_troop_get_player_relation", ":var0"),
        (is_between, ":var0", "trp_npc1", "trp_kingdom_1_lord"),
        (neg|troop_slot_eq, ":var0", 82, 8),
        (try_begin),
          (ge, "$g_encountered_party_relation", 0),
          (ge, reg0, 50),
          (str_store_string, s11, "str_dplmc_ally"),
        (else_try),
          (ge, "$g_encountered_party_relation", 0),
          (ge, reg0, 20),
          (str_store_string, s11, "str_dplmc_friend"),
        (else_try),
          (str_store_string, s11, "@former companion"),
        (try_end),
        (assign, reg0, 1),
      (else_try),
        (lt, "$g_encountered_party_relation", 0),
        (assign, reg0, 0),
      (else_try),
        (call_script, "script_troop_get_player_relation", ":var0"),
        (store_div, ":var6", reg0, 50),
        (gt, ":var6", 1),
        (str_store_string, s11, "str_dplmc_friend"),
        (assign, reg0, 1),
      (else_try),
        (eq, ":var1", "$players_kingdom"),
        (faction_slot_eq, ":var1", 8, ":var0"),
        (str_store_string, s11, "@marshall"),
      (else_try),
        (call_script, "script_dplmc_get_troop_standing_in_faction", "trp_player", ":var1"),
        (val_add, reg0, 1),
        (val_sub, reg0, 50),
        (ge, reg0, 1),
        (str_store_string, s11, "@vassal"),
      (else_try),
        (assign, reg0, 0),
      (try_end),
      (try_begin),
        (eq, ":var0", "trp_player"),
        (str_store_string, s11, "@ This village and the surrounding lands belong to you."),
      (else_try),
        (ge, reg0, 1),
        (str_store_string, s11, "@ You remember that this village and the surrounding lands belong to your {s11} {s7}."),
      (else_try),
        (ge, ":var0", 0),
        (str_store_string, s11, "@ You remember that this village and the surrounding lands belong to {s7}."),
      (else_try),
        (str_store_string, s11, "@ These lands belong to no one."),
      (try_end),
      (assign, reg0, ":var4"),
      (assign, reg4, ":var5"),
      (str_clear, s7),
      (try_begin),
        (neg|party_slot_eq, "$current_town", 35, 2),
        (party_get_slot, ":var7", "$current_town", 26),
        (call_script, "script_describe_center_relation_to_s3", ":var7"),
        (assign, reg9, ":var7"),
        (str_store_string, s7, "@{!} {s3} ({reg9})."),
      (try_end),
      (str_clear, s6),
      (try_begin),
        (party_slot_ge, "$current_town", 39, 1),
        (party_get_slot, ":var8", "$current_town", 39),
        (store_character_level, ":var9", "trp_player"),
        (val_min, ":var9", 63),
        (store_add, "$qst_eliminate_bandits_infesting_village_num_bandits", ":var9", 10),
        (val_div, "$qst_eliminate_bandits_infesting_village_num_bandits", 2),
        (faction_get_slot, ":var10", ":var1", 243),
        (options_get_campaign_ai, ":var11"),
        (val_mul, ":var11", 3),
        (val_sub, ":var11", ":var10"),
        (val_add, "$qst_eliminate_bandits_infesting_village_num_bandits", ":var11"),
        (val_mul, "$qst_eliminate_bandits_infesting_village_num_bandits", 120),
        (val_div, "$qst_eliminate_bandits_infesting_village_num_bandits", 100),
        (val_max, "$qst_eliminate_bandits_infesting_village_num_bandits", 1),
        (call_script, "script_party_count_fit_regulars", "$current_town"),
        (assign, ":var12", reg0),
        (store_div, ":var13", ":var12", 3),
        (store_div, ":var10", ":var7", 5),
        (val_add, ":var10", 60),
        (store_random_in_range, "$qst_eliminate_bandits_infesting_village_num_villagers", ":var13", ":var10"),
        (val_min, "$qst_eliminate_bandits_infesting_village_num_villagers", ":var12"),
        (assign, reg8, "$qst_eliminate_bandits_infesting_village_num_bandits"),
        (str_store_troop_name_by_count, s35, ":var8", "$qst_eliminate_bandits_infesting_village_num_bandits"),
        (str_store_string, s6, "@ The village is infested by {reg8} {s35}."),
        (assign, "$g_enemy_party", -1),
        (assign, "$g_ally_party", -1),
        (try_begin),
          (eq, ":var8", "trp_cut_throat"),
          (set_background_mesh, "mesh_pic_bandits"),
        (else_try),
          (eq, ":var8", "trp_steppe_bandit"),
          (set_background_mesh, "mesh_pic_steppe_bandits"),
        (else_try),
          (eq, ":var8", "trp_taiga_bandit"),
          (set_background_mesh, "mesh_pic_steppe_bandits"),
        (else_try),
          (eq, ":var8", "trp_nippon_moon"),
          (set_background_mesh, "mesh_pic_bandits"),
        (else_try),
          (eq, ":var8", "trp_sea_raider"),
          (set_background_mesh, "mesh_pic_sea_raiders"),
        (else_try),
          (store_faction_of_troop, ":var14", ":var8"),
          (this_or_next|is_between, ":var14", "fac_player_supporters_faction", "fac_kingdoms_end"),
          (eq, ":var14", "fac_deserters"),
          (set_background_mesh, "mesh_pic_deserters"),
        (else_try),
          (eq, ":var8", "trp_peasant_woman"),
          (party_get_num_companions, reg8, "$current_town"),
          (party_count_members_of_type, ":var15", "$current_town", "trp_farmer"),
          (val_sub, reg8, ":var15"),
          (party_count_members_of_type, ":var15", "$current_town", "trp_peasant_woman"),
          (val_sub, reg8, ":var15"),
          (str_store_string, s6, "@ The peasants {reg8?hired {reg8} mercenaries and :}are rebelling against you."),
          (set_background_mesh, "mesh_pic_villageriot"),
        (else_try),
          (set_background_mesh, "mesh_pic_bandits"),
        (try_end),
      (else_try),
        (this_or_next|party_slot_eq, "$current_town", 35, 2),
        (party_slot_eq, "$current_town", 35, 4),
        (str_store_string, s6, "@ The village has been looted. A handful of souls scatter as you pass through the burnt out houses."),
        (try_begin),
          (neq, "$g_player_raid_complete", 1),
          (play_track, "track_empty_village", 1),
        (try_end),
        (set_background_mesh, "mesh_pic_looted_village"),
      (else_try),
        (party_slot_eq, "$current_town", 35, 1),
        (str_store_string, s6, "@ The village is being raided."),
      (else_try),
        (party_get_current_terrain, ":var16", "$current_town"),
        (try_begin),
          (this_or_next|eq, ":var16", 2),
          (this_or_next|eq, ":var16", 10),
          (this_or_next|eq, ":var16", 5),
          (eq, ":var16", 13),
          (set_background_mesh, "mesh_pic_village_s"),
        (else_try),
          (this_or_next|eq, ":var16", 4),
          (eq, ":var16", 12),
          (set_background_mesh, "mesh_pic_village_w"),
        (else_try),
          (set_background_mesh, "mesh_pic_village_p"),
        (try_end),
      (try_end),
      (try_begin),
        (eq, "$g_player_raid_complete", 1),
        (try_begin),
          (party_slot_eq, "$current_town", 35, 2),
          (jump_to_menu, "mnu_village_loot_complete"),
        (else_try),
          (party_slot_eq, "$current_town", 35, 4),
          (jump_to_menu, "mnu_village_enslave_complete"),
        (try_end),
        (assign, "$g_player_raid_complete", 0),
        (try_begin),
          (check_quest_active, "qst_hunt_down_fugitive"),
          (quest_slot_eq, "qst_hunt_down_fugitive", 1, "$current_town"),
          (quest_set_slot, "qst_hunt_down_fugitive", 11, 3),
        (try_end),
      (else_try),
        (party_get_slot, ":var17", "$current_town", 34),
        (gt, ":var17", 0),
      (try_end),
      (try_begin),
        (eq, "$g_leave_town", 1),
        (assign, "$g_leave_town", 0),
        (change_screen_return),
      (try_end),
      (try_begin),
        (store_time_of_day, ":var18"),
        (ge, ":var18", 5),
        (lt, ":var18", 21),
        (assign, "$town_nighttime", 0),
      (else_try),
        (assign, "$town_nighttime", 1),
      (try_end),
    ],
    [
      ("village_manage",
      [
        (neg|party_slot_eq, "$current_town", 35, 2),
        (neg|party_slot_eq, "$current_town", 35, 1),
        (neg|party_slot_ge, "$current_town", 39, 1),
        (party_slot_eq, "$current_town", 7, "trp_player"),
      ],
      "Manage_this_village.",
      [
        (assign, "$g_next_menu", "mnu_village"),
        (jump_to_menu, "mnu_center_manage"),
      ]
      ),

      ("village_elder_talk",
      [
        (neg|party_slot_eq, "$current_town", 35, 2),
        (neg|party_slot_eq, "$current_town", 35, 1),
        (neg|party_slot_ge, "$current_town", 39, 1),
      ],
      "Speak_with_the_Village_Elder.",
      [
        (try_begin),
          (call_script, "script_cf_enter_center_location_bandit_check"),
        (else_try),
          (party_get_slot, ":var0", "$current_town", 10),
          (modify_visitors_at_site, ":var0"),
          (reset_visitors),
          (party_get_slot, ":var1", "$current_town", 25),
          (set_visitor, 11, ":var1"),
          (call_script, "script_init_town_walkers"),
          (try_begin),
            (check_quest_active, "qst_hunt_down_fugitive"),
            (neg|is_currently_night),
            (quest_slot_eq, "qst_hunt_down_fugitive", 1, "$current_town"),
            (neg|check_quest_succeeded, "qst_hunt_down_fugitive"),
            (neg|check_quest_failed, "qst_hunt_down_fugitive"),
            (set_visitor, 45, "trp_fugitive"),
          (try_end),
          (set_jump_mission, "mt_village_center"),
          (jump_to_scene, ":var0"),
          (change_screen_map_conversation, ":var1"),
        (try_end),
      ]
,
      "Door_to_the_village_center."
      ),

      ("recruit_volunteers",
      [
        (call_script, "script_cf_village_recruit_volunteers_cond"),
      ],
      "Recruit_Volunteers.",
      [
        (try_begin),
          (call_script, "script_cf_enter_center_location_bandit_check"),
        (else_try),
          (jump_to_menu, "mnu_recruit_volunteers"),
        (try_end),
      ]
      ),

      ("village_center",
      [
        (neg|party_slot_eq, "$current_town", 35, 2),
        (neg|party_slot_eq, "$current_town", 35, 1),
        (neg|party_slot_ge, "$current_town", 39, 1),
      ],
      "Go_to_the_village_center.",
      [
        (try_begin),
          (call_script, "script_cf_enter_center_location_bandit_check"),
        (else_try),
          (party_get_slot, ":var0", "$current_town", 10),
          (modify_visitors_at_site, ":var0"),
          (reset_visitors),
          (party_get_slot, ":var1", "$current_town", 25),
          (set_visitor, 11, ":var1"),
          (call_script, "script_init_town_walkers"),
          (try_begin),
            (check_quest_active, "qst_hunt_down_fugitive"),
            (neg|is_currently_night),
            (quest_slot_eq, "qst_hunt_down_fugitive", 1, "$current_town"),
            (neg|check_quest_succeeded, "qst_hunt_down_fugitive"),
            (neg|check_quest_failed, "qst_hunt_down_fugitive"),
            (set_visitor, 45, "trp_fugitive"),
          (try_end),
          (set_jump_mission, "mt_village_center"),
          (jump_to_scene, ":var0"),
          (change_screen_mission),
        (try_end),
      ]
,
      "Door_to_the_village_center."
      ),

      ("village_buy_food",
      [
        (party_slot_eq, "$current_town", 35, 0),
        (neg|party_slot_ge, "$current_town", 39, 1),
      ],
      "Buy_supplies_from_the_peasants.",
      [
        (try_begin),
          (call_script, "script_cf_enter_center_location_bandit_check"),
        (else_try),
          (party_get_slot, ":var0", "$current_town", 25),
          (change_screen_trade, ":var0"),
        (try_end),
      ]
      ),

      ("dplmc_village_auto_sell",
      [
        (party_slot_eq, "$current_town", 35, 0),
        (neg|party_slot_ge, "$current_town", 39, 1),
        (party_get_slot, ":var0", "$current_town", 25),
        (ge, ":var0", 0),
      ],
      "Sell_items_automatically.",
      [
        (assign, "$g_next_menu", "mnu_village"),
        (jump_to_menu, "mnu_dplmc_trade_auto_sell_begin"),
      ]
      ),

      ("dplmc_village_auto_buy_food",
      [
        (party_slot_eq, "$current_town", 35, 0),
        (neg|party_slot_ge, "$current_town", 39, 1),
        (party_get_slot, ":var0", "$current_town", 25),
        (ge, ":var0", 0),
      ],
      "Buy_food_automatically.",
      [
        (assign, "$g_next_menu", "mnu_village"),
        (jump_to_menu, "mnu_dplmc_trade_auto_buy_food_begin"),
      ]
      ),

      ("village_attack_bandits",
      [
        (party_slot_ge, "$current_town", 39, 1),
        (neg|party_slot_eq, "$current_town", 39, "trp_peasant_woman"),
      ],
      "Attack_the_bandits.",
      [
        (party_get_slot, ":var0", "$current_town", 39),
        (party_get_slot, ":var1", "$current_town", 10),
        (modify_visitors_at_site, ":var1"),
        (reset_visitors),
        (set_visitors, 0, ":var0", "$qst_eliminate_bandits_infesting_village_num_bandits"),
        (set_visitors, 2, "trp_farmer", "$qst_eliminate_bandits_infesting_village_num_villagers"),
        (set_party_battle_mode),
        (set_battle_advantage, 0),
        (assign, "$g_battle_result", 0),
        (set_jump_mission, "mt_village_attack_bandits"),
        (jump_to_scene, ":var1"),
        (assign, "$g_next_menu", "mnu_village_infest_bandits_result"),
        (jump_to_menu, "mnu_battle_debrief"),
        (assign, "$g_mt_mode", 1),
        (change_screen_mission),
      ]
      ),

      ("village_wait",
      [
        (party_slot_eq, "$current_town", 130, 1),
        (party_slot_eq, "$current_town", 7, "trp_player"),
      ],
      "Wait_here_for_some_time.",
      [
        (assign, "$auto_enter_town", "$current_town"),
        (assign, "$g_last_rest_center", "$current_town"),
        (try_begin),
          (party_is_active, "p_main_party"),
          (party_get_current_terrain, ":var0", "p_main_party"),
          (try_begin),
            (eq, ":var0", 5),
            (unlock_achievement, 28),
          (try_end),
        (try_end),
        (rest_for_hours_interactive, 168, "$g_warsword_wait_multiplier", 1),
        (change_screen_return),
      ]
      ),

      ("village_hostile_action",
      [
        (party_slot_eq, "$current_town", 35, 0),
        (neg|party_slot_ge, "$current_town", 39, 1),
        (neq, "$players_kingdom", "$g_encountered_party_faction"),
      ],
      "Take_a_hostile_action.",
      [
        (jump_to_menu, "mnu_village_hostile_action2"),
      ]
      ),

      ("village_leave",
      [],
      "Leave...",
      [
        (change_screen_return, 0),
        (try_begin),
          (party_slot_eq, "$current_town", 35, 0),
          (neg|party_slot_ge, "$current_town", 39, 1),
          (party_get_slot, ":var0", "$current_town", 25),
          (gt, ":var0", 0),
          (call_script, "script_dplmc_initialize_autoloot", 0),
          (try_begin),
            (eq, "$g_dplmc_buy_food_when_leaving", 1),
            (call_script, "script_dplmc_auto_buy_food", "trp_player", ":var0"),
          (try_end),
          (try_begin),
            (eq, "$g_dplmc_sell_items_when_leaving", 1),
            (call_script, "script_dplmc_auto_sell", "trp_player", ":var0", "$g_dplmc_auto_sell_price_limit", 0, "itm_items_end", 2),
          (try_end),
        (try_end),
      ]
      ),

      ("unloot_village",
      [
        (party_slot_eq, "$current_town", 35, 2),
        (ge, "$cheat_mode", 1),
      ],
      "!_CHEAT:_unloot_village",
      [
        (try_begin),
          (call_script, "script_village_set_state", "$current_town", 0),
          (party_set_slot, "$current_town", 37, 0),
          (party_clear_particle_systems, "$current_town"),
          (party_set_slot, "$current_town", 38, 0),
          (party_set_icon, "$current_town", "icon_village_a"),
        (try_end),
      ]
      ),

      ("dplmc_village_counter_insurgency",
      [
        (party_slot_eq, "$current_town", 39, "trp_peasant_woman"),
      ],
      "Counter_the_insurgency.",
      [
        (store_random_in_range, ":var0", -10, -5),
        (call_script, "script_change_player_relation_with_center", "$current_town", ":var0"),
        (call_script, "script_calculate_battle_advantage"),
        (set_battle_advantage, reg0),
        (set_party_battle_mode),
        (assign, "$g_battle_result", 0),
        (assign, "$g_village_raid_evil", 1),
        (set_jump_mission, "mt_village_raid"),
        (party_get_slot, ":var1", "$current_town", 10),
        (jump_to_scene, ":var1"),
        (assign, "$g_next_menu", "mnu_dplmc_village_riot_result"),
        (call_script, "script_objectionable_action", 3, "str_repress_farmers"),
        (jump_to_menu, "mnu_battle_debrief"),
        (change_screen_mission),
      ]
      ),

      ("dplmc_village_negotiate",
      [
        (party_slot_eq, "$current_town", 39, "trp_peasant_woman"),
      ],
      "Begin_negotiations.",
      [
        (jump_to_menu, "mnu_dplmc_riot_negotiate"),
      ]
      ),

      ("collect_taxes_qst",
      [
        (party_slot_eq, "$current_town", 35, 0),
        (neg|party_slot_ge, "$current_town", 39, 1),
        (check_quest_active, "qst_collect_taxes"),
        (quest_get_slot, ":var0", "qst_collect_taxes", 6),
        (quest_slot_eq, "qst_collect_taxes", 1, "$current_town"),
        (party_slot_eq, "$current_town", 7, ":var0"),
        (neg|quest_slot_eq, "qst_collect_taxes", 11, 4),
        (str_store_troop_name, s1, ":var0"),
        (quest_get_slot, reg5, "qst_collect_taxes", 11),
      ],
      "{reg5?Continue_collecting_taxes:Collect_taxes}_due_to_{s1}.",
      [
        (jump_to_menu, "mnu_collect_taxes"),
      ]
      ),

      ("train_peasants_against_bandits_qst",
      [
        (party_slot_eq, "$current_town", 35, 0),
        (check_quest_active, "qst_train_peasants_against_bandits"),
        (neg|check_quest_concluded, "qst_train_peasants_against_bandits"),
        (quest_slot_eq, "qst_train_peasants_against_bandits", 1, "$current_town"),
      ],
      "Train_the_peasants.",
      [
        (jump_to_menu, "mnu_train_peasants_against_bandits"),
      ]
      ),

      ("village_hostile_action3",
      [
        (party_slot_eq, "$current_town", 35, 0),
        (neg|party_slot_ge, "$current_town", 39, 1),
        (party_slot_ge, "$current_town", 26, -1),
        (check_quest_active, "qst_hunt_down_fugitive"),
        (quest_slot_eq, "qst_hunt_down_fugitive", 1, "$current_town"),
        (neg|check_quest_concluded, "qst_hunt_down_fugitive"),
        (neg|check_quest_succeeded, "qst_hunt_down_fugitive"),
        (neg|check_quest_failed, "qst_hunt_down_fugitive"),
        (quest_get_slot, ":var0", "qst_hunt_down_fugitive", 13),
        (call_script, "script_get_name_from_dna_to_s50", ":var0"),
      ],
      "Demand_to_meet_the_family_of_{s50}.",
      [
        (call_script, "script_get_max_skill_of_player_party", "skl_persuasion"),
        (store_random_in_range, ":var0", reg0, 100),
        (call_script, "script_party_count_members_with_full_health", "p_main_party"),
        (assign, ":var1", reg0),
        (call_script, "script_party_count_members_with_full_health", "$current_town"),
        (store_mul, ":var2", reg0, 2),
        (try_begin),
          (this_or_next|gt, ":var0", 40),
          (gt, ":var1", ":var2"),
          (jump_to_menu, "mnu_village_hunt_down_fugitive_persuaded"),
        (else_try),
          (jump_to_menu, "mnu_village_start_attack"),
        (try_end),
      ]
      ),

      ("village_cheat",
      [
        (eq, "$cheat_mode", 1),
      ],
      "Use_cheats.",
      [
        (jump_to_menu, "mnu_town_cheats"),
      ]
      ),
    ],
  ),

  ("village_hostile_action2", 0,
    "What action do you have in mind?",
    "none",
    [],
    [
      ("village_take_food",
      [
        (party_slot_eq, "$current_town", 35, 0),
        (neg|party_slot_ge, "$current_town", 39, 1),
        (party_get_slot, ":var0", "$current_town", 25),
        (assign, ":var1", 106),
        (try_for_range, ":var2", 10, ":var1"),
          (troop_get_inventory_slot, ":var3", ":var0", ":var2"),
          (ge, ":var3", 0),
          (assign, ":var1", -1),
        (try_end),
        (eq, ":var1", -1),
      ],
      "Force_the_peasants_to_give_you_supplies.",
      [
        (jump_to_menu, "mnu_village_take_food_confirm"),
      ]
      ),

      ("village_steal_cattle",
      [
        (party_slot_eq, "$current_town", 35, 0),
        (party_slot_eq, "$current_town", 46, 0),
        (neg|party_slot_ge, "$current_town", 39, 1),
        (party_get_slot, ":var0", "$current_town", 215),
        (neg|party_slot_eq, "$current_town", 7, "trp_player"),
        (gt, ":var0", 0),
      ],
      "Steal_cattle.",
      [
        (jump_to_menu, "mnu_village_steal_cattle_confirm"),
      ]
      ),

      ("village_loot",
      [
        (party_slot_eq, "$current_town", 35, 0),
        (neg|party_slot_ge, "$current_town", 39, 1),
        (store_faction_of_party, ":var0", "$current_town"),
        (store_relation, ":var1", "fac_player_supporters_faction", ":var0"),
        (lt, ":var1", 0),
      ],
      "Loot_and_burn_this_village.",
      [
        (jump_to_menu, "mnu_village_start_attack"),
      ]
      ),

      ("forget_it",
      [],
      "Forget_it.",
      [
        (jump_to_menu, "mnu_village"),
      ]
      ),
    ],
  ),

  ("recruit_volunteers", 0,
    "{s18}",
    "none",
    [
      (party_get_slot, ":var0", "$current_town", 92),
      (party_get_slot, ":var1", "$current_town", 93),
      (party_get_free_companions_capacity, ":var2", "p_main_party"),
      (store_troop_gold, ":var3", "trp_player"),
      (store_div, ":var4", ":var3", 10),
      (assign, ":var5", ":var2"),
      (val_min, ":var5", ":var4"),
      (try_begin),
        (gt, ":var5", 0),
        (val_min, ":var1", ":var5"),
      (try_end),
      (assign, reg4, ":var1"),
      (assign, reg7, 0),
      (try_begin),
        (gt, ":var1", ":var4"),
        (assign, reg7, 1),
      (try_end),
      (try_begin),
        (eq, ":var1", 0),
        (str_store_string, s18, "@No one here seems to be willing to join your party."),
      (else_try),
        (store_mul, reg6, ":var1", 10),
        (str_store_troop_name_by_count, s3, ":var0", ":var1"),
        (try_begin),
          (eq, ":var1", 1),
          (str_store_string, s18, "@One {s3} volunteers to follow you."),
        (else_try),
          (str_store_string, s18, "@{reg4} {s3} volunteer to follow you."),
        (try_end),
        (set_background_mesh, "mesh_pic_recruits"),
      (try_end),
    ],
    [
      ("continue_not_enough_gold",
      [
        (eq, reg7, 1),
      ],
      "I_don't_have_enough_money...",
      [
        (jump_to_menu, "mnu_village"),
      ]
      ),

      ("recruit_them",
      [
        (gt, reg4, 0),
        (eq, reg7, 0),
      ],
      "Recruit_them_({reg6}_denars).",
      [
        (call_script, "script_village_recruit_volunteers_recruit"),
        (jump_to_menu, "mnu_village"),
      ]
      ),

      ("continue",
      [
        (le, reg4, 0),
      ],
      "Continue_-_but_noone_got_hired",
      [
        (party_set_slot, "$current_town", 93, -1),
        (jump_to_menu, "mnu_village"),
      ]
      ),

      ("forget_it",
      [
        (eq, reg7, 0),
        (gt, reg4, 0),
      ],
      "Forget_it.",
      [
        (jump_to_menu, "mnu_village"),
      ]
      ),
    ],
  ),

  ("village_hunt_down_fugitive_defeated", 0,
    "A heavy blow from the fugitive sends you to the ground, and your vision spins and goes dark. Time passes. When you open your eyes again you find yourself battered and bloody, but luckily none of the wounds appear to be lethal.",
    "none",
    [
      (call_script, "script_fail_quest", "qst_hunt_down_fugitive"),
    ],
    [
      ("continue",
      [],
      "Continue...",
      [
        (jump_to_menu, "mnu_village"),
        (call_script, "script_change_troop_renown", "trp_player", -2),
      ]
      ),
    ],
  ),

  ("village_hunt_down_fugitive_persuaded", 0,
    "As the party member with the highest persuasion, {reg3?you:{s3}} managed to cajole the location of {s50} from his tight-lipped relatives. Backed with superior force of arms, your just argument seemed to take effect and the villagers grudgingly participate in the manhunt for the fugitive. {reg4?But word of you arrival has reached the fugitive and he appears to have taken his own life:Within the hour, you've secured the fugitive on behalf of {s4}}.",
    "none",
    [
      (call_script, "script_get_max_skill_of_player_party", "skl_persuasion"),
      (assign, ":var0", reg1),
      (quest_get_slot, ":var1", "qst_hunt_down_fugitive", 13),
      (call_script, "script_get_name_from_dna_to_s50", ":var1"),
      (try_begin),
        (eq, ":var0", "trp_player"),
        (assign, reg3, 1),
      (else_try),
        (assign, reg3, 0),
        (str_store_troop_name, s3, ":var0"),
        (call_script, "script_change_troop_renown", ":var0", 3),
      (try_end),
      (set_fixed_point_multiplier, 100),
      (position_set_x, pos0, 70),
      (position_set_y, pos0, 5),
      (position_set_z, pos0, 75),
      (set_game_menu_tableau_mesh, "tableau_troop_note_mesh", ":var0", pos0),
      (store_random_in_range, reg4, 0, 2),
      (try_begin),
        (eq, reg4, 0),
        (party_force_add_prisoners, "p_main_party", "trp_fugitive", 1),
        (quest_get_slot, ":var2", "qst_hunt_down_fugitive", 6),
        (str_store_troop_name, s4, ":var2"),
        (quest_set_slot, "qst_hunt_down_fugitive", 11, 2),
      (else_try),
        (quest_set_slot, "qst_hunt_down_fugitive", 11, 1),
      (try_end),
    ],
    [
      ("continue",
      [],
      "Continue...",
      [
        (call_script, "script_succeed_quest", "qst_hunt_down_fugitive"),
        (jump_to_menu, "mnu_village"),
      ]
      ),
    ],
  ),

  ("village_infest_bandits_result", mnf_scale_picture,
    "{s9}",
    "none",
    [
      (try_begin),
        (eq, "$g_battle_result", 1),
        (jump_to_menu, "mnu_village_infestation_removed"),
      (else_try),
        (str_store_string, s9, "@Try as you might, you could not defeat the bandits. Infuriated, they raze the village to the ground to punish the peasants, and then leave the burning wasteland behind to find greener pastures to plunder."),
        (set_background_mesh, "mesh_pic_looted_village"),
      (try_end),
    ],
    [
      ("continue",
      [],
      "Continue...",
      [
        (party_set_slot, "$g_encountered_party", 39, 0),
        (call_script, "script_village_set_state", "$current_town", 2),
        (party_set_slot, "$current_town", 36, 0),
        (party_set_slot, "$current_town", 37, 0),
        (try_begin),
          (check_quest_active, "qst_eliminate_bandits_infesting_village"),
          (quest_slot_eq, "qst_eliminate_bandits_infesting_village", 1, "$g_encountered_party"),
          (call_script, "script_change_player_relation_with_center", "$g_encountered_party", -5),
          (call_script, "script_fail_quest", "qst_eliminate_bandits_infesting_village"),
          (call_script, "script_end_quest", "qst_eliminate_bandits_infesting_village"),
        (else_try),
          (check_quest_active, "qst_deal_with_bandits_at_lords_village"),
          (quest_slot_eq, "qst_deal_with_bandits_at_lords_village", 1, "$g_encountered_party"),
          (call_script, "script_change_player_relation_with_center", "$g_encountered_party", -4),
          (call_script, "script_fail_quest", "qst_deal_with_bandits_at_lords_village"),
          (call_script, "script_end_quest", "qst_deal_with_bandits_at_lords_village"),
        (else_try),
          (call_script, "script_change_player_relation_with_center", "$g_encountered_party", -3),
        (try_end),
        (jump_to_menu, "mnu_village"),
      ]
      ),
    ],
  ),

  ("potion_seller", mnf_disable_all_keys,
    "{s9}",
    "none",
    [
      (try_begin),
        (call_script, "script_get_meeting_scene"),
        (assign, ":var0", reg0),
        (modify_visitors_at_site, ":var0"),
        (reset_visitors),
        (set_visitor, 0, "trp_player"),
        (set_visitor, 17, "trp_potionseller"),
        (set_jump_mission, "mt_conversation_encounter"),
        (jump_to_scene, ":var0"),
        (change_screen_map_conversation, "trp_potionseller"),
      (try_end),
    ],
    [
      ("continue",
      [],
      "Continue...",
      [
        (change_screen_map),
      ]
      ),
    ],
  ),

  ("beastmen_event_result", mnf_disable_all_keys,
    "{s9}",
    "none",
    [
      (try_begin),
        (eq, "$g_battle_result", 1),
        (call_script, "script_get_meeting_scene"),
        (assign, ":var0", reg0),
        (modify_visitors_at_site, ":var0"),
        (reset_visitors),
        (set_visitor, 0, "trp_player"),
        (set_visitor, 17, "trp_dwarf_event"),
        (set_jump_mission, "mt_conversation_encounter"),
        (jump_to_scene, ":var0"),
        (change_screen_map_conversation, "trp_dwarf_event"),
      (else_try),
        (jump_to_menu, "mnu_beastman_event_failed"),
      (try_end),
    ],
    [
      ("continue",
      [],
      "Continue...",
      [
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("long_drong_event_result", mnf_disable_all_keys,
    "{s9}",
    "none",
    [
      (try_begin),
        (eq, "$g_battle_result", 1),
        (jump_to_menu, "mnu_long_drong_event_succeed"),
      (else_try),
        (jump_to_menu, "mnu_long_drong_event_failed"),
      (try_end),
    ],
    [
      ("continue",
      [],
      "Continue...",
      [
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("beastman_event_failed", mnf_disable_all_keys,
    "Try as you might, you could not stop the beastmen. The beastmen leave you laying flat on the ground with your trodden party, you can just about hear the merchants desperate cries as he runs of into the distance with the horde hot on his trail.",
    "none",
    [],
    [
      ("continue",
      [],
      "Continue.",
      [
        (change_screen_map),
      ]
      ),
    ],
  ),

  ("long_drong_event_failed", mnf_disable_all_keys,
    "Try as you might, you could not stop the long drong onslaught. They laugh as they leave you and your party lying face down in the dirt, well and truly beaten.",
    "none",
    [],
    [
      ("continue",
      [],
      "Continue.",
      [
        (call_script, "script_loot_player_items_event"),
        (change_screen_map),
      ]
      ),
    ],
  ),

  ("long_drong_event_succeed", mnf_disable_all_keys,
    "Long Drong Slayers are serious foes and the victory you achieved was no small feat. Your party continues on full of confidence.",
    "none",
    [],
    [
      ("continue",
      [],
      "Continue.",
      [
        (change_screen_map),
      ]
      ),
    ],
  ),

  ("ambush_event_result", mnf_disable_all_keys,
    "{s9}",
    "none",
    [
      (try_begin),
        (eq, "$g_battle_result", 1),
        (jump_to_menu, "mnu_ambush_event_success"),
      (else_try),
        (jump_to_menu, "mnu_ambush_event_failed"),
      (try_end),
    ],
    [
      ("continue",
      [],
      "Continue...",
      [
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("ambush_event_success", mnf_disable_all_keys,
    "Strength and discipline were on your side and you have emerged victorious. You remind your scouts to keep their eyes peeled.",
    "none",
    [
      (troop_add_gold, "trp_player", 200),
      (add_xp_to_troop, 50, "trp_player"),
    ],
    [
      ("continue",
      [],
      "Continue.",
      [
        (change_screen_map),
      ]
      ),
    ],
  ),

  ("ambush_event_failed", mnf_disable_all_keys,
    "The ambush is successful and your army is utterly crushed. You are now left with the task of licking your wounds and burying your dead.",
    "none",
    [],
    [
      ("continue",
      [],
      "Continue.",
      [
        (change_screen_map),
      ]
      ),
    ],
  ),

  ("sorceror_outcome", mnf_disable_all_keys,
    "{s9}",
    "none",
    [
      (try_begin),
        (eq, "$disposition", 1),
        (try_begin),
          (eq, "$g_battle_result", 1),
          (quest_set_slot, "qst_chaos_dwarf", 11, 2),
          (call_script, "script_get_meeting_scene"),
          (assign, ":var0", reg0),
          (modify_visitors_at_site, ":var0"),
          (reset_visitors),
          (set_visitor, 0, "trp_player"),
          (set_visitor, 17, "trp_sorcerer_targrim"),
          (set_jump_mission, "mt_conversation_encounter"),
          (jump_to_scene, ":var0"),
          (change_screen_map_conversation, "trp_sorcerer_targrim"),
        (else_try),
          (quest_set_slot, "qst_chaos_dwarf", 11, 3),
          (call_script, "script_get_meeting_scene"),
          (assign, ":var0", reg0),
          (modify_visitors_at_site, ":var0"),
          (reset_visitors),
          (set_visitor, 0, "trp_player"),
          (set_visitor, 17, "trp_sorcerer_targrim"),
          (set_jump_mission, "mt_conversation_encounter"),
          (jump_to_scene, ":var0"),
          (change_screen_map_conversation, "trp_sorcerer_targrim"),
        (try_end),
      (else_try),
        (try_begin),
          (eq, "$g_battle_result", 1),
          (quest_set_slot, "qst_rescue_maldrex", 11, 2),
          (call_script, "script_get_meeting_scene"),
          (assign, ":var0", reg0),
          (modify_visitors_at_site, ":var0"),
          (reset_visitors),
          (set_visitor, 0, "trp_player"),
          (set_visitor, 17, "trp_sir_chevalier"),
          (set_jump_mission, "mt_conversation_encounter"),
          (jump_to_scene, ":var0"),
          (change_screen_map_conversation, "trp_sir_chevalier"),
        (else_try),
          (quest_set_slot, "qst_rescue_maldrex", 11, 3),
          (call_script, "script_get_meeting_scene"),
          (assign, ":var0", reg0),
          (modify_visitors_at_site, ":var0"),
          (reset_visitors),
          (set_visitor, 0, "trp_player"),
          (set_visitor, 17, "trp_sir_chevalier"),
          (set_jump_mission, "mt_conversation_encounter"),
          (jump_to_scene, ":var0"),
          (change_screen_map_conversation, "trp_sir_chevalier"),
        (try_end),
      (try_end),
    ],
    [
      ("continue",
      [],
      "Continue...",
      [
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("josef_end", mnf_disable_all_keys,
    "{s9}",
    "none",
    [
      (try_begin),
        (check_quest_active, "qst_chaos_dwarf"),
        (call_script, "script_get_meeting_scene"),
        (assign, ":var0", reg0),
        (modify_visitors_at_site, ":var0"),
        (reset_visitors),
        (set_visitor, 0, "trp_player"),
        (set_visitor, 17, "trp_good_robbed"),
        (set_jump_mission, "mt_conversation_encounter"),
        (jump_to_scene, ":var0"),
        (assign, "$talk_context", 22),
        (change_screen_map_conversation, "trp_good_robbed"),
      (else_try),
        (call_script, "script_get_meeting_scene"),
        (assign, ":var0", reg0),
        (modify_visitors_at_site, ":var0"),
        (reset_visitors),
        (set_visitor, 0, "trp_player"),
        (set_visitor, 17, "trp_evil_robbed"),
        (set_jump_mission, "mt_conversation_encounter"),
        (jump_to_scene, ":var0"),
        (assign, "$talk_context", 22),
        (change_screen_map_conversation, "trp_evil_robbed"),
      (try_end),
    ],
    [
      ("continue",
      [],
      "Continue...",
      [
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("village_infestation_removed", mnf_disable_all_keys,
    "In a battle worthy of song, you and your men drive the bandits out of the village, making it safe once more. The villagers have little left in the way of wealth after their ordeal, but they offer you {reg10?all they can find:a few heads of cattle}.",
    "none",
    [
      (party_get_slot, ":var0", "$g_encountered_party", 39),
      (party_set_slot, "$g_encountered_party", 39, 0),
      (party_clear, "p_temp_party"),
      (party_add_members, "p_temp_party", ":var0", "$qst_eliminate_bandits_infesting_village_num_bandits"),
      (try_begin),
        (eq, "$players_kingdom", "$g_encountered_party_faction"),
        (assign, "$g_strength_contribution_of_player", 65),
      (else_try),
        (assign, "$g_strength_contribution_of_player", 50),
      (try_end),
      (call_script, "script_party_give_xp_and_gold", "p_temp_party"),
      (try_begin),
        (check_quest_active, "qst_eliminate_bandits_infesting_village"),
        (quest_slot_eq, "qst_eliminate_bandits_infesting_village", 1, "$g_encountered_party"),
        (call_script, "script_end_quest", "qst_eliminate_bandits_infesting_village"),
        (call_script, "script_change_player_relation_with_center", "$g_encountered_party", 5),
      (else_try),
        (check_quest_active, "qst_deal_with_bandits_at_lords_village"),
        (quest_slot_eq, "qst_deal_with_bandits_at_lords_village", 1, "$g_encountered_party"),
        (call_script, "script_succeed_quest", "qst_deal_with_bandits_at_lords_village"),
        (call_script, "script_change_player_relation_with_center", "$g_encountered_party", 3),
      (else_try),
        (call_script, "script_change_player_relation_with_center", "$g_encountered_party", 4),
      (try_end),
      (party_get_slot, ":var1", "$current_town", 25),
      (assign, ":var2", 0),
      (try_for_range, ":var3", 10, 106),
        (store_random_in_range, ":var4", 0, 100),
        (lt, ":var4", 70),
        (troop_set_inventory_slot, ":var1", ":var3", -1),
      (else_try),
        (troop_get_inventory_slot, ":var5", ":var1", ":var3"),
        (gt, ":var5", 0),
        (item_get_type, ":var6", ":var5"),
        (eq, ":var6", 11),
        (val_add, ":var2", 1),
      (try_end),
      (assign, reg10, ":var2"),
      (set_background_mesh, "mesh_pic_mb_warrior_3"),
    ],
    [
      ("village_bandits_defeated_accept",
      [],
      "Take_it_as_your_just_due.",
      [
        (jump_to_menu, "mnu_village"),
        (party_get_slot, ":var0", "$current_town", 25),
        (troop_sort_inventory, ":var0"),
        (change_screen_loot, ":var0"),
      ]
      ),

      ("village_bandits_defeated_cont",
      [],
      "Refuse,_stating_that_they_need_these_items_more_than_you_do.",
      [
        (call_script, "script_change_player_relation_with_center", "$g_encountered_party", 3),
        (try_begin),
          (eq, "$disposition", 1),
          (call_script, "script_change_player_honor", 1),
        (try_end),
        (jump_to_menu, "mnu_village"),
      ]
      ),
    ],
  ),

  ("center_manage", 0,
    "{s19}^{reg6?^^You are currently building {s7}. The building will be completed after {reg8} day{reg9?s:}.:}",
    "none",
    [
      (assign, ":var0", 0),
      (str_clear, s18),
      (try_begin),
        (party_slot_eq, "$g_encountered_party", 0, 4),
        (assign, ":var1", 130),
        (assign, ":var2", 139),
        (str_store_string, s17, "@village"),
      (else_try),
        (assign, ":var1", 137),
        (assign, ":var2", 146),
        (party_slot_eq, "$g_encountered_party", 0, 3),
        (str_store_string, s17, "@town"),
      (else_try),
        (str_store_string, s17, "@castle"),
      (try_end),
      (try_for_range, ":var3", ":var1", ":var2"),
        (party_slot_ge, "$g_encountered_party", ":var3", 1),
        (val_add, ":var0", 1),
        (call_script, "script_get_improvement_details", ":var3"),
        (try_begin),
          (eq, ":var0", 1),
          (str_store_string_reg, s18, s0),
        (else_try),
          (str_store_string, s18, "@{!}{s18}, {s0}"),
        (try_end),
      (try_end),
      (try_begin),
        (eq, ":var0", 0),
        (str_store_string, s19, "@The {s17} has no improvements."),
      (else_try),
        (str_store_string, s19, "@The {s17} has the following improvements:{s18}."),
      (try_end),
      (assign, reg6, 0),
      (try_begin),
        (party_get_slot, ":var4", "$g_encountered_party", 124),
        (gt, ":var4", 0),
        (call_script, "script_get_improvement_details", ":var4"),
        (str_store_string, s7, s0),
        (assign, reg6, 1),
        (store_current_hours, ":var5"),
        (party_get_slot, ":var6", "$g_encountered_party", 125),
        (val_sub, ":var6", ":var5"),
        (store_div, reg8, ":var6", 24),
        (val_max, reg8, 1),
        (store_sub, reg9, reg8, 1),
      (try_end),
    ],
    [
      ("center_build_manor",
      [
        (eq, reg6, 0),
        (party_slot_eq, "$g_encountered_party", 0, 4),
        (party_slot_eq, "$g_encountered_party", 130, 0),
      ],
      "Build_a_manor.",
      [
        (assign, "$g_improvement_type", 130),
        (jump_to_menu, "mnu_center_improve"),
      ]
      ),

      ("center_build_fish_pond",
      [
        (eq, reg6, 0),
        (party_slot_eq, "$g_encountered_party", 0, 4),
        (party_slot_eq, "$g_encountered_party", 131, 0),
      ],
      "Build_a_mill.",
      [
        (assign, "$g_improvement_type", 131),
        (jump_to_menu, "mnu_center_improve"),
      ]
      ),

      ("center_build_watch_tower",
      [
        (eq, reg6, 0),
        (party_slot_eq, "$g_encountered_party", 0, 4),
        (party_slot_eq, "$g_encountered_party", 132, 0),
      ],
      "Build_a_watch_tower.",
      [
        (assign, "$g_improvement_type", 132),
        (jump_to_menu, "mnu_center_improve"),
      ]
      ),

      ("center_build_school",
      [
        (eq, reg6, 0),
        (party_slot_eq, "$g_encountered_party", 0, 4),
        (party_slot_eq, "$g_encountered_party", 133, 0),
      ],
      "Build_a_school.",
      [
        (assign, "$g_improvement_type", 133),
        (jump_to_menu, "mnu_center_improve"),
      ]
      ),

      ("center_build_messenger_post",
      [
        (eq, reg6, 0),
        (party_slot_eq, "$g_encountered_party", 139, 0),
      ],
      "Build_a_messenger_post.",
      [
        (assign, "$g_improvement_type", 139),
        (jump_to_menu, "mnu_center_improve"),
      ]
      ),

      ("center_build_prisoner_tower",
      [
        (eq, reg6, 0),
        (this_or_next|party_slot_eq, "$g_encountered_party", 0, 3),
        (party_slot_eq, "$g_encountered_party", 0, 2),
        (party_slot_eq, "$g_encountered_party", 140, 0),
      ],
      "Build_a_prisoner_tower.",
      [
        (assign, "$g_improvement_type", 140),
        (jump_to_menu, "mnu_center_improve"),
      ]
      ),

      ("center_build_war_academy",
      [
        (eq, reg6, 0),
        (party_slot_eq, "$g_encountered_party", 0, 3),
        (party_slot_eq, "$g_encountered_party", 141, 0),
      ],
      "Build_a_war_academy.",
      [
        (assign, "$g_improvement_type", 141),
        (jump_to_menu, "mnu_center_improve"),
      ]
      ),

      ("center_build_blood_bowl",
      [
        (eq, reg6, 0),
        (party_slot_eq, "$g_encountered_party", 0, 3),
        (party_slot_eq, "$g_encountered_party", 145, 0),
      ],
      "Build_a_Blood_Bowl_Stadium.",
      [
        (assign, "$g_improvement_type", 145),
        (jump_to_menu, "mnu_center_improve"),
      ]
      ),

      ("center_build_temple",
      [
        (eq, reg6, 0),
        (party_slot_eq, "$g_encountered_party", 0, 3),
        (party_slot_eq, "$g_encountered_party", 142, 0),
      ],
      "Build_a_Temple.",
      [
        (assign, "$g_improvement_type", 142),
        (jump_to_menu, "mnu_center_improve"),
      ]
      ),

      ("center_build_market",
      [
        (eq, reg6, 0),
        (party_slot_eq, "$g_encountered_party", 0, 3),
        (party_slot_eq, "$g_encountered_party", 143, 0),
      ],
      "Build_a_Market.",
      [
        (assign, "$g_improvement_type", 143),
        (jump_to_menu, "mnu_center_improve"),
      ]
      ),

      ("center_build_healers_guild",
      [
        (eq, reg6, 0),
        (party_slot_eq, "$g_encountered_party", 0, 3),
        (party_slot_eq, "$g_encountered_party", 144, 0),
      ],
      "Build_a_Healers_Guild",
      [
        (assign, "$g_improvement_type", 144),
        (jump_to_menu, "mnu_center_improve"),
      ]
      ),

      ("center_build_improved_roads",
      [
        (eq, reg6, 0),
        (party_slot_eq, "$g_encountered_party", 0, 3),
        (party_slot_eq, "$g_encountered_party", 137, 0),
      ],
      "Build_Improved_Roads.",
      [
        (assign, "$g_improvement_type", 137),
        (jump_to_menu, "mnu_center_improve"),
      ]
      ),

      ("center_build_barracks",
      [
        (eq, reg6, 0),
        (party_slot_eq, "$g_encountered_party", 0, 2),
        (party_slot_eq, "$g_encountered_party", 146, 0),
      ],
      "Build_Barracks.",
      [
        (assign, "$g_improvement_type", 146),
        (jump_to_menu, "mnu_center_improve"),
      ]
      ),

      ("center_build_shrine",
      [
        (eq, reg6, 0),
        (this_or_next|party_slot_eq, "$g_encountered_party", 0, 2),
        (party_slot_eq, "$g_encountered_party", 0, 4),
        (party_slot_eq, "$g_encountered_party", 138, 0),
      ],
      "Build_a_Shrine.",
      [
        (assign, "$g_improvement_type", 138),
        (jump_to_menu, "mnu_center_improve"),
      ]
      ),

      ("center_build_mining",
      [
        (eq, reg6, 0),
        (party_slot_eq, "$g_encountered_party", 0, 4),
        (party_slot_eq, "$g_encountered_party", 136, 0),
      ],
      "Build_a_Mine.",
      [
        (assign, "$g_improvement_type", 136),
        (jump_to_menu, "mnu_center_improve"),
      ]
      ),

      ("center_build_apothecary",
      [
        (eq, reg6, 0),
        (party_slot_eq, "$g_encountered_party", 0, 4),
        (party_slot_eq, "$g_encountered_party", 134, 0),
      ],
      "Hire_an_Apothecary.",
      [
        (assign, "$g_improvement_type", 134),
        (jump_to_menu, "mnu_center_improve"),
      ]
      ),

      ("center_build_the_watch",
      [
        (eq, reg6, 0),
        (party_slot_eq, "$g_encountered_party", 0, 4),
        (party_slot_eq, "$g_encountered_party", 135, 0),
      ],
      "Create_a_Village_Watch.",
      [
        (assign, "$g_improvement_type", 135),
        (jump_to_menu, "mnu_center_improve"),
      ]
      ),

      ("center_cancel_build",
      [
        (eq, reg6, 1),
      ],
      "Cancel_building_the_{s7}.",
      [
        (call_script, "script_change_center_prosperity", "$current_town", -4),
        (call_script, "script_change_player_relation_with_center", "$current_town", -2),
        (party_set_slot, "$current_town", 124, 0),
        (party_set_slot, "$current_town", 37, 0),
        (party_get_slot, ":var0", "$current_town", 125),
        (try_begin),
          (is_between, "$current_town", "p_town_1", "p_castle_1"),
          (party_get_slot, ":var1", "$current_town", 23),
          (troop_add_gold, ":var1", ":var0"),
        (else_try),
          (is_between, "$current_town", "p_village_1", "p_salt_mine"),
          (party_get_slot, ":var1", "$current_town", 25),
        (else_try),
          (assign, ":var1", -1),
        (try_end),
        (store_current_hours, ":var2"),
        (val_sub, ":var0", ":var2"),
        (val_mul, ":var0", 15),
        (try_begin),
          (gt, ":var1", 0),
          (troop_add_gold, ":var1", ":var0"),
        (else_try),
          (party_get_slot, ":var3", "$current_town", 48),
          (val_add, ":var3", ":var0"),
          (party_set_slot, "$current_town", 48, ":var3"),
        (try_end),
        (jump_to_menu, "$g_next_menu"),
      ]
      ),

      ("go_back_dot",
      [],
      "Go_back.",
      [
        (jump_to_menu, "$g_next_menu"),
      ]
      ),
    ],
  ),

  ("center_improve", 0,
    "{s19} As the party member with the highest engineer skill ({reg2}), {reg3?you reckon:{s3} reckons} that building the {s4} will cost you {reg5} denars and will take {reg6} days.",
    "none",
    [
      (call_script, "script_get_improvement_details", "$g_improvement_type"),
      (assign, ":var0", reg0),
      (str_store_string, s4, s0),
      (str_store_string, s19, s1),
      (call_script, "script_get_max_skill_of_player_party", "skl_engineer"),
      (assign, ":var1", reg0),
      (assign, ":var2", reg1),
      (assign, reg2, ":var1"),
      (store_sub, ":var3", 20, ":var1"),
      (val_mul, ":var0", ":var3"),
      (val_div, ":var0", 20),
      (store_div, ":var4", ":var0", 300),
      (val_add, ":var4", 3),
      (assign, reg5, ":var0"),
      (assign, reg6, ":var4"),
      (try_begin),
        (eq, ":var2", "trp_player"),
        (assign, reg3, 1),
      (else_try),
        (assign, reg3, 0),
        (str_store_troop_name, s3, ":var2"),
      (try_end),
      (assign, "$diplomacy_var", ":var0"),
      (assign, "$diplomacy_var2", ":var4"),
      (assign, "$lord_selected", ":var2"),
      (set_fixed_point_multiplier, 100),
      (position_set_x, pos0, 70),
      (position_set_y, pos0, 5),
      (position_set_z, pos0, 75),
      (set_game_menu_tableau_mesh, "tableau_troop_note_mesh", ":var2", pos0),
    ],
    [
      ("dplmc_improve_cont",
      [
        (gt, "$g_player_chamberlain", 0),
        (store_troop_gold, ":var0", "trp_household_possessions"),
        (ge, ":var0", "$diplomacy_var"),
      ],
      "Go_on._(Pay_from_treasury)",
      [
        (call_script, "script_dplmc_withdraw_from_treasury", "$diplomacy_var"),
        (call_script, "script_improve_center", "$g_encountered_party", "$lord_selected", "$diplomacy_var2"),
        (jump_to_menu, "mnu_center_manage"),
      ]
      ),

      ("improve_not_enough_gold",
      [
        (gt, "$g_player_chamberlain", 0),
        (store_troop_gold, ":var0", "trp_household_possessions"),
        (lt, ":var0", "$diplomacy_var"),
        (disable_menu_option),
      ],
      "Insufficient_fund_in_the_treasury.",
      []
      ),

      ("improve_cont",
      [
        (store_troop_gold, ":var0", "trp_player"),
        (ge, ":var0", "$diplomacy_var"),
      ],
      "Go_on.",
      [
        (try_begin),
          (eq, "$cheat_mode", 1),
          (assign, "$diplomacy_var2", 0),
        (else_try),
          (troop_remove_gold, "trp_player", "$diplomacy_var"),
        (try_end),
        (call_script, "script_improve_center", "$g_encountered_party", "$lord_selected", "$diplomacy_var2"),
        (jump_to_menu, "mnu_center_manage"),
      ]
      ),

      ("improve_not_enough_gold",
      [
        (store_troop_gold, ":var0", "trp_player"),
        (lt, ":var0", "$diplomacy_var"),
        (disable_menu_option),
      ],
      "I_don't_have_enough_money_for_that.",
      []
      ),

      ("forget_it",
      [],
      "Forget_it.",
      [
        (jump_to_menu, "mnu_center_manage"),
      ]
      ),
    ],
  ),

  ("town_bandits_failed", mnf_disable_all_keys,
    "{s4} {s5}",
    "none",
    [
      (store_troop_gold, ":var0", "trp_player"),
      (store_div, ":var1", ":var0", 30),
      (store_random_in_range, ":var2", 40, 100),
      (val_add, ":var1", ":var2"),
      (val_min, ":var1", ":var0"),
      (troop_remove_gold, "trp_player", ":var1"),
      (party_set_slot, "$current_town", 165, 0),
      (party_get_num_companions, ":var3", "p_main_party"),
      (str_store_string, s4, "@The assasins beat you down and leave you for dead. ."),
      (str_store_string, s4, "@You have fallen. The bandits quickly search your body for every coin they can find, then vanish into the night. They have left you alive, if only barely."),
      (try_begin),
        (gt, ":var3", 2),
        (str_store_string, s5, "@Luckily some of your companions come to search for you when you do not return, and find you lying by the side of the road. They hurry you to safety and dress your wounds."),
      (else_try),
        (str_store_string, s5, "@Luckily some passing townspeople find you lying by the side of the road, and recognise you as something other than a simple beggar. They carry you to the nearest inn and dress your wounds."),
      (try_end),
    ],
    [
      ("continue",
      [],
      "Continue...",
      [
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("town_bandits_succeeded", mnf_disable_all_keys,
    "The {s4} fall before you as wheat to a scythe! Soon you stand alone in the streets while {reg4?most of your attackers: the bandit} lie unconscious, dead or dying. Searching the {reg4?bodies:body}, you find a purse which must have belonged to a previous victim of {reg4?these brute:this lowlife}. Or perhaps, it was {reg4?given to them:provided} by someone who wanted to arrange a suitable ending to your life.",
    "none",
    [
      (party_get_slot, ":var0", "$current_town", 165),
      (assign, "$g_last_defeated_bandits_town", "$g_encountered_party"),
      (try_begin),
        (check_quest_active, "qst_deal_with_night_bandits"),
        (neg|check_quest_succeeded, "qst_deal_with_night_bandits"),
        (quest_slot_eq, "qst_deal_with_night_bandits", 1, "$g_encountered_party"),
        (call_script, "script_succeed_quest", "qst_deal_with_night_bandits"),
      (try_end),
      (call_script, "script_game_get_join_cost", ":var0"),
      (store_mul, ":var1", "$num_center_bandits", reg0),
      (try_begin),
        (troop_is_mounted, ":var0"),
        (val_div, ":var1", 2),
      (try_end),
      (add_xp_to_troop, ":var1", "trp_player"),
      (call_script, "script_game_get_upgrade_cost", ":var0"),
      (store_mul, ":var2", "$num_center_bandits", reg0),
      (call_script, "script_troop_add_gold", "trp_player", ":var2"),
      (str_store_troop_name_by_count, s4, ":var0", "$num_center_bandits"),
      (store_sub, reg4, "$num_center_bandits", 1),
    ],
    [
      ("continue",
      [],
      "Continue...",
      [
        (party_set_slot, "$current_town", 165, 0),
        (assign, "$num_center_bandits", 0),
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("village_steal_cattle_confirm", 0,
    "As the party member with the highest looting skill ({reg2}), {reg3?you reckon:{s1} reckons} that you can steal as many as {reg4} heads of village's cattle.",
    "none",
    [
      (call_script, "script_get_max_skill_of_player_party", "skl_looting"),
      (assign, reg2, reg0),
      (assign, ":var0", reg1),
      (try_begin),
        (eq, ":var0", "trp_player"),
        (assign, reg3, 1),
      (else_try),
        (assign, reg3, 0),
        (str_store_troop_name, s1, ":var0"),
      (try_end),
      (call_script, "script_calculate_amount_of_cattle_can_be_stolen", "$current_town"),
      (assign, reg4, reg0),
    ],
    [
      ("village_steal_cattle_confirm",
      [],
      "Go_on.",
      [
        (rest_for_hours_interactive, 3, "$g_warsword_wait_multiplier", 1),
        (assign, "$auto_menu", "mnu_village_steal_cattle"),
        (change_screen_return),
      ]
      ),

      ("forget_it",
      [],
      "Forget_it.",
      [
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("village_steal_cattle", mnf_disable_all_keys,
    "{s1}",
    "none",
    [
      (call_script, "script_calculate_amount_of_cattle_can_be_stolen", "$current_town"),
      (assign, ":var0", reg0),
      (val_add, ":var0", 1),
      (store_random_in_range, ":var1", 0, ":var0"),
      (party_set_slot, "$current_town", 46, 1),
      (party_get_slot, ":var2", "$current_town", 7),
      (try_begin),
        (le, ":var1", 0),
        (call_script, "script_change_player_relation_with_center", "$current_town", -3),
        (str_store_string, s1, "@You fail to steal any cattle."),
      (else_try),
        (assign, reg17, ":var1"),
        (store_sub, reg12, ":var1", 1),
        (try_begin),
          (gt, ":var2", 0),
          (call_script, "script_change_player_relation_with_troop", ":var2", -3),
          (call_script, "script_add_log_entry", 66, "trp_player", "$current_town", ":var2", "$g_encountered_party_faction"),
        (try_end),
        (call_script, "script_change_player_relation_with_center", "$current_town", -5),
        (str_store_string, s1, "@You drive away {reg17} {reg12?heads:head} of cattle from the village's herd."),
        (try_begin),
          (eq, ":var1", 3),
          (unlock_achievement, 31),
        (try_end),
        (call_script, "script_create_cattle_herd", "$current_town", ":var1"),
        (party_get_slot, ":var3", "$current_town", 215),
        (val_sub, ":var3", ":var1"),
        (party_set_slot, "$current_town", 215, ":var3"),
        (try_begin),
          (call_script, "script_get_max_skill_of_player_party", "skl_looting"),
          (neq, reg1, "trp_player"),
          (call_script, "script_change_troop_renown", reg1, 1),
        (try_end),
      (try_end),
    ],
    [
      ("continue",
      [],
      "Continue...",
      [
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("village_take_food_confirm", 0,
    "It will be difficult to force and threaten the peasants into giving their precious supplies. You think you will need at least one hour.",
    "none",
    [],
    [
      ("village_take_food_confirm",
      [],
      "Go_ahead.",
      [
        (rest_for_hours_interactive, 1, "$g_warsword_wait_multiplier", 0),
        (assign, "$auto_enter_town", "$current_town"),
        (assign, "$g_town_visit_after_rest", 1),
        (assign, "$auto_enter_menu_in_center", "mnu_village_take_food"),
        (change_screen_return),
      ]
      ),

      ("forget_it",
      [],
      "Forget_it.",
      [
        (jump_to_menu, "mnu_village"),
      ]
      ),
    ],
  ),

  ("village_take_food", 0,
    "The villagers grudgingly bring out what they have for you.",
    "none",
    [
      (call_script, "script_party_count_members_with_full_health", "p_main_party"),
      (assign, ":var0", reg0),
      (call_script, "script_party_count_members_with_full_health", "$current_town"),
      (assign, ":var1", reg0),
      (try_begin),
        (lt, ":var0", 6),
        (ge, ":var1", 40),
        (neg|party_slot_eq, "$current_town", 7, "trp_player"),
        (jump_to_menu, "mnu_village_start_attack"),
      (try_end),
    ],
    [
      ("take_supplies",
      [],
      "Take_the_supplies.",
      [
        (try_begin),
          (party_slot_ge, "$current_town", 26, -55),
          (try_begin),
            (party_slot_eq, "$current_town", 7, "trp_player"),
            (call_script, "script_change_player_relation_with_center", "$current_town", -1),
          (else_try),
            (call_script, "script_change_player_relation_with_center", "$current_town", -3),
          (try_end),
        (try_end),
        (party_get_slot, ":var0", "$current_town", 7),
        (try_begin),
          (gt, ":var0", 1),
          (call_script, "script_change_player_relation_with_troop", ":var0", -1),
        (try_end),
        (party_get_slot, ":var1", "$current_town", 25),
        (party_get_skill_level, ":var2", "p_main_party", "skl_looting"),
        (val_mul, ":var2", 3),
        (store_sub, ":var3", 70, ":var2"),
        (try_for_range, ":var4", 10, 106),
          (store_random_in_range, ":var5", 0, 100),
          (lt, ":var5", ":var3"),
          (troop_set_inventory_slot, ":var1", ":var4", -1),
        (try_end),
        (call_script, "script_objectionable_action", 3, "str_steal_from_villagers"),
        (call_script, "script_add_log_entry", 2, "trp_player", "$current_town", -1, -1),
        (store_faction_of_party, ":var6", "$current_town"),
        (call_script, "script_faction_inflict_war_damage_on_faction", "$players_kingdom", ":var6", 3),
        (jump_to_menu, "mnu_village"),
        (troop_sort_inventory, ":var1"),
        (change_screen_loot, ":var1"),
      ]
      ),

      ("let_them_keep_it",
      [],
      "Let_them_keep_it.",
      [
        (jump_to_menu, "mnu_village"),
      ]
      ),
    ],
  ),

  ("village_start_attack", mnf_disable_all_keys|mnf_scale_picture,
    "Some of the angry villagers grab their tools and prepare to resist you. It looks like you'll have a fight on your hands if you continue.{s1}",
    "none",
    [
      (set_background_mesh, "mesh_pic_villageriot"),
      (call_script, "script_party_count_members_with_full_health", "p_main_party"),
      (assign, ":var0", reg0),
      (call_script, "script_party_count_members_with_full_health", "$current_town"),
      (assign, ":var1", reg0),
      (try_begin),
        (neq, "$g_battle_result", -1),
        (this_or_next|le, ":var1", 30),
        (gt, ":var0", ":var1"),
        (jump_to_menu, "mnu_village_loot_no_resist"),
      (else_try),
        (this_or_next|eq, ":var1", 0),
        (eq, "$g_battle_result", 1),
        (try_begin),
          (eq, "$g_battle_result", 1),
          (store_random_in_range, ":var2", -30, -15),
          (call_script, "script_change_player_relation_with_center", "$current_town", ":var2"),
          (party_get_slot, ":var3", "$current_town", 7),
          (gt, ":var3", 0),
          (call_script, "script_change_player_relation_with_troop", ":var3", -3),
        (try_end),
        (jump_to_menu, "mnu_village_loot_no_resist"),
      (else_try),
        (eq, "$g_battle_result", -1),
        (try_begin),
          (check_quest_active, "qst_hunt_down_fugitive"),
          (quest_slot_eq, "qst_hunt_down_fugitive", 1, "$current_town"),
          (neg|check_quest_succeeded, "qst_hunt_down_fugitive"),
          (jump_to_menu, "mnu_village_hunt_down_fugitive_defeated"),
        (else_try),
          (jump_to_menu, "mnu_village_loot_defeat"),
        (try_end),
      (try_end),
      (try_begin),
        (check_quest_active, "qst_hunt_down_fugitive"),
        (quest_slot_eq, "qst_hunt_down_fugitive", 1, "$current_town"),
        (neg|check_quest_succeeded, "qst_hunt_down_fugitive"),
        (quest_get_slot, ":var4", "qst_hunt_down_fugitive", 13),
        (call_script, "script_get_name_from_dna_to_s50", ":var4"),
        (str_store_string, s1, "@ From your vantage point you see a man matching the description of {s50} arming himself with a sword during the commotion. If you do not press on the fugitive will slip away!"),
      (else_try),
        (str_clear, s1),
      (try_end),
    ],
    [
      ("village_raid_attack",
      [],
      "Charge_them.",
      [
        (store_random_in_range, ":var0", -10, -5),
        (call_script, "script_change_player_relation_with_center", "$current_town", ":var0"),
        (try_begin),
          (party_get_slot, ":var1", "$current_town", 7),
          (gt, ":var1", 0),
          (call_script, "script_change_player_relation_with_troop", ":var1", -3),
        (try_end),
        (try_begin),
          (check_quest_active, "qst_hunt_down_fugitive"),
          (quest_slot_eq, "qst_hunt_down_fugitive", 1, "$current_town"),
          (neg|check_quest_succeeded, "qst_hunt_down_fugitive"),
          (neg|check_quest_failed, "qst_hunt_down_fugitive"),
          (quest_set_slot, "qst_hunt_down_fugitive", 11, 1),
          (party_add_members, "$current_town", "trp_fugitive", 1),
        (try_end),
        (call_script, "script_calculate_battle_advantage"),
        (set_battle_advantage, reg0),
        (set_party_battle_mode),
        (assign, "$g_battle_result", 0),
        (assign, "$g_village_raid_evil", 1),
        (set_jump_mission, "mt_village_raid"),
        (party_get_slot, ":var2", "$current_town", 10),
        (jump_to_scene, ":var2"),
        (assign, "$g_next_menu", "mnu_village_start_attack"),
        (call_script, "script_diplomacy_party_attacks_neutral", "p_main_party", "$g_encountered_party"),
        (call_script, "script_objectionable_action", 3, "str_loot_village"),
        (jump_to_menu, "mnu_battle_debrief"),
        (change_screen_mission),
      ]
      ),

      ("village_raid_leave",
      [],
      "Leave_this_village_alone.",
      [
        (change_screen_return),
        (try_begin),
          (check_quest_active, "qst_hunt_down_fugitive"),
          (quest_slot_eq, "qst_hunt_down_fugitive", 1, "$current_town"),
          (neg|check_quest_concluded, "qst_hunt_down_fugitive"),
          (call_script, "script_fail_quest", "qst_hunt_down_fugitive"),
        (try_end),
      ]
      ),
    ],
  ),

  ("village_loot_no_resist", 0,
    "The villagers here are few and frightened, and they quickly scatter and run before you. The village is at your mercy.",
    "none",
    [
      (try_begin),
        (eq, "$auto_enter_menu_in_center", "mnu_village_take_food"),
        (jump_to_menu, "$auto_enter_menu_in_center"),
      (try_end),
    ],
    [
      ("village_loot",
      [],
      "Plunder_the_village,_then_raze_it.",
      [
        (call_script, "script_village_set_state", "$current_town", 1),
        (party_set_slot, "$current_town", 34, "p_main_party"),
        (assign, "$g_player_raiding_village", "$current_town"),
        (try_begin),
          (store_faction_of_party, ":var0", "$current_town"),
          (store_relation, ":var1", "$players_kingdom", ":var0"),
          (ge, ":var1", 0),
          (call_script, "script_diplomacy_party_attacks_neutral", "p_main_party", "$current_town"),
        (try_end),
        (rest_for_hours_interactive, 3, "$g_warsword_wait_multiplier", 1),
        (party_set_slot, "$current_town", 250, 1),
        (change_screen_return),
      ]
      ),

      ("village_enslave",
      [
        (party_get_num_companions, ":var0", "$current_town"),
        (gt, ":var0", 0),
        (troops_can_join_as_prisoner, 1),
      ],
      "Chase_after_the_remaining_villagers_and_enslave_them.",
      [
        (call_script, "script_village_set_state", "$current_town", 1),
        (party_set_slot, "$current_town", 34, "p_main_party"),
        (assign, "$g_player_raiding_village", "$current_town"),
        (try_begin),
          (store_faction_of_party, ":var0", "$current_town"),
          (store_relation, ":var1", "$players_kingdom", ":var0"),
          (ge, ":var1", 0),
          (call_script, "script_diplomacy_party_attacks_neutral", "p_main_party", "$current_town"),
        (try_end),
        (party_add_template, "$current_town", "pt_village_defenders"),
        (rest_for_hours, 3, "$g_warsword_wait_multiplier", 1),
        (party_set_slot, "$current_town", 250, 2),
        (assign, "$qst_eliminate_bandits_infesting_village_num_villagers", 0),
        (change_screen_return),
      ]
      ),

      ("village_raid_leave",
      [],
      "Leave_this_village_alone.",
      [
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("village_loot_complete", mnf_disable_all_keys,
    "On your orders your troops sack the village, pillaging everything of any value, and then put the buildings to the torch. From the coins and valuables that are found, you get your share of {reg1} denars.",
    "none",
    [
      (get_achievement_stat, ":var0", 30, 0),
      (get_achievement_stat, ":var1", 30, 1),
      (val_add, ":var0", 1),
      (set_achievement_stat, 30, 0, ":var0"),
      (try_begin),
        (ge, ":var0", 3),
        (ge, ":var1", 3),
        (unlock_achievement, 30),
      (try_end),
      (party_get_slot, ":var2", "$current_town", 7),
      (try_begin),
        (gt, ":var2", 0),
        (call_script, "script_change_player_relation_with_troop", ":var2", -5),
      (try_end),
      (store_random_in_range, ":var3", -35, -25),
      (call_script, "script_change_player_relation_with_center", "$current_town", ":var3"),
      (store_faction_of_party, ":var4", "$current_town"),
      (store_relation, ":var5", ":var4", "fac_player_supporters_faction"),
      (try_begin),
        (lt, ":var5", 0),
        (call_script, "script_change_player_relation_with_faction", ":var4", -3),
      (try_end),
      (assign, ":var6", 50),
      (party_get_slot, ":var7", "$current_town", 25),
      (try_begin),
        (gt, ":var7", 0),
        (store_troop_gold, ":var6", ":var7"),
        (troop_remove_gold, ":var7", ":var6"),
        (val_div, ":var6", 2),
      (try_end),
      (val_max, ":var6", 50),
      (party_get_slot, ":var8", "$current_town", 50),
      (store_mul, ":var9", ":var8", 5),
      (val_add, ":var6", ":var9"),
      (call_script, "script_troop_add_gold", "trp_player", ":var6"),
      (assign, ":var10", 3),
      (store_div, ":var11", ":var6", 100),
      (val_add, ":var10", ":var11"),
      (call_script, "script_change_player_party_morale", ":var10"),
      (faction_get_slot, ":var12", ":var4", 99),
      (store_mul, ":var13", ":var10", 200),
      (val_sub, ":var12", ":var13"),
      (faction_set_slot, ":var4", 99, ":var12"),
      (call_script, "script_objectionable_action", 3, "str_loot_village"),
      (assign, reg1, ":var6"),
    ],
    [
      ("continue",
      [],
      "Continue...",
      [
        (jump_to_menu, "mnu_close"),
        (call_script, "script_calculate_amount_of_cattle_can_be_stolen", "$current_town"),
        (assign, ":var0", reg0),
        (val_mul, ":var0", 3),
        (val_div, ":var0", 2),
        (party_get_slot, ":var1", "$current_town", 215),
        (val_min, ":var0", ":var1"),
        (val_add, ":var0", 1),
        (store_random_in_range, ":var2", 0, ":var0"),
        (try_begin),
          (gt, ":var2", 0),
          (call_script, "script_create_cattle_herd", "$current_town", ":var2"),
          (val_sub, ":var1", ":var2"),
          (party_set_slot, "$current_town", 215, ":var1"),
        (try_end),
        (troop_clear_inventory, "trp_temp_troop"),
        (party_get_slot, ":var3", "$current_town", 120),
        (assign, ":var4", 260),
        (reset_item_probabilities, 100),
        (assign, ":var5", 0),
        (try_for_range, ":var6", "itm_spice", "itm_siege_supply"),
          (party_get_slot, ":var7", ":var3", ":var4"),
          (val_add, ":var4", 1),
          (call_script, "script_center_get_production", ":var3", ":var6"),
          (assign, ":var8", reg0),
          (call_script, "script_center_get_consumption", ":var3", ":var6"),
          (val_div, reg0, 3),
          (val_add, ":var8", reg0),
          (val_mul, ":var8", 4),
          (try_begin),
            (neq, ":var7", 0),
            (val_mul, ":var8", 1000),
            (val_div, ":var8", ":var7"),
          (try_end),
          (val_add, ":var5", ":var8"),
        (try_end),
        (assign, ":var4", 260),
        (try_for_range, ":var6", "itm_spice", "itm_siege_supply"),
          (party_get_slot, ":var7", ":var3", ":var4"),
          (val_add, ":var4", 1),
          (call_script, "script_center_get_production", ":var3", ":var6"),
          (assign, ":var8", reg0),
          (call_script, "script_center_get_consumption", ":var3", ":var6"),
          (val_div, reg0, 3),
          (val_add, ":var8", reg0),
          (val_mul, ":var8", 4),
          (try_begin),
            (neq, ":var7", 0),
            (val_mul, ":var8", 1000),
            (val_div, ":var8", ":var7"),
          (try_end),
          (val_mul, ":var8", 40),
          (val_mul, ":var8", 100),
          (val_div, ":var8", ":var5"),
          (set_item_probability_in_merchandise, ":var6", ":var8"),
        (try_end),
        (troop_add_merchandise, "trp_temp_troop", itp_type_goods, 30),
        (troop_sort_inventory, "trp_temp_troop"),
        (change_screen_loot, "trp_temp_troop"),
      ]
      ),
    ],
  ),

  ("village_enslave_complete", mnf_disable_all_keys,
    "On your orders your troops rampage through the village, dragging peasants from their hovels and stripping them of all possessions. In the span of a few hours you've rounded up {reg1} prisoners, leaving the infirm and the younglings behind. As you march the trussed-up villagers away from the cooling ember of their broken hearths, you hear a distant howl...",
    "none",
    [
      (get_achievement_stat, ":var0", 30, 0),
      (get_achievement_stat, ":var1", 30, 1),
      (val_add, ":var0", 1),
      (set_achievement_stat, 30, 0, ":var0"),
      (try_begin),
        (ge, ":var0", 3),
        (ge, ":var1", 3),
        (unlock_achievement, 30),
      (try_end),
      (set_background_mesh, "mesh_pic_prisoner_wilderness"),
      (call_script, "script_objectionable_action", 3, "str_sell_slavery"),
      (store_random_in_range, ":var2", -35, -25),
      (call_script, "script_change_player_relation_with_center", "$current_town", ":var2"),
      (party_add_particle_system, "$current_town", "psys_map_village_looted_smoke"),
      (store_faction_of_party, ":var3", "$current_town"),
      (store_relation, ":var4", ":var3", "fac_player_supporters_faction"),
      (try_begin),
        (lt, ":var4", 0),
        (call_script, "script_change_player_relation_with_faction", ":var3", -2),
      (try_end),
      (store_mul, ":var5", "$qst_eliminate_bandits_infesting_village_num_villagers", -150),
      (call_script, "script_change_faction_troop_morale", ":var3", ":var5", 1),
      (assign, reg1, "$qst_eliminate_bandits_infesting_village_num_villagers"),
    ],
    [
      ("continue",
      [],
      "Continue...",
      [
        (assign, "$g_leave_town", 1),
        (jump_to_menu, "mnu_village"),
      ]
      ),
    ],
  ),

  ("village_loot_defeat", mnf_scale_picture,
    "Fighting with courage and determination, the villagers manage to hold together and drive off your forces.",
    "none",
    [
      (set_background_mesh, "mesh_pic_villageriot"),
    ],
    [
      ("continue",
      [],
      "Continue...",
      [
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("village_loot_continue", 0,
    "Do you wish to continue looting this village?",
    "none",
    [
      (set_background_mesh, "mesh_pic_looted_village"),
    ],
    [
      ("loot_yes",
      [],
      "Yes.",
      [
        (rest_for_hours, 3, "$g_warsword_wait_multiplier", 1),
        (call_script, "script_diplomacy_party_attacks_neutral", "p_main_party", "$current_town"),
        (change_screen_return),
      ]
      ),

      ("loot_no",
      [],
      "No.",
      [
        (call_script, "script_village_set_state", "$current_town", 0),
        (party_set_slot, "$current_town", 34, -1),
        (assign, "$g_player_raiding_village", 0),
        (assign, "$g_village_raid_evil", 0),
        (party_set_slot, "$current_town", 250, 0),
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("close", 0,
    "Nothing.",
    "none",
    [
      (change_screen_return),
    ],
    [
    ],
    [],
  ),

  ("town", mnf_enable_hot_keys|mnf_scale_picture,
    "^{s4}^{s5}^{s10} ^{s14}^{s11}{s12}{s13}",
    "none",
    [
      (str_clear, s4),
      (str_clear, s5),
      (assign, "$talk_context", 0),
      (assign, "$all_doors_locked", 0),
      (try_begin),
        (eq, "$g_leave_town", 1),
        (assign, "$g_leave_town", 0),
        (assign, "$g_permitted_to_center", 0),
        (assign, "$entry_to_town_forbidden", 0),
        (leave_encounter),
        (change_screen_return),
      (try_end),
      (try_begin),
        (gt, "$sneaked_into_town", 0),
        (call_script, "script_music_set_situation_with_culture", 16384),
      (else_try),
        (call_script, "script_music_set_situation_with_culture", 65536),
      (try_end),
      (store_encountered_party, "$current_town"),
      (call_script, "script_update_center_recon_notes", "$current_town"),
      (assign, "$g_defending_against_siege", 0),
      (str_clear, s3),
      (party_get_battle_opponent, ":var0", "$current_town"),
      (store_faction_of_party, ":var1", "$g_encountered_party"),
      (store_relation, ":var2", ":var1", "fac_player_supporters_faction"),
      (try_begin),
        (gt, ":var0", 0),
        (ge, ":var2", 0),
        (store_faction_of_party, ":var3", ":var0"),
        (store_relation, ":var4", ":var3", "fac_player_supporters_faction"),
        (lt, ":var4", 0),
        (assign, "$g_defending_against_siege", 1),
        (assign, "$g_siege_first_encounter", 1),
        (jump_to_menu, "mnu_siege_started_defender"),
      (try_end),
      (try_begin),
        (gt, "$sneaked_into_town", 0),
        (call_script, "script_music_set_situation_with_culture", 16384),
      (else_try),
        (call_script, "script_music_set_situation_with_culture", 65536),
      (try_end),
      (store_encountered_party, "$current_town"),
      (try_begin),
        (party_get_slot, ":var5", "$current_town", 7),
        (ge, ":var5", 0),
        (set_fixed_point_multiplier, 100),
        (position_set_x, pos0, 70),
        (position_set_y, pos0, 5),
        (position_set_z, pos0, 75),
        (set_game_menu_tableau_mesh, "tableau_troop_note_mesh", ":var5", pos0),
      (try_end),
      (call_script, "script_update_center_recon_notes", "$current_town"),
      (try_begin),
        (is_between, "$g_encountered_party", "p_town_1", "p_castle_1"),
        (store_sub, ":var6", "$g_encountered_party", "p_town_1"),
        (set_achievement_stat, 26, ":var6", 1),
        (assign, ":var7", 0),
        (try_for_range, ":var8", "p_town_1", "p_castle_1"),
          (store_sub, ":var6", ":var8", "p_town_1"),
          (get_achievement_stat, ":var9", 26, ":var6"),
          (eq, ":var9", 0),
          (assign, ":var7", 1),
        (try_end),
        (try_begin),
          (eq, ":var7", 0),
          (unlock_achievement, 26),
        (try_end),
      (try_end),
      (assign, "$qst_collect_taxes_currently_collecting", 0),
      (try_begin),
        (gt, "$quest_auto_menu", 0),
        (jump_to_menu, "$quest_auto_menu"),
        (assign, "$quest_auto_menu", 0),
      (try_end),
      (try_begin),
        (eq, "$g_town_assess_trade_goods_after_rest", 1),
        (assign, "$g_town_assess_trade_goods_after_rest", 0),
        (jump_to_menu, "mnu_town_trade_assessment"),
      (try_end),
      (assign, "$talk_context", 0),
      (assign, "$all_doors_locked", 0),
      (try_begin),
        (eq, "$g_town_visit_after_rest", 1),
        (assign, "$g_town_visit_after_rest", 0),
        (assign, "$town_entered", 1),
      (try_end),
      (str_store_party_name, s2, "$current_town"),
      (party_get_slot, ":var5", "$current_town", 7),
      (store_faction_of_party, ":var10", "$current_town"),
      (str_store_faction_name, s9, ":var10"),
      (try_begin),
        (ge, ":var5", 0),
        (str_store_troop_name, s8, ":var5"),
        (str_store_string, s7, "@{s8} of {s9}"),
      (try_end),
      (try_begin),
        (party_slot_eq, "$current_town", 0, 3),
        (str_store_string, s60, s2),
        (party_get_slot, ":var11", "$current_town", 50),
        (try_begin),
          (eq, "$cheat_mode", 3),
          (assign, reg4, ":var11"),
          (display_message, "@{!}DEBUG -- Prosperity: {reg4}"),
        (try_end),
        (store_div, ":var12", ":var11", 10),
        (val_min, ":var12", 9),
        (val_add, ":var12", "str_town_prosperity_0"),
        (str_store_string, s10, ":var12"),
        (store_div, ":var12", ":var11", 20),
        (val_min, ":var12", 4),
        (val_add, ":var12", "str_town_alt_prosperity_0"),
        (str_store_string, s14, ":var12"),
      (else_try),
        (str_clear, s14),
        (str_store_string, s10, "@You are at {s2}."),
      (try_end),
      (assign, ":var13", reg0),
      (assign, ":var14", reg4),
      (assign, reg0, 0),
      (assign, reg4, 0),
      (try_begin),
        (lt, ":var5", 1),
      (else_try),
        (call_script, "script_troop_get_family_relation_to_troop", ":var5", "trp_player"),
        (ge, reg0, 1),
      (else_try),
        (eq, ":var10", "$players_kingdom"),
        (is_between, ":var10", "fac_player_supporters_faction", "fac_kingdoms_end"),
        (faction_slot_eq, ":var10", 11, ":var5"),
        (str_store_string, s11, "@liege"),
        (assign, reg0, 1),
      (else_try),
        (eq, ":var10", "$players_oath_renounced_against_kingdom"),
        (is_between, ":var10", "fac_kingdom_1", "fac_kingdoms_end"),
        (faction_slot_eq, ":var10", 11, ":var5"),
        (str_store_string, s11, "@former liege"),
        (assign, reg0, 1),
      (else_try),
        (neg|this_or_next|troop_is_hero, ":var5"),
        (troop_slot_eq, ":var5", 5, 0),
      (else_try),
        (call_script, "script_dplmc_is_affiliated_family_member", ":var5"),
        (ge, reg0, 1),
        (try_begin),
          (ge, "$g_encountered_party_relation", 0),
          (str_store_string, s11, "str_dplmc_ally"),
        (else_try),
          (str_store_string, s11, "@affiliate"),
        (try_end),
      (else_try),
        (call_script, "script_troop_get_player_relation", ":var5"),
        (is_between, ":var5", "trp_npc1", "trp_kingdom_1_lord"),
        (neg|troop_slot_eq, ":var5", 82, 8),
        (try_begin),
          (ge, "$g_encountered_party_relation", 0),
          (ge, reg0, 50),
          (str_store_string, s11, "str_dplmc_ally"),
        (else_try),
          (ge, "$g_encountered_party_relation", 0),
          (ge, reg0, 20),
          (str_store_string, s11, "str_dplmc_friend"),
        (else_try),
          (str_store_string, s11, "@former companion"),
        (try_end),
        (assign, reg0, 1),
      (else_try),
        (lt, "$g_encountered_party_relation", 0),
        (assign, reg0, 0),
      (else_try),
        (val_div, reg0, 50),
        (ge, reg0, 1),
        (str_store_string, s11, "str_dplmc_friend"),
      (else_try),
        (eq, ":var10", "$players_kingdom"),
        (faction_slot_eq, ":var10", 8, ":var5"),
        (str_store_string, s11, "@marshall"),
      (else_try),
        (call_script, "script_dplmc_get_troop_standing_in_faction", "trp_player", ":var10"),
        (val_add, reg0, 1),
        (val_sub, reg0, 50),
        (ge, reg0, 1),
        (str_store_string, s11, "@vassal"),
      (else_try),
        (assign, reg0, 0),
      (try_end),
      (try_begin),
        (party_slot_eq, "$current_town", 0, 2),
        (try_begin),
          (eq, ":var5", "trp_player"),
          (str_store_string, s11, "@ Your own banner flies over the castle gate."),
        (else_try),
          (ge, reg0, 1),
          (str_store_string, s11, "@ You see the banner of your {s11} {s7} over the castle gate."),
        (else_try),
          (gt, ":var5", -1),
          (troop_slot_eq, ":var5", 30, "trp_player"),
          (str_store_string, s11, "str__you_see_the_banner_of_your_wifehusband_s7_over_the_castle_gate"),
        (else_try),
          (ge, ":var5", 0),
          (str_store_string, s11, "@ You see the banner of {s7} over the castle gate."),
        (else_try),
          (str_store_string, s11, "@ This castle has no garrison."),
        (try_end),
      (else_try),
        (try_begin),
          (eq, ":var5", "trp_player"),
          (str_store_string, s11, "@ Your own banner flies over the town gates."),
        (else_try),
          (ge, reg0, 1),
          (str_store_string, s11, "@ The banner of your {s11} {s7} flies over the town gates."),
        (else_try),
          (gt, ":var5", -1),
          (troop_slot_eq, ":var5", 30, "trp_player"),
          (str_store_string, s11, "str__the_banner_of_your_wifehusband_s7_flies_over_the_town_gates"),
        (else_try),
          (ge, ":var5", 0),
          (str_store_string, s11, "@ You see the banner of {s7} over the town gates."),
        (else_try),
          (str_store_string, s11, "@ This town has no garrison."),
        (try_end),
      (try_end),
      (assign, reg0, ":var13"),
      (assign, reg4, ":var14"),
      (str_clear, s12),
      (try_begin),
        (party_slot_eq, "$current_town", 0, 3),
        (party_get_slot, ":var15", "$current_town", 26),
        (call_script, "script_describe_center_relation_to_s3", ":var15"),
        (assign, reg9, ":var15"),
        (str_store_string, s12, "@{!} {s3} ({reg9})."),
      (try_end),
      (str_clear, s13),
      (try_begin),
        (gt, "$entry_to_town_forbidden", 0),
        (str_store_string, s13, "@ You have successfully sneaked in."),
      (else_try),
        (faction_slot_eq, ":var10", 4, 6),
        (faction_slot_eq, ":var10", 5, "$current_town"),
        (str_store_string, s13, "str__the_lord_is_currently_holding_a_feast_in_his_hall"),
      (else_try),
        (troop_get_slot, ":var16", "trp_player", 30),
        (try_begin),
          (lt, ":var16", 0),
          (assign, ":var16", 0),
        (else_try),
          (neg|troop_slot_eq, ":var16", 2, 6),
          (neg|troop_slot_eq, ":var16", 12, "$current_town"),
          (assign, ":var16", 0),
        (try_end),
        (try_begin),
          (eq, "$g_player_court", "$current_town"),
          (assign, reg0, ":var16"),
          (store_and, reg1, "$players_kingdom_name_set", 2),
          (str_store_troop_name, s0, ":var16"),
          (str_store_string, s13, "@ Your {reg1?capital is:court can be found} here{reg0? with your spouse, {s0} in residence:}."),
        (else_try),
          (neq, "$g_player_court", "$current_town"),
          (gt, ":var16", 0),
          (troop_slot_eq, ":var16", 12, "$current_town"),
          (str_store_string, s13, "@ Your household can be found here."),
        (try_end),
      (try_end),
      (try_begin),
        (store_time_of_day, reg12),
        (ge, reg12, 5),
        (lt, reg12, 21),
        (assign, "$town_nighttime", 0),
      (else_try),
        (assign, "$town_nighttime", 1),
        (party_slot_eq, "$current_town", 0, 3),
        (str_store_string, s13, "str_town_nighttime"),
      (try_end),
      (try_begin),
        (party_slot_ge, "$current_town", 166, 1),
        (neg|is_currently_night),
        (party_set_slot, "$current_town", 166, 1),
        (str_store_string, s13, "@{s13} A tournament will be held here soon."),
      (try_end),
      (assign, "$castle_undefended", 0),
      (party_get_num_companions, ":var17", "p_collective_enemy"),
      (try_begin),
        (eq, ":var17", 0),
        (assign, "$castle_undefended", 1),
      (try_end),
      (call_script, "script_set_town_picture"),
    ],
    [
      ("castle_castle",
      [
        (party_slot_eq, "$current_town", 0, 2),
        (eq, "$sneaked_into_town", 0),
        (str_clear, s1),
        (try_begin),
          (store_faction_of_party, ":var0", "$current_town"),
          (faction_slot_eq, ":var0", 4, 6),
          (faction_slot_eq, ":var0", 5, "$current_town"),
          (str_store_string, s1, "str__join_the_feast"),
        (try_end),
        (try_begin),
          (party_get_slot, ":var1", "$current_town", 7),
          (lt, ":var1", 0),
          (assign, reg4, 0),
        (else_try),
          (call_script, "script_dplmc_store_troop_is_female_reg", ":var1", 4),
        (try_end),
      ],
      "Go_to_the_{reg4?Lady:Lord}'s_hall{s1}.",
      [
        (try_begin),
          (this_or_next|eq, "$all_doors_locked", 1),
          (gt, "$sneaked_into_town", 0),
          (display_message, "str_door_locked", 0xFFAAAA),
        (else_try),
          (this_or_next|neq, "$players_kingdom", "$g_encountered_party_faction"),
          (neg|troop_slot_ge, "trp_player", 7, 50),
          (neg|troop_slot_ge, "trp_player", 7, 125),
          (neq, "$g_player_eligible_feast_center_no", "$current_town"),
          (faction_slot_eq, "$g_encountered_party_faction", 4, 6),
          (faction_slot_eq, "$g_encountered_party_faction", 5, "$g_encountered_party"),
          (neg|check_quest_active, "qst_wed_betrothed"),
          (neg|check_quest_active, "qst_wed_betrothed_female"),
          (neg|troop_slot_ge, "trp_player", 30, "trp_npc1"),
          (jump_to_menu, "mnu_cannot_enter_court"),
        (else_try),
          (assign, "$town_entered", 1),
          (call_script, "script_enter_court", "$current_town"),
          (party_set_slot, "$current_town", 258, 0),
        (try_end),
      ]
,
      "Door_to_the_castle."
      ),

      ("town_activities",
      [
        (party_slot_eq, "$current_town", 0, 3),
      ],
      "Town_Activities:_visits,_tournaments,_quests,_manage_center.",
      [
        (jump_to_menu, "mnu_town_activities_menu"),
      ]
      ),

      ("town_castle",
      [
        (party_slot_eq, "$current_town", 0, 3),
        (eq, "$entry_to_town_forbidden", 0),
        (str_clear, s1),
        (try_begin),
          (store_faction_of_party, ":var0", "$current_town"),
          (faction_slot_eq, ":var0", 4, 6),
          (faction_slot_eq, ":var0", 5, "$current_town"),
          (str_store_string, s1, "str__join_the_feast"),
        (try_end),
      ],
      "Go_to_the_castle{s1}.",
      [
        (try_begin),
          (this_or_next|eq, "$all_doors_locked", 1),
          (gt, "$sneaked_into_town", 0),
          (display_message, "str_door_locked", 0xFFAAAA),
        (else_try),
          (this_or_next|neq, "$players_kingdom", "$g_encountered_party_faction"),
          (neg|troop_slot_ge, "trp_player", 7, 50),
          (neg|troop_slot_ge, "trp_player", 7, 125),
          (neq, "$g_player_eligible_feast_center_no", "$current_town"),
          (faction_slot_eq, "$g_encountered_party_faction", 4, 6),
          (faction_slot_eq, "$g_encountered_party_faction", 5, "$g_encountered_party"),
          (neg|check_quest_active, "qst_wed_betrothed"),
          (neg|check_quest_active, "qst_wed_betrothed_female"),
          (neg|troop_slot_ge, "trp_player", 30, "trp_npc1"),
          (jump_to_menu, "mnu_cannot_enter_court"),
        (else_try),
          (assign, "$town_entered", 1),
          (call_script, "script_enter_court", "$current_town"),
          (party_set_slot, "$current_town", 258, 0),
        (try_end),
      ]
,
      "Door_to_the_castle."
      ),

      ("town_center",
      [
        (party_slot_eq, "$current_town", 0, 3),
      ],
      "Take_a_walk_around_the_streets.",
      [
        (try_begin),
          (eq, "$talk_context", 18),
          (assign, "$talk_context", 19),
          (assign, "$g_mt_mode", 3),
          (store_faction_of_party, ":var0", "$current_town"),
          (try_begin),
            (neg|is_between, ":var0", "fac_kingdom_1", "fac_kingdoms_end"),
            (party_get_slot, ":var0", "$current_town", 61),
          (try_end),
          (faction_get_slot, ":var1", ":var0", 43),
          (faction_get_slot, ":var2", ":var0", 43),
          (faction_get_slot, ":var3", ":var0", 44),
          (party_get_slot, ":var4", "$current_town", 10),
          (modify_visitors_at_site, ":var4"),
          (reset_visitors),
          (try_begin),
            (party_get_slot, ":var5", "$current_town", 250),
            (store_current_hours, ":var6"),
            (store_add, ":var7", ":var5", 4),
            (neg|is_between, ":var6", ":var5", ":var7"),
            (store_time_of_day, ":var8"),
            (try_begin),
              (ge, ":var8", 6),
              (lt, ":var8", 22),
              (set_visitors, 25, ":var1", 2),
              (set_visitors, 26, ":var1", 1),
              (set_visitors, 27, ":var2", 2),
              (set_visitors, 28, ":var3", 1),
            (else_try),
              (set_visitors, 25, ":var1", 1),
              (set_visitors, 26, ":var1", 1),
              (set_visitors, 27, ":var2", 1),
              (set_visitors, 28, ":var3", 1),
            (try_end),
          (else_try),
            (store_time_of_day, ":var8"),
            (try_begin),
              (ge, ":var8", 6),
              (lt, ":var8", 22),
              (set_visitors, 25, ":var1", 1),
              (set_visitors, 26, ":var1", 0),
              (set_visitors, 27, ":var2", 1),
              (set_visitors, 28, ":var3", 0),
            (else_try),
              (set_visitors, 25, ":var1", 1),
              (set_visitors, 26, ":var1", 0),
              (set_visitors, 27, ":var2", 0),
              (set_visitors, 28, ":var3", 0),
            (try_end),
          (try_end),
          (set_jump_mission, "mt_town_center"),
          (try_begin),
            (gt, "$sneaked_into_town", 0),
            (assign, ":var9", 511),
            (eq, "$g_dplmc_player_disguise", 1),
            (try_for_range, ":var10", 0, 8),
              (try_begin),
                (gt, "$sneaked_into_town", 0),
                (mission_tpl_entry_set_override_flags, "mt_town_center", ":var10", ":var9"),
                (call_script, "script_cf_set_disguise_override_items", "mt_town_center", ":var10", 1),
              (try_end),
            (try_end),
          (try_end),
          (jump_to_scene, ":var4"),
          (change_screen_mission),
        (else_try),
          (assign, "$talk_context", 0),
          (party_get_slot, ":var4", "$current_town", 10),
          (modify_visitors_at_site, ":var4"),
          (reset_visitors),
          (assign, "$g_mt_mode", 0),
          (store_faction_of_party, ":var0", "$current_town"),
          (try_begin),
            (eq, ":var0", "fac_player_supporters_faction"),
            (faction_get_slot, ":var11", "fac_player_supporters_faction", 51),
            (faction_get_slot, ":var12", "fac_player_supporters_faction", 52),
            (faction_get_slot, ":var1", ":var0", 42),
            (faction_get_slot, ":var2", ":var0", 43),
          (else_try),
            (faction_get_slot, ":var11", ":var0", 51),
            (faction_get_slot, ":var12", ":var0", 52),
            (faction_get_slot, ":var1", ":var0", 42),
            (faction_get_slot, ":var2", ":var0", 43),
          (try_end),
          (try_begin),
            (party_get_slot, ":var5", "$current_town", 250),
            (store_current_hours, ":var6"),
            (store_add, ":var7", ":var5", 4),
            (neg|is_between, ":var6", ":var5", ":var7"),
            (set_visitor, 23, ":var12"),
          (try_end),
          (set_visitor, 24, ":var11"),
          (try_begin),
            (gt, ":var1", 0),
            (assign, reg0, ":var2"),
            (assign, reg1, ":var2"),
            (assign, reg2, ":var1"),
            (assign, reg3, ":var1"),
          (else_try),
            (assign, reg0, "trp_vaegir_infantry"),
            (assign, reg1, "trp_vaegir_infantry"),
            (assign, reg2, "trp_vaegir_archer"),
            (assign, reg3, "trp_vaegir_footman"),
          (try_end),
          (shuffle_range, 0, 4),
          (try_begin),
            (party_get_slot, ":var5", "$current_town", 250),
            (store_current_hours, ":var6"),
            (store_add, ":var7", ":var5", 4),
            (neg|is_between, ":var6", ":var5", ":var7"),
            (set_visitor, 25, reg0),
            (set_visitor, 26, reg1),
            (set_visitor, 27, reg2),
            (set_visitor, 28, reg3),
          (try_end),
          (party_get_slot, ":var13", "$current_town", 22),
          (set_visitor, 9, ":var13"),
          (party_get_slot, ":var13", "$current_town", 21),
          (set_visitor, 10, ":var13"),
          (party_get_slot, ":var13", "$current_town", 25),
          (set_visitor, 11, ":var13"),
          (party_get_slot, ":var13", "$current_town", 24),
          (set_visitor, 12, ":var13"),
          (call_script, "script_init_town_walkers"),
          (set_jump_mission, "mt_town_center"),
          (assign, ":var9", 256),
          (try_begin),
            (eq, "$sneaked_into_town", 1),
            (assign, ":var9", 256),
          (try_end),
          (mission_tpl_entry_set_override_flags, "mt_town_center", 0, ":var9"),
          (mission_tpl_entry_set_override_flags, "mt_town_center", 2, ":var9"),
          (mission_tpl_entry_set_override_flags, "mt_town_center", 3, ":var9"),
          (mission_tpl_entry_set_override_flags, "mt_town_center", 4, ":var9"),
          (mission_tpl_entry_set_override_flags, "mt_town_center", 5, ":var9"),
          (mission_tpl_entry_set_override_flags, "mt_town_center", 6, ":var9"),
          (mission_tpl_entry_set_override_flags, "mt_town_center", 7, ":var9"),
          (try_begin),
            (eq, "$town_entered", 0),
            (assign, "$town_entered", 1),
            (eq, "$town_nighttime", 0),
            (set_jump_entry, 1),
            (assign, ":var9", 0),
          (else_try),
            (assign, ":var9", 256),
          (try_end),
          (try_begin),
            (gt, "$sneaked_into_town", 0),
            (assign, ":var9", 511),
          (try_end),
          (try_for_range, ":var10", 0, 8),
            (mission_tpl_entry_set_override_flags, "mt_town_center", ":var10", ":var9"),
            (call_script, "script_cf_set_disguise_override_items", "mt_town_center", ":var10", 1),
          (try_end),
          (jump_to_scene, ":var4"),
          (change_screen_mission),
        (try_end),
      ]
,
      "Door_to_the_town_center."
      ),

      ("town_tavern",
      [
        (party_slot_eq, "$current_town", 0, 3),
      ],
      "Visit_the_tavern.",
      [
        (try_begin),
          (eq, "$all_doors_locked", 1),
          (display_message, "str_door_locked", 0xFFFFAAAA),
        (else_try),
          (call_script, "script_cf_enter_center_location_bandit_check"),
        (else_try),
          (assign, "$town_entered", 1),
          (set_jump_mission, "mt_town_default"),
          (mission_tpl_entry_set_override_flags, "mt_town_default", 0, 256),
          (try_begin),
            (gt, "$sneaked_into_town", 0),
            (mission_tpl_entry_set_override_flags, "mt_town_default", 0, 511),
            (call_script, "script_cf_set_disguise_override_items", "mt_town_default", 0, 1),
          (try_end),
          (party_get_slot, ":var0", "$current_town", 13),
          (jump_to_scene, ":var0"),
          (scene_set_slot, ":var0", 0, 1),
          (assign, "$talk_context", 14),
          (call_script, "script_initialize_tavern_variables"),
          (store_random_in_range, ":var1", 0, 4),
          (modify_visitors_at_site, ":var0"),
          (reset_visitors),
          (assign, ":var2", 17),
          (try_begin),
            (eq, "$cheat_mode", 1),
            (troop_get_slot, ":var3", "trp_belligerent_drunk", 12),
            (try_begin),
              (eq, "$cheat_mode", 0),
            (else_try),
              (is_between, ":var3", "p_town_1", "p_salt_mine"),
              (str_store_party_name, s4, ":var3"),
              (display_message, "str_belligerent_drunk_in_s4"),
            (else_try),
              (display_message, "str_belligerent_drunk_not_found"),
            (try_end),
            (troop_get_slot, ":var4", "trp_fight_promoter", 12),
            (try_begin),
              (eq, "$cheat_mode", 0),
            (else_try),
              (is_between, ":var4", "p_town_1", "p_salt_mine"),
              (str_store_party_name, s4, ":var4"),
              (display_message, "str_roughlooking_character_in_s4"),
            (else_try),
              (display_message, "str_roughlooking_character_not_found"),
            (try_end),
          (try_end),
          (try_begin),
            (store_current_hours, ":var5"),
            (store_sub, ":var6", ":var5", "$g_last_assassination_attempt_time"),
            (gt, ":var6", 168),
            (try_for_range, ":var7", "trp_npc1", "trp_heroes_end"),
              (this_or_next|is_between, ":var7", "trp_npc1", "trp_knight_1_1_wife"),
              (troop_slot_eq, ":var7", 2, 2),
              (neg|troop_slot_ge, ":var7", 2, 11),
              (this_or_next|troop_slot_eq, ":var7", 53, 24),
              (this_or_next|troop_slot_eq, ":var7", 53, 8),
              (troop_slot_eq, ":var7", 53, 5),
              (troop_get_slot, ":var8", ":var7", 10),
              (party_is_active, ":var8"),
              (party_get_attached_to, ":var9", ":var8"),
              (eq, ":var9", "$g_encountered_party"),
              (call_script, "script_troop_get_relation_with_troop", "trp_player", ":var7"),
              (lt, reg0, -20),
              (assign, "$g_last_assassination_attempt_time", ":var5"),
              (troop_set_slot, "trp_hired_assassin", 12, "$g_encountered_party"),
            (try_end),
            (lt, "$g_last_assassination_attempt_time", ":var5"),
            (neg|troop_slot_eq, "trp_hired_assassin", 12, "$g_encountered_party"),
            (try_for_range, ":var10", "trp_knight_1_1_wife", "trp_heroes_end"),
              (troop_slot_eq, ":var10", 12, "$g_encountered_party"),
              (troop_slot_eq, ":var10", 53, 24),
              (troop_slot_eq, ":var10", 2, 6),
              (call_script, "script_troop_get_player_relation", ":var10"),
              (lt, reg0, 1),
              (try_begin),
                (ge, reg0, -20),
                (troop_slot_ge, ":var10", 30, 1),
                (troop_get_slot, reg0, ":var10", 30),
                (call_script, "script_troop_get_player_relation", reg0),
              (try_end),
              (lt, reg0, -20),
              (assign, "$g_last_assassination_attempt_time", ":var5"),
              (troop_set_slot, "trp_hired_assassin", 12, "$g_encountered_party"),
            (try_end),
          (try_end),
          (try_begin),
            (eq, ":var1", 0),
            (call_script, "script_setup_tavern_attacker", ":var2"),
            (val_add, ":var2", 1),
          (try_end),
          (try_begin),
            (eq, 1, 0),
            (troop_slot_eq, "trp_fight_promoter", 12, "$current_town"),
            (set_visitor, ":var2", "trp_fight_promoter"),
            (val_add, ":var2", 1),
          (try_end),
          (party_get_slot, ":var11", "$current_town", 90),
          (party_get_slot, ":var12", "$current_town", 91),
          (try_begin),
            (gt, ":var11", 0),
            (gt, ":var12", 0),
            (set_visitor, ":var2", ":var11"),
            (val_add, ":var2", 1),
          (try_end),
          (party_get_slot, ":var13", "$current_town", 650),
          (party_get_slot, ":var14", "$current_town", 651),
          (try_begin),
            (gt, ":var13", 0),
            (gt, ":var14", 0),
            (set_visitor, ":var2", ":var13"),
            (val_add, ":var2", 1),
          (try_end),
          (party_get_slot, ":var15", "$current_town", 652),
          (party_get_slot, ":var16", "$current_town", 653),
          (party_get_slot, ":var17", "$current_town", 654),
          (try_begin),
            (eq, ":var17", 1),
            (gt, ":var15", 0),
            (gt, ":var16", 0),
            (set_visitor, ":var2", ":var15"),
            (val_add, ":var2", 1),
          (try_end),
          (try_begin),
            (eq, ":var1", 1),
            (call_script, "script_setup_tavern_attacker", ":var2"),
            (val_add, ":var2", 1),
          (try_end),
          (try_for_range, ":var18", "trp_npc1", "trp_kingdom_1_lord"),
            (troop_slot_eq, ":var18", 2, 0),
            (troop_slot_eq, ":var18", 12, "$current_town"),
            (neg|troop_slot_ge, ":var18", 8, "p_town_1"),
            (set_visitor, ":var2", ":var18"),
            (val_add, ":var2", 1),
          (try_end),
          (try_begin),
            (eq, ":var1", 2),
            (call_script, "script_setup_tavern_attacker", ":var2"),
            (val_add, ":var2", 1),
          (try_end),
          (try_begin),
            (party_get_slot, ":var19", "$current_town", 95),
            (gt, ":var19", 0),
            (assign, reg0, ":var19"),
            (assign, reg1, "$current_town"),
            (set_visitor, ":var2", ":var19"),
            (val_add, ":var2", 1),
          (else_try),
            (is_between, "$g_talk_troop", "trp_ransom_broker_1", "trp_tavern_traveler_1"),
            (store_add, ":var20", "$current_town", 9),
            (try_begin),
              (ge, ":var20", "p_castle_1"),
              (val_sub, ":var20", 48),
            (try_end),
            (try_begin),
              (eq, "$cheat_mode", 1),
              (str_store_party_name, s3, "$current_town"),
              (str_store_party_name, s4, ":var20"),
              (display_message, "@{!}DEBUG - Current town is {s3}, but also checking {s4}"),
            (try_end),
            (party_get_slot, ":var19", ":var20", 95),
            (is_between, ":var19", "trp_ransom_broker_1", "trp_tavern_traveler_1"),
            (set_visitor, ":var2", ":var19"),
            (val_add, ":var2", 1),
          (try_end),
          (try_begin),
            (party_get_slot, ":var21", "$current_town", 101),
            (gt, ":var21", 0),
            (set_visitor, ":var2", ":var21"),
            (val_add, ":var2", 1),
          (try_end),
          (try_begin),
            (party_get_slot, ":var22", "$current_town", 102),
            (gt, ":var22", 0),
            (set_visitor, ":var2", ":var22"),
            (val_add, ":var2", 1),
          (try_end),
          (try_begin),
            (party_get_slot, ":var23", "$current_town", 103),
            (gt, ":var23", 0),
            (set_visitor, ":var2", ":var23"),
            (val_add, ":var2", 1),
          (try_end),
          (try_begin),
            (party_get_slot, ":var24", "$current_town", 99),
            (is_between, ":var24", "trp_tavern_minstrel_1", "trp_humanitarian_1"),
            (set_visitor, ":var2", ":var24"),
            (val_add, ":var2", 1),
          (else_try),
            (store_add, ":var20", "$current_town", 9),
            (try_begin),
              (ge, ":var20", "p_castle_1"),
              (val_sub, ":var20", 48),
            (try_end),
            (party_get_slot, ":var24", ":var20", 99),
            (gt, ":var24", 0),
            (set_visitor, ":var2", ":var24"),
            (val_add, ":var2", 1),
          (try_end),
          (try_begin),
            (party_get_slot, ":var25", "$current_town", 98),
            (gt, ":var25", 0),
            (set_visitor, ":var2", ":var25"),
            (val_add, ":var2", 1),
          (try_end),
          (try_begin),
            (eq, ":var1", 3),
            (call_script, "script_setup_tavern_attacker", ":var2"),
            (val_add, ":var2", 1),
          (try_end),
          (try_begin),
            (neg|check_quest_active, "qst_eliminate_bandits_infesting_village"),
            (neg|check_quest_active, "qst_deal_with_bandits_at_lords_village"),
            (assign, ":var26", "p_salt_mine"),
            (try_for_range, ":var27", "p_village_1", ":var26"),
              (party_slot_eq, ":var27", 120, "$current_town"),
              (party_slot_ge, ":var27", 39, 1),
              (neg|party_slot_eq, ":var27", 7, "trp_player"),
              (set_visitor, ":var2", "trp_farmer_from_bandit_village"),
              (val_add, ":var2", 1),
              (assign, ":var26", 0),
            (try_end),
          (try_end),
          (try_begin),
            (eq, "$g_starting_town", "$current_town"),
            (neg|this_or_next|check_quest_finished, "qst_collect_men"),
            (neg|this_or_next|check_quest_finished, "qst_learn_where_merchant_brother_is"),
            (neg|this_or_next|check_quest_finished, "qst_save_relative_of_merchant"),
            (neg|this_or_next|check_quest_finished, "qst_save_town_from_bandits"),
            (eq, "$g_do_one_more_meeting_with_merchant", 1),
            (assign, ":var28", 0),
            (try_begin),
            (try_end),
            (gt, ":var28", 0),
            (set_visitor, ":var2", ":var28"),
            (val_add, ":var2", 1),
          (try_end),
          (change_screen_mission),
        (try_end),
      ]
,
      "Door_to_the_tavern."
      ),

      ("town_merchant",
      [
        (party_slot_eq, "$current_town", 0, 3),
        (eq, 1, 0),
        (eq, "$town_nighttime", 0),
        (this_or_next|eq, "$entry_to_town_forbidden", 0),
        (gt, "$sneaked_into_town", 0),
      ],
      "Speak_with_the_merchant.",
      [
        (try_begin),
          (this_or_next|eq, "$all_doors_locked", 1),
          (eq, "$town_nighttime", 1),
          (display_message, "str_door_locked", 0xFFFFAAAA),
        (else_try),
          (assign, "$town_entered", 1),
          (set_jump_mission, "mt_town_default"),
          (mission_tpl_entry_set_override_flags, "mt_town_default", 0, 256),
          (try_begin),
            (gt, "$sneaked_into_town", 0),
            (mission_tpl_entry_set_override_flags, "mt_town_default", 0, 447),
            (call_script, "script_cf_set_disguise_override_items", "mt_town_default", 0, 1),
          (try_end),
          (party_get_slot, ":var0", "$current_town", 14),
          (jump_to_scene, ":var0"),
          (scene_set_slot, ":var0", 0, 1),
          (change_screen_mission),
        (try_end),
      ]
,
      "Door_to_the_shop."
      ),

      ("town_arena",
      [
        (party_slot_eq, "$current_town", 0, 3),
        (eq, "$sneaked_into_town", 0),
      ],
      "Enter_the_arena.",
      [
        (try_begin),
          (this_or_next|eq, "$all_doors_locked", 1),
          (eq, "$town_nighttime", 1),
          (display_message, "str_door_locked", 0xFFFFAAAA),
        (else_try),
          (assign, "$g_mt_mode", 2),
          (assign, "$town_entered", 1),
          (set_jump_mission, "mt_arena_melee_fight"),
          (party_get_slot, ":var0", "$current_town", 16),
          (modify_visitors_at_site, ":var0"),
          (reset_visitors),
          (set_visitor, 43, "trp_veteran_fighter"),
          (set_visitor, 44, "trp_hired_blade"),
          (set_jump_entry, 50),
          (jump_to_scene, ":var0"),
          (scene_set_slot, ":var0", 0, 1),
          (change_screen_mission),
        (try_end),
      ]
,
      "Door_to_the_arena."
      ),

      ("town_dungeon",
      [
        (eq, 1, 0),
      ],
      "Never:_Enter_the_prison.",
      [
        (try_begin),
          (eq, "$talk_context", 18),
          (gt, "$g_main_attacker_agent", 0),
          (neg|agent_is_alive, "$g_main_attacker_agent"),
          (agent_get_troop_id, ":var0", "$g_main_attacker_agent"),
          (try_begin),
            (eq, "$g_encountered_party_faction", "fac_player_supporters_faction"),
            (party_get_slot, ":var1", "$current_town", 61),
          (else_try),
            (assign, ":var1", "$g_encountered_party_faction"),
          (try_end),
          (faction_slot_eq, ":var1", 51, ":var0"),
          (call_script, "script_deduct_casualties_from_garrison"),
          (call_script, "script_enter_dungeon", "$current_town", "mt_visit_town_castle"),
        (else_try),
          (eq, "$all_doors_locked", 1),
          (display_message, "str_door_locked", 0xFFFFAAAA),
        (else_try),
          (this_or_next|party_slot_eq, "$current_town", 7, "trp_player"),
          (eq, "$g_encountered_party_faction", "$players_kingdom"),
          (assign, "$town_entered", 1),
          (call_script, "script_enter_dungeon", "$current_town", "mt_visit_town_castle"),
        (else_try),
          (display_message, "str_door_locked", 0xFFFFAAAA),
        (try_end),
      ]
,
      "Door_to_the_dungeon."
      ),

      ("castle_inspect",
      [
        (party_slot_eq, "$current_town", 0, 2),
      ],
      "Take_a_walk_around_the_courtyard.",
      [
        (try_begin),
          (eq, "$talk_context", 18),
          (assign, "$talk_context", 19),
          (party_get_slot, ":var0", "$current_town", 10),
          (modify_visitors_at_site, ":var0"),
          (reset_visitors),
          (assign, ":var1", 40),
          (party_get_num_companion_stacks, ":var2", "$g_encountered_party"),
          (try_for_range, ":var3", 0, ":var2"),
            (party_get_slot, ":var4", "$current_town", 250),
            (store_current_hours, ":var5"),
            (store_add, ":var6", ":var4", 4),
            (this_or_next|eq, ":var1", 40),
            (neg|is_between, ":var5", ":var4", ":var6"),
            (lt, ":var1", 47),
            (party_stack_get_troop_id, ":var7", "$g_encountered_party", ":var3"),
            (neg|troop_is_hero, ":var7"),
            (party_stack_get_size, ":var8", "$g_encountered_party", ":var3"),
            (party_stack_get_num_wounded, ":var9", "$g_encountered_party", ":var3"),
            (val_sub, ":var8", ":var9"),
            (gt, ":var8", 0),
            (party_stack_get_troop_dna, ":var10", "$g_encountered_party", ":var3"),
            (set_visitor, ":var1", ":var7", ":var10"),
            (val_add, ":var1", 1),
          (try_end),
          (set_visitor, 7, "trp_player"),
          (set_jump_mission, "mt_castle_visit"),
          (try_begin),
            (gt, "$sneaked_into_town", 0),
            (assign, ":var11", 511),
            (eq, "$g_dplmc_player_disguise", 1),
            (try_for_range, ":var12", 0, 8),
              (mission_tpl_entry_set_override_flags, "mt_castle_visit", ":var12", 511),
              (call_script, "script_cf_set_disguise_override_items", "mt_castle_visit", ":var12", 1),
            (try_end),
          (try_end),
          (jump_to_scene, ":var0"),
          (change_screen_mission),
        (else_try),
          (assign, "$talk_context", 0),
          (assign, "$g_mt_mode", 0),
          (party_get_slot, ":var0", "$current_town", 10),
          (modify_visitors_at_site, ":var0"),
          (reset_visitors),
          (store_faction_of_party, ":var13", "$current_town"),
          (try_begin),
            (neq, "$g_encountered_party_faction", "fac_player_supporters_faction"),
            (faction_get_slot, ":var14", "$g_encountered_party_faction", 51),
          (else_try),
            (faction_get_slot, ":var14", ":var13", 51),
          (try_end),
          (set_visitor, 24, ":var14"),
          (assign, ":var1", 40),
          (party_get_num_companion_stacks, ":var2", "$g_encountered_party"),
          (try_for_range, ":var3", 0, ":var2"),
            (party_get_slot, ":var4", "$current_town", 250),
            (store_current_hours, ":var5"),
            (store_add, ":var6", ":var4", 4),
            (neg|is_between, ":var5", ":var6", ":var4"),
            (lt, ":var1", 47),
            (party_stack_get_troop_id, ":var7", "$g_encountered_party", ":var3"),
            (neg|troop_is_hero, ":var7"),
            (party_stack_get_size, ":var8", "$g_encountered_party", ":var3"),
            (party_stack_get_num_wounded, ":var9", "$g_encountered_party", ":var3"),
            (val_sub, ":var8", ":var9"),
            (gt, ":var8", 0),
            (party_stack_get_troop_dna, ":var10", "$g_encountered_party", ":var3"),
            (set_visitor, ":var1", ":var7", ":var10"),
            (val_add, ":var1", 1),
          (try_end),
          (try_begin),
            (eq, "$town_entered", 0),
            (assign, "$town_entered", 1),
          (try_end),
          (set_jump_entry, 1),
          (assign, ":var11", 256),
          (try_begin),
            (gt, "$sneaked_into_town", 0),
            (assign, ":var11", 511),
          (try_end),
          (set_jump_mission, "mt_castle_visit"),
          (try_for_range, ":var12", 0, 8),
            (mission_tpl_entry_set_override_flags, "mt_castle_visit", ":var12", ":var11"),
            (call_script, "script_cf_set_disguise_override_items", "mt_castle_visit", ":var12", 1),
          (try_end),
          (jump_to_scene, ":var0"),
          (change_screen_mission),
        (try_end),
      ]
,
      "To_the_castle_courtyard."
      ),

      ("town_enterprise",
      [
        (party_slot_eq, "$current_town", 0, 3),
        (party_get_slot, ":var0", "$current_town", 147),
        (gt, ":var0", 1),
        (eq, "$entry_to_town_forbidden", 0),
        (call_script, "script_get_enterprise_name", ":var0"),
        (str_store_string, s3, reg0),
      ],
      "Visit_your_{s3}.",
      [
        (store_sub, ":var0", "$current_town", "p_town_1"),
        (store_add, ":var1", "trp_town_1_master_craftsman", ":var0"),
        (party_get_slot, ":var2", "$current_town", 147),
        (assign, ":var3", "scn_enterprise_mill"),
        (try_begin),
          (eq, ":var2", "itm_bread"),
          (assign, ":var3", "scn_enterprise_mill"),
        (else_try),
          (eq, ":var2", "itm_ale"),
          (assign, ":var3", "scn_enterprise_brewery"),
        (else_try),
          (eq, ":var2", "itm_oil"),
          (assign, ":var3", "scn_enterprise_oil_press"),
        (else_try),
          (eq, ":var2", "itm_wine"),
          (assign, ":var3", "scn_enterprise_winery"),
        (else_try),
          (eq, ":var2", "itm_leatherwork"),
          (assign, ":var3", "scn_enterprise_tannery"),
        (else_try),
          (eq, ":var2", "itm_wool_cloth"),
          (assign, ":var3", "scn_enterprise_wool_weavery"),
        (else_try),
          (eq, ":var2", "itm_linen"),
          (assign, ":var3", "scn_enterprise_linen_weavery"),
        (else_try),
          (eq, ":var2", "itm_velvet"),
          (assign, ":var3", "scn_enterprise_dyeworks"),
        (else_try),
          (eq, ":var2", "itm_tools"),
          (assign, ":var3", "scn_enterprise_smithy"),
        (try_end),
        (modify_visitors_at_site, ":var3"),
        (reset_visitors),
        (set_visitor, 0, "trp_player"),
        (set_visitor, 17, ":var1"),
        (set_jump_mission, "mt_town_default"),
        (jump_to_scene, ":var3"),
        (change_screen_mission),
      ]
,
      "Door_to_your_enterprise."
      ),

      ("trade_with_merchants",
      [
        (party_slot_eq, "$current_town", 0, 3),
      ],
      "Go_to_the_marketplace.",
      [
        (try_begin),
          (call_script, "script_cf_enter_center_location_bandit_check"),
        (else_try),
          (jump_to_menu, "mnu_town_trade"),
        (try_end),
      ]
      ),

      ("castle_station_troops",
      [
        (party_get_slot, ":var0", "$current_town", 7),
        (str_clear, s10),
        (assign, ":var1", 0),
        (try_begin),
          (eq, ":var0", "trp_player"),
          (assign, ":var1", 1),
        (else_try),
          (store_faction_of_party, ":var2", "$g_encountered_party"),
          (eq, ":var2", "fac_player_supporters_faction"),
          (neg|party_slot_ge, "$g_encountered_party", 7, "trp_npc1"),
          (assign, ":var1", 1),
        (else_try),
          (lt, ":var0", 0),
          (store_faction_of_party, ":var3", "$g_encountered_party"),
          (eq, "$players_kingdom", ":var3"),
          (eq, "$g_encountered_party", "$g_castle_requested_by_player"),
          (str_store_string, s10, "str_retrieve_garrison_warning"),
          (assign, ":var1", 1),
        (else_try),
          (lt, ":var0", 0),
          (store_faction_of_party, ":var3", "$g_encountered_party"),
          (eq, "$players_kingdom", ":var3"),
          (store_party_size_wo_prisoners, ":var4", "$g_encountered_party"),
          (eq, ":var4", 0),
          (str_store_string, s10, "str_retrieve_garrison_warning"),
          (assign, ":var1", 1),
        (else_try),
          (party_slot_ge, "$g_encountered_party", 7, "trp_npc1"),
          (store_faction_of_party, ":var3", "$g_encountered_party"),
          (eq, "$players_kingdom", ":var3"),
          (troop_slot_eq, "trp_player", 30, ":var0"),
          (assign, ":var1", 1),
        (try_end),
        (eq, ":var1", 1),
      ],
      "Manage_the_garrison_{s10}",
      [
        (change_screen_exchange_members, 1),
      ]
      ),

      ("castle_wait",
      [
        (this_or_next|ge, "$g_encountered_party_relation", 0),
        (eq, "$castle_undefended", 1),
        (assign, ":var0", 1),
        (str_clear, s1),
        (try_begin),
          (neg|party_slot_eq, "$current_town", 7, "trp_player"),
          (troop_get_slot, ":var1", "trp_player", 30),
          (neg|party_slot_eq, "$current_town", 7, ":var1"),
          (party_slot_ge, "$current_town", 7, "trp_player"),
          (store_faction_of_party, ":var2", "$current_town"),
          (neq, ":var2", "fac_player_supporters_faction"),
          (party_get_num_companions, ":var3", "p_main_party"),
          (store_div, reg1, ":var3", 4),
          (val_add, reg1, 1),
          (str_store_string, s1, "@ ({reg1} denars per night)"),
          (store_troop_gold, ":var4", "trp_player"),
          (lt, ":var4", reg1),
          (assign, ":var0", 0),
        (try_end),
        (eq, ":var0", 1),
      ],
      "Wait_here_for_some_time{s1}.",
      [
        (assign, "$auto_enter_town", "$current_town"),
        (assign, "$g_town_visit_after_rest", 1),
        (assign, "$g_last_rest_center", "$current_town"),
        (assign, "$g_last_rest_payment_until", -1),
        (try_begin),
          (party_is_active, "p_main_party"),
          (party_get_current_terrain, ":var0", "p_main_party"),
          (try_begin),
            (eq, ":var0", 5),
            (unlock_achievement, 28),
          (try_end),
        (try_end),
        (rest_for_hours_interactive, 168, "$g_warsword_wait_multiplier", 0),
        (change_screen_return),
      ]
      ),

      ("meet_with_guild_master",
      [
        (party_slot_eq, "$current_town", 0, 3),
      ],
      "Meet_the_guildmaster.",
      [
        (try_begin),
          (call_script, "script_cf_enter_center_location_bandit_check"),
        (else_try),
          (party_get_slot, ":var0", "$current_town", 25),
          (call_script, "script_setup_troop_meeting", ":var0", -1),
        (try_end),
      ]
      ),

      ("town_leave",
      [],
      "Leave...",
      [
        (assign, "$g_permitted_to_center", 0),
        (assign, "$g_leave_town_outside", 1),
        (party_relocate_near_party, "p_main_party", "$current_town", 1),
        (change_screen_return, 0),
        (try_begin),
          (eq, "$sneaked_into_town", 0),
          (neg|party_slot_ge, "$current_town", 39, 1),
          (call_script, "script_dplmc_initialize_autoloot", 0),
          (try_begin),
            (eq, "$g_dplmc_buy_food_when_leaving", 1),
            (party_get_slot, ":var0", "$current_town", 23),
            (gt, ":var0", 0),
            (call_script, "script_dplmc_auto_buy_food", "trp_player", ":var0"),
          (try_end),
          (try_begin),
            (eq, "$g_dplmc_sell_items_when_leaving", 1),
            (call_script, "script_dplmc_player_auto_sell_at_center", "$current_town"),
          (try_end),
        (else_try),
          (gt, "$sneaked_into_town", 0),
        (try_end),
      ]
,
      "Leave_Area."
      ),

      ("town_cheat",
      [
        (eq, "$cheat_mode", 1),
      ],
      "Use_cheats.",
      [
        (jump_to_menu, "mnu_town_cheats"),
      ]
      ),
    ],
  ),

  ("town_activities_menu", 0,
    "Town Activities Menu",
    "none",
    [],
    [
      ("join_tournament",
      [
        (neg|is_currently_night),
        (party_slot_ge, "$current_town", 166, 1),
      ],
      "Join_the_tournament.",
      [
        (call_script, "script_fill_tournament_participants_troop", "$current_town", 1),
        (assign, "$g_tournament_cur_tier", 0),
        (assign, "$g_tournament_player_team_won", -1),
        (assign, "$g_tournament_bet_placed", 0),
        (assign, "$g_tournament_bet_win_amount", 0),
        (assign, "$g_tournament_last_bet_tier", -1),
        (assign, "$g_tournament_next_num_teams", 0),
        (assign, "$g_tournament_next_team_size", 0),
        (jump_to_menu, "mnu_town_tournament"),
      ]
      ),

      ("visit_lady",
      [
        (neg|troop_slot_ge, "trp_player", 30, "trp_knight_1_1_wife"),
        (assign, "$love_interest_in_town", 0),
        (assign, "$love_interest_in_town_2", 0),
        (assign, "$love_interest_in_town_3", 0),
        (assign, "$love_interest_in_town_4", 0),
        (assign, "$love_interest_in_town_5", 0),
        (assign, "$love_interest_in_town_6", 0),
        (assign, "$love_interest_in_town_7", 0),
        (assign, "$love_interest_in_town_8", 0),
        (try_for_range, ":var0", "trp_knight_1_1_wife", "trp_heroes_end"),
          (troop_slot_eq, ":var0", 12, "$current_town"),
          (call_script, "script_get_kingdom_lady_social_determinants", ":var0"),
          (assign, ":var1", reg0),
          (troop_slot_eq, ":var0", 30, -1),
          (ge, ":var1", 0),
          (this_or_next|troop_slot_ge, ":var0", 5, 2),
          (troop_slot_eq, ":var1", 38, 1),
          (neg|troop_slot_eq, ":var0", 5, 4),
          (try_begin),
            (eq, "$love_interest_in_town", 0),
            (assign, "$love_interest_in_town", ":var0"),
          (else_try),
            (eq, "$love_interest_in_town_2", 0),
            (assign, "$love_interest_in_town_2", ":var0"),
          (else_try),
            (eq, "$love_interest_in_town_3", 0),
            (assign, "$love_interest_in_town_3", ":var0"),
          (else_try),
            (eq, "$love_interest_in_town_4", 0),
            (assign, "$love_interest_in_town_4", ":var0"),
          (else_try),
            (eq, "$love_interest_in_town_5", 0),
            (assign, "$love_interest_in_town_5", ":var0"),
          (else_try),
            (eq, "$love_interest_in_town_6", 0),
            (assign, "$love_interest_in_town_6", ":var0"),
          (else_try),
            (eq, "$love_interest_in_town_7", 0),
            (assign, "$love_interest_in_town_7", ":var0"),
          (else_try),
            (eq, "$love_interest_in_town_8", 0),
            (assign, "$love_interest_in_town_8", ":var0"),
          (try_end),
        (try_end),
        (gt, "$love_interest_in_town", 0),
      ],
      "Attempt_to_visit_a_lady",
      [
        (jump_to_menu, "mnu_lady_visit"),
      ]
,
      "Door_to_the_garden."
      ),

      ("walled_center_manage",
      [
        (neg|party_slot_eq, "$current_town", 35, 5),
        (party_slot_eq, "$current_town", 7, "trp_player"),
        (assign, reg0, 1),
        (try_begin),
          (party_slot_eq, "$current_town", 0, 2),
          (assign, reg0, 0),
        (try_end),
      ],
      "Manage_this_{reg0?town:castle}.",
      [
        (assign, "$g_next_menu", "mnu_town"),
        (jump_to_menu, "mnu_center_manage"),
      ]
      ),

      ("walled_center_move_court",
      [
        (neg|party_slot_eq, "$current_town", 35, 5),
        (party_slot_eq, "$current_town", 7, "trp_player"),
        (eq, "$g_encountered_party_faction", "$players_kingdom"),
        (neq, "$g_player_court", "$current_town"),
        (assign, ":var0", 0),
        (try_begin),
          (is_between, "$players_kingdom", "fac_kingdom_1", "fac_kingdoms_end"),
          (call_script, "script_dplmc_get_troop_standing_in_faction", "trp_player", "$players_kingdom"),
          (ge, reg0, 50),
          (assign, ":var0", 1),
        (else_try),
          (faction_slot_eq, "fac_player_supporters_faction", 11, "trp_player"),
          (eq, "$g_encountered_party_faction", "fac_player_supporters_faction"),
          (assign, ":var0", 1),
        (try_end),
        (eq, ":var0", 1),
        (store_and, ":var1", "$players_kingdom_name_set", 2),
        (neq, ":var1", 2),
      ],
      "Move_your_court_here.",
      [
        (jump_to_menu, "mnu_establish_court"),
      ]
      ),

      ("castle_station_troops",
      [
        (party_get_slot, ":var0", "$current_town", 7),
        (str_clear, s10),
        (assign, ":var1", 0),
        (try_begin),
          (eq, ":var0", "trp_player"),
          (assign, ":var1", 1),
        (else_try),
          (store_faction_of_party, ":var2", "$g_encountered_party"),
          (eq, ":var2", "fac_player_supporters_faction"),
          (neg|party_slot_ge, "$g_encountered_party", 7, "trp_npc1"),
          (assign, ":var1", 1),
        (else_try),
          (lt, ":var0", 0),
          (store_faction_of_party, ":var3", "$g_encountered_party"),
          (eq, "$players_kingdom", ":var3"),
          (eq, "$g_encountered_party", "$g_castle_requested_by_player"),
          (str_store_string, s10, "str_retrieve_garrison_warning"),
          (assign, ":var1", 1),
        (else_try),
          (lt, ":var0", 0),
          (store_faction_of_party, ":var3", "$g_encountered_party"),
          (eq, "$players_kingdom", ":var3"),
          (store_party_size_wo_prisoners, ":var4", "$g_encountered_party"),
          (eq, ":var4", 0),
          (str_store_string, s10, "str_retrieve_garrison_warning"),
          (assign, ":var1", 1),
        (else_try),
          (party_slot_ge, "$g_encountered_party", 7, "trp_npc1"),
          (store_faction_of_party, ":var3", "$g_encountered_party"),
          (eq, "$players_kingdom", ":var3"),
          (this_or_next|troop_slot_eq, ":var0", 30, "trp_player"),
          (troop_slot_eq, "trp_player", 30, ":var0"),
          (this_or_next|is_between, ":var0", "trp_npc1", "trp_heroes_end"),
          (troop_slot_eq, "trp_player", 30, ":var0"),
          (assign, ":var1", 1),
        (try_end),
        (eq, ":var1", 1),
      ],
      "Manage_the_garrison_{s10}",
      [
        (change_screen_exchange_members, 1),
      ]
      ),

      ("dplmc_castle_give_troops",
      [
        (party_get_slot, ":var0", "$current_town", 7),
        (store_faction_of_party, ":var1", "$g_encountered_party"),
        (is_between, ":var1", "fac_player_supporters_faction", "fac_kingdoms_end"),
        (neq, ":var0", "trp_player"),
        (ge, ":var0", "trp_npc1"),
        (neg|troop_slot_eq, "trp_player", 30, ":var0"),
        (neg|troop_slot_eq, ":var0", 30, "trp_player"),
        (call_script, "script_dplmc_player_can_give_troops_to_troop", ":var0"),
        (ge, reg0, 1),
      ],
      "Give_troops_to_the_garrison_(cannot_remove)",
      [
        (change_screen_give_members, "$current_town"),
      ]
      ),

      ("move_troops_within_the_garrison",
      [
        (party_get_slot, ":var0", "$current_town", 7),
        (assign, ":var1", 0),
        (try_begin),
          (eq, ":var0", "trp_player"),
          (assign, ":var1", 1),
        (else_try),
          (store_faction_of_party, ":var2", "$g_encountered_party"),
          (eq, ":var2", "fac_player_supporters_faction"),
          (neg|party_slot_ge, "$g_encountered_party", 7, "trp_npc1"),
          (assign, ":var1", 1),
        (else_try),
          (lt, ":var0", 0),
          (store_faction_of_party, ":var3", "$g_encountered_party"),
          (eq, "$players_kingdom", ":var3"),
          (eq, "$g_encountered_party", "$g_castle_requested_by_player"),
          (assign, ":var1", 1),
        (else_try),
          (lt, ":var0", 0),
          (store_faction_of_party, ":var3", "$g_encountered_party"),
          (eq, "$players_kingdom", ":var3"),
          (store_party_size_wo_prisoners, ":var4", "$g_encountered_party"),
          (eq, ":var4", 0),
          (assign, ":var1", 1),
        (else_try),
          (party_slot_ge, "$g_encountered_party", 7, "trp_npc1"),
          (store_faction_of_party, ":var3", "$g_encountered_party"),
          (eq, "$players_kingdom", ":var3"),
          (assign, ":var1", 1),
        (try_end),
        (eq, ":var1", 1),
      ],
      "move_troops_within_the_garrison",
      [
        (assign, "$g_cur_stack", -1),
        (start_presentation, "prsnt_sort_the_defenders"),
      ]
      ),

      ("collect_taxes_qst",
      [
        (check_quest_active, "qst_collect_taxes"),
        (quest_slot_eq, "qst_collect_taxes", 1, "$current_town"),
        (neg|quest_slot_eq, "qst_collect_taxes", 11, 4),
        (quest_get_slot, ":var0", "qst_collect_taxes", 6),
        (str_store_troop_name, s1, ":var0"),
        (quest_get_slot, reg5, "qst_collect_taxes", 11),
      ],
      "{reg5?Continue_collecting_taxes:Collect_taxes}_due_to_{s1}.",
      [
        (jump_to_menu, "mnu_collect_taxes"),
      ]
      ),

      ("sail_from_port",
      [
        (party_slot_eq, "$current_town", 74, 1),
        (party_get_slot, ":var0", "$current_town", 75),
        (le, ":var0", 6),
        (party_slot_eq, "p_main_party", 330, 0),
      ],
      "Buy_a_ship_(1500_denars)",
      [
        (store_troop_gold, ":var0", "trp_player"),
        (try_begin),
          (ge, ":var0", 1500),
          (troop_remove_gold, "trp_player", 1500),
          (assign, "$g_player_icon_state", 2),
          (party_set_flags, "p_main_party", pf_is_ship, 1),
          (party_get_position, pos1, "p_main_party"),
          (map_get_water_position_around_position, pos2, pos1, 6),
          (party_set_position, "p_main_party", pos2),
          (assign, "$g_main_ship_party", -1),
          (party_set_slot, "p_main_party", 330, 1),
          (party_set_slot, "p_main_party", 333, 1),
          (change_screen_return),
        (else_try),
          (display_message, "@You don't have enough money"),
        (try_end),
      ]
      ),

      ("sail_from_port2",
      [
        (party_slot_eq, "$current_town", 74, 1),
        (party_get_slot, ":var0", "$current_town", 75),
        (le, ":var0", 6),
        (party_slot_ge, "p_main_party", 330, 1),
      ],
      "signal_your_ship_to_take_you_to_sea",
      [
        (assign, "$g_player_icon_state", 2),
        (party_set_flags, "p_main_party", pf_is_ship, 1),
        (party_set_slot, "p_main_party", 333, 1),
        (party_get_position, pos1, "p_main_party"),
        (map_get_water_position_around_position, pos2, pos1, 6),
        (party_set_position, "p_main_party", pos2),
        (party_set_flags, "$g_main_ship_party", pf_village, 0),
        (party_set_icon, "$g_main_ship_party", "icon_camp"),
        (disable_party, "$g_main_ship_party"),
        (remove_party, "$g_main_ship_party"),
        (try_for_parties, ":var0"),
          (gt, ":var0", "p_reserved_5"),
          (party_get_current_terrain, ":var1", ":var0"),
          (party_get_template_id, ":var2", ":var0"),
          (party_get_slot, ":var3", ":var0", 0),
          (try_begin),
            (eq, ":var3", 16),
            (party_get_icon, ":var4", ":var0"),
            (eq, ":var4", "icon_ship_on_land"),
            (assign, ":var5", 1),
            (try_begin),
              (this_or_next|eq, ":var2", "pt_sea_traders"),
              (this_or_next|eq, ":var2", "pt_sea_raiders_ships"),
              (this_or_next|eq, ":var2", "pt_raiders_ships"),
              (eq, ":var2", "pt_pirate_ships"),
              (assign, ":var5", 0),
            (try_end),
            (try_begin),
              (this_or_next|eq, ":var1", 8),
              (eq, ":var1", 0),
              (assign, ":var5", 0),
            (try_end),
            (eq, ":var5", 1),
            (disable_party, ":var0"),
            (remove_party, ":var0"),
          (try_end),
        (try_end),
        (assign, "$g_main_ship_party", -1),
        (try_begin),
          (try_for_parties, ":var6"),
            (gt, ":var6", "p_reserved_5"),
            (party_get_template_id, ":var7", ":var6"),
            (eq, ":var7", "pt_none"),
            (party_get_num_companions, ":var8", ":var6"),
            (eq, ":var8", 0),
            (try_begin),
              (call_script, "script_list_index_of", "trp_list_04", ":var6"),
              (assign, ":var9", reg1),
              (gt, ":var9", 0),
              (call_script, "script_list_remove_at", "trp_list_04", ":var9"),
              (call_script, "script_list_remove_at", "trp_list_05", ":var9"),
            (try_end),
            (remove_party, ":var6"),
          (try_end),
        (try_end),
        (party_set_slot, "p_main_party", 333, 1),
        (change_screen_return),
      ]
      ),

      ("wizards_guild_1",
      [
        (store_skill_level, ":var0", "skl_magic_control", "trp_player"),
        (ge, ":var0", 1),
        (store_faction_of_party, ":var1", "$current_town"),
        (this_or_next|eq, ":var1", "fac_player_supporters_faction"),
        (eq, ":var1", "fac_kingdom_1"),
        (troop_get_type, ":var2", "trp_player"),
        (this_or_next|eq, ":var2", 0),
        (eq, ":var2", 1),
      ],
      "Visit_the_Wizards_Guild.",
      [
        (jump_to_menu, "mnu_wizards_guild_menu"),
      ]
      ),

      ("wizards_guild_2",
      [
        (store_skill_level, ":var0", "skl_magic_control", "trp_player"),
        (ge, ":var0", 1),
        (store_faction_of_party, ":var1", "$current_town"),
        (this_or_next|eq, ":var1", "fac_player_supporters_faction"),
        (eq, ":var1", "fac_kingdom_3"),
        (troop_get_type, ":var2", "trp_player"),
        (this_or_next|eq, ":var2", 8),
        (eq, ":var2", 5),
        (eq, "$high_elf", 1),
      ],
      "Visit_the_Mages_Guild.",
      [
        (jump_to_menu, "mnu_high_elf_mages_guild_menu"),
      ]
      ),

      ("wizards_guild_3",
      [
        (store_skill_level, ":var0", "skl_magic_control", "trp_player"),
        (ge, ":var0", 1),
        (store_faction_of_party, ":var1", "$current_town"),
        (this_or_next|eq, ":var1", "fac_player_supporters_faction"),
        (eq, ":var1", "fac_kingdom_5"),
        (troop_get_type, ":var2", "trp_player"),
        (eq, ":var2", 6),
      ],
      "Visit_the_Sorcerors_Guild.",
      [
        (jump_to_menu, "mnu_sorcerers_guild_menu"),
      ]
      ),

      ("wizards_guild_4",
      [
        (store_skill_level, ":var0", "skl_magic_control", "trp_player"),
        (ge, ":var0", 1),
        (store_faction_of_party, ":var1", "$current_town"),
        (this_or_next|eq, ":var1", "fac_player_supporters_faction"),
        (eq, ":var1", "fac_kingdom_6"),
        (troop_get_type, ":var2", "trp_player"),
        (eq, ":var2", 2),
      ],
      "Visit_the_Liche_Priests_Guild.",
      [
        (jump_to_menu, "mnu_liche_priests_guild_menu"),
      ]
      ),

      ("wizards_guild_5",
      [
        (store_skill_level, ":var0", "skl_magic_control", "trp_player"),
        (ge, ":var0", 1),
        (store_faction_of_party, ":var1", "$current_town"),
        (this_or_next|eq, ":var1", "fac_player_supporters_faction"),
        (eq, ":var1", "fac_kingdom_8"),
        (troop_get_type, ":var2", "trp_player"),
        (eq, ":var2", 14),
      ],
      "Visit_the_Shamans_Guild.",
      [
        (jump_to_menu, "mnu_goblin_shamans_guild_menu"),
      ]
      ),

      ("wizards_guild_6",
      [
        (store_skill_level, ":var0", "skl_magic_control", "trp_player"),
        (ge, ":var0", 1),
        (store_faction_of_party, ":var1", "$current_town"),
        (this_or_next|eq, ":var1", "fac_player_supporters_faction"),
        (eq, ":var1", "fac_kingdom_9"),
        (troop_get_type, ":var2", "trp_player"),
        (this_or_next|eq, ":var2", 0),
        (eq, ":var2", 1),
      ],
      "Visit_the_Viziers_Guild.",
      [
        (jump_to_menu, "mnu_viziers_guild_menu"),
      ]
      ),

      ("wizards_guild_7",
      [
        (store_skill_level, ":var0", "skl_magic_control", "trp_player"),
        (ge, ":var0", 1),
        (store_faction_of_party, ":var1", "$current_town"),
        (this_or_next|eq, ":var1", "fac_player_supporters_faction"),
        (eq, ":var1", "fac_kingdom_10"),
        (troop_get_type, ":var2", "trp_player"),
        (eq, ":var2", 12),
      ],
      "Visit_the_Shamans_Guild.",
      [
        (jump_to_menu, "mnu_orc_shamans_guild_menu"),
      ]
      ),

      ("wizards_guild_8",
      [
        (store_skill_level, ":var0", "skl_magic_control", "trp_player"),
        (ge, ":var0", 1),
        (store_faction_of_party, ":var1", "$current_town"),
        (this_or_next|eq, ":var1", "fac_player_supporters_faction"),
        (eq, ":var1", "fac_kingdom_11"),
        (troop_get_type, ":var2", "trp_player"),
        (eq, ":var2", 1),
      ],
      "Visit_the_Sorceresses_Guild.",
      [
        (jump_to_menu, "mnu_sorceresses_guild_menu"),
      ]
      ),

      ("wizards_guild_9",
      [
        (store_skill_level, ":var0", "skl_magic_control", "trp_player"),
        (ge, ":var0", 1),
        (store_faction_of_party, ":var1", "$current_town"),
        (this_or_next|eq, ":var1", "fac_player_supporters_faction"),
        (eq, ":var1", "fac_kingdom_12"),
        (troop_get_type, ":var2", "trp_player"),
        (this_or_next|eq, ":var2", 8),
        (eq, ":var2", 5),
        (eq, "$dark_elf", 1),
      ],
      "Visit_the_Guild_of_Sorcery.",
      [
        (jump_to_menu, "mnu_darkelf_guild_menu"),
      ]
      ),

      ("wizards_guild_10",
      [
        (store_skill_level, ":var0", "skl_magic_control", "trp_player"),
        (ge, ":var0", 1),
        (store_faction_of_party, ":var1", "$current_town"),
        (this_or_next|eq, ":var1", "fac_player_supporters_faction"),
        (eq, ":var1", "fac_kingdom_13"),
        (troop_get_type, ":var2", "trp_player"),
        (eq, ":var2", 15),
      ],
      "Visit_the_Warlocks_Guild.",
      [
        (jump_to_menu, "mnu_warlocks_guild_menu"),
      ]
      ),

      ("wizards_guild_11",
      [
        (store_skill_level, ":var0", "skl_magic_control", "trp_player"),
        (ge, ":var0", 1),
        (store_faction_of_party, ":var1", "$current_town"),
        (this_or_next|eq, ":var1", "fac_player_supporters_faction"),
        (eq, ":var1", "fac_kingdom_14"),
        (troop_get_type, ":var2", "trp_player"),
        (eq, ":var2", 1),
      ],
      "Visit_the_Ice_Witches_Guild.",
      [
        (jump_to_menu, "mnu_witches_guild_menu"),
      ]
      ),

      ("wizards_guild_12",
      [
        (store_skill_level, ":var0", "skl_magic_control", "trp_player"),
        (ge, ":var0", 1),
        (store_faction_of_party, ":var1", "$current_town"),
        (this_or_next|eq, ":var1", "fac_player_supporters_faction"),
        (eq, ":var1", "fac_kingdom_15"),
        (troop_get_type, ":var2", "trp_player"),
        (eq, ":var2", 13),
      ],
      "Visit_the_Shamans_Guild.",
      [
        (jump_to_menu, "mnu_beastman_shamans_guild_menu"),
      ]
      ),

      ("wizards_guild_13",
      [
        (store_skill_level, ":var0", "skl_magic_control", "trp_player"),
        (ge, ":var0", 1),
        (store_faction_of_party, ":var1", "$current_town"),
        (this_or_next|eq, ":var1", "fac_player_supporters_faction"),
        (eq, ":var1", "fac_kingdom_16"),
        (troop_get_type, ":var2", "trp_player"),
        (eq, ":var2", 1),
      ],
      "Visit_the_Shugenjas_Guild.",
      [
        (jump_to_menu, "mnu_shugenjas_guild_menu"),
      ]
      ),

      ("wizards_guild_14",
      [
        (store_skill_level, ":var0", "skl_magic_control", "trp_player"),
        (ge, ":var0", 1),
        (store_faction_of_party, ":var1", "$current_town"),
        (this_or_next|eq, ":var1", "fac_player_supporters_faction"),
        (eq, ":var1", "fac_kingdom_17"),
        (troop_get_type, ":var2", "trp_player"),
        (this_or_next|eq, ":var2", 9),
        (this_or_next|eq, ":var2", 0),
        (this_or_next|eq, ":var2", 1),
        (eq, ":var2", 2),
      ],
      "Visit_the_Necromancers_Guild.",
      [
        (jump_to_menu, "mnu_necromancers_guild_menu"),
      ]
      ),

      ("wizards_guild_14",
      [
        (store_skill_level, ":var0", "skl_magic_control", "trp_player"),
        (ge, ":var0", 1),
        (store_faction_of_party, ":var1", "$current_town"),
        (this_or_next|eq, ":var1", "fac_player_supporters_faction"),
        (eq, ":var1", "fac_kingdom_18"),
        (troop_get_type, ":var2", "trp_player"),
        (this_or_next|eq, ":var2", 8),
        (eq, ":var2", 5),
        (eq, "$wood_elf", 1),
      ],
      "Visit_the_Mages_Guild.",
      [
        (jump_to_menu, "mnu_wood_elf_mages_guild_menu"),
      ]
      ),

      ("wizards_guild_15",
      [
        (troop_get_slot, ":var0", "trp_player", 7),
        (ge, ":var0", 500),
        (store_faction_of_party, ":var1", "$current_town"),
        (this_or_next|eq, ":var1", "fac_player_supporters_faction"),
        (eq, ":var1", "fac_kingdom_2"),
        (troop_get_type, ":var2", "trp_player"),
        (eq, ":var2", 4),
        (eq, "$disposition", 1),
      ],
      "Visit_the_Runeforge.",
      [
        (jump_to_menu, "mnu_dwarf_runeforge"),
      ]
      ),

      ("wizards_guild_16",
      [
        (store_skill_level, ":var0", "skl_magic_control", "trp_player"),
        (ge, ":var0", 1),
        (store_faction_of_party, ":var1", "$current_town"),
        (this_or_next|eq, ":var1", "fac_player_supporters_faction"),
        (eq, ":var1", "fac_kingdom_4"),
        (troop_get_type, ":var2", "trp_player"),
        (eq, ":var2", 3),
      ],
      "Visit_the_Sorcerers_Guild.",
      [
        (jump_to_menu, "mnu_chaos_dwarf_sorcerers_guild_menu"),
      ]
      ),

      ("recruit_troops_town_menu",
      [
        (party_slot_eq, "$current_town", 0, 3),
        (eq, "$entry_to_town_forbidden", 0),
        (party_slot_eq, "$current_town", 0, 3),
        (party_slot_eq, "$current_town", 7, "trp_player"),
        (gt, "$g_player_chamberlain", 0),
        (gt, "$g_player_constable", 0),
        (eq, "$faction_troops_ready", 1),
      ],
      "Recruit_troops",
      [
        (jump_to_menu, "mnu_recruit_troops"),
      ]
      ),

      ("go_back",
      [],
      "Go_back_to_Town_menu...",
      [
        (jump_to_menu, "mnu_town"),
      ]
      ),
    ],
  ),

  ("wizards_guild_menu", 0,
    "You enter the guild and are greeted by the council. What would you like to do?",
    "none",
    [],
    [
      ("wizards_guild_choose",
      [
        (troop_slot_eq, "trp_player", 225, 0),
      ],
      "I_would_like_to_know_what_schools_I_can_learn.",
      [
        (jump_to_menu, "mnu_wizards_guild_magic_choose"),
      ]
      ),

      ("wizards_guild_resistance",
      [
        (troop_slot_eq, "trp_player", 225, 1),
        (troop_get_slot, ":var0", "trp_player", 226),
        (this_or_next|eq, ":var0", 1),
        (this_or_next|eq, ":var0", 2),
        (this_or_next|eq, ":var0", 3),
        (this_or_next|eq, ":var0", 4),
        (this_or_next|eq, ":var0", 5),
        (this_or_next|eq, ":var0", 6),
        (this_or_next|eq, ":var0", 7),
        (eq, ":var0", 8),
        (troop_get_slot, ":var1", "trp_player", 228),
        (neq, ":var1", 2),
        (neq, ":var1", 1),
      ],
      "I_would_like_to_increase_my_magic_resistance.",
      [
        (assign, "$last_menu", "mnu_wizards_guild_menu"),
        (str_clear, s1),
        (troop_get_slot, ":var0", "trp_player", 228),
        (try_begin),
          (eq, ":var0", 0),
          (str_store_string, s1, "@Magic resistance 6+ costs 1500 and requires a magic level of 1."),
        (else_try),
          (eq, ":var0", 6),
          (str_store_string, s1, "@Magic resistance 5+ costs 3000 and requires a magic level of 3."),
        (else_try),
          (eq, ":var0", 5),
          (str_store_string, s1, "@Magic resistance 4+ costs 5000 and requires a magic level of 5."),
        (else_try),
          (eq, ":var0", 4),
          (str_store_string, s1, "@Magic resistance 3+ costs 10000 and requires a magic level of 7."),
        (else_try),
          (eq, ":var0", 3),
          (str_store_string, s1, "@Magic resistance 2+ costs 20000 and requires a magic level of 9."),
        (else_try),
          (str_store_string, s1, "@You cannot improve your magic level."),
        (try_end),
        (jump_to_menu, "mnu_magic_resistance"),
      ]
      ),

      ("wizards_guild_buy",
      [
        (troop_slot_eq, "trp_player", 225, 1),
        (troop_get_slot, ":var0", "trp_player", 226),
        (this_or_next|eq, ":var0", 1),
        (this_or_next|eq, ":var0", 2),
        (this_or_next|eq, ":var0", 3),
        (this_or_next|eq, ":var0", 4),
        (this_or_next|eq, ":var0", 5),
        (this_or_next|eq, ":var0", 6),
        (this_or_next|eq, ":var0", 7),
        (eq, ":var0", 8),
      ],
      "I_would_like_to_purchase_some_new_spells_and_equipment.",
      [
        (troop_get_slot, ":var0", "trp_player", 226),
        (jump_to_menu, "mnu_wizards_guild_menu"),
        (try_begin),
          (eq, ":var0", 1),
          (change_screen_trade, "trp_light_merchant"),
        (else_try),
          (eq, ":var0", 2),
          (change_screen_trade, "trp_gold_merchant"),
        (else_try),
          (eq, ":var0", 3),
          (change_screen_trade, "trp_jade_merchant"),
        (else_try),
          (eq, ":var0", 4),
          (change_screen_trade, "trp_celestial_merchant"),
        (else_try),
          (eq, ":var0", 5),
          (change_screen_trade, "trp_grey_merchant"),
        (else_try),
          (eq, ":var0", 6),
          (change_screen_trade, "trp_amethyst_merchant"),
        (else_try),
          (eq, ":var0", 7),
          (change_screen_trade, "trp_bright_merchant"),
        (else_try),
          (eq, ":var0", 8),
          (change_screen_trade, "trp_amber_merchant"),
        (try_end),
      ]
      ),

      ("wizards_guild_leave",
      [],
      "Leave.",
      [
        (jump_to_menu, "mnu_town"),
      ]
      ),
    ],
  ),

  ("high_elf_mages_guild_menu", 0,
    "You enter the guild and are greeted by the council. What would you like to do?",
    "none",
    [],
    [
      ("high_elf_mages_guild_choose",
      [
        (troop_slot_eq, "trp_player", 225, 0),
      ],
      "I_would_like_to_know_what_schools_I_can_learn.",
      [
        (jump_to_menu, "mnu_high_elf_mages_guild_magic_choose"),
      ]
      ),

      ("high_elf_mages_guild_resistance",
      [
        (troop_slot_eq, "trp_player", 225, 1),
        (troop_get_slot, ":var0", "trp_player", 226),
        (this_or_next|eq, ":var0", 1),
        (this_or_next|eq, ":var0", 2),
        (this_or_next|eq, ":var0", 3),
        (this_or_next|eq, ":var0", 4),
        (this_or_next|eq, ":var0", 5),
        (this_or_next|eq, ":var0", 6),
        (this_or_next|eq, ":var0", 7),
        (this_or_next|eq, ":var0", 8),
        (eq, ":var0", 9),
        (troop_get_slot, ":var1", "trp_player", 228),
        (neq, ":var1", 2),
        (neq, ":var1", 1),
      ],
      "I_would_like_to_increase_my_magic_resistance.",
      [
        (assign, "$last_menu", "mnu_high_elf_mages_guild_menu"),
        (str_clear, s1),
        (troop_get_slot, ":var0", "trp_player", 228),
        (try_begin),
          (eq, ":var0", 0),
          (str_store_string, s1, "@Magic resistance 6+ costs 1500 and requires a magic level of 1."),
        (else_try),
          (eq, ":var0", 6),
          (str_store_string, s1, "@Magic resistance 5+ costs 3000 and requires a magic level of 3."),
        (else_try),
          (eq, ":var0", 5),
          (str_store_string, s1, "@Magic resistance 4+ costs 5000 and requires a magic level of 5."),
        (else_try),
          (eq, ":var0", 4),
          (str_store_string, s1, "@Magic resistance 3+ costs 10000 and requires a magic level of 7."),
        (else_try),
          (eq, ":var0", 3),
          (str_store_string, s1, "@Magic resistance 2+ costs 20000 and requires a magic level of 9."),
        (else_try),
          (str_store_string, s1, "@You cannot improve your magic level."),
        (try_end),
        (jump_to_menu, "mnu_magic_resistance"),
      ]
      ),

      ("high_elf_mages_guild_buy",
      [
        (troop_slot_eq, "trp_player", 225, 1),
        (troop_get_slot, ":var0", "trp_player", 226),
        (this_or_next|eq, ":var0", 1),
        (this_or_next|eq, ":var0", 2),
        (this_or_next|eq, ":var0", 3),
        (this_or_next|eq, ":var0", 4),
        (this_or_next|eq, ":var0", 5),
        (this_or_next|eq, ":var0", 6),
        (this_or_next|eq, ":var0", 7),
        (this_or_next|eq, ":var0", 8),
        (eq, ":var0", 9),
      ],
      "I_would_like_to_purchase_some_new_spells_and_equipment.",
      [
        (jump_to_menu, "mnu_high_elf_mages_guild_menu"),
        (troop_get_slot, ":var0", "trp_player", 226),
        (try_begin),
          (eq, ":var0", 1),
          (change_screen_trade, "trp_light_merchant"),
        (else_try),
          (eq, ":var0", 2),
          (change_screen_trade, "trp_gold_merchant"),
        (else_try),
          (eq, ":var0", 3),
          (change_screen_trade, "trp_jade_merchant"),
        (else_try),
          (eq, ":var0", 4),
          (change_screen_trade, "trp_celestial_merchant"),
        (else_try),
          (eq, ":var0", 5),
          (change_screen_trade, "trp_grey_merchant"),
        (else_try),
          (eq, ":var0", 6),
          (change_screen_trade, "trp_amethyst_merchant"),
        (else_try),
          (eq, ":var0", 7),
          (change_screen_trade, "trp_bright_merchant"),
        (else_try),
          (eq, ":var0", 8),
          (change_screen_trade, "trp_amber_merchant"),
        (else_try),
          (eq, ":var0", 9),
          (change_screen_trade, "trp_qhaysh_merchant"),
        (try_end),
      ]
      ),

      ("high_elf_mages_guild_leave",
      [],
      "Leave.",
      [
        (jump_to_menu, "mnu_town"),
      ]
      ),
    ],
  ),

  ("sorcerers_guild_menu", 0,
    "You enter the guild and are greeted by the council. What would you like to do?",
    "none",
    [],
    [
      ("sorcerers_guild_choose",
      [
        (troop_slot_eq, "trp_player", 225, 0),
      ],
      "I_would_like_to_know_what_schools_I_can_learn.",
      [
        (jump_to_menu, "mnu_sorcerors_guild_magic_choose"),
      ]
      ),

      ("sorcerers_guild_resistance",
      [
        (troop_slot_eq, "trp_player", 225, 1),
        (troop_get_slot, ":var0", "trp_player", 226),
        (this_or_next|eq, ":var0", 2),
        (this_or_next|eq, ":var0", 5),
        (this_or_next|eq, ":var0", 6),
        (this_or_next|eq, ":var0", 12),
        (this_or_next|eq, ":var0", 13),
        (eq, ":var0", 14),
        (troop_get_slot, ":var1", "trp_player", 228),
        (neq, ":var1", 2),
        (neq, ":var1", 1),
      ],
      "I_would_like_to_increase_my_magic_resistance.",
      [
        (assign, "$last_menu", "mnu_sorcerers_guild_menu"),
        (str_clear, s1),
        (troop_get_slot, ":var0", "trp_player", 228),
        (try_begin),
          (eq, ":var0", 0),
          (str_store_string, s1, "@Magic resistance 6+ costs 1500 and requires a magic level of 1."),
        (else_try),
          (eq, ":var0", 6),
          (str_store_string, s1, "@Magic resistance 5+ costs 3000 and requires a magic level of 3."),
        (else_try),
          (eq, ":var0", 5),
          (str_store_string, s1, "@Magic resistance 4+ costs 5000 and requires a magic level of 5."),
        (else_try),
          (eq, ":var0", 4),
          (str_store_string, s1, "@Magic resistance 3+ costs 10000 and requires a magic level of 7."),
        (else_try),
          (eq, ":var0", 3),
          (str_store_string, s1, "@Magic resistance 2+ costs 20000 and requires a magic level of 9."),
        (else_try),
          (str_store_string, s1, "@You cannot improve your magic level."),
        (try_end),
        (jump_to_menu, "mnu_magic_resistance"),
      ]
      ),

      ("sorcerers_guild_buy",
      [
        (troop_slot_eq, "trp_player", 225, 1),
        (troop_get_slot, ":var0", "trp_player", 226),
        (this_or_next|eq, ":var0", 2),
        (this_or_next|eq, ":var0", 5),
        (this_or_next|eq, ":var0", 6),
        (this_or_next|eq, ":var0", 12),
        (this_or_next|eq, ":var0", 13),
        (eq, ":var0", 14),
      ],
      "I_would_like_to_purchase_some_new_spells_and_equipment.",
      [
        (jump_to_menu, "mnu_sorcerers_guild_menu"),
        (troop_get_slot, ":var0", "trp_player", 226),
        (try_begin),
          (eq, ":var0", 2),
          (change_screen_trade, "trp_gold_merchant"),
        (else_try),
          (eq, ":var0", 5),
          (change_screen_trade, "trp_grey_merchant"),
        (else_try),
          (eq, ":var0", 6),
          (change_screen_trade, "trp_amethyst_merchant"),
        (else_try),
          (eq, ":var0", 12),
          (change_screen_trade, "trp_tzeentch_merchant"),
        (else_try),
          (eq, ":var0", 13),
          (change_screen_trade, "trp_slaanesh_merchant"),
        (else_try),
          (eq, ":var0", 14),
          (change_screen_trade, "trp_nurgle_merchant"),
        (try_end),
      ]
      ),

      ("sorcerers_guild_leave",
      [],
      "Leave.",
      [
        (jump_to_menu, "mnu_town"),
      ]
      ),
    ],
  ),

  ("liche_priests_guild_menu", 0,
    "You enter the guild and are greeted by the council. What would you like to do?",
    "none",
    [],
    [
      ("liche_priests_guild_choose",
      [
        (troop_slot_eq, "trp_player", 225, 0),
      ],
      "I_would_like_to_know_what_schools_I_can_learn.",
      [
        (jump_to_menu, "mnu_liche_priests_guild_magic_choose"),
      ]
      ),

      ("liche_priests_guild_resistance",
      [
        (troop_slot_eq, "trp_player", 225, 1),
        (troop_get_slot, ":var0", "trp_player", 226),
        (this_or_next|eq, ":var0", 1),
        (this_or_next|eq, ":var0", 6),
        (eq, ":var0", 19),
        (troop_get_slot, ":var1", "trp_player", 228),
        (neq, ":var1", 2),
        (neq, ":var1", 1),
      ],
      "I_would_like_to_increase_my_magic_resistance.",
      [
        (assign, "$last_menu", "mnu_liche_priests_guild_menu"),
        (str_clear, s1),
        (troop_get_slot, ":var0", "trp_player", 228),
        (try_begin),
          (eq, ":var0", 0),
          (str_store_string, s1, "@Magic resistance 6+ costs 1500 and requires a magic level of 1."),
        (else_try),
          (eq, ":var0", 6),
          (str_store_string, s1, "@Magic resistance 5+ costs 3000 and requires a magic level of 3."),
        (else_try),
          (eq, ":var0", 5),
          (str_store_string, s1, "@Magic resistance 4+ costs 5000 and requires a magic level of 5."),
        (else_try),
          (eq, ":var0", 4),
          (str_store_string, s1, "@Magic resistance 3+ costs 10000 and requires a magic level of 7."),
        (else_try),
          (eq, ":var0", 3),
          (str_store_string, s1, "@Magic resistance 2+ costs 20000 and requires a magic level of 9."),
        (else_try),
          (str_store_string, s1, "@You cannot improve your magic level."),
        (try_end),
        (jump_to_menu, "mnu_magic_resistance"),
      ]
      ),

      ("liche_priests_guild_buy",
      [
        (troop_slot_eq, "trp_player", 225, 1),
        (troop_get_slot, ":var0", "trp_player", 226),
        (this_or_next|eq, ":var0", 1),
        (this_or_next|eq, ":var0", 6),
        (eq, ":var0", 19),
      ],
      "I_would_like_to_purchase_some_new_spells_and_equipment.",
      [
        (jump_to_menu, "mnu_liche_priests_guild_menu"),
        (troop_get_slot, ":var0", "trp_player", 226),
        (try_begin),
          (eq, ":var0", 19),
          (change_screen_trade, "trp_nehekhara_merchant"),
        (else_try),
          (eq, ":var0", 6),
          (change_screen_trade, "trp_amethyst_merchant"),
        (else_try),
          (change_screen_trade, "trp_light_merchant"),
        (try_end),
      ]
      ),

      ("liche_priests_guild_leave",
      [],
      "Leave.",
      [
        (jump_to_menu, "mnu_town"),
      ]
      ),
    ],
  ),

  ("goblin_shamans_guild_menu", 0,
    "You enter the guild and are greeted by the elders. What would you like to do?",
    "none",
    [],
    [
      ("goblin_shamans_guild_choose",
      [
        (troop_slot_eq, "trp_player", 225, 0),
      ],
      "I_would_like_to_know_what_schools_I_can_learn.",
      [
        (jump_to_menu, "mnu_goblin_shamans_guild_magic_choose"),
      ]
      ),

      ("goblin_shamans_guild_resistance",
      [
        (troop_slot_eq, "trp_player", 225, 1),
        (troop_get_slot, ":var0", "trp_player", 226),
        (eq, ":var0", 16),
        (troop_get_slot, ":var1", "trp_player", 228),
        (neq, ":var1", 2),
        (neq, ":var1", 1),
      ],
      "I_would_like_to_increase_my_magic_resistance.",
      [
        (assign, "$last_menu", "mnu_goblin_shamans_guild_menu"),
        (str_clear, s1),
        (troop_get_slot, ":var0", "trp_player", 228),
        (try_begin),
          (eq, ":var0", 0),
          (str_store_string, s1, "@Magic resistance 6+ costs 1500 and requires a magic level of 1."),
        (else_try),
          (eq, ":var0", 6),
          (str_store_string, s1, "@Magic resistance 5+ costs 3000 and requires a magic level of 3."),
        (else_try),
          (eq, ":var0", 5),
          (str_store_string, s1, "@Magic resistance 4+ costs 5000 and requires a magic level of 5."),
        (else_try),
          (eq, ":var0", 4),
          (str_store_string, s1, "@Magic resistance 3+ costs 10000 and requires a magic level of 7."),
        (else_try),
          (eq, ":var0", 3),
          (str_store_string, s1, "@Magic resistance 2+ costs 20000 and requires a magic level of 9."),
        (else_try),
          (str_store_string, s1, "@You cannot improve your magic level."),
        (try_end),
        (jump_to_menu, "mnu_magic_resistance"),
      ]
      ),

      ("goblin_shamans_guild_buy",
      [
        (troop_slot_eq, "trp_player", 225, 1),
        (troop_get_slot, ":var0", "trp_player", 226),
        (eq, ":var0", 16),
      ],
      "I_would_like_to_purchase_some_new_spells_and_equipment.",
      [
        (jump_to_menu, "mnu_goblin_shamans_guild_menu"),
        (change_screen_trade, "trp_little_waaagh_merchant"),
      ]
      ),

      ("goblin_shamans_guild_leave",
      [],
      "Leave.",
      [
        (jump_to_menu, "mnu_town"),
      ]
      ),
    ],
  ),

  ("viziers_guild_menu", 0,
    "You enter the guild and are greeted by the council. What would you like to do?",
    "none",
    [],
    [
      ("viziers_guild_choose",
      [
        (troop_slot_eq, "trp_player", 225, 0),
      ],
      "I_would_like_to_know_what_schools_I_can_learn.",
      [
        (jump_to_menu, "mnu_viziers_guild_magic_choose"),
      ]
      ),

      ("viziers_guild_resistance",
      [
        (troop_slot_eq, "trp_player", 225, 1),
        (troop_get_slot, ":var0", "trp_player", 226),
        (this_or_next|eq, ":var0", 1),
        (this_or_next|eq, ":var0", 2),
        (this_or_next|eq, ":var0", 4),
        (this_or_next|eq, ":var0", 7),
        (eq, ":var0", 21),
        (troop_get_slot, ":var1", "trp_player", 228),
        (neq, ":var1", 2),
        (neq, ":var1", 1),
      ],
      "I_would_like_to_increase_my_magic_resistance.",
      [
        (assign, "$last_menu", "mnu_viziers_guild_menu"),
        (str_clear, s1),
        (troop_get_slot, ":var0", "trp_player", 228),
        (try_begin),
          (eq, ":var0", 0),
          (str_store_string, s1, "@Magic resistance 6+ costs 1500 and requires a magic level of 1."),
        (else_try),
          (eq, ":var0", 6),
          (str_store_string, s1, "@Magic resistance 5+ costs 3000 and requires a magic level of 3."),
        (else_try),
          (eq, ":var0", 5),
          (str_store_string, s1, "@Magic resistance 4+ costs 5000 and requires a magic level of 5."),
        (else_try),
          (eq, ":var0", 4),
          (str_store_string, s1, "@Magic resistance 3+ costs 10000 and requires a magic level of 7."),
        (else_try),
          (eq, ":var0", 3),
          (str_store_string, s1, "@Magic resistance 2+ costs 20000 and requires a magic level of 9."),
        (else_try),
          (str_store_string, s1, "@You cannot improve your magic level."),
        (try_end),
        (jump_to_menu, "mnu_magic_resistance"),
      ]
      ),

      ("viziers_guild_buy",
      [
        (troop_slot_eq, "trp_player", 225, 1),
        (troop_get_slot, ":var0", "trp_player", 226),
        (this_or_next|eq, ":var0", 1),
        (this_or_next|eq, ":var0", 2),
        (this_or_next|eq, ":var0", 4),
        (this_or_next|eq, ":var0", 7),
        (eq, ":var0", 21),
      ],
      "I_would_like_to_purchase_some_new_spells_and_equipment.",
      [
        (jump_to_menu, "mnu_viziers_guild_menu"),
        (troop_get_slot, ":var0", "trp_player", 226),
        (try_begin),
          (eq, ":var0", 1),
          (change_screen_trade, "trp_light_merchant"),
        (else_try),
          (eq, ":var0", 2),
          (change_screen_trade, "trp_gold_merchant"),
        (else_try),
          (eq, ":var0", 4),
          (change_screen_trade, "trp_celestial_merchant"),
        (else_try),
          (eq, ":var0", 7),
          (change_screen_trade, "trp_bright_merchant"),
        (else_try),
          (eq, ":var0", 21),
          (change_screen_trade, "trp_desert_merchant"),
        (try_end),
      ]
      ),

      ("viziers_guild_leave",
      [],
      "Leave.",
      [
        (jump_to_menu, "mnu_town"),
      ]
      ),
    ],
  ),

  ("orc_shamans_guild_menu", 0,
    "You enter the guild and are greeted by the elders. What would you like to do?",
    "none",
    [],
    [
      ("orc_shamans_guild_choose",
      [
        (troop_slot_eq, "trp_player", 225, 0),
      ],
      "I_would_like_to_know_what_schools_I_can_learn.",
      [
        (jump_to_menu, "mnu_orc_shamans_guild_magic_choose"),
      ]
      ),

      ("orc_shamans_guild_resistance",
      [
        (troop_slot_eq, "trp_player", 225, 1),
        (troop_get_slot, ":var0", "trp_player", 226),
        (eq, ":var0", 15),
        (troop_get_slot, ":var1", "trp_player", 228),
        (neq, ":var1", 2),
        (neq, ":var1", 1),
      ],
      "I_would_like_to_increase_my_magic_resistance.",
      [
        (assign, "$last_menu", "mnu_orc_shamans_guild_menu"),
        (str_clear, s1),
        (troop_get_slot, ":var0", "trp_player", 228),
        (try_begin),
          (eq, ":var0", 0),
          (str_store_string, s1, "@Magic resistance 6+ costs 1500 and requires a magic level of 1."),
        (else_try),
          (eq, ":var0", 6),
          (str_store_string, s1, "@Magic resistance 5+ costs 3000 and requires a magic level of 3."),
        (else_try),
          (eq, ":var0", 5),
          (str_store_string, s1, "@Magic resistance 4+ costs 5000 and requires a magic level of 5."),
        (else_try),
          (eq, ":var0", 4),
          (str_store_string, s1, "@Magic resistance 3+ costs 10000 and requires a magic level of 7."),
        (else_try),
          (eq, ":var0", 3),
          (str_store_string, s1, "@Magic resistance 2+ costs 20000 and requires a magic level of 9."),
        (else_try),
          (str_store_string, s1, "@You cannot improve your magic level."),
        (try_end),
        (jump_to_menu, "mnu_magic_resistance"),
      ]
      ),

      ("orc_shamans_guild_buy",
      [
        (troop_slot_eq, "trp_player", 225, 1),
        (troop_get_slot, ":var0", "trp_player", 226),
        (eq, ":var0", 15),
      ],
      "I_would_like_to_purchase_some_new_spells_and_equipment.",
      [
        (jump_to_menu, "mnu_orc_shamans_guild_menu"),
        (change_screen_trade, "trp_big_waaagh_merchant"),
      ]
      ),

      ("orc_shamans_guild_leave",
      [],
      "Leave.",
      [
        (jump_to_menu, "mnu_town"),
      ]
      ),
    ],
  ),

  ("sorceresses_guild_menu", 0,
    "You enter the guild and are greeted by the council. What would you like to do?",
    "none",
    [],
    [
      ("sorceresses_guild_choose",
      [
        (troop_slot_eq, "trp_player", 225, 0),
      ],
      "I_would_like_to_know_what_schools_I_can_learn.",
      [
        (jump_to_menu, "mnu_sorceresses_guild_magic_choose"),
      ]
      ),

      ("sorceresses_guild_resistance",
      [
        (troop_slot_eq, "trp_player", 225, 1),
        (troop_get_slot, ":var0", "trp_player", 226),
        (this_or_next|eq, ":var0", 3),
        (this_or_next|eq, ":var0", 4),
        (eq, ":var0", 8),
        (troop_get_slot, ":var1", "trp_player", 228),
        (neq, ":var1", 2),
        (neq, ":var1", 1),
      ],
      "I_would_like_to_increase_my_magic_resistance.",
      [
        (assign, "$last_menu", "mnu_sorceresses_guild_menu"),
        (str_clear, s1),
        (troop_get_slot, ":var0", "trp_player", 228),
        (try_begin),
          (eq, ":var0", 0),
          (str_store_string, s1, "@Magic resistance 6+ costs 1500 and requires a magic level of 1."),
        (else_try),
          (eq, ":var0", 6),
          (str_store_string, s1, "@Magic resistance 5+ costs 3000 and requires a magic level of 3."),
        (else_try),
          (eq, ":var0", 5),
          (str_store_string, s1, "@Magic resistance 4+ costs 5000 and requires a magic level of 5."),
        (else_try),
          (eq, ":var0", 4),
          (str_store_string, s1, "@Magic resistance 3+ costs 10000 and requires a magic level of 7."),
        (else_try),
          (eq, ":var0", 3),
          (str_store_string, s1, "@Magic resistance 2+ costs 20000 and requires a magic level of 9."),
        (else_try),
          (str_store_string, s1, "@You cannot improve your magic level."),
        (try_end),
        (jump_to_menu, "mnu_magic_resistance"),
      ]
      ),

      ("sorceresses_guild_buy",
      [
        (troop_slot_eq, "trp_player", 225, 1),
        (troop_get_slot, ":var0", "trp_player", 226),
        (this_or_next|eq, ":var0", 3),
        (this_or_next|eq, ":var0", 4),
        (eq, ":var0", 8),
      ],
      "I_would_like_to_purchase_some_new_spells_and_equipment.",
      [
        (troop_get_slot, ":var0", "trp_player", 226),
        (jump_to_menu, "mnu_sorceresses_guild_menu"),
        (try_begin),
          (eq, ":var0", 3),
          (change_screen_trade, "trp_jade_merchant"),
        (else_try),
          (eq, ":var0", 4),
          (change_screen_trade, "trp_celestial_merchant"),
        (else_try),
          (eq, ":var0", 8),
          (change_screen_trade, "trp_amber_merchant"),
        (try_end),
      ]
      ),

      ("sorceresses_guild_leave",
      [],
      "Leave.",
      [
        (jump_to_menu, "mnu_town"),
      ]
      ),
    ],
  ),

  ("darkelf_guild_menu", 0,
    "You enter the guild and are greeted by the council. What would you like to do?",
    "none",
    [],
    [
      ("darkelf_guild_choose",
      [
        (troop_slot_eq, "trp_player", 225, 0),
      ],
      "I_would_like_to_know_what_schools_I_can_learn.",
      [
        (jump_to_menu, "mnu_darkelf_guild_magic_choose"),
      ]
      ),

      ("darkelf_guild_resistance",
      [
        (troop_slot_eq, "trp_player", 225, 1),
        (troop_get_slot, ":var0", "trp_player", 226),
        (this_or_next|eq, ":var0", 2),
        (this_or_next|eq, ":var0", 5),
        (this_or_next|eq, ":var0", 6),
        (this_or_next|eq, ":var0", 7),
        (this_or_next|eq, ":var0", 13),
        (eq, ":var0", 10),
        (troop_get_slot, ":var1", "trp_player", 228),
        (neq, ":var1", 2),
        (neq, ":var1", 1),
      ],
      "I_would_like_to_increase_my_magic_resistance.",
      [
        (assign, "$last_menu", "mnu_darkelf_guild_menu"),
        (str_clear, s1),
        (troop_get_slot, ":var0", "trp_player", 228),
        (try_begin),
          (eq, ":var0", 0),
          (str_store_string, s1, "@Magic resistance 6+ costs 1500 and requires a magic level of 1."),
        (else_try),
          (eq, ":var0", 6),
          (str_store_string, s1, "@Magic resistance 5+ costs 3000 and requires a magic level of 3."),
        (else_try),
          (eq, ":var0", 5),
          (str_store_string, s1, "@Magic resistance 4+ costs 5000 and requires a magic level of 5."),
        (else_try),
          (eq, ":var0", 4),
          (str_store_string, s1, "@Magic resistance 3+ costs 10000 and requires a magic level of 7."),
        (else_try),
          (eq, ":var0", 3),
          (str_store_string, s1, "@Magic resistance 2+ costs 20000 and requires a magic level of 9."),
        (else_try),
          (str_store_string, s1, "@You cannot improve your magic level."),
        (try_end),
        (jump_to_menu, "mnu_magic_resistance"),
      ]
      ),

      ("darkelf_guild_buy",
      [
        (troop_slot_eq, "trp_player", 225, 1),
        (troop_get_slot, ":var0", "trp_player", 226),
        (this_or_next|eq, ":var0", 2),
        (this_or_next|eq, ":var0", 5),
        (this_or_next|eq, ":var0", 6),
        (this_or_next|eq, ":var0", 7),
        (this_or_next|eq, ":var0", 13),
        (eq, ":var0", 10),
      ],
      "I_would_like_to_purchase_some_new_spells_and_equipment.",
      [
        (troop_get_slot, ":var0", "trp_player", 226),
        (jump_to_menu, "mnu_darkelf_guild_menu"),
        (try_begin),
          (eq, ":var0", 2),
          (change_screen_trade, "trp_gold_merchant"),
        (else_try),
          (eq, ":var0", 5),
          (change_screen_trade, "trp_grey_merchant"),
        (else_try),
          (eq, ":var0", 6),
          (change_screen_trade, "trp_amethyst_merchant"),
        (else_try),
          (eq, ":var0", 7),
          (change_screen_trade, "trp_bright_merchant"),
        (else_try),
          (eq, ":var0", 10),
          (change_screen_trade, "trp_dhar_merchant"),
        (else_try),
          (eq, ":var0", 13),
          (change_screen_trade, "trp_slaanesh_merchant"),
        (try_end),
      ]
      ),

      ("darkelf_guild_leave",
      [],
      "Leave.",
      [
        (jump_to_menu, "mnu_town"),
      ]
      ),
    ],
  ),

  ("warlocks_guild_menu", 0,
    "You enter the guild and are greeted by the council. What would you like to do?",
    "none",
    [],
    [
      ("warlock_guild_choose",
      [
        (troop_slot_eq, "trp_player", 225, 0),
      ],
      "I_would_like_to_know_what_schools_I_can_learn.",
      [
        (jump_to_menu, "mnu_warlock_guild_magic_choose"),
      ]
      ),

      ("warlock_guild_resistance",
      [
        (troop_slot_eq, "trp_player", 225, 1),
        (troop_get_slot, ":var0", "trp_player", 226),
        (this_or_next|eq, ":var0", 17),
        (eq, ":var0", 18),
        (troop_get_slot, ":var1", "trp_player", 228),
        (neq, ":var1", 2),
        (neq, ":var1", 1),
      ],
      "I_would_like_to_increase_my_magic_resistance.",
      [
        (assign, "$last_menu", "mnu_warlocks_guild_menu"),
        (str_clear, s1),
        (troop_get_slot, ":var0", "trp_player", 228),
        (try_begin),
          (eq, ":var0", 0),
          (str_store_string, s1, "@Magic resistance 6+ costs 1500 and requires a magic level of 1."),
        (else_try),
          (eq, ":var0", 6),
          (str_store_string, s1, "@Magic resistance 5+ costs 3000 and requires a magic level of 3."),
        (else_try),
          (eq, ":var0", 5),
          (str_store_string, s1, "@Magic resistance 4+ costs 5000 and requires a magic level of 5."),
        (else_try),
          (eq, ":var0", 4),
          (str_store_string, s1, "@Magic resistance 3+ costs 10000 and requires a magic level of 7."),
        (else_try),
          (eq, ":var0", 3),
          (str_store_string, s1, "@Magic resistance 2+ costs 20000 and requires a magic level of 9."),
        (else_try),
          (str_store_string, s1, "@You cannot improve your magic level."),
        (try_end),
        (jump_to_menu, "mnu_magic_resistance"),
      ]
      ),

      ("warlock_guild_buy",
      [
        (troop_slot_eq, "trp_player", 225, 1),
        (troop_get_slot, ":var0", "trp_player", 226),
        (this_or_next|eq, ":var0", 17),
        (eq, ":var0", 18),
      ],
      "I_would_like_to_purchase_some_new_spells_and_equipment.",
      [
        (troop_get_slot, ":var0", "trp_player", 226),
        (jump_to_menu, "mnu_warlocks_guild_menu"),
        (try_begin),
          (eq, ":var0", 17),
          (change_screen_trade, "trp_ruin_merchant"),
        (else_try),
          (eq, ":var0", 18),
          (change_screen_trade, "trp_plague_merchant"),
        (try_end),
      ]
      ),

      ("warlock_guild_leave",
      [],
      "Leave.",
      [
        (jump_to_menu, "mnu_town"),
      ]
      ),
    ],
  ),

  ("witches_guild_menu", 0,
    "You enter the guild and are greeted by the council. What would you like to do?",
    "none",
    [],
    [
      ("witches_guild_choose",
      [
        (troop_slot_eq, "trp_player", 225, 0),
      ],
      "I_would_like_to_know_what_schools_I_can_learn.",
      [
        (jump_to_menu, "mnu_witches_guild_magic_choose"),
      ]
      ),

      ("witches_guild_resistance",
      [
        (troop_slot_eq, "trp_player", 225, 1),
        (troop_get_slot, ":var0", "trp_player", 226),
        (eq, ":var0", 20),
        (troop_get_slot, ":var1", "trp_player", 228),
        (neq, ":var1", 2),
        (neq, ":var1", 1),
      ],
      "I_would_like_to_increase_my_magic_resistance.",
      [
        (assign, "$last_menu", "mnu_witches_guild_menu"),
        (str_clear, s1),
        (troop_get_slot, ":var0", "trp_player", 228),
        (try_begin),
          (eq, ":var0", 0),
          (str_store_string, s1, "@Magic resistance 6+ costs 1500 and requires a magic level of 1."),
        (else_try),
          (eq, ":var0", 6),
          (str_store_string, s1, "@Magic resistance 5+ costs 3000 and requires a magic level of 3."),
        (else_try),
          (eq, ":var0", 5),
          (str_store_string, s1, "@Magic resistance 4+ costs 5000 and requires a magic level of 5."),
        (else_try),
          (eq, ":var0", 4),
          (str_store_string, s1, "@Magic resistance 3+ costs 10000 and requires a magic level of 7."),
        (else_try),
          (eq, ":var0", 3),
          (str_store_string, s1, "@Magic resistance 2+ costs 20000 and requires a magic level of 9."),
        (else_try),
          (str_store_string, s1, "@You cannot improve your magic level."),
        (try_end),
        (jump_to_menu, "mnu_magic_resistance"),
      ]
      ),

      ("witches_guild_buy",
      [
        (troop_slot_eq, "trp_player", 225, 1),
        (troop_get_slot, ":var0", "trp_player", 226),
        (eq, ":var0", 20),
      ],
      "I_would_like_to_purchase_some_equipment.",
      [
        (jump_to_menu, "mnu_witches_guild_menu"),
        (change_screen_trade, "trp_ice_merchant"),
      ]
      ),

      ("witches_guild_leave",
      [],
      "Leave.",
      [
        (jump_to_menu, "mnu_town"),
      ]
      ),
    ],
  ),

  ("beastman_shamans_guild_menu", 0,
    "You enter the guild and are greeted by the council. What would you like to do?",
    "none",
    [],
    [
      ("beastman_shamans_guild_choose",
      [
        (troop_slot_eq, "trp_player", 225, 0),
      ],
      "I_would_like_to_know_what_schools_I_can_learn.",
      [
        (jump_to_menu, "mnu_beastman_shamans_guild_magic_choose"),
      ]
      ),

      ("beastman_shamans_guild_resistance",
      [
        (troop_slot_eq, "trp_player", 225, 1),
        (troop_get_slot, ":var0", "trp_player", 226),
        (this_or_next|eq, ":var0", 5),
        (this_or_next|eq, ":var0", 6),
        (this_or_next|eq, ":var0", 8),
        (this_or_next|eq, ":var0", 12),
        (this_or_next|eq, ":var0", 13),
        (this_or_next|eq, ":var0", 14),
        (eq, ":var0", 22),
        (troop_get_slot, ":var1", "trp_player", 228),
        (neq, ":var1", 2),
        (neq, ":var1", 1),
      ],
      "I_would_like_to_increase_my_magic_resistance.",
      [
        (assign, "$last_menu", "mnu_beastman_shamans_guild_menu"),
        (str_clear, s1),
        (troop_get_slot, ":var0", "trp_player", 228),
        (try_begin),
          (eq, ":var0", 0),
          (str_store_string, s1, "@Magic resistance 6+ costs 1500 and requires a magic level of 1."),
        (else_try),
          (eq, ":var0", 6),
          (str_store_string, s1, "@Magic resistance 5+ costs 3000 and requires a magic level of 3."),
        (else_try),
          (eq, ":var0", 5),
          (str_store_string, s1, "@Magic resistance 4+ costs 5000 and requires a magic level of 5."),
        (else_try),
          (eq, ":var0", 4),
          (str_store_string, s1, "@Magic resistance 3+ costs 10000 and requires a magic level of 7."),
        (else_try),
          (eq, ":var0", 3),
          (str_store_string, s1, "@Magic resistance 2+ costs 20000 and requires a magic level of 9."),
        (else_try),
          (str_store_string, s1, "@You cannot improve your magic level."),
        (try_end),
        (jump_to_menu, "mnu_magic_resistance"),
      ]
      ),

      ("beastman_shamans_guild_buy",
      [
        (troop_slot_eq, "trp_player", 225, 1),
        (troop_get_slot, ":var0", "trp_player", 226),
        (this_or_next|eq, ":var0", 5),
        (this_or_next|eq, ":var0", 6),
        (this_or_next|eq, ":var0", 8),
        (this_or_next|eq, ":var0", 12),
        (this_or_next|eq, ":var0", 13),
        (this_or_next|eq, ":var0", 14),
        (eq, ":var0", 22),
      ],
      "I_would_like_to_purchase_some_new_spells_and_equipment.",
      [
        (troop_get_slot, ":var0", "trp_player", 226),
        (jump_to_menu, "mnu_beastman_shamans_guild_menu"),
        (try_begin),
          (eq, ":var0", 5),
          (change_screen_trade, "trp_grey_merchant"),
        (else_try),
          (eq, ":var0", 6),
          (change_screen_trade, "trp_amethyst_merchant"),
        (else_try),
          (eq, ":var0", 8),
          (change_screen_trade, "trp_amber_merchant"),
        (else_try),
          (eq, ":var0", 12),
          (change_screen_trade, "trp_tzeentch_merchant"),
        (else_try),
          (eq, ":var0", 13),
          (change_screen_trade, "trp_slaanesh_merchant"),
        (else_try),
          (eq, ":var0", 14),
          (change_screen_trade, "trp_nurgle_merchant"),
        (else_try),
          (eq, ":var0", 22),
          (change_screen_trade, "trp_wild_merchant"),
        (try_end),
      ]
      ),

      ("beastman_shamans_guild_leave",
      [],
      "Leave.",
      [
        (jump_to_menu, "mnu_town"),
      ]
      ),
    ],
  ),

  ("shugenjas_guild_menu", 0,
    "You enter the guild and are greeted by the council. What would you like to do?",
    "none",
    [],
    [
      ("shugenjas_guild_choose",
      [
        (troop_slot_eq, "trp_player", 225, 0),
      ],
      "I_would_like_to_know_what_schools_I_can_learn.",
      [
        (jump_to_menu, "mnu_shugenjas_guild_magic_choose"),
      ]
      ),

      ("shugenjas_guild_resistance",
      [
        (troop_slot_eq, "trp_player", 225, 1),
        (troop_get_slot, ":var0", "trp_player", 226),
        (this_or_next|eq, ":var0", 1),
        (this_or_next|eq, ":var0", 4),
        (this_or_next|eq, ":var0", 5),
        (eq, ":var0", 7),
        (troop_get_slot, ":var1", "trp_player", 228),
        (neq, ":var1", 2),
        (neq, ":var1", 1),
      ],
      "I_would_like_to_increase_my_magic_resistance.",
      [
        (assign, "$last_menu", "mnu_shugenjas_guild_menu"),
        (str_clear, s1),
        (troop_get_slot, ":var0", "trp_player", 228),
        (try_begin),
          (eq, ":var0", 0),
          (str_store_string, s1, "@Magic resistance 6+ costs 1500 and requires a magic level of 1."),
        (else_try),
          (eq, ":var0", 6),
          (str_store_string, s1, "@Magic resistance 5+ costs 3000 and requires a magic level of 3."),
        (else_try),
          (eq, ":var0", 5),
          (str_store_string, s1, "@Magic resistance 4+ costs 5000 and requires a magic level of 5."),
        (else_try),
          (eq, ":var0", 4),
          (str_store_string, s1, "@Magic resistance 3+ costs 10000 and requires a magic level of 7."),
        (else_try),
          (eq, ":var0", 3),
          (str_store_string, s1, "@Magic resistance 2+ costs 20000 and requires a magic level of 9."),
        (else_try),
          (str_store_string, s1, "@You cannot improve your magic level."),
        (try_end),
        (jump_to_menu, "mnu_magic_resistance"),
      ]
      ),

      ("shugenjas_guild_buy",
      [
        (troop_slot_eq, "trp_player", 225, 1),
        (troop_get_slot, ":var0", "trp_player", 226),
        (this_or_next|eq, ":var0", 1),
        (this_or_next|eq, ":var0", 4),
        (this_or_next|eq, ":var0", 5),
        (eq, ":var0", 7),
      ],
      "I_would_like_to_purchase_some_new_spells_and_equipment.",
      [
        (troop_get_slot, ":var0", "trp_player", 226),
        (jump_to_menu, "mnu_shugenjas_guild_menu"),
        (try_begin),
          (eq, ":var0", 1),
          (change_screen_trade, "trp_light_merchant"),
        (else_try),
          (eq, ":var0", 5),
          (change_screen_trade, "trp_grey_merchant"),
        (else_try),
          (eq, ":var0", 4),
          (change_screen_trade, "trp_celestial_merchant"),
        (else_try),
          (eq, ":var0", 7),
          (change_screen_trade, "trp_bright_merchant"),
        (try_end),
      ]
      ),

      ("shugenjas_guild_menu",
      [],
      "Leave.",
      [
        (jump_to_menu, "mnu_town"),
      ]
      ),
    ],
  ),

  ("necromancers_guild_menu", 0,
    "You enter the guild and are greeted by the council. What would you like to do?",
    "none",
    [],
    [
      ("necromancers_guild_choose",
      [
        (troop_slot_eq, "trp_player", 225, 0),
      ],
      "I_would_like_to_know_what_schools_I_can_learn.",
      [
        (jump_to_menu, "mnu_necromancers_guild_magic_choose"),
      ]
      ),

      ("necromancers_guild_resistance",
      [
        (troop_slot_eq, "trp_player", 225, 1),
        (troop_get_slot, ":var0", "trp_player", 226),
        (this_or_next|eq, ":var0", 5),
        (eq, ":var0", 11),
        (troop_get_slot, ":var1", "trp_player", 228),
        (neq, ":var1", 2),
        (neq, ":var1", 1),
      ],
      "I_would_like_to_increase_my_magic_resistance.",
      [
        (assign, "$last_menu", "mnu_necromancers_guild_menu"),
        (str_clear, s1),
        (troop_get_slot, ":var0", "trp_player", 228),
        (try_begin),
          (eq, ":var0", 0),
          (str_store_string, s1, "@Magic resistance 6+ costs 1500 and requires a magic level of 1."),
        (else_try),
          (eq, ":var0", 6),
          (str_store_string, s1, "@Magic resistance 5+ costs 3000 and requires a magic level of 3."),
        (else_try),
          (eq, ":var0", 5),
          (str_store_string, s1, "@Magic resistance 4+ costs 5000 and requires a magic level of 5."),
        (else_try),
          (eq, ":var0", 4),
          (str_store_string, s1, "@Magic resistance 3+ costs 10000 and requires a magic level of 7."),
        (else_try),
          (eq, ":var0", 3),
          (str_store_string, s1, "@Magic resistance 2+ costs 20000 and requires a magic level of 9."),
        (else_try),
          (str_store_string, s1, "@You cannot improve your magic level."),
        (try_end),
        (jump_to_menu, "mnu_magic_resistance"),
      ]
      ),

      ("necromancers_guild_buy",
      [
        (troop_slot_eq, "trp_player", 225, 1),
        (troop_get_slot, ":var0", "trp_player", 226),
        (this_or_next|eq, ":var0", 5),
        (eq, ":var0", 11),
      ],
      "I_would_like_to_purchase_some_new_spells_and_equipment.",
      [
        (troop_get_slot, ":var0", "trp_player", 226),
        (jump_to_menu, "mnu_necromancers_guild_menu"),
        (try_begin),
          (eq, ":var0", 11),
          (change_screen_trade, "trp_undeath_merchant"),
        (else_try),
          (change_screen_trade, "trp_grey_merchant"),
        (try_end),
      ]
      ),

      ("necromancers_guild_leave",
      [],
      "Leave.",
      [
        (jump_to_menu, "mnu_town"),
      ]
      ),
    ],
  ),

  ("chaos_dwarf_sorcerers_guild_menu", 0,
    "You enter the guild and are greeted by the council. What would you like to do?",
    "none",
    [],
    [
      ("chaos_dwarf_sorcerers_guild_choose",
      [
        (troop_slot_eq, "trp_player", 225, 0),
      ],
      "I_would_like_to_know_what_schools_I_can_learn.",
      [
        (jump_to_menu, "mnu_chaos_dwarf_sorcerers_guild_magic_choose"),
      ]
      ),

      ("chaos_dwarf_sorcerers_guild_resistance",
      [
        (troop_slot_eq, "trp_player", 225, 1),
        (troop_get_slot, ":var0", "trp_player", 228),
        (neq, ":var0", 2),
        (neq, ":var0", 1),
      ],
      "I_would_like_to_increase_my_magic_resistance.",
      [
        (assign, "$last_menu", "mnu_chaos_dwarf_sorcerers_guild_menu"),
        (str_clear, s1),
        (troop_get_slot, ":var0", "trp_player", 228),
        (try_begin),
          (eq, ":var0", 0),
          (str_store_string, s1, "@Magic resistance 6+ costs 1500 and requires a magic level of 1."),
        (else_try),
          (eq, ":var0", 6),
          (str_store_string, s1, "@Magic resistance 5+ costs 3000 and requires a magic level of 3."),
        (else_try),
          (eq, ":var0", 5),
          (str_store_string, s1, "@Magic resistance 4+ costs 5000 and requires a magic level of 5."),
        (else_try),
          (eq, ":var0", 4),
          (str_store_string, s1, "@Magic resistance 3+ costs 10000 and requires a magic level of 7."),
        (else_try),
          (eq, ":var0", 3),
          (str_store_string, s1, "@Magic resistance 2+ costs 20000 and requires a magic level of 9."),
        (else_try),
          (str_store_string, s1, "@You cannot improve your magic level."),
        (try_end),
        (jump_to_menu, "mnu_magic_resistance"),
      ]
      ),

      ("chaos_dwarf_sorcerers_guild_buy",
      [
        (troop_slot_eq, "trp_player", 225, 1),
        (troop_get_slot, ":var0", "trp_player", 226),
        (this_or_next|eq, ":var0", 2),
        (this_or_next|eq, ":var0", 6),
        (this_or_next|eq, ":var0", 7),
      ],
      "I_would_like_to_purchase_some_new_spells_and_equipment.",
      [
        (jump_to_menu, "mnu_chaos_dwarf_sorcerers_guild_menu"),
        (troop_get_slot, ":var0", "trp_player", 226),
        (try_begin),
          (eq, ":var0", 2),
          (change_screen_trade, "trp_gold_merchant"),
        (else_try),
          (eq, ":var0", 6),
          (change_screen_trade, "trp_amethyst_merchant"),
        (else_try),
          (eq, ":var0", 7),
          (change_screen_trade, "trp_bright_merchant"),
        (try_end),
      ]
      ),

      ("chaos_dwarf_sorcerers_guild_leave",
      [],
      "Leave.",
      [
        (jump_to_menu, "mnu_town"),
      ]
      ),
    ],
  ),

  ("wood_elf_mages_guild_menu", 0,
    "You enter the guild and are greeted by the council. What would you like to do?",
    "none",
    [],
    [
      ("wood_elf_mages_guild_choose",
      [
        (troop_slot_eq, "trp_player", 225, 0),
      ],
      "I_would_like_to_know_what_schools_I_can_learn.",
      [
        (jump_to_menu, "mnu_wood_elf_mages_guild_magic_choose"),
      ]
      ),

      ("wood_elf_mages_guild_resistance",
      [
        (troop_slot_eq, "trp_player", 225, 1),
        (troop_get_slot, ":var0", "trp_player", 226),
        (this_or_next|eq, ":var0", 1),
        (this_or_next|eq, ":var0", 2),
        (this_or_next|eq, ":var0", 3),
        (this_or_next|eq, ":var0", 4),
        (this_or_next|eq, ":var0", 5),
        (this_or_next|eq, ":var0", 6),
        (this_or_next|eq, ":var0", 7),
        (this_or_next|eq, ":var0", 8),
        (eq, ":var0", 9),
        (troop_get_slot, ":var1", "trp_player", 228),
        (neq, ":var1", 2),
        (neq, ":var1", 1),
      ],
      "I_would_like_to_increase_my_magic_resistance.",
      [
        (assign, "$last_menu", "mnu_wood_elf_mages_guild_menu"),
        (str_clear, s1),
        (troop_get_slot, ":var0", "trp_player", 228),
        (try_begin),
          (eq, ":var0", 0),
          (str_store_string, s1, "@Magic resistance 6+ costs 1500 and requires a magic level of 1."),
        (else_try),
          (eq, ":var0", 6),
          (str_store_string, s1, "@Magic resistance 5+ costs 3000 and requires a magic level of 3."),
        (else_try),
          (eq, ":var0", 5),
          (str_store_string, s1, "@Magic resistance 4+ costs 5000 and requires a magic level of 5."),
        (else_try),
          (eq, ":var0", 4),
          (str_store_string, s1, "@Magic resistance 3+ costs 10000 and requires a magic level of 7."),
        (else_try),
          (eq, ":var0", 3),
          (str_store_string, s1, "@Magic resistance 2+ costs 20000 and requires a magic level of 9."),
        (else_try),
          (str_store_string, s1, "@You cannot improve your magic level."),
        (try_end),
        (jump_to_menu, "mnu_magic_resistance"),
      ]
      ),

      ("wood_elf_mages_guild_buy",
      [
        (troop_slot_eq, "trp_player", 225, 1),
        (troop_get_slot, ":var0", "trp_player", 226),
        (this_or_next|eq, ":var0", 1),
        (this_or_next|eq, ":var0", 2),
        (this_or_next|eq, ":var0", 3),
        (this_or_next|eq, ":var0", 4),
        (this_or_next|eq, ":var0", 5),
        (this_or_next|eq, ":var0", 6),
        (this_or_next|eq, ":var0", 7),
        (this_or_next|eq, ":var0", 8),
        (eq, ":var0", 9),
      ],
      "I_would_like_to_purchase_some_new_spells_and_equipment.",
      [
        (jump_to_menu, "mnu_wood_elf_mages_guild_menu"),
        (troop_get_slot, ":var0", "trp_player", 226),
        (try_begin),
          (eq, ":var0", 1),
          (change_screen_trade, "trp_light_merchant"),
        (else_try),
          (eq, ":var0", 2),
          (change_screen_trade, "trp_gold_merchant"),
        (else_try),
          (eq, ":var0", 3),
          (change_screen_trade, "trp_jade_merchant"),
        (else_try),
          (eq, ":var0", 4),
          (change_screen_trade, "trp_celestial_merchant"),
        (else_try),
          (eq, ":var0", 5),
          (change_screen_trade, "trp_grey_merchant"),
        (else_try),
          (eq, ":var0", 6),
          (change_screen_trade, "trp_amethyst_merchant"),
        (else_try),
          (eq, ":var0", 7),
          (change_screen_trade, "trp_bright_merchant"),
        (else_try),
          (eq, ":var0", 8),
          (change_screen_trade, "trp_amber_merchant"),
        (else_try),
          (eq, ":var0", 9),
          (change_screen_trade, "trp_qhaysh_merchant"),
        (try_end),
      ]
      ),

      ("wood_elf_mages_guild_leave",
      [],
      "Leave.",
      [
        (jump_to_menu, "mnu_town"),
      ]
      ),
    ],
  ),

  ("magic_resistance", 0,
    "What would you like to do? {s1}",
    "none",
    [],
    [
      ("first_level",
      [
        (troop_get_slot, ":var0", "trp_player", 228),
        (eq, ":var0", 0),
        (store_troop_gold, ":var1", "trp_player"),
        (ge, ":var1", 1500),
      ],
      "I_would_like_to_upgrade_my_magic_resistance_to_6+_(1500_gold).",
      [
        (troop_remove_gold, "trp_player", 1500),
        (troop_set_slot, "trp_player", 228, 6),
        (display_message, "@Magic resistance now 6+", 0x1A1AFF),
        (jump_to_menu, "mnu_magic_resistance"),
      ]
      ),

      ("second_level",
      [
        (troop_get_slot, ":var0", "trp_player", 228),
        (store_skill_level, ":var1", "skl_magic_control", "trp_player"),
        (eq, ":var0", 6),
        (ge, ":var1", 3),
        (store_troop_gold, ":var2", "trp_player"),
        (ge, ":var2", 3000),
      ],
      "I_would_like_to_upgrade_my_magic_resistance_to_5+_(3000_gold).",
      [
        (troop_remove_gold, "trp_player", 3000),
        (troop_set_slot, "trp_player", 228, 5),
        (display_message, "@Magic resistance now 5+", 0x1A1AFF),
        (jump_to_menu, "mnu_magic_resistance"),
      ]
      ),

      ("third_level",
      [
        (troop_get_slot, ":var0", "trp_player", 228),
        (store_skill_level, ":var1", "skl_magic_control", "trp_player"),
        (eq, ":var0", 5),
        (ge, ":var1", 5),
        (store_troop_gold, ":var2", "trp_player"),
        (ge, ":var2", 5000),
      ],
      "I_would_like_to_upgrade_my_magic_resistance_to_4+_(5000_gold).",
      [
        (troop_remove_gold, "trp_player", 5000),
        (troop_set_slot, "trp_player", 228, 4),
        (display_message, "@Magic resistance now 4+", 0x1A1AFF),
        (jump_to_menu, "mnu_magic_resistance"),
      ]
      ),

      ("fourth_level",
      [
        (troop_get_slot, ":var0", "trp_player", 228),
        (store_skill_level, ":var1", "skl_magic_control", "trp_player"),
        (eq, ":var0", 4),
        (ge, ":var1", 7),
        (store_troop_gold, ":var2", "trp_player"),
        (ge, ":var2", 10000),
      ],
      "I_would_like_to_upgrade_my_magic_resistance_to_3+_(10000_gold).",
      [
        (troop_remove_gold, "trp_player", 10000),
        (troop_set_slot, "trp_player", 228, 3),
        (display_message, "@Magic resistance now 3+", 0x1A1AFF),
        (jump_to_menu, "mnu_magic_resistance"),
      ]
      ),

      ("fifth_level",
      [
        (troop_get_slot, ":var0", "trp_player", 228),
        (store_skill_level, ":var1", "skl_magic_control", "trp_player"),
        (eq, ":var0", 3),
        (ge, ":var1", 9),
        (store_troop_gold, ":var2", "trp_player"),
        (ge, ":var2", 20000),
      ],
      "I_would_like_to_upgrade_my_magic_resistance_to_2+_(20000_gold).",
      [
        (troop_remove_gold, "trp_player", 20000),
        (troop_set_slot, "trp_player", 228, 2),
        (display_message, "@Magic resistance now 2+", 0x1A1AFF),
        (jump_to_menu, "mnu_magic_resistance"),
      ]
      ),

      ("leave",
      [],
      "Keep_my_magic_resistance_as_it_is",
      [
        (jump_to_menu, "$last_menu"),
      ]
      ),
    ],
  ),

  ("wizards_guild_magic_choose", 0,
    "These are the magic schools you can dedicate yourself to...",
    "none",
    [],
    [
      ("wizards_guild_magic_choose_1",
      [],
      "Hysh,_Lore_of_Light.",
      [
        (assign, "$last_menu", "mnu_wizards_guild_magic_choose"),
        (assign, "$last_menu2", "mnu_wizards_guild_menu"),
        (jump_to_menu, "mnu_lore_of_light"),
      ]
      ),

      ("wizards_guild_magic_choose_2",
      [],
      "Gold,_Lore_of_Metal.",
      [
        (assign, "$last_menu", "mnu_wizards_guild_magic_choose"),
        (assign, "$last_menu2", "mnu_wizards_guild_menu"),
        (jump_to_menu, "mnu_lore_of_metal"),
      ]
      ),

      ("wizards_guild_magic_choose_3",
      [],
      "Jade,_Lore_of_Life.",
      [
        (assign, "$last_menu", "mnu_wizards_guild_magic_choose"),
        (assign, "$last_menu2", "mnu_wizards_guild_menu"),
        (jump_to_menu, "mnu_lore_of_life"),
      ]
      ),

      ("wizards_guild_magic_choose_4",
      [],
      "Celestial,_Lore_of_Heavens.",
      [
        (assign, "$last_menu", "mnu_wizards_guild_magic_choose"),
        (assign, "$last_menu2", "mnu_wizards_guild_menu"),
        (jump_to_menu, "mnu_lore_of_heavens"),
      ]
      ),

      ("wizards_guild_magic_choose_5",
      [],
      "Grey,_Lore_of_Shadows.",
      [
        (assign, "$last_menu", "mnu_wizards_guild_magic_choose"),
        (assign, "$last_menu2", "mnu_wizards_guild_menu"),
        (jump_to_menu, "mnu_lore_of_shadows"),
      ]
      ),

      ("wizards_guild_magic_choose_6",
      [],
      "Amethyst,_Lore_of_Death.",
      [
        (assign, "$last_menu", "mnu_wizards_guild_magic_choose"),
        (assign, "$last_menu2", "mnu_wizards_guild_menu"),
        (jump_to_menu, "mnu_lore_of_death"),
      ]
      ),

      ("wizards_guild_magic_choose_7",
      [],
      "Bright,_Lore_of_Fire.",
      [
        (assign, "$last_menu", "mnu_wizards_guild_magic_choose"),
        (assign, "$last_menu2", "mnu_wizards_guild_menu"),
        (jump_to_menu, "mnu_lore_of_fire"),
      ]
      ),

      ("wizards_guild_magic_choose_8",
      [],
      "Amber,_Lore_of_Beasts.",
      [
        (assign, "$last_menu", "mnu_wizards_guild_magic_choose"),
        (assign, "$last_menu2", "mnu_wizards_guild_menu"),
        (jump_to_menu, "mnu_lore_of_beasts"),
      ]
      ),

      ("wizards_guild_magic_choose_9",
      [],
      "I_will_decide_later.",
      [
        (jump_to_menu, "mnu_wizards_guild_menu"),
      ]
      ),
    ],
  ),

  ("high_elf_mages_guild_magic_choose", 0,
    "These are the magic schools you can dedicate yourself to...",
    "none",
    [],
    [
      ("high_elf_mages_guild_magic_choose_1",
      [],
      "Hysh,_Lore_of_Light.",
      [
        (assign, "$last_menu", "mnu_high_elf_mages_guild_magic_choose"),
        (assign, "$last_menu2", "mnu_high_elf_mages_guild_menu"),
        (jump_to_menu, "mnu_lore_of_light"),
      ]
      ),

      ("high_elf_mages_guild_magic_choose_2",
      [],
      "Gold,_Lore_of_Metal.",
      [
        (assign, "$last_menu", "mnu_high_elf_mages_guild_magic_choose"),
        (assign, "$last_menu2", "mnu_high_elf_mages_guild_menu"),
        (jump_to_menu, "mnu_lore_of_metal"),
      ]
      ),

      ("high_elf_mages_guild_magic_choose_3",
      [],
      "Jade,_Lore_of_Life.",
      [
        (assign, "$last_menu", "mnu_high_elf_mages_guild_magic_choose"),
        (assign, "$last_menu2", "mnu_high_elf_mages_guild_menu"),
        (jump_to_menu, "mnu_lore_of_life"),
      ]
      ),

      ("high_elf_mages_guild_magic_choose_4",
      [],
      "Celestial,_Lore_of_Heavens.",
      [
        (assign, "$last_menu", "mnu_high_elf_mages_guild_magic_choose"),
        (assign, "$last_menu2", "mnu_high_elf_mages_guild_menu"),
        (jump_to_menu, "mnu_lore_of_heavens"),
      ]
      ),

      ("high_elf_mages_guild_magic_choose_5",
      [],
      "Grey,_Lore_of_Shadows.",
      [
        (assign, "$last_menu", "mnu_high_elf_mages_guild_magic_choose"),
        (assign, "$last_menu2", "mnu_high_elf_mages_guild_menu"),
        (jump_to_menu, "mnu_lore_of_shadows"),
      ]
      ),

      ("high_elf_mages_guild_magic_choose_6",
      [],
      "Amethyst,_Lore_of_Death.",
      [
        (assign, "$last_menu", "mnu_high_elf_mages_guild_magic_choose"),
        (assign, "$last_menu2", "mnu_high_elf_mages_guild_menu"),
        (jump_to_menu, "mnu_lore_of_death"),
      ]
      ),

      ("high_elf_mages_guild_magic_choose_7",
      [],
      "Bright,_Lore_of_Fire.",
      [
        (assign, "$last_menu", "mnu_high_elf_mages_guild_magic_choose"),
        (assign, "$last_menu2", "mnu_high_elf_mages_guild_menu"),
        (jump_to_menu, "mnu_lore_of_fire"),
      ]
      ),

      ("high_elf_mages_guild_magic_choose_8",
      [],
      "Amber,_Lore_of_Beasts.",
      [
        (assign, "$last_menu", "mnu_high_elf_mages_guild_magic_choose"),
        (assign, "$last_menu2", "mnu_high_elf_mages_guild_menu"),
        (jump_to_menu, "mnu_lore_of_beasts"),
      ]
      ),

      ("high_elf_mages_guild_magic_choose_9",
      [],
      "Qhaysh,_Lore_of_High_Magic.",
      [
        (assign, "$last_menu", "mnu_high_elf_mages_guild_magic_choose"),
        (assign, "$last_menu2", "mnu_high_elf_mages_guild_menu"),
        (jump_to_menu, "mnu_lore_of_high_magic"),
      ]
      ),

      ("high_elf_mages_guild_magic_choose_10",
      [],
      "I_will_decide_later.",
      [
        (jump_to_menu, "mnu_high_elf_mages_guild_menu"),
      ]
      ),
    ],
  ),

  ("sorcerors_guild_magic_choose", 0,
    "These are the magic schools you can dedicate yourself to...",
    "none",
    [],
    [
      ("sorcerers_guild_magic_choose_1",
      [],
      "Gold,_Lore_of_Metal.",
      [
        (assign, "$last_menu", "mnu_sorcerors_guild_magic_choose"),
        (assign, "$last_menu2", "mnu_sorcerers_guild_menu"),
        (jump_to_menu, "mnu_lore_of_metal"),
      ]
      ),

      ("sorcerers_guild_magic_choose_2",
      [],
      "Grey,_Lore_of_Shadows.",
      [
        (assign, "$last_menu", "mnu_sorcerors_guild_magic_choose"),
        (assign, "$last_menu2", "mnu_sorcerers_guild_menu"),
        (jump_to_menu, "mnu_lore_of_shadows"),
      ]
      ),

      ("sorcerers_guild_magic_choose_3",
      [],
      "Amethyst,_Lore_of_Death.",
      [
        (assign, "$last_menu", "mnu_sorcerors_guild_magic_choose"),
        (assign, "$last_menu2", "mnu_sorcerers_guild_menu"),
        (jump_to_menu, "mnu_lore_of_death"),
      ]
      ),

      ("sorcerers_guild_magic_choose_4",
      [],
      "Lore_of_Slaanesh.",
      [
        (assign, "$last_menu", "mnu_sorcerors_guild_magic_choose"),
        (assign, "$last_menu2", "mnu_sorcerers_guild_menu"),
        (jump_to_menu, "mnu_lore_of_slaanesh"),
      ]
      ),

      ("sorcerers_guild_magic_choose_5",
      [],
      "Lore_of_Tzeentch.",
      [
        (assign, "$last_menu", "mnu_sorcerors_guild_magic_choose"),
        (assign, "$last_menu2", "mnu_sorcerers_guild_menu"),
        (jump_to_menu, "mnu_lore_of_tzeentch"),
      ]
      ),

      ("sorcerers_guild_magic_choose_6",
      [],
      "Lore_of_Nurgle.",
      [
        (assign, "$last_menu", "mnu_sorcerors_guild_magic_choose"),
        (assign, "$last_menu2", "mnu_sorcerers_guild_menu"),
        (jump_to_menu, "mnu_lore_of_nurgle"),
      ]
      ),

      ("sorcerers_guild_magic_choose_9",
      [],
      "I_will_decide_later.",
      [
        (jump_to_menu, "mnu_sorcerers_guild_menu"),
      ]
      ),
    ],
  ),

  ("liche_priests_guild_magic_choose", 0,
    "These are the magic schools you can dedicate yourself to...",
    "none",
    [],
    [
      ("liche_priests_guild_magic_choose_1",
      [],
      "Lore_of_Nehekhara.",
      [
        (assign, "$last_menu", "mnu_liche_priests_guild_magic_choose"),
        (assign, "$last_menu2", "mnu_liche_priests_guild_menu"),
        (jump_to_menu, "mnu_lore_of_nehekhara"),
      ]
      ),

      ("liche_priests_guild_magic_choose_2",
      [],
      "Hysh,_Lore_of_Light.",
      [
        (assign, "$last_menu", "mnu_liche_priests_guild_magic_choose"),
        (assign, "$last_menu2", "mnu_liche_priests_guild_menu"),
        (jump_to_menu, "mnu_lore_of_light"),
      ]
      ),

      ("liche_priests_guild_magic_choose_3",
      [],
      "Amethyst,_Lore_of_Death.",
      [
        (assign, "$last_menu", "mnu_liche_priests_guild_magic_choose"),
        (assign, "$last_menu2", "mnu_liche_priests_guild_menu"),
        (jump_to_menu, "mnu_lore_of_death"),
      ]
      ),

      ("liche_priests_guild_magic_choose_9",
      [],
      "I_will_decide_later.",
      [
        (jump_to_menu, "mnu_liche_priests_guild_menu"),
      ]
      ),
    ],
  ),

  ("goblin_shamans_guild_magic_choose", 0,
    "These are the magic schools you can dedicate yourself to...",
    "none",
    [],
    [
      ("goblin_shamans_guild_magic_choose",
      [],
      "Lore_of_Da_Little_Waaaagh.",
      [
        (assign, "$last_menu", "mnu_goblin_shamans_guild_magic_choose"),
        (assign, "$last_menu2", "mnu_goblin_shamans_guild_menu"),
        (jump_to_menu, "mnu_lore_of_da_little_waaagh"),
      ]
      ),

      ("goblin_shamans_guild_magic_choose_9",
      [],
      "I_will_decide_later.",
      [
        (jump_to_menu, "mnu_goblin_shamans_guild_menu"),
      ]
      ),
    ],
  ),

  ("viziers_guild_magic_choose", 0,
    "These are the magic schools you can dedicate yourself to...",
    "none",
    [],
    [
      ("viziers_guild_magic_choose_1",
      [],
      "Gold,_Lore_of_Metal.",
      [
        (assign, "$last_menu", "mnu_viziers_guild_magic_choose"),
        (assign, "$last_menu2", "mnu_viziers_guild_menu"),
        (jump_to_menu, "mnu_lore_of_metal"),
      ]
      ),

      ("viziers_guild_magic_choose_2",
      [],
      "Hysh,_Lore_of_Light.",
      [
        (assign, "$last_menu", "mnu_viziers_guild_magic_choose"),
        (assign, "$last_menu2", "mnu_viziers_guild_menu"),
        (jump_to_menu, "mnu_lore_of_light"),
      ]
      ),

      ("viziers_guild_magic_choose_3",
      [],
      "Bright,_Lore_of_Fire.",
      [
        (assign, "$last_menu", "mnu_viziers_guild_magic_choose"),
        (assign, "$last_menu2", "mnu_viziers_guild_menu"),
        (jump_to_menu, "mnu_lore_of_fire"),
      ]
      ),

      ("viziers_guild_magic_choose_4",
      [],
      "Celestial,_Lore_of_Heavens.",
      [
        (assign, "$last_menu", "mnu_viziers_guild_magic_choose"),
        (assign, "$last_menu2", "mnu_viziers_guild_menu"),
        (jump_to_menu, "mnu_lore_of_heavens"),
      ]
      ),

      ("viziers_guild_magic_choose_5",
      [],
      "Lore_of_the_Desert.",
      [
        (assign, "$last_menu", "mnu_viziers_guild_magic_choose"),
        (assign, "$last_menu2", "mnu_viziers_guild_menu"),
        (jump_to_menu, "mnu_lore_of_desert"),
      ]
      ),

      ("viziers_guild_magic_choose_9",
      [],
      "I_will_decide_later.",
      [
        (jump_to_menu, "mnu_viziers_guild_menu"),
      ]
      ),
    ],
  ),

  ("orc_shamans_guild_magic_choose", 0,
    "These are the magic schools you can dedicate yourself to...",
    "none",
    [],
    [
      ("orc_shamans_guild_magic_choose",
      [],
      "Lore_of_Da_Big_Waaaagh.",
      [
        (assign, "$last_menu", "mnu_orc_shamans_guild_magic_choose"),
        (assign, "$last_menu2", "mnu_orc_shamans_guild_menu"),
        (jump_to_menu, "mnu_lore_of_da_big_waaagh"),
      ]
      ),

      ("orc_shamans_guild_magic_choose_9",
      [],
      "I_will_decide_later.",
      [
        (jump_to_menu, "mnu_orc_shamans_guild_menu"),
      ]
      ),
    ],
  ),

  ("sorceresses_guild_magic_choose", 0,
    "These are the magic schools you can dedicate yourself to...",
    "none",
    [],
    [
      ("sorceresses_guild_magic_choose_1",
      [],
      "Celestial,_Lore_of_Heavens.",
      [
        (assign, "$last_menu", "mnu_sorceresses_guild_magic_choose"),
        (assign, "$last_menu2", "mnu_sorceresses_guild_menu"),
        (jump_to_menu, "mnu_lore_of_heavens"),
      ]
      ),

      ("sorceresses_guild_magic_choose_2",
      [],
      "Jade,_Lore_of_Life.",
      [
        (assign, "$last_menu", "mnu_sorceresses_guild_magic_choose"),
        (assign, "$last_menu2", "mnu_sorceresses_guild_menu"),
        (jump_to_menu, "mnu_lore_of_life"),
      ]
      ),

      ("sorceresses_guild_magic_choose_3",
      [],
      "Amber,_Lore_of_Beasts.",
      [
        (assign, "$last_menu", "mnu_sorceresses_guild_magic_choose"),
        (assign, "$last_menu2", "mnu_sorceresses_guild_menu"),
        (jump_to_menu, "mnu_lore_of_beasts"),
      ]
      ),

      ("sorceresses_magic_choose_9",
      [],
      "I_will_decide_later.",
      [
        (jump_to_menu, "mnu_sorceresses_guild_menu"),
      ]
      ),
    ],
  ),

  ("darkelf_guild_magic_choose", 0,
    "These are the magic schools you can dedicate yourself to...",
    "none",
    [],
    [
      ("darkelf_guild_magic_choose_1",
      [],
      "Dhar,_Lore_of_Dark_Magic.",
      [
        (assign, "$last_menu", "mnu_darkelf_guild_magic_choose"),
        (assign, "$last_menu2", "mnu_darkelf_guild_menu"),
        (jump_to_menu, "mnu_lore_of_dark_magic"),
      ]
      ),

      ("darkelf_guild_magic_choose_2",
      [],
      "Gold,_Lore_of_Metal.",
      [
        (assign, "$last_menu", "mnu_darkelf_guild_magic_choose"),
        (assign, "$last_menu2", "mnu_darkelf_guild_menu"),
        (jump_to_menu, "mnu_lore_of_metal"),
      ]
      ),

      ("darkelf_guild_magic_choose_3",
      [],
      "Bright,_Lore_of_Fire.",
      [
        (assign, "$last_menu", "mnu_darkelf_guild_magic_choose"),
        (assign, "$last_menu2", "mnu_darkelf_guild_menu"),
        (jump_to_menu, "mnu_lore_of_fire"),
      ]
      ),

      ("darkelf_guild_magic_choose_4",
      [],
      "Grey,_Lore_of_Shadows.",
      [
        (assign, "$last_menu", "mnu_darkelf_guild_magic_choose"),
        (assign, "$last_menu2", "mnu_darkelf_guild_menu"),
        (jump_to_menu, "mnu_lore_of_shadows"),
      ]
      ),

      ("darkelf_guild_magic_choose_5",
      [],
      "Amethyst,_Lore_of_Death.",
      [
        (assign, "$last_menu", "mnu_darkelf_guild_magic_choose"),
        (assign, "$last_menu2", "mnu_darkelf_guild_menu"),
        (jump_to_menu, "mnu_lore_of_death"),
      ]
      ),

      ("darkelf_guild_magic_choose_6",
      [],
      "Lore_of_Slaanesh.",
      [
        (assign, "$last_menu", "mnu_darkelf_guild_magic_choose"),
        (assign, "$last_menu2", "mnu_darkelf_guild_menu"),
        (jump_to_menu, "mnu_lore_of_slaanesh"),
      ]
      ),

      ("darkelf_guild_magic_choose_9",
      [],
      "I_will_decide_later.",
      [
        (jump_to_menu, "mnu_darkelf_guild_menu"),
      ]
      ),
    ],
  ),

  ("warlock_guild_magic_choose", 0,
    "These are the magic schools you can dedicate yourself to...",
    "none",
    [],
    [
      ("warlock_guild_magic_choose_1",
      [],
      "Lore_of_Ruin.",
      [
        (assign, "$last_menu", "mnu_warlock_guild_magic_choose"),
        (assign, "$last_menu2", "mnu_warlocks_guild_menu"),
        (jump_to_menu, "mnu_lore_of_ruin"),
      ]
      ),

      ("warlock_guild_magic_choose_2",
      [],
      "Lore_of_Plague.",
      [
        (assign, "$last_menu", "mnu_warlock_guild_magic_choose"),
        (assign, "$last_menu2", "mnu_warlocks_guild_menu"),
        (jump_to_menu, "mnu_lore_of_plague"),
      ]
      ),

      ("warlock_guild_magic_choose_9",
      [],
      "I_will_decide_later.",
      [
        (jump_to_menu, "mnu_warlocks_guild_menu"),
      ]
      ),
    ],
  ),

  ("witches_guild_magic_choose", 0,
    "These are the magic schools you can dedicate yourself to...",
    "none",
    [],
    [
      ("witches_guild_magic_choose",
      [],
      "Lore_of_Ice.",
      [
        (assign, "$last_menu", "mnu_witches_guild_magic_choose"),
        (assign, "$last_menu2", "mnu_witches_guild_menu"),
        (jump_to_menu, "mnu_lore_of_ice"),
      ]
      ),

      ("witches_guild_magic_choose_9",
      [],
      "I_will_decide_later.",
      [
        (jump_to_menu, "mnu_witches_guild_menu"),
      ]
      ),
    ],
  ),

  ("beastman_shamans_guild_magic_choose", 0,
    "These are the magic schools you can dedicate yourself to...",
    "none",
    [],
    [
      ("beastman_shamans_guild_magic_choose_1",
      [],
      "Amethyst,_Lore_of_Death.",
      [
        (assign, "$last_menu", "mnu_beastman_shamans_guild_magic_choose"),
        (assign, "$last_menu2", "mnu_beastman_shamans_guild_menu"),
        (jump_to_menu, "mnu_lore_of_death"),
      ]
      ),

      ("beastman_shamans_guild_magic_choose_2",
      [],
      "Lore_of_the_Wild.",
      [
        (assign, "$last_menu", "mnu_beastman_shamans_guild_magic_choose"),
        (assign, "$last_menu2", "mnu_beastman_shamans_guild_menu"),
        (jump_to_menu, "mnu_lore_of_wild"),
      ]
      ),

      ("beastman_shamans_guild_magic_choose_3",
      [],
      "Grey,_Lore_of_Shadows.",
      [
        (assign, "$last_menu", "mnu_beastman_shamans_guild_magic_choose"),
        (assign, "$last_menu2", "mnu_beastman_shamans_guild_menu"),
        (jump_to_menu, "mnu_lore_of_shadows"),
      ]
      ),

      ("beastman_shamans_guild_magic_choose_4",
      [],
      "Amber,_Lore_of_Beasts.",
      [
        (assign, "$last_menu", "mnu_beastman_shamans_guild_magic_choose"),
        (assign, "$last_menu2", "mnu_beastman_shamans_guild_menu"),
        (jump_to_menu, "mnu_lore_of_beasts"),
      ]
      ),

      ("beastman_shamans_guild_magic_choose_5",
      [],
      "Lore_of_Tzeentch.",
      [
        (assign, "$last_menu", "mnu_beastman_shamans_guild_magic_choose"),
        (assign, "$last_menu2", "mnu_beastman_shamans_guild_menu"),
        (jump_to_menu, "mnu_lore_of_tzeentch"),
      ]
      ),

      ("beastman_shamans_guild_magic_choose_6",
      [],
      "Lore_of_Slaanesh.",
      [
        (assign, "$last_menu", "mnu_beastman_shamans_guild_magic_choose"),
        (assign, "$last_menu2", "mnu_beastman_shamans_guild_menu"),
        (jump_to_menu, "mnu_lore_of_slaanesh"),
      ]
      ),

      ("beastman_shamans_guild_magic_choose_7",
      [],
      "Lore_of_Nurgle.",
      [
        (assign, "$last_menu", "mnu_beastman_shamans_guild_magic_choose"),
        (assign, "$last_menu2", "mnu_beastman_shamans_guild_menu"),
        (jump_to_menu, "mnu_lore_of_nurgle"),
      ]
      ),

      ("beastman_shamans_guild_magic_choose_9",
      [],
      "I_will_decide_later.",
      [
        (jump_to_menu, "mnu_beastman_shamans_guild_menu"),
      ]
      ),
    ],
  ),

  ("shugenjas_guild_magic_choose", 0,
    "These are the magic schools you can dedicate yourself to...",
    "none",
    [],
    [
      ("shugenjas_guild_magic_choose_1",
      [],
      "Celestial,_Lore_of_Heavens.",
      [
        (assign, "$last_menu", "mnu_shugenjas_guild_magic_choose"),
        (assign, "$last_menu2", "mnu_shugenjas_guild_menu"),
        (jump_to_menu, "mnu_lore_of_heavens"),
      ]
      ),

      ("shugenjas_guild_magic_choose_2",
      [],
      "Hysh,_Lore_of_Light.",
      [
        (assign, "$last_menu", "mnu_shugenjas_guild_magic_choose"),
        (assign, "$last_menu2", "mnu_shugenjas_guild_menu"),
        (jump_to_menu, "mnu_lore_of_light"),
      ]
      ),

      ("shugenjas_guild_magic_choose_3",
      [],
      "Bright,_Lore_of_Fire.",
      [
        (assign, "$last_menu", "mnu_shugenjas_guild_magic_choose"),
        (assign, "$last_menu2", "mnu_shugenjas_guild_menu"),
        (jump_to_menu, "mnu_lore_of_fire"),
      ]
      ),

      ("shugenjas_guild_magic_choose_4",
      [],
      "Grey,_Lore_of_Shadows.",
      [
        (assign, "$last_menu", "mnu_shugenjas_guild_magic_choose"),
        (assign, "$last_menu2", "mnu_shugenjas_guild_menu"),
        (jump_to_menu, "mnu_lore_of_shadows"),
      ]
      ),

      ("shugenjas_guild_magic_choose_9",
      [],
      "I_will_decide_later.",
      [
        (jump_to_menu, "mnu_shugenjas_guild_menu"),
      ]
      ),
    ],
  ),

  ("necromancers_guild_magic_choose", 0,
    "These are the magic schools you can dedicate yourself to...",
    "none",
    [],
    [
      ("necromancers_guild_magic_choose_1",
      [],
      "Lore_of_Undeath.",
      [
        (assign, "$last_menu", "mnu_necromancers_guild_magic_choose"),
        (assign, "$last_menu2", "mnu_necromancers_guild_menu"),
        (jump_to_menu, "mnu_lore_of_undeath"),
      ]
      ),

      ("necromancers_guild_magic_choose_2",
      [
        (troop_get_type, ":var0", "trp_player"),
        (eq, ":var0", 9),
      ],
      "Grey,_Lore_of_Shadows.",
      [
        (assign, "$last_menu", "mnu_necromancers_guild_magic_choose"),
        (assign, "$last_menu2", "mnu_necromancers_guild_menu"),
        (jump_to_menu, "mnu_lore_of_shadows"),
      ]
      ),

      ("necromancers_guild_magic_choose_9",
      [],
      "I_will_decide_later.",
      [
        (jump_to_menu, "mnu_necromancers_guild_menu"),
      ]
      ),
    ],
  ),

  ("chaos_dwarf_sorcerers_guild_magic_choose", 0,
    "These are the magic schools you can dedicate yourself to...",
    "none",
    [],
    [
      ("chaos_dwarf_sorcerers_guild_magic_choose_1",
      [],
      "Lore_of_Metal.",
      [
        (assign, "$last_menu", "mnu_chaos_dwarf_sorcerers_guild_magic_choose"),
        (assign, "$last_menu2", "mnu_chaos_dwarf_sorcerers_guild_menu"),
        (jump_to_menu, "mnu_lore_of_metal"),
      ]
      ),

      ("chaos_dwarf_sorcerers_guild_magic_choose_2",
      [],
      "Lore_of_Death.",
      [
        (assign, "$last_menu", "mnu_chaos_dwarf_sorcerers_guild_magic_choose"),
        (assign, "$last_menu2", "mnu_chaos_dwarf_sorcerers_guild_menu"),
        (jump_to_menu, "mnu_lore_of_death"),
      ]
      ),

      ("chaos_dwarf_sorcerers_guild_magic_choose_3",
      [],
      "Lore_of_Fire.",
      [
        (assign, "$last_menu", "mnu_chaos_dwarf_sorcerers_guild_magic_choose"),
        (assign, "$last_menu2", "mnu_chaos_dwarf_sorcerers_guild_menu"),
        (jump_to_menu, "mnu_lore_of_fire"),
      ]
      ),

      ("chaos_sorcerers_guild_magic_choose_4",
      [],
      "I_will_decide_later.",
      [
        (jump_to_menu, "mnu_chaos_dwarf_sorcerers_guild_menu"),
      ]
      ),
    ],
  ),

  ("wood_elf_mages_guild_magic_choose", 0,
    "These are the magic schools you can dedicate yourself to...",
    "none",
    [],
    [
      ("wood_elf_mages_guild_magic_choose_1",
      [],
      "Hysh,_Lore_of_Light.",
      [
        (assign, "$last_menu", "mnu_wood_elf_mages_guild_magic_choose"),
        (assign, "$last_menu2", "mnu_wood_elf_mages_guild_menu"),
        (jump_to_menu, "mnu_lore_of_light"),
      ]
      ),

      ("wood_elf_mages_guild_magic_choose_2",
      [],
      "Gold,_Lore_of_Metal.",
      [
        (assign, "$last_menu", "mnu_wood_elf_mages_guild_magic_choose"),
        (assign, "$last_menu2", "mnu_wood_elf_mages_guild_menu"),
        (jump_to_menu, "mnu_lore_of_metal"),
      ]
      ),

      ("wood_elf_mages_guild_magic_choose_3",
      [],
      "Jade,_Lore_of_Life.",
      [
        (assign, "$last_menu", "mnu_wood_elf_mages_guild_magic_choose"),
        (assign, "$last_menu2", "mnu_wood_elf_mages_guild_menu"),
        (jump_to_menu, "mnu_lore_of_life"),
      ]
      ),

      ("wood_elf_mages_guild_magic_choose_4",
      [],
      "Celestial,_Lore_of_Heavens.",
      [
        (assign, "$last_menu", "mnu_wood_elf_mages_guild_magic_choose"),
        (assign, "$last_menu2", "mnu_wood_elf_mages_guild_menu"),
        (jump_to_menu, "mnu_lore_of_heavens"),
      ]
      ),

      ("wood_elf_mages_guild_magic_choose_5",
      [],
      "Grey,_Lore_of_Shadows.",
      [
        (assign, "$last_menu", "mnu_wood_elf_mages_guild_magic_choose"),
        (assign, "$last_menu2", "mnu_wood_elf_mages_guild_menu"),
        (jump_to_menu, "mnu_lore_of_shadows"),
      ]
      ),

      ("wood_elf_mages_guild_magic_choose_6",
      [],
      "Amethyst,_Lore_of_Death.",
      [
        (assign, "$last_menu", "mnu_wood_elf_mages_guild_magic_choose"),
        (assign, "$last_menu2", "mnu_wood_elf_mages_guild_menu"),
        (jump_to_menu, "mnu_lore_of_death"),
      ]
      ),

      ("wood_elf_mages_guild_magic_choose_7",
      [],
      "Bright,_Lore_of_Fire.",
      [
        (assign, "$last_menu", "mnu_wood_elf_mages_guild_magic_choose"),
        (assign, "$last_menu2", "mnu_wood_elf_mages_guild_menu"),
        (jump_to_menu, "mnu_lore_of_fire"),
      ]
      ),

      ("wood_elf_mages_guild_magic_choose_8",
      [],
      "Amber,_Lore_of_Beasts.",
      [
        (assign, "$last_menu", "mnu_wood_elf_mages_guild_magic_choose"),
        (assign, "$last_menu2", "mnu_wood_elf_mages_guild_menu"),
        (jump_to_menu, "mnu_lore_of_beasts"),
      ]
      ),

      ("wood_elf_mages_guild_magic_choose_9",
      [],
      "Qhaysh,_Lore_of_High_Magic.",
      [
        (assign, "$last_menu", "mnu_wood_elf_mages_guild_magic_choose"),
        (assign, "$last_menu2", "mnu_wood_elf_mages_guild_menu"),
        (jump_to_menu, "mnu_lore_of_high_magic"),
      ]
      ),

      ("wood_elf_mages_guild_magic_choose_10",
      [],
      "I_will_decide_later.",
      [
        (jump_to_menu, "mnu_wood_elf_mages_guild_menu"),
      ]
      ),
    ],
  ),

  ("lore_of_life", 0,
    "Jade, the Lore of Life",
    "none",
    [],
    [
      ("lore_life_1",
      [],
      "Learn_about_the_Lore_of_Life.",
      [
        (jump_to_menu, "mnu_lore_of_life_info"),
      ]
      ),

      ("lore_of_life_2",
      [],
      "What_is_the_lore_attribute?",
      [
        (jump_to_menu, "mnu_lore_of_life_attribute"),
      ]
      ),

      ("lore_of_life_3",
      [],
      "What_kind_of_spells_can_I_learn?",
      [
        (jump_to_menu, "mnu_lore_of_life_spells"),
      ]
      ),

      ("lore_of_life_4",
      [
        (troop_slot_eq, "trp_player", 225, 0),
      ],
      "Choose_the_Lore_of_Life_as_your_school",
      [
        (jump_to_menu, "mnu_lore_of_life_decision"),
      ]
      ),

      ("leave",
      [],
      "Go_Back",
      [
        (jump_to_menu, "$last_menu"),
      ]
      ),
    ],
  ),

  ("lore_of_metal", 0,
    "Gold, the Lore of Metal",
    "none",
    [],
    [
      ("lore_metal_1",
      [],
      "Learn_about_the_Lore_of_Metal.",
      [
        (jump_to_menu, "mnu_lore_of_metal_info"),
      ]
      ),

      ("lore_of_metal_2",
      [],
      "What_is_the_lore_attribute?",
      [
        (jump_to_menu, "mnu_lore_of_metal_attribute"),
      ]
      ),

      ("lore_of_metal_3",
      [],
      "What_kind_of_spells_can_I_learn?.",
      [
        (jump_to_menu, "mnu_lore_of_metal_spells"),
      ]
      ),

      ("lore_of_metal_4",
      [
        (troop_slot_eq, "trp_player", 225, 0),
      ],
      "Choose_the_Lore_of_Metal_as_your_school",
      [
        (jump_to_menu, "mnu_lore_of_metal_decision"),
      ]
      ),

      ("leave",
      [],
      "Go_Back",
      [
        (jump_to_menu, "$last_menu"),
      ]
      ),
    ],
  ),

  ("lore_of_light", 0,
    "Hysh, the Lore of Light",
    "none",
    [],
    [
      ("lore_light_1",
      [],
      "Learn_about_the_Lore_of_Light.",
      [
        (jump_to_menu, "mnu_lore_of_light_info"),
      ]
      ),

      ("lore_of_light_2",
      [],
      "What_is_the_lore_attribute?",
      [
        (jump_to_menu, "mnu_lore_of_light_attribute"),
      ]
      ),

      ("lore_of_light_3",
      [],
      "What_kind_of_spells_can_I_learn?.",
      [
        (jump_to_menu, "mnu_lore_of_light_spells"),
      ]
      ),

      ("lore_of_light_4",
      [
        (troop_slot_eq, "trp_player", 225, 0),
      ],
      "Choose_the_Lore_of_Light_as_your_school",
      [
        (jump_to_menu, "mnu_lore_of_light_decision"),
      ]
      ),

      ("leave",
      [],
      "Go_Back",
      [
        (jump_to_menu, "$last_menu"),
      ]
      ),
    ],
  ),

  ("lore_of_heavens", 0,
    "Celestial, the Lore of the Heavens",
    "none",
    [],
    [
      ("lore_heavens_1",
      [],
      "Learn_about_the_Lore_of_the_Heavens.",
      [
        (jump_to_menu, "mnu_lore_of_heavens_info"),
      ]
      ),

      ("lore_of_heavens_2",
      [],
      "What_is_the_lore_attribute?",
      [
        (jump_to_menu, "mnu_lore_of_heavens_attribute"),
      ]
      ),

      ("lore_of_heavens_3",
      [],
      "What_kind_of_spells_can_I_learn?.",
      [
        (jump_to_menu, "mnu_lore_of_heavens_spells"),
      ]
      ),

      ("lore_of_heavens_4",
      [
        (troop_slot_eq, "trp_player", 225, 0),
      ],
      "Choose_the_Lore_of_Heavens_as_your_school",
      [
        (jump_to_menu, "mnu_lore_of_heavens_decision"),
      ]
      ),

      ("leave",
      [],
      "Go_Back",
      [
        (jump_to_menu, "$last_menu"),
      ]
      ),
    ],
  ),

  ("lore_of_shadows", 0,
    "Grey, the Lore of Shadows",
    "none",
    [],
    [
      ("lore_shadows_1",
      [],
      "Learn_about_the_Lore_of_Shadows.",
      [
        (jump_to_menu, "mnu_lore_of_shadows_info"),
      ]
      ),

      ("lore_of_shadows_2",
      [],
      "What_is_the_lore_attribute?",
      [
        (jump_to_menu, "mnu_lore_of_shadows_attribute"),
      ]
      ),

      ("lore_of_shadows_3",
      [],
      "What_kind_of_spells_can_I_learn?.",
      [
        (jump_to_menu, "mnu_lore_of_shadows_spells"),
      ]
      ),

      ("lore_of_shadows_4",
      [
        (troop_slot_eq, "trp_player", 225, 0),
      ],
      "Choose_the_Lore_of_Shadows_as_your_school",
      [
        (jump_to_menu, "mnu_lore_of_shadows_decision"),
      ]
      ),

      ("leave",
      [],
      "Go_Back",
      [
        (jump_to_menu, "$last_menu"),
      ]
      ),
    ],
  ),

  ("lore_of_death", 0,
    "Amethyst, the Lore of Death",
    "none",
    [],
    [
      ("lore_death_1",
      [],
      "Learn_about_the_Lore_of_Death.",
      [
        (jump_to_menu, "mnu_lore_of_death_info"),
      ]
      ),

      ("lore_of_death_2",
      [],
      "What_is_the_lore_attribute?",
      [
        (jump_to_menu, "mnu_lore_of_death_attribute"),
      ]
      ),

      ("lore_of_death_3",
      [],
      "What_kind_of_spells_can_I_learn?.",
      [
        (jump_to_menu, "mnu_lore_of_death_spells"),
      ]
      ),

      ("lore_of_death_4",
      [
        (troop_slot_eq, "trp_player", 225, 0),
      ],
      "Choose_the_Lore_of_Death_as_your_school",
      [
        (jump_to_menu, "mnu_lore_of_death_decision"),
      ]
      ),

      ("leave",
      [],
      "Go_Back",
      [
        (jump_to_menu, "$last_menu"),
      ]
      ),
    ],
  ),

  ("lore_of_fire", 0,
    "Bright, the Lore of Fire",
    "none",
    [],
    [
      ("lore_fire_1",
      [],
      "Learn_about_the_Lore_of_Fire.",
      [
        (jump_to_menu, "mnu_lore_of_fire_info"),
      ]
      ),

      ("lore_of_fire_2",
      [],
      "What_is_the_lore_attribute?",
      [
        (jump_to_menu, "mnu_lore_of_fire_attribute"),
      ]
      ),

      ("lore_of_fire_3",
      [],
      "What_kind_of_spells_can_I_learn?.",
      [
        (jump_to_menu, "mnu_lore_of_fire_spells"),
      ]
      ),

      ("lore_of_fire_4",
      [
        (troop_slot_eq, "trp_player", 225, 0),
      ],
      "Choose_the_Lore_of_Fire_as_your_school",
      [
        (jump_to_menu, "mnu_lore_of_fire_decision"),
      ]
      ),

      ("leave",
      [],
      "Go_Back",
      [
        (jump_to_menu, "$last_menu"),
      ]
      ),
    ],
  ),

  ("lore_of_beasts", 0,
    "Amber, the Lore of Beasts",
    "none",
    [],
    [
      ("lore_beasts_1",
      [],
      "Learn_about_the_Lore_of_Beasts.",
      [
        (jump_to_menu, "mnu_lore_of_beasts_info"),
      ]
      ),

      ("lore_of_beasts_2",
      [],
      "What_is_the_lore_attribute?",
      [
        (jump_to_menu, "mnu_lore_of_beasts_attribute"),
      ]
      ),

      ("lore_of_beasts_3",
      [],
      "What_kind_of_spells_can_I_learn?.",
      [
        (jump_to_menu, "mnu_lore_of_beasts_spells"),
      ]
      ),

      ("lore_of_beasts_4",
      [
        (troop_slot_eq, "trp_player", 225, 0),
      ],
      "Choose_the_Lore_of_Beasts_as_your_school",
      [
        (jump_to_menu, "mnu_lore_of_beasts_decision"),
      ]
      ),

      ("leave",
      [],
      "Go_Back",
      [
        (jump_to_menu, "$last_menu"),
      ]
      ),
    ],
  ),

  ("lore_of_high_magic", 0,
    "Qhaysh, the Lore of High Magic",
    "none",
    [],
    [
      ("lore_high_magic_1",
      [],
      "Learn_about_the_Lore_of_High_Magic.",
      [
        (jump_to_menu, "mnu_lore_of_high_magic_info"),
      ]
      ),

      ("lore_of_high_magic_2",
      [],
      "What_is_the_lore_attribute?",
      [
        (jump_to_menu, "mnu_lore_of_high_magic_attribute"),
      ]
      ),

      ("lore_of_high_magic_3",
      [],
      "What_kind_of_spells_can_I_learn?.",
      [
        (jump_to_menu, "mnu_lore_of_high_magic_spells"),
      ]
      ),

      ("lore_of_high_magic_4",
      [
        (troop_slot_eq, "trp_player", 225, 0),
      ],
      "Choose_the_Lore_of_High_Magic_as_your_school",
      [
        (jump_to_menu, "mnu_lore_of_high_magic_decision"),
      ]
      ),

      ("leave",
      [],
      "Go_Back",
      [
        (jump_to_menu, "$last_menu"),
      ]
      ),
    ],
  ),

  ("lore_of_dark_magic", 0,
    "Dhar, the Lore of Dark Magic",
    "none",
    [],
    [
      ("lore_dark_magic_1",
      [],
      "Learn_about_the_Lore_of_Dark_Magic.",
      [
        (jump_to_menu, "mnu_lore_of_dark_magic_info"),
      ]
      ),

      ("lore_of_dark_magic_2",
      [],
      "What_is_the_lore_attribute?",
      [
        (jump_to_menu, "mnu_lore_of_dark_magic_attribute"),
      ]
      ),

      ("lore_of_dark_magic_3",
      [],
      "What_kind_of_spells_can_I_learn?.",
      [
        (jump_to_menu, "mnu_lore_of_dark_magic_spells"),
      ]
      ),

      ("lore_of_dark_magic_4",
      [
        (troop_slot_eq, "trp_player", 225, 0),
      ],
      "Choose_the_Lore_of_Dark_Magic_as_your_school",
      [
        (jump_to_menu, "mnu_lore_of_dark_magic_decision"),
      ]
      ),

      ("leave",
      [],
      "Go_Back",
      [
        (jump_to_menu, "$last_menu"),
      ]
      ),
    ],
  ),

  ("lore_of_undeath", 0,
    "Necromantic, the Lore of Undeath",
    "none",
    [],
    [
      ("lore_undeath_1",
      [],
      "Learn_about_the_Lore_of_Undeath.",
      [
        (jump_to_menu, "mnu_lore_of_undeath_info"),
      ]
      ),

      ("lore_of_undeath_2",
      [],
      "What_is_the_lore_attribute?",
      [
        (jump_to_menu, "mnu_lore_of_undeath_attribute"),
      ]
      ),

      ("lore_of_undeath_3",
      [],
      "What_kind_of_spells_can_I_learn?.",
      [
        (jump_to_menu, "mnu_lore_of_undeath_spells"),
      ]
      ),

      ("lore_of_undeath_4",
      [
        (troop_slot_eq, "trp_player", 225, 0),
      ],
      "Choose_the_Lore_of_Undeath_as_your_school",
      [
        (jump_to_menu, "mnu_lore_of_undeath_decision"),
      ]
      ),

      ("leave",
      [],
      "Go_Back",
      [
        (jump_to_menu, "$last_menu"),
      ]
      ),
    ],
  ),

  ("lore_of_tzeentch", 0,
    "Lore of Tzeentch",
    "none",
    [],
    [
      ("lore_tzeentch_1",
      [],
      "Learn_about_the_Lore_of_Tzeentch.",
      [
        (jump_to_menu, "mnu_lore_of_tzeentch_info"),
      ]
      ),

      ("lore_of_tzeentch_2",
      [],
      "What_is_the_lore_attribute?",
      [
        (jump_to_menu, "mnu_lore_of_tzeentch_attribute"),
      ]
      ),

      ("lore_of_tzeentch_3",
      [],
      "What_kind_of_spells_can_I_learn?.",
      [
        (jump_to_menu, "mnu_lore_of_tzeentch_spells"),
      ]
      ),

      ("lore_of_tzeentch_4",
      [
        (troop_slot_eq, "trp_player", 225, 0),
      ],
      "Choose_the_Lore_of_Tzeentch_as_your_school",
      [
        (jump_to_menu, "mnu_lore_of_tzeentch_decision"),
      ]
      ),

      ("leave",
      [],
      "Go_Back",
      [
        (jump_to_menu, "$last_menu"),
      ]
      ),
    ],
  ),

  ("lore_of_slaanesh", 0,
    "Lore of Slaanesh",
    "none",
    [],
    [
      ("lore_slaanesh_1",
      [],
      "Learn_about_the_Lore_of_Slaanesh.",
      [
        (jump_to_menu, "mnu_lore_of_slaanesh_info"),
      ]
      ),

      ("lore_of_slaanesh_2",
      [],
      "What_is_the_lore_attribute?",
      [
        (jump_to_menu, "mnu_lore_of_slaanesh_attribute"),
      ]
      ),

      ("lore_of_slaanesh_3",
      [],
      "What_kind_of_spells_can_I_learn?.",
      [
        (jump_to_menu, "mnu_lore_of_slaanesh_spells"),
      ]
      ),

      ("lore_of_slaanesh_4",
      [
        (troop_slot_eq, "trp_player", 225, 0),
      ],
      "Choose_the_Lore_of_Slaanesh_as_your_school",
      [
        (jump_to_menu, "mnu_lore_of_slaanesh_decision"),
      ]
      ),

      ("leave",
      [],
      "Go_Back",
      [
        (jump_to_menu, "$last_menu"),
      ]
      ),
    ],
  ),

  ("lore_of_nurgle", 0,
    "Lore of Nurgle",
    "none",
    [],
    [
      ("lore_nurgle_1",
      [],
      "Learn_about_the_Lore_of_Nurgle.",
      [
        (jump_to_menu, "mnu_lore_of_nurgle_info"),
      ]
      ),

      ("lore_of_nurgle_2",
      [],
      "What_is_the_lore_attribute?",
      [
        (jump_to_menu, "mnu_lore_of_nurgle_attribute"),
      ]
      ),

      ("lore_of_nurgle_3",
      [],
      "What_kind_of_spells_can_I_learn?.",
      [
        (jump_to_menu, "mnu_lore_of_nurgle_spells"),
      ]
      ),

      ("lore_of_nurgle_4",
      [
        (troop_slot_eq, "trp_player", 225, 0),
      ],
      "Choose_the_Lore_of_Nurgle_as_your_school",
      [
        (jump_to_menu, "mnu_lore_of_nurgle_decision"),
      ]
      ),

      ("leave",
      [],
      "Go_Back",
      [
        (jump_to_menu, "$last_menu"),
      ]
      ),
    ],
  ),

  ("lore_of_da_little_waaagh", 0,
    "Lore of da Little Waaagh",
    "none",
    [],
    [
      ("lore_of_da_little_waaagh_1",
      [],
      "Learn_about_the_Lore_of_da_Little_Waaagh.",
      [
        (jump_to_menu, "mnu_lore_of_da_little_waaagh_info"),
      ]
      ),

      ("lore_of_da_little_waaagh_2",
      [],
      "What_is_the_lore_attribute?",
      [
        (jump_to_menu, "mnu_lore_of_da_little_waaagh_attribute"),
      ]
      ),

      ("lore_of_da_little_waaagh_3",
      [],
      "What_kind_of_spells_can_I_learn?.",
      [
        (jump_to_menu, "mnu_lore_of_da_little_waaagh_spells"),
      ]
      ),

      ("lore_of_da_little_waaagh_4",
      [
        (troop_slot_eq, "trp_player", 225, 0),
      ],
      "Choose_the_Lore_of_Da_Little_Waaagh_as_your_school",
      [
        (jump_to_menu, "mnu_lore_of_da_little_waaagh_decision"),
      ]
      ),

      ("leave",
      [],
      "Go_Back",
      [
        (jump_to_menu, "$last_menu"),
      ]
      ),
    ],
  ),

  ("lore_of_da_big_waaagh", 0,
    "Lore of da Big Waaagh",
    "none",
    [],
    [
      ("lore_of_da_big_waaagh_1",
      [],
      "Learn_about_the_Lore_of_da_Big_Waaagh.",
      [
        (jump_to_menu, "mnu_lore_of_da_big_waaagh_info"),
      ]
      ),

      ("lore_of_da_big_waaagh_2",
      [],
      "What_is_the_lore_attribute?",
      [
        (jump_to_menu, "mnu_lore_of_da_big_waaagh_attribute"),
      ]
      ),

      ("lore_of_da_big_waaagh_3",
      [],
      "What_kind_of_spells_can_I_learn?.",
      [
        (jump_to_menu, "mnu_lore_of_da_big_waaagh_spells"),
      ]
      ),

      ("lore_of_da_big_waaagh_4",
      [
        (troop_slot_eq, "trp_player", 225, 0),
      ],
      "Choose_the_Lore_of_Da_Big_Waaagh_as_your_school",
      [
        (jump_to_menu, "mnu_lore_of_da_big_waaagh_decision"),
      ]
      ),

      ("leave",
      [],
      "Go_Back",
      [
        (jump_to_menu, "$last_menu"),
      ]
      ),
    ],
  ),

  ("lore_of_ruin", 0,
    "Lore of Ruin",
    "none",
    [],
    [
      ("lore_ruin_1",
      [],
      "Learn_about_the_Lore_of_Ruin.",
      [
        (jump_to_menu, "mnu_lore_of_ruin_info"),
      ]
      ),

      ("lore_of_ruin_2",
      [],
      "What_is_the_lore_attribute?",
      [
        (jump_to_menu, "mnu_lore_of_ruin_attribute"),
      ]
      ),

      ("lore_of_ruin_3",
      [],
      "What_kind_of_spells_can_I_learn?.",
      [
        (jump_to_menu, "mnu_lore_of_ruin_spells"),
      ]
      ),

      ("lore_of_ruin_4",
      [
        (troop_slot_eq, "trp_player", 225, 0),
      ],
      "Choose_the_Lore_of_Ruin_as_your_school",
      [
        (jump_to_menu, "mnu_lore_of_ruin_decision"),
      ]
      ),

      ("leave",
      [],
      "Go_Back",
      [
        (jump_to_menu, "$last_menu"),
      ]
      ),
    ],
  ),

  ("lore_of_plague", 0,
    "Lore of Plague",
    "none",
    [],
    [
      ("lore_plague_1",
      [],
      "Learn_about_the_Lore_of_Plague.",
      [
        (jump_to_menu, "mnu_lore_of_plague_info"),
      ]
      ),

      ("lore_of_plague_2",
      [],
      "What_is_the_lore_attribute?",
      [
        (jump_to_menu, "mnu_lore_of_plague_attribute"),
      ]
      ),

      ("lore_of_plague_3",
      [],
      "What_kind_of_spells_can_I_learn?.",
      [
        (jump_to_menu, "mnu_lore_of_plague_spells"),
      ]
      ),

      ("lore_of_plague_4",
      [
        (troop_slot_eq, "trp_player", 225, 0),
      ],
      "Choose_the_Lore_of_Plague_as_your_school",
      [
        (jump_to_menu, "mnu_lore_of_plague_decision"),
      ]
      ),

      ("leave",
      [],
      "Go_Back",
      [
        (jump_to_menu, "$last_menu"),
      ]
      ),
    ],
  ),

  ("lore_of_ice", 0,
    "Lore of Ice",
    "none",
    [],
    [
      ("lore_ice_1",
      [],
      "Learn_about_the_Lore_of_Ice.",
      [
        (jump_to_menu, "mnu_lore_of_ice_info"),
      ]
      ),

      ("lore_of_ice_2",
      [],
      "What_is_the_lore_attribute?",
      [
        (jump_to_menu, "mnu_lore_of_ice_attribute"),
      ]
      ),

      ("lore_of_ice_3",
      [],
      "What_kind_of_spells_can_I_learn?.",
      [
        (jump_to_menu, "mnu_lore_of_ice_spells"),
      ]
      ),

      ("lore_of_ice_4",
      [
        (troop_slot_eq, "trp_player", 225, 0),
      ],
      "Choose_the_Lore_of_Ice_as_your_school",
      [
        (jump_to_menu, "mnu_lore_of_ice_decision"),
      ]
      ),

      ("leave",
      [],
      "Go_Back",
      [
        (jump_to_menu, "$last_menu"),
      ]
      ),
    ],
  ),

  ("lore_of_desert", 0,
    "Lore of the Desert",
    "none",
    [],
    [
      ("lore_desert_1",
      [],
      "Learn_about_the_Lore_of_the_Desert.",
      [
        (jump_to_menu, "mnu_lore_of_desert_info"),
      ]
      ),

      ("lore_of_desert_2",
      [],
      "What_is_the_lore_attribute?",
      [
        (jump_to_menu, "mnu_lore_of_desert_attribute"),
      ]
      ),

      ("lore_of_desert_3",
      [],
      "What_kind_of_spells_can_I_learn?.",
      [
        (jump_to_menu, "mnu_lore_of_desert_spells"),
      ]
      ),

      ("lore_of_desert_4",
      [
        (troop_slot_eq, "trp_player", 225, 0),
      ],
      "Choose_the_Lore_of_the_Desert_as_your_school",
      [
        (jump_to_menu, "mnu_lore_of_desert_decision"),
      ]
      ),

      ("leave",
      [],
      "Go_Back",
      [
        (jump_to_menu, "$last_menu"),
      ]
      ),
    ],
  ),

  ("lore_of_wild", 0,
    "Lore of the Wild",
    "none",
    [],
    [
      ("lore_wild_1",
      [],
      "Learn_about_the_Lore_of_the_Wild.",
      [
        (jump_to_menu, "mnu_lore_of_wild_info"),
      ]
      ),

      ("lore_of_wild_2",
      [],
      "What_is_the_lore_attribute?",
      [
        (jump_to_menu, "mnu_lore_of_wild_attribute"),
      ]
      ),

      ("lore_of_wild_3",
      [],
      "What_kind_of_spells_can_I_learn?.",
      [
        (jump_to_menu, "mnu_lore_of_wild_spells"),
      ]
      ),

      ("lore_of_wild_4",
      [
        (troop_slot_eq, "trp_player", 225, 0),
      ],
      "Choose_the_Lore_of_Wild_as_your_school",
      [
        (jump_to_menu, "mnu_lore_of_wild_decision"),
      ]
      ),

      ("leave",
      [],
      "Go_Back",
      [
        (jump_to_menu, "$last_menu"),
      ]
      ),
    ],
  ),

  ("lore_of_nehekhara", 0,
    "Lore of the Nehekhara",
    "none",
    [],
    [
      ("lore_nehekhara_1",
      [],
      "Learn_about_the_Lore_of_Nehekhara.",
      [
        (jump_to_menu, "mnu_lore_of_nehekhara_info"),
      ]
      ),

      ("lore_of_nehekhara_2",
      [],
      "What_is_the_lore_attribute?",
      [
        (jump_to_menu, "mnu_lore_of_nehekhara_attribute"),
      ]
      ),

      ("lore_of_nehekhara_3",
      [],
      "What_kind_of_spells_can_I_learn?.",
      [
        (jump_to_menu, "mnu_lore_of_nehekhara_spells"),
      ]
      ),

      ("lore_of_nehekhara_4",
      [
        (troop_slot_eq, "trp_player", 225, 0),
      ],
      "Choose_the_Lore_of_Nehekhara_as_your_school",
      [
        (jump_to_menu, "mnu_lore_of_nehekhara_decision"),
      ]
      ),

      ("leave",
      [],
      "Go_Back",
      [
        (jump_to_menu, "$last_menu"),
      ]
      ),
    ],
  ),

  ("lore_of_life_info", 0,
    "Aspect of life and fertility, the wind of Ghyran rains over the world. From its copious and generous fluctuations, the Lore of Life and Jade Magic are brought to mortals.^Aspect of life and fertility, the wind of Ghyran rains over the world. From its copious and generous fluctuations, the Lore of Life and Jade Magic are brought to mortals.",
    "none",
    [],
    [
      ("continue",
      [],
      "OK",
      [
        (jump_to_menu, "mnu_lore_of_life"),
      ]
      ),
    ],
  ),

  ("lore_of_life_attribute", 0,
    "All successfully cast spells restore health to the caster",
    "none",
    [],
    [
      ("continue",
      [],
      "OK",
      [
        (jump_to_menu, "mnu_lore_of_life"),
      ]
      ),
    ],
  ),

  ("lore_of_life_spells", 0,
    "Jade magic allows you to heal and protect your troops and even to revive unconscious allies. The school lacks magic missile weapons but does have 2 AOE spells including the potent Dwellers Below",
    "none",
    [],
    [
      ("continue",
      [],
      "OK",
      [
        (jump_to_menu, "mnu_lore_of_life"),
      ]
      ),
    ],
  ),

  ("lore_of_life_decision", 0,
    "Once you choose this school you are not able to change to another. Are  you certain you would like to specialise in Jade magic?",
    "none",
    [],
    [
      ("lore_life_decision_1",
      [],
      "Yes,_I_commit_myself_to_the_Lore_of_Life.",
      [
        (troop_set_slot, "trp_player", 225, 1),
        (troop_set_slot, "trp_player", troopMagicType, 3),
        (troop_add_item, "trp_player", "itm_player_missile_jade"),
        (display_message, "@You are now a practitioner of the Lore of Life"),
        (jump_to_menu, "$last_menu2"),
      ]
      ),

      ("leave",
      [],
      "I_cannot_commit_myself_at_this_time",
      [
        (jump_to_menu, "mnu_lore_of_life"),
      ]
      ),
    ],
  ),

  ("lore_of_metal_info", 0,
    "A true oddity even among the fluctuations of Aethyr, the wind Chamon binds itself to material elements, the heaviest the element, the stronger the bond.^Thanks to this peculiarity, the Lore of Metal and Gold Magic are capable of manipulating the essence of metals, operating transmutations based on the strict scientific logics of reality, making those who devote their lives to the art of studying Chamon slowly turn into rigid, logical, cold individuals, like metal.",
    "none",
    [],
    [
      ("continue",
      [],
      "OK",
      [
        (jump_to_menu, "mnu_lore_of_metal"),
      ]
      ),
    ],
  ),

  ("lore_of_metal_attribute", 0,
    "Bonus damage against heavily armoured troops and magic attacks count as flaming:",
    "none",
    [],
    [
      ("continue",
      [],
      "OK",
      [
        (jump_to_menu, "mnu_lore_of_metal"),
      ]
      ),
    ],
  ),

  ("lore_of_metal_spells", 0,
    "Gold magic has the ability to destroy the armour of the enemy and leave them at the mercy of your troops. You can also inflict damage with searing doom and the powerful AOE spell Final transmutation although unlike most schools the radius is from the caster so you need to get in close.^The school also boasts powerful augmentations which both protect and enhance your allies.",
    "none",
    [],
    [
      ("continue",
      [],
      "OK",
      [
        (jump_to_menu, "mnu_lore_of_metal"),
      ]
      ),
    ],
  ),

  ("lore_of_metal_decision", 0,
    "Once you choose this school you are not able to change to another. Are  you certain you would like to specialise in Gold magic?",
    "none",
    [],
    [
      ("lore_gold_decision_1",
      [],
      "Yes,_I_commit_myself_to_the_Lore_of_Metal.",
      [
        (troop_set_slot, "trp_player", 225, 1),
        (troop_set_slot, "trp_player", troopMagicType, 2),
        (troop_add_item, "trp_player", "itm_player_missile_gold"),
        (display_message, "@You are now a practitioner of the Lore of Metal"),
        (jump_to_menu, "$last_menu2"),
      ]
      ),

      ("leave",
      [],
      "I_cannot_commit_myself_at_this_time",
      [
        (jump_to_menu, "mnu_lore_of_metal"),
      ]
      ),
    ],
  ),

  ("lore_of_light_info", 0,
    "The blinding resplendent wind Hysh is the source of the Lore of Light and White Magic.^Harbingers of purity, truth, protection and healing, those who practice the arcane arts derived from this aspect of Aethyr concentrate the light of Hysh into spells capable of illuminating the deepest darkness, healing fatal wounds of the flesh or soul, banishing and mercilessly destroying the manifestations of evil",
    "none",
    [],
    [
      ("continue",
      [],
      "OK",
      [
        (jump_to_menu, "mnu_lore_of_light"),
      ]
      ),
    ],
  ),

  ("lore_of_light_attribute", 0,
    "All magic damage is doubled vs undead and daemons.",
    "none",
    [],
    [
      ("continue",
      [],
      "OK",
      [
        (jump_to_menu, "mnu_lore_of_light"),
      ]
      ),
    ],
  ),

  ("lore_of_light_spells", 0,
    "Light magic focuses on speeding up your allies in terms of movement and weapon speed and slowing down your enemy. The spell Bironas timewarp is the fastest spell in the game, cast it on your reinforcements so they arrive in double quick time. The school also has a magic missile and AOE spell which annihilate undead.",
    "none",
    [],
    [
      ("continue",
      [],
      "OK",
      [
        (jump_to_menu, "mnu_lore_of_light"),
      ]
      ),
    ],
  ),

  ("lore_of_light_decision", 0,
    "Once you choose this school you are not able to change to another. Are  you certain you would like to specialise in White magic?",
    "none",
    [],
    [
      ("lore_light_decision_1",
      [],
      "Yes,_I_commit_myself_to_the_Lore_of_Light.",
      [
        (troop_set_slot, "trp_player", 225, 1),
        (troop_set_slot, "trp_player", troopMagicType, 1),
        (troop_add_item, "trp_player", "itm_player_missile_light"),
        (display_message, "@You are now a practitioner of the Lore of Light"),
        (jump_to_menu, "$last_menu2"),
      ]
      ),

      ("leave",
      [],
      "I_cannot_commit_myself_at_this_time",
      [
        (jump_to_menu, "mnu_lore_of_light"),
      ]
      ),
    ],
  ),

  ("lore_of_heavens_info", 0,
    "The Lore of Heavens and Celestial Magic are both derivations of Azyr, the wind flowing across the skies, the cosmos and through time itself.^Those who bind themselves to the fluctuations of this wind, slowly gain the abilities to manipulate the weather, summon the forces of the highest heavens, foresee and even change the futures, their powers growing stronger as their inner souls transcend the material existence.",
    "none",
    [],
    [
      ("continue",
      [],
      "OK",
      [
        (jump_to_menu, "mnu_lore_of_heavens"),
      ]
      ),
    ],
  ),

  ("lore_of_heavens_attribute", 0,
    "Weather related random events will not lead to negative outcomes.",
    "none",
    [],
    [
      ("continue",
      [],
      "OK",
      [
        (jump_to_menu, "mnu_lore_of_heavens"),
      ]
      ),
    ],
  ),

  ("lore_of_heavens_spells", 0,
    "Celestial is a very offensive school with multiple magic missiles and AOEs. The spell harmonic convergence is very unique and allows your weaker troops to inflict damage against anyone and curse of the midnight wind suppresses the special abilities of your enemies.",
    "none",
    [],
    [
      ("continue",
      [],
      "OK",
      [
        (jump_to_menu, "mnu_lore_of_heavens"),
      ]
      ),
    ],
  ),

  ("lore_of_heavens_decision", 0,
    "Once you choose this school you are not able to change to another. Are  you certain you would like to specialise in Celestial magic?",
    "none",
    [],
    [
      ("lore_heavens_decision_1",
      [],
      "Yes,_I_commit_myself_to_the_Lore_of_Heavens.",
      [
        (troop_set_slot, "trp_player", 225, 1),
        (troop_set_slot, "trp_player", troopMagicType, 4),
        (troop_add_item, "trp_player", "itm_player_missile_celestial"),
        (display_message, "@You are now a practitioner of the Lore of Heavens"),
        (jump_to_menu, "$last_menu2"),
      ]
      ),

      ("leave",
      [],
      "I_cannot_commit_myself_at_this_time",
      [
        (jump_to_menu, "mnu_lore_of_life"),
      ]
      ),
    ],
  ),

  ("lore_of_shadows_info", 0,
    "The foggy Uglu, the wind of magic from which the Lore of Shadows and Shadow Magic are derived, wraps everything in its flow inside a thick cloud of smoke.^Aspect of illusions, mistrust and concealment, the powers coming from this form of Magic allow the casters to walk unseen across the lands, bend the perception of reality at their will and strike from the shadows they gather.",
    "none",
    [],
    [
      ("continue",
      [],
      "OK",
      [
        (jump_to_menu, "mnu_lore_of_shadows"),
      ]
      ),
    ],
  ),

  ("lore_of_shadows_attribute", 0,
    "10% chance per magic level of player escape after battle up to 80%",
    "none",
    [],
    [
      ("continue",
      [],
      "OK",
      [
        (jump_to_menu, "mnu_lore_of_shadows"),
      ]
      ),
    ],
  ),

  ("lore_of_shadows_spells", 0,
    "Grey magicians are the master manipulators both in terms of buffing allies and hexing enemies. It is the best school for weakening your enemies and leaving them at the mercy of your front line.^It does have a magic missile and an AOE attack but is primarily a support class. The spell Steed of Shadows will summon you a shadow steed at any time.",
    "none",
    [],
    [
      ("continue",
      [],
      "OK",
      [
        (jump_to_menu, "mnu_lore_of_shadows"),
      ]
      ),
    ],
  ),

  ("lore_of_shadows_decision", 0,
    "Once you choose this school you are not able to change to another. Are  you certain you would like to specialise in Grey magic?",
    "none",
    [],
    [
      ("lore_grey_decision_1",
      [],
      "Yes,_I_commit_myself_to_the_Lore_of_Shadows.",
      [
        (troop_set_slot, "trp_player", 225, 1),
        (troop_set_slot, "trp_player", troopMagicType, 5),
        (troop_add_item, "trp_player", "itm_player_missile_grey"),
        (display_message, "@You are now a practitioner of the Lore of Shadows"),
        (jump_to_menu, "$last_menu2"),
      ]
      ),

      ("leave",
      [],
      "I_cannot_commit_myself_at_this_time",
      [
        (jump_to_menu, "mnu_lore_of_shadows"),
      ]
      ),
    ],
  ),

  ("lore_of_death_info", 0,
    "The wind of Shyish, the ominous and inevitable, source of the Lore of Death and Amethyst Magic.^A perceivable grim and dark presence, this form of magic taps directly into the slow but unstoppable end of all things, giving those who embrace it control over the domain of death.^A wizard wielding the powers of this aspect of Aethyr is thus capable to call upon the fragments of the souls floating in the realm beyond, or send its enemies to it.",
    "none",
    [],
    [
      ("continue",
      [],
      "OK",
      [
        (jump_to_menu, "mnu_lore_of_death"),
      ]
      ),
    ],
  ),

  ("lore_of_death_attribute", 0,
    "If a spell causes an enemy death there is a 33% chance of bonus mana in the next magic phase",
    "none",
    [],
    [
      ("continue",
      [],
      "OK",
      [
        (jump_to_menu, "mnu_lore_of_death"),
      ]
      ),
    ],
  ),

  ("lore_of_death_spells", 0,
    "Amethyst magic specialises in conditional magic missile spells which have unique effects and work better against different troops. There is also a spell which causes the enemy to lose courage quickly and the spell Purple Sun of Xereus is one of the most powerful AOE spells in the Old World.",
    "none",
    [],
    [
      ("continue",
      [],
      "OK",
      [
        (jump_to_menu, "mnu_lore_of_death"),
      ]
      ),
    ],
  ),

  ("lore_of_death_decision", 0,
    "Once you choose this school you are not able to change to another. Are  you certain you would like to specialise in Amethyst magic?",
    "none",
    [],
    [
      ("lore_death_decision_1",
      [],
      "Yes,_I_commit_myself_to_the_Lore_of_Death.",
      [
        (troop_set_slot, "trp_player", 225, 1),
        (troop_set_slot, "trp_player", troopMagicType, 6),
        (troop_add_item, "trp_player", "itm_player_missile_amethyst"),
        (display_message, "@You are now a practitioner of the Lore of Death"),
        (jump_to_menu, "$last_menu2"),
      ]
      ),

      ("leave",
      [],
      "I_cannot_commit_myself_at_this_time",
      [
        (jump_to_menu, "mnu_lore_of_death"),
      ]
      ),
    ],
  ),

  ("lore_of_fire_info", 0,
    "The burning hot wind of Aqshy, the flowing incandescence where the Lore of Fire and Bright Magic come from.^Often seen as the material form of passion, ambition and sheer wrath, the magic derived from Aqshy is as powerful and at the same time dangerous as all of them, constantly forcing the wizards calling upon it into maintaining a perfect control over the spells, else the flames would erupt free, engulfing everything around them in fiery destruction and painful demise, especially for the caster.",
    "none",
    [],
    [
      ("continue",
      [],
      "OK",
      [
        (jump_to_menu, "mnu_lore_of_fire"),
      ]
      ),
    ],
  ),

  ("lore_of_fire_attribute", 0,
    "All attacks count as flaming damage. If you successfully cast a spell any further spells cast in that magic phase will have a casting roll bonus.",
    "none",
    [],
    [
      ("continue",
      [],
      "OK",
      [
        (jump_to_menu, "mnu_lore_of_fire"),
      ]
      ),
    ],
  ),

  ("lore_of_fire_spells", 0,
    "Bright magic focuses on dealing damage through magic missiles and AOEs and supporting troops through augmentations which both protect and enhance. Bright magic has no hexes although it does have the very unique spell Piercing Bolts of Burning which turn all arrows and bolts into flaming versions.",
    "none",
    [],
    [
      ("continue",
      [],
      "OK",
      [
        (jump_to_menu, "mnu_lore_of_fire"),
      ]
      ),
    ],
  ),

  ("lore_of_fire_decision", 0,
    "Once you choose this school you are not able to change to another. Are  you certain you would like to specialise in Bright magic?",
    "none",
    [],
    [
      ("lore_fire_decision_1",
      [],
      "Yes,_I_commit_myself_to_the_Lore_of_Fire.",
      [
        (troop_set_slot, "trp_player", 225, 1),
        (troop_set_slot, "trp_player", troopMagicType, 7),
        (troop_add_item, "trp_player", "itm_player_missile_bright"),
        (display_message, "@You are now a practitioner of the Lore of Fire"),
        (jump_to_menu, "$last_menu2"),
      ]
      ),

      ("leave",
      [],
      "I_cannot_commit_myself_at_this_time",
      [
        (jump_to_menu, "mnu_lore_of_fire"),
      ]
      ),
    ],
  ),

  ("lore_of_beasts_info", 0,
    "The feral, primal, wildest aspect of Magic. The wind of Ghur is the source of the Lore of Beasts and as such the force behind Amber Magic.^Those who choose to follow the flow of Ghur tap directly into the purest essence of nature, growing an ever stronger bond with animals and other beasts, a bond that lets the wielders of this magic unleash the ancestral forces of the ferine realm against those who oppose them.",
    "none",
    [],
    [
      ("continue",
      [],
      "OK",
      [
        (jump_to_menu, "mnu_lore_of_beasts"),
      ]
      ),
    ],
  ),

  ("lore_of_beasts_attribute", 0,
    "Casting rolls get +1 bonus when targeting beastmen.",
    "none",
    [],
    [
      ("continue",
      [],
      "OK",
      [
        (jump_to_menu, "mnu_lore_of_beasts"),
      ]
      ),
    ],
  ),

  ("lore_of_beasts_spells", 0,
    "Amber magic is a school of powerful augments which increase ally speed, damage and weapon speed. It boasts one of the more powerful recastable missiles but has no AOE at all. The most powerful spell can turn an ally troop into a wild bear.",
    "none",
    [],
    [
      ("continue",
      [],
      "OK",
      [
        (jump_to_menu, "mnu_lore_of_beasts"),
      ]
      ),
    ],
  ),

  ("lore_of_beasts_decision", 0,
    "Once you choose this school you are not able to change to another. Are  you certain you would like to specialise in Amber magic?",
    "none",
    [],
    [
      ("lore_beasts_decision_1",
      [],
      "Yes,_I_commit_myself_to_the_Lore_of_Beasts.",
      [
        (troop_set_slot, "trp_player", 225, 1),
        (troop_set_slot, "trp_player", troopMagicType, 8),
        (troop_add_item, "trp_player", "itm_player_missile_amber"),
        (display_message, "@You are now a practitioner of the Lore of Beasts"),
        (jump_to_menu, "$last_menu2"),
      ]
      ),

      ("leave",
      [],
      "I_cannot_commit_myself_at_this_time",
      [
        (jump_to_menu, "mnu_lore_of_beasts"),
      ]
      ),
    ],
  ),

  ("lore_of_high_magic_info", 0,
    "The unison essence of Aethyr, quintessential pinnacle of Magic, Qhaysh, also known as High Magic, is the art of harmoniously weave all the single winds of magic into majestic spells beyond the ability of most creatures, be them mortal or eternal.^To become a master of Qhaysh means to completely devote mind and soul to the understanding of the behavior of all the Winds of Magic and their domains.",
    "none",
    [],
    [
      ("continue",
      [],
      "OK",
      [
        (jump_to_menu, "mnu_lore_of_high_magic"),
      ]
      ),
    ],
  ),

  ("lore_of_high_magic_attribute", 0,
    "A successful cast creates a shield of protection roll of 6 or more. Subsequent successful spells improve target number up to a maximum of 4 or more. Resets to 0 when a hit is absorbed.",
    "none",
    [],
    [
      ("continue",
      [],
      "OK",
      [
        (jump_to_menu, "mnu_lore_of_high_magic"),
      ]
      ),
    ],
  ),

  ("lore_of_high_magic_spells", 0,
    "High magic takes the best spells of the 8 main colleges and combines them for a powerful school which can do a bit of everything. It is the only school which can dispel magic and the unique spell mana tempest invests mana in order to give you and your allied casters more mana in future magic phases.",
    "none",
    [],
    [
      ("continue",
      [],
      "OK",
      [
        (jump_to_menu, "mnu_lore_of_high_magic"),
      ]
      ),
    ],
  ),

  ("lore_of_high_magic_decision", 0,
    "Once you choose this school you are not able to change to another. Are  you certain you would like to specialise in High magic?",
    "none",
    [],
    [
      ("lore_high_magic_decision_1",
      [],
      "Yes,_I_commit_myself_to_the_Lore_of_High_Magic.",
      [
        (troop_set_slot, "trp_player", 225, 1),
        (troop_set_slot, "trp_player", troopMagicType, 9),
        (troop_add_item, "trp_player", "itm_player_missile_qhaysh"),
        (display_message, "@You are now a practitioner of the Lore of High Magic"),
        (jump_to_menu, "$last_menu2"),
      ]
      ),

      ("leave",
      [],
      "I_cannot_commit_myself_at_this_time",
      [
        (jump_to_menu, "mnu_lore_of_high_magic"),
      ]
      ),
    ],
  ),

  ("lore_of_dark_magic_info", 0,
    "Dhar, known as Dark Magic by most, is the most obscure application of the essence of Aethyr.^ As the Winds of Magic blow, fluctuating through everything, they are neutral embodiments of different components of reality itself. Dhar wizards tap directly into that neutral essence, subjugating it only to retain and abuse the most foul parts of Magic, in a cacophony of powerful negative energies and spells, for the sole purpose of inflicting sorrows over the others.",
    "none",
    [],
    [
      ("continue",
      [],
      "OK",
      [
        (jump_to_menu, "mnu_lore_of_dark_magic"),
      ]
      ),
    ],
  ),

  ("lore_of_dark_magic_attribute", 0,
    "17% chance of bonus damage when casting direct damage spells",
    "none",
    [],
    [
      ("continue",
      [],
      "OK",
      [
        (jump_to_menu, "mnu_lore_of_dark_magic"),
      ]
      ),
    ],
  ),

  ("lore_of_dark_magic_spells", 0,
    "Dhar magic has 3 AOE spells which are conditional but are capable of killing instantly and even healing the caster as enemies die. Power of darkness is one of the most impactful augmentation spells in the world which causes allies damage output to be greatly increased.",
    "none",
    [],
    [
      ("continue",
      [],
      "OK",
      [
        (jump_to_menu, "mnu_lore_of_dark_magic"),
      ]
      ),
    ],
  ),

  ("lore_of_dark_magic_decision", 0,
    "Once you choose this school you are not able to change to another. Are  you certain you would like to specialise in Dark magic?",
    "none",
    [],
    [
      ("lore_life_decision_1",
      [],
      "Yes,_I_commit_myself_to_the_Lore_of_Dark_Magic.",
      [
        (troop_set_slot, "trp_player", 225, 1),
        (troop_set_slot, "trp_player", troopMagicType, 10),
        (troop_add_item, "trp_player", "itm_player_missile_dhar"),
        (display_message, "@You are now a practitioner of the Lore of Dark Magic"),
        (jump_to_menu, "$last_menu2"),
      ]
      ),

      ("leave",
      [],
      "I_cannot_commit_myself_at_this_time",
      [
        (jump_to_menu, "mnu_lore_of_dark_magic"),
      ]
      ),
    ],
  ),

  ("lore_of_undeath_info", 0,
    "The powers of the wind Shyish corrupted through Dhar magic to overcome death and usurp the control over the dead.^Commonly known as Necromancy, the Lore of Undeath was created by Nagash, and perpetrated by many beings through the ages. Necromancers are willing to pay their eternal souls to learn this forbidden art, longing for powers that reach beyond the mortal realms.",
    "none",
    [],
    [
      ("continue",
      [],
      "OK",
      [
        (jump_to_menu, "mnu_lore_of_undeath"),
      ]
      ),
    ],
  ),

  ("lore_of_undeath_attribute", 0,
    "Successfully casting a summoning spell will increase the odds of summoning higher level undead in your next summoning spell",
    "none",
    [],
    [
      ("continue",
      [],
      "OK",
      [
        (jump_to_menu, "mnu_lore_of_undeath"),
      ]
      ),
    ],
  ),

  ("lore_of_undeath_spells", 0,
    "This school has high requirement spells which are trickier to cast at lower levels but have powerful effects like summoning undead allies or giving yourself increased melee damage. You can also learn a magic missile attack which can heal and an AOE of modest power.",
    "none",
    [],
    [
      ("continue",
      [],
      "OK",
      [
        (jump_to_menu, "mnu_lore_of_undeath"),
      ]
      ),
    ],
  ),

  ("lore_of_undeath_decision", 0,
    "Once you choose this school you are not able to change to another. Are  you certain you would like to specialise in Undeath magic?",
    "none",
    [],
    [
      ("lore_undeath_decision_1",
      [],
      "Yes,_I_commit_myself_to_the_Lore_of_Undeath.",
      [
        (troop_set_slot, "trp_player", 225, 1),
        (troop_set_slot, "trp_player", troopMagicType, 11),
        (troop_add_item, "trp_player", "itm_player_missile_necromantic"),
        (display_message, "@You are now a practitioner of the Lore of Undeath"),
        (troop_get_type, ":var0", "trp_player"),
        (try_begin),
          (this_or_next|eq, ":var0", 0),
          (eq, ":var0", 1),
          (assign, "$disposition", 2),
          (display_message, "@You have aligned yourself with darkness. Your reputation has changed to evil.", 0x66B3FF),
        (try_end),
        (jump_to_menu, "$last_menu2"),
      ]
      ),

      ("leave",
      [],
      "I_cannot_commit_myself_at_this_time",
      [
        (jump_to_menu, "mnu_lore_of_undeath"),
      ]
      ),
    ],
  ),

  ("lore_of_tzeentch_info", 0,
    "The Winds of Magic flow to the World from the Realm of Chaos. The so called Gods of Chaos utilize them as a medium to make their corrupt wills gain a corporeal form in the Material Plane.^The Lore of Tzeentch, Lord of Change, is one of the most dangerous and destructive forms of magic, as the spells it contains are bringers of sudden, immediate and violent change, with catastrophic results for the poor souls struck by these sorceries.",
    "none",
    [],
    [
      ("continue",
      [],
      "OK",
      [
        (jump_to_menu, "mnu_lore_of_tzeentch"),
      ]
      ),
    ],
  ),

  ("lore_of_tzeentch_attribute", 0,
    "Gain 2 bonus mana if the winds of magic is 8",
    "none",
    [],
    [
      ("continue",
      [],
      "OK",
      [
        (jump_to_menu, "mnu_lore_of_tzeentch"),
      ]
      ),
    ],
  ),

  ("lore_of_tzeentch_spells", 0,
    "Tzeentch magic has multiple AOE spells of various power levels, the most powerful magic missile in Bolt of Change and has the ability to disrupt enemy casters with Glean Magic.",
    "none",
    [],
    [
      ("continue",
      [],
      "OK",
      [
        (jump_to_menu, "mnu_lore_of_tzeentch"),
      ]
      ),
    ],
  ),

  ("lore_of_tzeentch_decision", 0,
    "Once you choose this school you are not able to change to another. Are  you certain you would like to specialise in Tzeentch magic?",
    "none",
    [],
    [
      ("lore_tzeentch_decision_1",
      [],
      "Yes,_I_commit_myself_to_the_Lore_of_Tzeentch.",
      [
        (troop_set_slot, "trp_player", 225, 1),
        (troop_set_slot, "trp_player", troopMagicType, 12),
        (troop_add_item, "trp_player", "itm_player_missile_tzeentch"),
        (display_message, "@You are now a practitioner of the Lore of Tzeentch"),
        (jump_to_menu, "$last_menu2"),
      ]
      ),

      ("leave",
      [],
      "I_cannot_commit_myself_at_this_time",
      [
        (jump_to_menu, "mnu_lore_of_tzeentch"),
      ]
      ),
    ],
  ),

  ("lore_of_slaanesh_info", 0,
    "The Winds of Magic flow to the World from the Realm of Chaos. The so called Gods of Chaos utilize them as a medium to make their corrupt wills gain a corporeal form in the Material Plane.^The Lore of Slaanesh, God of Pain and Pleasure, is a vile and treacherous grimoire of sorceries affecting the minds of its targets. Distorted sensations, exaggerated pulsions, irrational reactions, the wills of the ones struck by these spells are bent and broken by the Prince of Lust.",
    "none",
    [],
    [
      ("continue",
      [],
      "OK",
      [
        (jump_to_menu, "mnu_lore_of_slaanesh"),
      ]
      ),
    ],
  ),

  ("lore_of_slaanesh_attribute", 0,
    "If spell damage kills a target there is 17% chance of caster summoning a daemonette",
    "none",
    [],
    [
      ("continue",
      [],
      "OK",
      [
        (jump_to_menu, "mnu_lore_of_slaanesh"),
      ]
      ),
    ],
  ),

  ("lore_of_slaanesh_spells", 0,
    "The recastable magic missile spell Lash of Slaanesh is on the weaker side but the school compensates with 2 very powerful AOE spells and one of the best augmentation spells around with Hysterical Frenzy. The ability to negate enemy special abilities is a very powerful tool against Bretonnia and their blessed knights.",
    "none",
    [],
    [
      ("continue",
      [],
      "OK",
      [
        (jump_to_menu, "mnu_lore_of_slaanesh"),
      ]
      ),
    ],
  ),

  ("lore_of_slaanesh_decision", 0,
    "Once you choose this school you are not able to change to another. Are  you certain you would like to specialise in Slaanesh magic?",
    "none",
    [],
    [
      ("lore_slaanesh_decision_1",
      [],
      "Yes,_I_commit_myself_to_the_Lore_of_Slaanesh.",
      [
        (troop_set_slot, "trp_player", 225, 1),
        (troop_set_slot, "trp_player", troopMagicType, 13),
        (troop_add_item, "trp_player", "itm_player_missile_slaanesh"),
        (display_message, "@You are now a practitioner of the Lore of Slaanesh"),
        (jump_to_menu, "$last_menu2"),
      ]
      ),

      ("leave",
      [],
      "I_cannot_commit_myself_at_this_time",
      [
        (jump_to_menu, "mnu_lore_of_slaanesh"),
      ]
      ),
    ],
  ),

  ("lore_of_nurgle_info", 0,
    "The Winds of Magic flow to the World from the Realm of Chaos. The so called Gods of Chaos utilize them as a medium to make their corrupt wills gain a corporeal form in the Material Plane.^The Lore of Nurgle, The Plagued One, is a compendium of sorceries that allow the casters blessed by Nurgle to spread disease, sickness and decay among the living to bring forth the plans of their rotting lord.",
    "none",
    [],
    [
      ("continue",
      [],
      "OK",
      [
        (jump_to_menu, "mnu_lore_of_nurgle"),
      ]
      ),
    ],
  ),

  ("lore_of_nurgle_attribute", 0,
    "After a spell is sucessfully cast there is a 17% chance of gaining ignore pain. After this there is another 17% chance of gaining advanced ignore pain. Effect remains for the current battle.",
    "none",
    [],
    [
      ("continue",
      [],
      "OK",
      [
        (jump_to_menu, "mnu_lore_of_nurgle"),
      ]
      ),
    ],
  ),

  ("lore_of_nurgle_spells", 0,
    "The lore of Nurgle is less offensive than the other two chaos schools and is the most unique of the three. It is the only chaos school which can heal and its augmentations can give your allies poison attacks and ignore pain. The damage dealing spells of nurgle are conditional but very powerful when the conditions are met.",
    "none",
    [],
    [
      ("continue",
      [],
      "OK",
      [
        (jump_to_menu, "mnu_lore_of_nurgle"),
      ]
      ),
    ],
  ),

  ("lore_of_nurgle_decision", 0,
    "Once you choose this school you are not able to change to another. Are  you certain you would like to specialise in Nurgle magic?",
    "none",
    [],
    [
      ("lore_life_decision_1",
      [],
      "Yes,_I_commit_myself_to_the_Lore_of_Nurgle.",
      [
        (troop_set_slot, "trp_player", 225, 1),
        (troop_set_slot, "trp_player", troopMagicType, 14),
        (troop_add_item, "trp_player", "itm_player_missile_nurgle"),
        (display_message, "@You are now a practitioner of the Lore of Nurgle"),
        (jump_to_menu, "$last_menu2"),
      ]
      ),

      ("leave",
      [],
      "I_cannot_commit_myself_at_this_time",
      [
        (jump_to_menu, "mnu_lore_of_life"),
      ]
      ),
    ],
  ),

  ("lore_of_da_big_waaagh_info", 0,
    "The minds of the Greenskins are not attuned with the flow of the Winds of Magic, instead they produce a peculiar internal magical energy. The Shamans of the Orcs are capable of feeling this energy and channel it into raw energies, while chanting prayers to the Twin Gods, Gork and Mork.^The Lore of Da Big WAAAGH! is the result of said channeling, the mighty fist of the Twin Gods against the weaklings who dare to oppose the orcs.",
    "none",
    [],
    [
      ("continue",
      [],
      "OK",
      [
        (jump_to_menu, "mnu_lore_of_da_big_waaagh"),
      ]
      ),
    ],
  ),

  ("lore_of_da_big_waaagh_attribute", 0,
    "Between each magic phase the amount of times your allied orcs hit an enemy and the amount of times your allied orcs are hit by an enemy is recorded. If allied orcs successfully hit more times than they are hit gain bonus damage in all spells. The higher the difference, the higher the bonus.",
    "none",
    [],
    [
      ("continue",
      [],
      "OK",
      [
        (jump_to_menu, "mnu_lore_of_da_big_waaagh"),
      ]
      ),
    ],
  ),

  ("lore_of_da_big_waaagh_spells", 0,
    "Orc magic focuses on magic missile attacks and includes a unique missile is easier to cast than others of its power level but onyl affects enemy magic users.^Orc magic also boasts some augmentations to speed up allied orcs and one of the few spells which boost the caster in combat.",
    "none",
    [],
    [
      ("continue",
      [],
      "OK",
      [
        (jump_to_menu, "mnu_lore_of_da_big_waaagh"),
      ]
      ),
    ],
  ),

  ("lore_of_da_big_waaagh_decision", 0,
    "Once you choose this school you are not able to change to another. Are  you certain you would like to specialise in Orc magic?",
    "none",
    [],
    [
      ("lore_life_decision_1",
      [],
      "Yes,_I_commit_myself_to_the_Lore_of_Da_Big_Waaagh.",
      [
        (troop_set_slot, "trp_player", 225, 1),
        (troop_set_slot, "trp_player", troopMagicType, 15),
        (troop_add_item, "trp_player", "itm_player_missile_orc"),
        (display_message, "@You are now a practitioner of the Lore of Da Big Waaagh"),
        (jump_to_menu, "$last_menu2"),
      ]
      ),

      ("leave",
      [],
      "I_cannot_commit_myself_at_this_time",
      [
        (jump_to_menu, "mnu_lore_of_da_big_waaagh"),
      ]
      ),
    ],
  ),

  ("lore_of_da_little_waaagh_info", 0,
    "The minds of the Greenskins are not attuned with the flow of the Winds of Magic, instead they produce a peculiar internal magical energy. The Shamans of the Goblins are dragged into trance by said energy buzzing in the minds of their kin, giving them the ability to summon the help of the Twin Gods, Gork and Mork. The Lore of Da Little Waaagh! is the result of it, the cunning and subversive magic of the sneaky and spiteful goblins.",
    "none",
    [],
    [
      ("continue",
      [],
      "OK",
      [
        (jump_to_menu, "mnu_lore_of_da_little_waaagh"),
      ]
      ),
    ],
  ),

  ("lore_of_da_little_waaagh_attribute", 0,
    "After a successful cast there is a 33% chance of stealing a mana from each enemy caster in the next magic phase",
    "none",
    [],
    [
      ("continue",
      [],
      "OK",
      [
        (jump_to_menu, "mnu_lore_of_da_little_waaagh"),
      ]
      ),
    ],
  ),

  ("lore_of_da_little_waaagh_spells", 0,
    "Goblin magic is lower down on the power scale but the spells are cheap and easier to cast and shamans always have lots of mana. No other school has as much mana to play with as Goblins and it contains some useful utility spells which give allies poisoned attacks, increased piercing damage and can negate enemy special abilities.",
    "none",
    [],
    [
      ("continue",
      [],
      "OK",
      [
        (jump_to_menu, "mnu_lore_of_da_little_waaagh"),
      ]
      ),
    ],
  ),

  ("lore_of_da_little_waaagh_decision", 0,
    "Once you choose this school you are not able to change to another. Are  you certain you would like to specialise in Goblin magic?",
    "none",
    [],
    [
      ("lore_life_decision_1",
      [],
      "Yes,_I_commit_myself_to_the_Lore_of_Da_Little_Waaagh.",
      [
        (troop_set_slot, "trp_player", 225, 1),
        (troop_set_slot, "trp_player", troopMagicType, 16),
        (troop_add_item, "trp_player", "itm_player_missile_goblin"),
        (display_message, "@You are now a practitioner of the Lore of Da Little Waaagh"),
        (jump_to_menu, "$last_menu2"),
      ]
      ),

      ("leave",
      [],
      "I_cannot_commit_myself_at_this_time",
      [
        (jump_to_menu, "mnu_lore_of_da_little_waaagh"),
      ]
      ),
    ],
  ),

  ("lore_of_ruin_info", 0,
    "Often called Warp Magic or Warp Lore, the Lore of Ruin is the form of Dhar used by the skaven Grey Seers. Fueled by the energies of the Warp itself and empowered by the Warpstone consumed by its casters, this form of magic corrupts everything it touches, especially the very Grey Seers that weave it, slowly mutating their bodies and minds, their furs slowly turning shades of grey and white and recurve horns growing over their heads.",
    "none",
    [],
    [
      ("continue",
      [],
      "OK",
      [
        (jump_to_menu, "mnu_lore_of_ruin"),
      ]
      ),
    ],
  ),

  ("lore_of_ruin_attribute", 0,
    "The power of arcane engineering is strong within the lore of ruin. Siege towers are built 5% faster per magic level.",
    "none",
    [],
    [
      ("continue",
      [],
      "OK",
      [
        (jump_to_menu, "mnu_lore_of_ruin"),
      ]
      ),
    ],
  ),

  ("lore_of_ruin_spells", 0,
    "Ruinous magic is one of the most offensive and powerful schools in the world. All damage is high for the mana cost and the spell howling warpgale can slow down entire armies while your allies charge in to tear them apart. Death frenzy rivals Power of Darkness in terms of impact although beware the school is tricky to use at lower magic levels.",
    "none",
    [],
    [
      ("continue",
      [],
      "OK",
      [
        (jump_to_menu, "mnu_lore_of_ruin"),
      ]
      ),
    ],
  ),

  ("lore_of_ruin_decision", 0,
    "Once you choose this school you are not able to change to another. Are  you certain you would like to specialise in Ruinous magic?",
    "none",
    [],
    [
      ("lore_life_decision_1",
      [],
      "Yes,_I_commit_myself_to_the_Lore_of_Ruin.",
      [
        (troop_set_slot, "trp_player", 225, 1),
        (troop_set_slot, "trp_player", troopMagicType, 17),
        (troop_add_item, "trp_player", "itm_player_missile_ruin"),
        (display_message, "@You are now a practitioner of the Lore of Ruin"),
        (jump_to_menu, "$last_menu2"),
      ]
      ),

      ("leave",
      [],
      "I_cannot_commit_myself_at_this_time",
      [
        (jump_to_menu, "mnu_lore_of_ruin"),
      ]
      ),
    ],
  ),

  ("lore_of_plague_info", 0,
    "Developed during the isolation in Lustria, the Lore of Plague is the vile gift the Horned Rat bestowed onto the Plague Priests of Clan Pestilens.^The Plague Priests wielding this foul magic accept the decay of their flesh as a blessing and use their magic to spread leprosy and contamination over their enemies without any pity or remorse, as the Horned Rat ordered them.",
    "none",
    [],
    [
      ("continue",
      [],
      "OK",
      [
        (jump_to_menu, "mnu_lore_of_plague"),
      ]
      ),
    ],
  ),

  ("lore_of_plague_attribute", 0,
    "The plague makes villagers scatter and run. Villages are looted 3% faster per magic level.",
    "none",
    [],
    [
      ("continue",
      [],
      "OK",
      [
        (jump_to_menu, "mnu_lore_of_plague"),
      ]
      ),
    ],
  ),

  ("lore_of_plague_spells", 0,
    "Plague magic focuses of on AOE spells of various strengths including the top level plague spell which can cause an extra plague explosion every time an infected enemy dies. The spell wither will make your enemies susceptible to extra damage and bless with filth gives your allies poison attacks. The school has no magic missiles.",
    "none",
    [],
    [
      ("continue",
      [],
      "OK",
      [
        (jump_to_menu, "mnu_lore_of_plague"),
      ]
      ),
    ],
  ),

  ("lore_of_plague_decision", 0,
    "Once you choose this school you are not able to change to another. Are  you certain you would like to specialise in Plague magic?",
    "none",
    [],
    [
      ("lore_plague_decision_1",
      [],
      "Yes,_I_commit_myself_to_the_Lore_of_Plague.",
      [
        (troop_set_slot, "trp_player", 225, 1),
        (troop_set_slot, "trp_player", troopMagicType, 18),
        (troop_add_item, "trp_player", "itm_player_missile_plague"),
        (display_message, "@You are now a practitioner of the Lore of Plague"),
        (jump_to_menu, "$last_menu2"),
      ]
      ),

      ("leave",
      [],
      "I_cannot_commit_myself_at_this_time",
      [
        (jump_to_menu, "mnu_lore_of_plague"),
      ]
      ),
    ],
  ),

  ("lore_of_nehekhara_info", 0,
    "The ancient rituals from the long forgotten land of Nehekhara, the Lore of Nehekhara is the religious magic of the Liche Priests, carried through time by the Curse of the Tomb Kings.^Those same priests of yore chant litanies and prayers written in the ancient High Nehekharan language, summoning the forgotten Gods of Nehekhara from the wrinkles of the realms beyond and time itself.",
    "none",
    [],
    [
      ("continue",
      [],
      "OK",
      [
        (jump_to_menu, "mnu_lore_of_nehekhara"),
      ]
      ),
    ],
  ),

  ("lore_of_nehekhara_attribute", 0,
    "Augmentation spells will also heal your tomb king troops.",
    "none",
    [],
    [
      ("continue",
      [],
      "OK",
      [
        (jump_to_menu, "mnu_lore_of_nehekhara"),
      ]
      ),
    ],
  ),

  ("lore_of_nehekhara_spells", 0,
    "Nehekharan magic revolves around augmentations which require a primarily tomb king force and hexes which exploit the enemies weaknesses. A fully learned Liche priest has a spell for every situation and an intelligent wielder can win many battles they would otherwise lose. Usekhps Incantation of Dessication is by far the best hex in the game and a Liche Priests deadliest weapon. There are no magic missiles in Nehekharan magic.",
    "none",
    [],
    [
      ("continue",
      [],
      "OK",
      [
        (jump_to_menu, "mnu_lore_of_nehekhara"),
      ]
      ),
    ],
  ),

  ("lore_of_nehekhara_decision", 0,
    "Once you choose this school you are not able to change to another. Are  you certain you would like to specialise in Nehekharan magic?",
    "none",
    [],
    [
      ("lore_nehekhara_decision_1",
      [],
      "Yes,_I_commit_myself_to_the_Lore_of_Nehekhara.",
      [
        (troop_set_slot, "trp_player", 225, 1),
        (troop_set_slot, "trp_player", troopMagicType, 19),
        (troop_add_item, "trp_player", "itm_player_missile_nehekhara"),
        (display_message, "@You are now a practitioner of the Lore of Nehekhara"),
        (jump_to_menu, "$last_menu2"),
      ]
      ),

      ("leave",
      [],
      "I_cannot_commit_myself_at_this_time",
      [
        (jump_to_menu, "mnu_lore_of_nehekhara"),
      ]
      ),
    ],
  ),

  ("lore_of_ice_info", 0,
    "Long ago, in the ancient times before elfs shared their knowledge of Aethyr with the tribal humans of the Old World, a powerful raw arcane art was already being practiced by the gifted Witches of the frozen lands of Kislev.^Ice magic, know even as the Lore of Ice, is the breath of eternal winter, one of the few solely human magical expressions, weaved by the wise and powerful Gospodar women.",
    "none",
    [],
    [
      ("continue",
      [],
      "OK",
      [
        (jump_to_menu, "mnu_lore_of_ice"),
      ]
      ),
    ],
  ),

  ("lore_of_ice_attribute", 0,
    "Regain health faster when travelling on snowy terrain. The higher your magic control, the faster the healing.",
    "none",
    [],
    [
      ("continue",
      [],
      "OK",
      [
        (jump_to_menu, "mnu_lore_of_ice"),
      ]
      ),
    ],
  ),

  ("lore_of_ice_spells", 0,
    "ice magic is defensive in nature, granting the caster the ability to protect themselves and their allies from damage and also to slow the advancing enemy. There is no high powered AOE spells but cold shock the the most powerful recastable magic missile and summon frost bear is a hard to cast but immensely powerful spell.",
    "none",
    [],
    [
      ("continue",
      [],
      "OK",
      [
        (jump_to_menu, "mnu_lore_of_ice"),
      ]
      ),
    ],
  ),

  ("lore_of_ice_decision", 0,
    "Once you choose this school you are not able to change to another. Are  you certain you would like to specialise in Ice magic?",
    "none",
    [],
    [
      ("lore_life_decision_1",
      [],
      "Yes,_I_commit_myself_to_the_Lore_of_Ice.",
      [
        (troop_set_slot, "trp_player", 225, 1),
        (troop_set_slot, "trp_player", troopMagicType, 20),
        (troop_add_item, "trp_player", "itm_player_missile_ice"),
        (display_message, "@You are now a practitioner of the Lore of Ice"),
        (jump_to_menu, "$last_menu2"),
      ]
      ),

      ("leave",
      [],
      "I_cannot_commit_myself_at_this_time",
      [
        (jump_to_menu, "mnu_lore_of_ice"),
      ]
      ),
    ],
  ),

  ("lore_of_desert_info", 0,
    "In the deserts of Araby, powerful mystics cultivate the mastery of binding the spirits of the elements, the Djinns, to their will and use them as their personal servants.^The Lore of the Desert is this arcane art. A Magician calls upon the elemental spirits of the desert to share their innate magical nature and achieve results otherwise impossible without the magical bond with a Djinn.",
    "none",
    [],
    [
      ("continue",
      [],
      "OK",
      [
        (jump_to_menu, "mnu_lore_of_desert"),
      ]
      ),
    ],
  ),

  ("lore_of_desert_attribute", 0,
    "+1 to casting roll when on desert terrain.",
    "none",
    [],
    [
      ("continue",
      [],
      "OK",
      [
        (jump_to_menu, "mnu_lore_of_desert"),
      ]
      ),
    ],
  ),

  ("lore_of_desert_spells", 0,
    "Desert magic lacks AOE and the 4 augmentation spells only affect Araby troops but the spells themselves are very strong and complement an Araby army extremely well. Sun strike is a powerful magic missile and curse of the genie is one of the better hexes available.",
    "none",
    [],
    [
      ("continue",
      [],
      "OK",
      [
        (jump_to_menu, "mnu_lore_of_desert"),
      ]
      ),
    ],
  ),

  ("lore_of_desert_decision", 0,
    "Once you choose this school you are not able to change to another. Are  you certain you would like to specialise in Desert magic?",
    "none",
    [],
    [
      ("lore_life_decision_1",
      [],
      "Yes,_I_commit_myself_to_the_Lore_of_the_Desert.",
      [
        (troop_set_slot, "trp_player", 225, 1),
        (troop_set_slot, "trp_player", troopMagicType, 21),
        (troop_add_item, "trp_player", "itm_player_missile_desert"),
        (display_message, "@You are now a practitioner of the Lore of the Desert"),
        (jump_to_menu, "$last_menu2"),
      ]
      ),

      ("leave",
      [],
      "I_cannot_commit_myself_at_this_time",
      [
        (jump_to_menu, "mnu_lore_of_desert"),
      ]
      ),
    ],
  ),

  ("lore_of_wild_info", 0,
    "Deep in the forests of the Known World dwell the mutated abominations of Chaos, hybrid beings part human and part beast.^Wild Magic is their peculiar arcane art, the magic of the Beastmen, a conception of Ghur and the Lore of Beasts corrupted through the malevolent doctrines of Dhar, the Dark Magic, focused on the most savage and brutal aspects of the bestial realm.",
    "none",
    [],
    [
      ("continue",
      [],
      "OK",
      [
        (jump_to_menu, "mnu_lore_of_wild"),
      ]
      ),
    ],
  ),

  ("lore_of_wild_attribute", 0,
    "The corruptive power of wild shamans can deflect and distort enemy magic. You start with a magic resistance of 5+",
    "none",
    [],
    [
      ("continue",
      [],
      "OK",
      [
        (jump_to_menu, "mnu_lore_of_wild"),
      ]
      ),
    ],
  ),

  ("lore_of_wild_spells", 0,
    "Wild magic is offensive in nature and focuses on high damage spells and increased caster melee power. The only augmentation increases ally speed and there are no hexes but the spell traitor kin can dismount your enemy cavalry and savage dominion is the strongest summoning spell out of all of the schools.",
    "none",
    [],
    [
      ("continue",
      [],
      "OK",
      [
        (jump_to_menu, "mnu_lore_of_wild"),
      ]
      ),
    ],
  ),

  ("lore_of_wild_decision", 0,
    "Once you choose this school you are not able to change to another. Are  you certain you would like to specialise in Wild magic?",
    "none",
    [],
    [
      ("lore_life_decision_1",
      [],
      "Yes,_I_commit_myself_to_the_Lore_of_the_Wild.",
      [
        (troop_set_slot, "trp_player", 225, 1),
        (troop_set_slot, "trp_player", troopMagicType, 22),
        (troop_add_item, "trp_player", "itm_player_missile_wild"),
        (troop_set_slot, "trp_player", 228, 5),
        (display_message, "@You are now a practitioner of the Lore of the Wild"),
        (jump_to_menu, "$last_menu2"),
      ]
      ),

      ("leave",
      [],
      "I_cannot_commit_myself_at_this_time",
      [
        (jump_to_menu, "mnu_lore_of_wild"),
      ]
      ),
    ],
  ),

  ("dwarf_runeforge", 0,
    "You enter the giant forge and are greeted by the head runesmith whose team is working hard in the fires behind him. What would you like to do?",
    "none",
    [],
    [
      ("runeforge_learn",
      [],
      "I_would_like_to_know_how_runes_work.",
      [
        (jump_to_menu, "mnu_runeforge_learn"),
      ]
      ),

      ("rune_forge_buy",
      [],
      "Purchase_a_runic_item.",
      [
        (jump_to_menu, "mnu_dwarf_runeforge"),
        (change_screen_trade, "trp_dwarf_runeforge"),
      ]
      ),

      ("rune_forge_rune",
      [
        (assign, ":var0", 0),
        (troop_get_inventory_capacity, ":var1", "trp_player"),
        (try_for_range, ":var2", 0, ":var1"),
          (troop_get_inventory_slot, ":var3", "trp_player", ":var2"),
          (ge, ":var3", 0),
          (item_slot_eq, ":var3", 118, 1),
          (item_get_slot, ":var4", ":var3", 119),
          (lt, ":var4", 3),
          (val_add, ":var0", 1),
        (try_end),
        (ge, ":var0", 1),
      ],
      "Purchase_a_rune_for_one_of_your_items.",
      [
        (jump_to_menu, "mnu_runeforge_rune"),
      ]
      ),

      ("runeforge_melt",
      [
        (assign, ":var0", 0),
        (troop_get_inventory_capacity, ":var1", "trp_player"),
        (try_for_range, ":var2", 0, ":var1"),
          (troop_get_inventory_slot, ":var3", "trp_player", ":var2"),
          (ge, ":var3", 0),
          (item_slot_eq, ":var3", 118, 1),
          (val_add, ":var0", 1),
        (try_end),
        (ge, ":var0", 1),
      ],
      "Melt_down_one_of_your_items.",
      [
        (jump_to_menu, "mnu_runeforge_melt"),
      ]
      ),

      ("runeforge_leave",
      [],
      "Leave.",
      [
        (jump_to_menu, "mnu_town"),
      ]
      ),
    ],
  ),

  ("runeforge_learn", 0,
    "Each item can have a maximum of 3 runes. Some runes can have more than one of the same kind inscribed to an item to increase the effect. You can only purchase each type of master rune once. If you want to purchase a particular master rune again you must melt down the current item which has it inscribed./If you lose an item then you will be able to repurchase any master rune lost. If you have more than one runic banner you can choose which banner to use in battle in the camp menu. You can only give runic items to dwarven companions.",
    "none",
    [],
    [
      ("continue",
      [],
      "OK",
      [
        (jump_to_menu, "mnu_dwarf_runeforge"),
      ]
      ),
    ],
  ),

  ("runeforge_melt", 0,
    "Which one of your items would you like to melt down?",
    "none",
    [],
    [
      ("banner1",
      [
        (player_has_item, "itm_runic_banner"),
      ],
      "Runic_Banner_Kingdom",
      [
        (assign, "$current_rune_item", "itm_runic_banner"),
        (jump_to_menu, "mnu_rune_melt"),
      ]
      ),

      ("banner2",
      [
        (player_has_item, "itm_runic_banner2"),
      ],
      "Runic_Banner_Anvil",
      [
        (assign, "$current_rune_item", "itm_runic_banner2"),
        (jump_to_menu, "mnu_rune_melt"),
      ]
      ),

      ("banner3",
      [
        (player_has_item, "itm_runic_banner3"),
      ],
      "Runic_Banner_Forge",
      [
        (assign, "$current_rune_item", "itm_runic_banner3"),
        (jump_to_menu, "mnu_rune_melt"),
      ]
      ),

      ("ranged1",
      [
        (player_has_item, "itm_rifle_rune"),
      ],
      "Dwarven_Runic_Rifle_1",
      [
        (assign, "$current_rune_item", "itm_rifle_rune"),
        (jump_to_menu, "mnu_rune_melt"),
      ]
      ),

      ("ranged2",
      [
        (player_has_item, "itm_rifle_rune2"),
      ],
      "Dwarven_Runic_Rifle_2",
      [
        (assign, "$current_rune_item", "itm_rifle_rune2"),
        (jump_to_menu, "mnu_rune_melt"),
      ]
      ),

      ("ranged3",
      [
        (player_has_item, "itm_rifle_rune3"),
      ],
      "Dwarven_Runic_Rifle_3",
      [
        (assign, "$current_rune_item", "itm_rifle_rune3"),
        (jump_to_menu, "mnu_rune_melt"),
      ]
      ),

      ("ranged4",
      [
        (player_has_item, "itm_dwarf_rune_pistol"),
      ],
      "Dwarf_Runic_Pistol_1",
      [
        (assign, "$current_rune_item", "itm_dwarf_rune_pistol"),
        (jump_to_menu, "mnu_rune_melt"),
      ]
      ),

      ("ranged5",
      [
        (player_has_item, "itm_dwarf_rune_pistol2"),
      ],
      "Dwarf_Runic_Pistol_2",
      [
        (assign, "$current_rune_item", "itm_dwarf_rune_pistol2"),
        (jump_to_menu, "mnu_rune_melt"),
      ]
      ),

      ("ranged6",
      [
        (player_has_item, "itm_dwarf_rune_pistol3"),
      ],
      "Dwarf_Runic_Pistol_3",
      [
        (assign, "$current_rune_item", "itm_dwarf_rune_pistol3"),
        (jump_to_menu, "mnu_rune_melt"),
      ]
      ),

      ("ranged7",
      [
        (player_has_item, "itm_dwarf_rune_crossbow"),
      ],
      "Dwarf_Runic_Crossbow_1",
      [
        (assign, "$current_rune_item", "itm_dwarf_rune_crossbow"),
        (jump_to_menu, "mnu_rune_melt"),
      ]
      ),

      ("ranged8",
      [
        (player_has_item, "itm_dwarf_rune_crossbow2"),
      ],
      "Dwarf_Runic_Crossbow_2",
      [
        (assign, "$current_rune_item", "itm_dwarf_rune_crossbow2"),
        (jump_to_menu, "mnu_rune_melt"),
      ]
      ),

      ("ranged9",
      [
        (player_has_item, "itm_dwarf_rune_crossbow3"),
      ],
      "Dwarf_Runic_Crossbow_3",
      [
        (assign, "$current_rune_item", "itm_dwarf_rune_crossbow3"),
        (jump_to_menu, "mnu_rune_melt"),
      ]
      ),

      ("armour1",
      [
        (player_has_item, "itm_runearmour"),
      ],
      "Dwarven_Rune_Heavy_Armour_1",
      [
        (assign, "$current_rune_item", "itm_runearmour"),
        (jump_to_menu, "mnu_rune_melt"),
      ]
      ),

      ("armour2",
      [
        (player_has_item, "itm_runearmour2"),
      ],
      "Dwarven_Rune_Heavy_Armour_2",
      [
        (assign, "$current_rune_item", "itm_runearmour2"),
        (jump_to_menu, "mnu_rune_melt"),
      ]
      ),

      ("armour3",
      [
        (player_has_item, "itm_runearmour3"),
      ],
      "Dwarven_Rune_Heavy_Armour_3",
      [
        (assign, "$current_rune_item", "itm_runearmour3"),
        (jump_to_menu, "mnu_rune_melt"),
      ]
      ),

      ("armour4",
      [
        (player_has_item, "itm_dwarf_runemail"),
      ],
      "Dwarven_Runic_Chainmail_1",
      [
        (assign, "$current_rune_item", "itm_dwarf_runemail"),
        (jump_to_menu, "mnu_rune_melt"),
      ]
      ),

      ("armour5",
      [
        (player_has_item, "itm_dwarf_runemail2"),
      ],
      "Dwarven_Runic_Chainmail_2",
      [
        (assign, "$current_rune_item", "itm_dwarf_runemail2"),
        (jump_to_menu, "mnu_rune_melt"),
      ]
      ),

      ("armour6",
      [
        (player_has_item, "itm_dwarf_runemail3"),
      ],
      "Dwarven_Runic_Chainmail_3",
      [
        (assign, "$current_rune_item", "itm_dwarf_runemail3"),
        (jump_to_menu, "mnu_rune_melt"),
      ]
      ),

      ("weapon1",
      [
        (player_has_item, "itm_dwarf_rune_warhammer"),
      ],
      "Dwarven_Runic_Warhammer_1",
      [
        (assign, "$current_rune_item", "itm_dwarf_rune_warhammer"),
        (jump_to_menu, "mnu_rune_melt"),
      ]
      ),

      ("weapon2",
      [
        (player_has_item, "itm_dwarf_rune_warhammer2"),
      ],
      "Dwarven_Runic_Warhammer_2",
      [
        (assign, "$current_rune_item", "itm_dwarf_rune_warhammer2"),
        (jump_to_menu, "mnu_rune_melt"),
      ]
      ),

      ("weapon3",
      [
        (player_has_item, "itm_dwarf_rune_warhammer3"),
      ],
      "Dwarven_Runic_Warhammer_3",
      [
        (assign, "$current_rune_item", "itm_dwarf_rune_warhammer3"),
        (jump_to_menu, "mnu_rune_melt"),
      ]
      ),

      ("weapon4",
      [
        (player_has_item, "itm_dwarf_rune_axe"),
      ],
      "Dwarven_Runic_Axe_1_",
      [
        (assign, "$current_rune_item", "itm_dwarf_rune_axe"),
        (jump_to_menu, "mnu_rune_melt"),
      ]
      ),

      ("weapon5",
      [
        (player_has_item, "itm_dwarf_rune_axe2"),
      ],
      "Dwarven_Runic_Axe_2_",
      [
        (assign, "$current_rune_item", "itm_dwarf_rune_axe2"),
        (jump_to_menu, "mnu_rune_melt"),
      ]
      ),

      ("weapon6",
      [
        (player_has_item, "itm_dwarf_rune_axe3"),
      ],
      "Dwarven_Runic_Axe_3_",
      [
        (assign, "$current_rune_item", "itm_dwarf_rune_axe3"),
        (jump_to_menu, "mnu_rune_melt"),
      ]
      ),

      ("weapon7",
      [
        (player_has_item, "itm_dwarf_rune_spanner"),
      ],
      "Dwarven_Runic_Spanner_1_",
      [
        (assign, "$current_rune_item", "itm_dwarf_rune_spanner"),
        (jump_to_menu, "mnu_rune_melt"),
      ]
      ),

      ("weapon8",
      [
        (player_has_item, "itm_dwarf_rune_spanner2"),
      ],
      "Dwarven_Runic_Spanner_2",
      [
        (assign, "$current_rune_item", "itm_dwarf_rune_spanner2"),
        (jump_to_menu, "mnu_rune_melt"),
      ]
      ),

      ("weapon9",
      [
        (player_has_item, "itm_dwarf_rune_spanner3"),
      ],
      "Dwarven_Runic_Spanner_3",
      [
        (assign, "$current_rune_item", "itm_dwarf_rune_spanner3"),
        (jump_to_menu, "mnu_rune_melt"),
      ]
      ),

      ("weapon10",
      [
        (player_has_item, "itm_two_handed_runic_axe2"),
      ],
      "Dwarven_Two_Handed_Runic_Axe_1",
      [
        (assign, "$current_rune_item", "itm_two_handed_runic_axe2"),
        (jump_to_menu, "mnu_rune_melt"),
      ]
      ),

      ("weapon11",
      [
        (player_has_item, "itm_two_handed_runic_axe3"),
      ],
      "Dwarven_Two_Handed_Runic_Axe_2",
      [
        (assign, "$current_rune_item", "itm_two_handed_runic_axe3"),
        (jump_to_menu, "mnu_rune_melt"),
      ]
      ),

      ("weapon12",
      [
        (player_has_item, "itm_two_handed_runic_axe4"),
      ],
      "Dwarven_Two_Handed_Runic_Axe_3",
      [
        (assign, "$current_rune_item", "itm_two_handed_runic_axe4"),
        (jump_to_menu, "mnu_rune_melt"),
      ]
      ),

      ("weapon13",
      [
        (player_has_item, "itm_dwarf_runic_one_handed_hammer"),
      ],
      "Dwarven_Runic_One_Handed_Hammer_1",
      [
        (assign, "$current_rune_item", "itm_dwarf_runic_one_handed_hammer"),
        (jump_to_menu, "mnu_rune_melt"),
      ]
      ),

      ("weapon14",
      [
        (player_has_item, "itm_dwarf_runic_one_handed_hammer2"),
      ],
      "Dwarven_Runic_One_Handed_Hammer_2",
      [
        (assign, "$current_rune_item", "itm_dwarf_runic_one_handed_hammer2"),
        (jump_to_menu, "mnu_rune_melt"),
      ]
      ),

      ("weapon15",
      [
        (player_has_item, "itm_dwarf_runic_one_handed_hammer3"),
      ],
      "Dwarven_Runic_One_Handed_Hammer_3",
      [
        (assign, "$current_rune_item", "itm_dwarf_runic_one_handed_hammer3"),
        (jump_to_menu, "mnu_rune_melt"),
      ]
      ),

      ("leave",
      [],
      "Choose_not_to_add_any_runes_at_the_moment",
      [
        (jump_to_menu, "mnu_dwarf_runeforge"),
      ]
      ),
    ],
  ),

  ("rune_melt", 0,
    "Are you sure you want to melt this item down in exchange for gold?",
    "none",
    [
      (str_store_item_name, s1, "$current_rune_item"),
    ],
    [
      ("rune_melt_1",
      [],
      "Yes,_melt_down_my_{s1}.",
      [
        (troop_remove_item, "trp_player", "$current_rune_item"),
        (troop_add_item, "trp_dwarf_runeforge", "$current_rune_item"),
        (item_set_slot, "$current_rune_item", 119, 0),
        (try_begin),
          (item_slot_eq, "$current_rune_item", 141, 1),
          (item_set_slot, "$current_rune_item", 141, 0),
          (troop_set_slot, "trp_player", 233, 0),
        (try_end),
        (try_begin),
          (item_slot_eq, "$current_rune_item", 142, 1),
          (item_set_slot, "$current_rune_item", 142, 0),
          (troop_set_slot, "trp_player", 234, 0),
        (try_end),
        (try_begin),
          (item_slot_eq, "$current_rune_item", 143, 1),
          (item_set_slot, "$current_rune_item", 143, 0),
          (troop_set_slot, "trp_player", 235, 0),
        (try_end),
        (try_begin),
          (item_slot_eq, "$current_rune_item", 144, 1),
          (item_set_slot, "$current_rune_item", 144, 0),
          (troop_set_slot, "trp_player", 236, 0),
        (try_end),
        (try_begin),
          (item_slot_eq, "$current_rune_item", 145, 1),
          (item_set_slot, "$current_rune_item", 145, 0),
          (troop_set_slot, "trp_player", 237, 0),
        (try_end),
        (try_begin),
          (item_slot_eq, "$current_rune_item", 146, 1),
          (item_set_slot, "$current_rune_item", 146, 0),
          (troop_set_slot, "trp_player", 238, 0),
        (try_end),
        (try_begin),
          (item_slot_eq, "$current_rune_item", 147, 1),
          (item_set_slot, "$current_rune_item", 147, 0),
          (troop_set_slot, "trp_player", 239, 0),
        (try_end),
        (try_begin),
          (item_slot_eq, "$current_rune_item", 148, 1),
          (item_set_slot, "$current_rune_item", 148, 0),
          (troop_set_slot, "trp_player", 240, 0),
        (try_end),
        (try_begin),
          (item_slot_eq, "$current_rune_item", 149, 1),
          (item_set_slot, "$current_rune_item", 149, 0),
          (troop_set_slot, "trp_player", 241, 0),
        (try_end),
        (try_begin),
          (item_slot_eq, "$current_rune_item", 150, 1),
          (item_set_slot, "$current_rune_item", 150, 0),
          (troop_set_slot, "trp_player", 243, 0),
        (try_end),
        (try_begin),
          (item_slot_eq, "$current_rune_item", 131, 1),
          (item_set_slot, "$current_rune_item", 131, 0),
          (troop_set_slot, "trp_player", 242, 0),
        (try_end),
        (item_set_slot, "$current_rune_item", 120, 0),
        (item_set_slot, "$current_rune_item", 121, 0),
        (item_set_slot, "$current_rune_item", 122, 0),
        (item_set_slot, "$current_rune_item", 123, 0),
        (item_set_slot, "$current_rune_item", 124, 0),
        (item_set_slot, "$current_rune_item", 125, 0),
        (item_set_slot, "$current_rune_item", 126, 0),
        (item_set_slot, "$current_rune_item", 127, 0),
        (item_set_slot, "$current_rune_item", 128, 0),
        (item_set_slot, "$current_rune_item", 120, 0),
        (item_set_slot, "$current_rune_item", 129, 0),
        (item_set_slot, "$current_rune_item", 130, 0),
        (item_set_slot, "$current_rune_item", 132, 0),
        (item_set_slot, "$current_rune_item", 133, 0),
        (item_set_slot, "$current_rune_item", 134, 0),
        (item_set_slot, "$current_rune_item", 135, 0),
        (item_set_slot, "$current_rune_item", 136, 0),
        (item_set_slot, "$current_rune_item", 137, 0),
        (item_set_slot, "$current_rune_item", 138, 0),
        (item_set_slot, "$current_rune_item", 139, 0),
        (item_set_slot, "$current_rune_item", 140, 0),
        (item_set_slot, "$current_rune_item", 155, 0),
        (item_set_slot, "$current_rune_item", 156, 0),
        (store_random_in_range, ":var0", 1, 6),
        (val_mul, ":var0", 100),
        (troop_add_gold, "trp_player", ":var0"),
        (try_begin),
          (this_or_next|eq, "$current_rune_item", "itm_rifle_rune"),
          (this_or_next|eq, "$current_rune_item", "itm_rifle_rune2"),
          (eq, "$current_rune_item", "itm_rifle_rune3"),
          (item_set_slot, "$current_rune_item", 64, 115),
          (item_set_thrust_damage, "$current_rune_item", 115),
        (try_end),
        (try_begin),
          (this_or_next|eq, "$current_rune_item", "itm_dwarf_rune_pistol"),
          (this_or_next|eq, "$current_rune_item", "itm_dwarf_rune_pistol2"),
          (eq, "$current_rune_item", "itm_dwarf_rune_pistol3"),
          (item_set_slot, "$current_rune_item", 64, 90),
          (item_set_thrust_damage, "$current_rune_item", 90),
        (try_end),
        (try_begin),
          (this_or_next|eq, "$current_rune_item", "itm_dwarf_rune_crossbow"),
          (this_or_next|eq, "$current_rune_item", "itm_dwarf_rune_crossbow2"),
          (eq, "$current_rune_item", "itm_dwarf_rune_crossbow3"),
          (item_set_slot, "$current_rune_item", 64, 60),
          (item_set_thrust_damage, "$current_rune_item", 60),
        (try_end),
        (try_begin),
          (this_or_next|eq, "$current_rune_item", "itm_runearmour"),
          (this_or_next|eq, "$current_rune_item", "itm_runearmour2"),
          (eq, "$current_rune_item", "itm_runearmour3"),
          (item_set_slot, "$current_rune_item", 64, 50),
          (item_set_body_armor, "$current_rune_item", 50),
        (try_end),
        (try_begin),
          (this_or_next|eq, "$current_rune_item", "itm_dwarf_runemail"),
          (this_or_next|eq, "$current_rune_item", "itm_dwarf_runemail2"),
          (eq, "$current_rune_item", "itm_dwarf_runemail3"),
          (item_set_slot, "$current_rune_item", 64, 33),
          (item_set_body_armor, "$current_rune_item", 33),
        (try_end),
        (try_begin),
          (this_or_next|eq, "$current_rune_item", "itm_dwarf_rune_warhammer"),
          (this_or_next|eq, "$current_rune_item", "itm_dwarf_rune_warhammer2"),
          (eq, "$current_rune_item", "itm_dwarf_rune_warhammer3"),
          (item_set_slot, "$current_rune_item", 65, 40),
          (item_set_slot, "$current_rune_item", 63, 79),
          (item_set_speed_rating, "$current_rune_item", 79),
          (item_set_swing_damage, "$current_rune_item", 40),
        (try_end),
        (try_begin),
          (eq, "$current_rune_item", "itm_dwarf_rune_axe"),
          (item_set_slot, "$current_rune_item", 65, 35),
          (item_set_slot, "$current_rune_item", 63, 93),
          (item_set_speed_rating, "$current_rune_item", 93),
          (item_set_swing_damage, "$current_rune_item", 35),
        (else_try),
          (this_or_next|eq, "$current_rune_item", "itm_dwarf_rune_axe2"),
          (item_set_slot, "$current_rune_item", 65, 33),
          (item_set_slot, "$current_rune_item", 63, 95),
          (item_set_speed_rating, "$current_rune_item", 33),
          (item_set_swing_damage, "$current_rune_item", 95),
        (else_try),
          (eq, "$current_rune_item", "itm_dwarf_rune_axe3"),
          (item_set_slot, "$current_rune_item", 65, 38),
          (item_set_slot, "$current_rune_item", 63, 95),
          (item_set_speed_rating, "$current_rune_item", 38),
          (item_set_swing_damage, "$current_rune_item", 95),
        (try_end),
        (try_begin),
          (this_or_next|eq, "$current_rune_item", "itm_dwarf_rune_warhammer"),
          (this_or_next|eq, "$current_rune_item", "itm_dwarf_rune_warhammer2"),
          (eq, "$current_rune_item", "itm_dwarf_rune_warhammer3"),
          (item_set_slot, "$current_rune_item", 65, 86),
          (item_set_slot, "$current_rune_item", 63, 35),
          (item_set_speed_rating, "$current_rune_item", 86),
          (item_set_swing_damage, "$current_rune_item", 35),
        (try_end),
        (try_begin),
          (eq, "$current_rune_item", "itm_two_handed_runic_axe2"),
          (item_set_slot, "$current_rune_item", 65, 45),
          (item_set_slot, "$current_rune_item", 63, 88),
          (item_set_speed_rating, "$current_rune_item", 88),
          (item_set_swing_damage, "$current_rune_item", 45),
        (else_try),
          (this_or_next|eq, "$current_rune_item", "itm_two_handed_runic_axe3"),
          (item_set_slot, "$current_rune_item", 65, 48),
          (item_set_slot, "$current_rune_item", 63, 85),
          (item_set_speed_rating, "$current_rune_item", 85),
          (item_set_swing_damage, "$current_rune_item", 48),
        (else_try),
          (eq, "$current_rune_item", "itm_two_handed_runic_axe4"),
          (item_set_slot, "$current_rune_item", 65, 51),
          (item_set_slot, "$current_rune_item", 63, 86),
          (item_set_speed_rating, "$current_rune_item", 86),
          (item_set_swing_damage, "$current_rune_item", 51),
        (try_end),
        (jump_to_menu, "mnu_dwarf_runeforge"),
      ]
      ),

      ("leave",
      [],
      "No_i_will_keep_it_for_now",
      [
        (jump_to_menu, "mnu_dwarf_runeforge"),
      ]
      ),
    ],
  ),

  ("runeforge_rune", 0,
    "Which one of your items would you like to add a rune to?",
    "none",
    [],
    [
      ("banner1",
      [
        (this_or_next|troop_has_item_equipped, "trp_player", "itm_runic_banner"),
        (player_has_item, "itm_runic_banner"),
      ],
      "Runic_Banner_Kingdom",
      [
        (assign, "$current_rune_item", "itm_runic_banner"),
        (neg|item_slot_eq, "$current_rune_item", 119, 3),
        (jump_to_menu, "mnu_rune_banner"),
      ]
      ),

      ("banner2",
      [
        (this_or_next|troop_has_item_equipped, "trp_player", "itm_runic_banner2"),
        (player_has_item, "itm_runic_banner2"),
      ],
      "Runic_Banner_Anvil",
      [
        (assign, "$current_rune_item", "itm_runic_banner2"),
        (neg|item_slot_eq, "$current_rune_item", 119, 3),
        (jump_to_menu, "mnu_rune_banner"),
      ]
      ),

      ("banner3",
      [
        (this_or_next|troop_has_item_equipped, "trp_player", "itm_runic_banner3"),
        (player_has_item, "itm_runic_banner3"),
      ],
      "Runic_Banner_Forge",
      [
        (assign, "$current_rune_item", "itm_runic_banner3"),
        (neg|item_slot_eq, "$current_rune_item", 119, 3),
        (jump_to_menu, "mnu_rune_banner"),
      ]
      ),

      ("ranged1",
      [
        (this_or_next|troop_has_item_equipped, "trp_player", "itm_rifle_rune"),
        (player_has_item, "itm_rifle_rune"),
      ],
      "Dwarven_Runic_Rifle_1",
      [
        (assign, "$current_rune_item", "itm_rifle_rune"),
        (neg|item_slot_eq, "$current_rune_item", 119, 3),
        (jump_to_menu, "mnu_rune_ranged"),
      ]
      ),

      ("ranged2",
      [
        (this_or_next|troop_has_item_equipped, "trp_player", "itm_rifle_rune2"),
        (player_has_item, "itm_rifle_rune2"),
      ],
      "Dwarven_Runic_Rifle_2",
      [
        (assign, "$current_rune_item", "itm_rifle_rune2"),
        (neg|item_slot_eq, "$current_rune_item", 119, 3),
        (jump_to_menu, "mnu_rune_ranged"),
      ]
      ),

      ("ranged3",
      [
        (this_or_next|troop_has_item_equipped, "trp_player", "itm_rifle_rune3"),
        (player_has_item, "itm_rifle_rune3"),
      ],
      "Dwarven_Runic_Rifle_3",
      [
        (assign, "$current_rune_item", "itm_rifle_rune3"),
        (neg|item_slot_eq, "$current_rune_item", 119, 3),
        (jump_to_menu, "mnu_rune_ranged"),
      ]
      ),

      ("ranged4",
      [
        (this_or_next|troop_has_item_equipped, "trp_player", "itm_dwarf_rune_pistol"),
        (player_has_item, "itm_dwarf_rune_pistol"),
      ],
      "Dwarf_Runic_Pistol_1",
      [
        (assign, "$current_rune_item", "itm_dwarf_rune_pistol"),
        (neg|item_slot_eq, "$current_rune_item", 119, 3),
        (jump_to_menu, "mnu_rune_ranged"),
      ]
      ),

      ("ranged5",
      [
        (this_or_next|troop_has_item_equipped, "trp_player", "itm_dwarf_rune_pistol2"),
        (player_has_item, "itm_dwarf_rune_pistol2"),
      ],
      "Dwarf_Runic_Pistol_2",
      [
        (assign, "$current_rune_item", "itm_dwarf_rune_pistol2"),
        (neg|item_slot_eq, "$current_rune_item", 119, 3),
        (jump_to_menu, "mnu_rune_ranged"),
      ]
      ),

      ("ranged6",
      [
        (this_or_next|troop_has_item_equipped, "trp_player", "itm_dwarf_rune_pistol3"),
        (player_has_item, "itm_dwarf_rune_pistol3"),
      ],
      "Dwarf_Runic_Pistol_3",
      [
        (assign, "$current_rune_item", "itm_dwarf_rune_pistol3"),
        (neg|item_slot_eq, "$current_rune_item", 119, 3),
        (jump_to_menu, "mnu_rune_ranged"),
      ]
      ),

      ("ranged7",
      [
        (this_or_next|troop_has_item_equipped, "trp_player", "itm_dwarf_rune_crossbow"),
        (player_has_item, "itm_dwarf_rune_crossbow"),
      ],
      "Dwarf_Runic_Crossbow_1",
      [
        (assign, "$current_rune_item", "itm_dwarf_rune_crossbow"),
        (neg|item_slot_eq, "$current_rune_item", 119, 3),
        (jump_to_menu, "mnu_rune_ranged"),
      ]
      ),

      ("ranged8",
      [
        (this_or_next|troop_has_item_equipped, "trp_player", "itm_dwarf_rune_crossbow2"),
        (player_has_item, "itm_dwarf_rune_crossbow2"),
      ],
      "Dwarf_Runic_Crossbow_2",
      [
        (assign, "$current_rune_item", "itm_dwarf_rune_crossbow2"),
        (neg|item_slot_eq, "$current_rune_item", 119, 3),
        (jump_to_menu, "mnu_rune_ranged"),
      ]
      ),

      ("ranged9",
      [
        (this_or_next|troop_has_item_equipped, "trp_player", "itm_dwarf_rune_crossbow3"),
        (player_has_item, "itm_dwarf_rune_crossbow3"),
      ],
      "Dwarf_Runic_Crossbow_3",
      [
        (assign, "$current_rune_item", "itm_dwarf_rune_crossbow3"),
        (neg|item_slot_eq, "$current_rune_item", 119, 3),
        (jump_to_menu, "mnu_rune_ranged"),
      ]
      ),

      ("armour1",
      [
        (this_or_next|troop_has_item_equipped, "trp_player", "itm_runearmour"),
        (player_has_item, "itm_runearmour"),
      ],
      "Dwarven_Rune_Heavy_Armour_1",
      [
        (assign, "$current_rune_item", "itm_runearmour"),
        (neg|item_slot_eq, "$current_rune_item", 119, 3),
        (jump_to_menu, "mnu_rune_armour"),
      ]
      ),

      ("armour2",
      [
        (this_or_next|troop_has_item_equipped, "trp_player", "itm_runearmour2"),
        (player_has_item, "itm_runearmour2"),
      ],
      "Dwarven_Rune_Heavy_Armour_2",
      [
        (assign, "$current_rune_item", "itm_runearmour2"),
        (neg|item_slot_eq, "$current_rune_item", 119, 3),
        (jump_to_menu, "mnu_rune_armour"),
      ]
      ),

      ("armour3",
      [
        (this_or_next|troop_has_item_equipped, "trp_player", "itm_runearmour3"),
        (player_has_item, "itm_runearmour3"),
      ],
      "Dwarven_Rune_Heavy_Armour_3",
      [
        (assign, "$current_rune_item", "itm_runearmour3"),
        (neg|item_slot_eq, "$current_rune_item", 119, 3),
        (jump_to_menu, "mnu_rune_armour"),
      ]
      ),

      ("armour4",
      [
        (this_or_next|troop_has_item_equipped, "trp_player", "itm_dwarf_runemail"),
        (player_has_item, "itm_dwarf_runemail"),
      ],
      "Dwarven_Runic_Chainmail_1",
      [
        (assign, "$current_rune_item", "itm_dwarf_runemail"),
        (neg|item_slot_eq, "$current_rune_item", 119, 3),
        (jump_to_menu, "mnu_rune_armour"),
      ]
      ),

      ("armour5",
      [
        (this_or_next|troop_has_item_equipped, "trp_player", "itm_dwarf_runemail2"),
        (player_has_item, "itm_dwarf_runemail2"),
      ],
      "Dwarven_Runic_Chainmail_2",
      [
        (assign, "$current_rune_item", "itm_dwarf_runemail2"),
        (neg|item_slot_eq, "$current_rune_item", 119, 3),
        (jump_to_menu, "mnu_rune_armour"),
      ]
      ),

      ("armour6",
      [
        (this_or_next|troop_has_item_equipped, "trp_player", "itm_dwarf_runemail2"),
        (player_has_item, "itm_dwarf_runemail3"),
      ],
      "Dwarven_Runic_Chainmail_3",
      [
        (assign, "$current_rune_item", "itm_dwarf_runemail3"),
        (neg|item_slot_eq, "$current_rune_item", 119, 3),
        (jump_to_menu, "mnu_rune_armour"),
      ]
      ),

      ("weapon1",
      [
        (this_or_next|troop_has_item_equipped, "trp_player", "itm_dwarf_rune_warhammer"),
        (player_has_item, "itm_dwarf_rune_warhammer"),
      ],
      "Dwarven_Runic_Warhammer_1",
      [
        (assign, "$current_rune_item", "itm_dwarf_rune_warhammer"),
        (neg|item_slot_eq, "$current_rune_item", 119, 3),
        (jump_to_menu, "mnu_rune_weapon"),
      ]
      ),

      ("weapon2",
      [
        (this_or_next|troop_has_item_equipped, "trp_player", "itm_dwarf_rune_warhammer2"),
        (player_has_item, "itm_dwarf_rune_warhammer2"),
      ],
      "Dwarven_Runic_Warhammer_2",
      [
        (assign, "$current_rune_item", "itm_dwarf_rune_warhammer2"),
        (neg|item_slot_eq, "$current_rune_item", 119, 3),
        (jump_to_menu, "mnu_rune_weapon"),
      ]
      ),

      ("weapon3",
      [
        (this_or_next|troop_has_item_equipped, "trp_player", "itm_dwarf_rune_warhammer3"),
        (player_has_item, "itm_dwarf_rune_warhammer3"),
      ],
      "Dwarven_Runic_Warhammer_3",
      [
        (assign, "$current_rune_item", "itm_dwarf_rune_warhammer3"),
        (neg|item_slot_eq, "$current_rune_item", 119, 3),
        (jump_to_menu, "mnu_rune_weapon"),
      ]
      ),

      ("weapon4",
      [
        (this_or_next|troop_has_item_equipped, "trp_player", "itm_dwarf_rune_axe"),
        (player_has_item, "itm_dwarf_rune_axe"),
      ],
      "Dwarven_Runic_Axe_1_",
      [
        (assign, "$current_rune_item", "itm_dwarf_rune_axe"),
        (neg|item_slot_eq, "$current_rune_item", 119, 3),
        (jump_to_menu, "mnu_rune_weapon"),
      ]
      ),

      ("weapon5",
      [
        (this_or_next|troop_has_item_equipped, "trp_player", "itm_dwarf_rune_axe2"),
        (player_has_item, "itm_dwarf_rune_axe2"),
      ],
      "Dwarven_Runic_Axe_2_",
      [
        (assign, "$current_rune_item", "itm_dwarf_rune_axe2"),
        (neg|item_slot_eq, "$current_rune_item", 119, 3),
        (jump_to_menu, "mnu_rune_weapon"),
      ]
      ),

      ("weapon6",
      [
        (this_or_next|troop_has_item_equipped, "trp_player", "itm_dwarf_rune_axe3"),
        (player_has_item, "itm_dwarf_rune_axe3"),
      ],
      "Dwarven_Runic_Axe_3_",
      [
        (assign, "$current_rune_item", "itm_dwarf_rune_axe3"),
        (neg|item_slot_eq, "$current_rune_item", 119, 3),
        (jump_to_menu, "mnu_rune_weapon"),
      ]
      ),

      ("weapon7",
      [
        (this_or_next|troop_has_item_equipped, "trp_player", "itm_dwarf_rune_spanner"),
        (player_has_item, "itm_dwarf_rune_spanner"),
      ],
      "Dwarven_Runic_Spanner_1_",
      [
        (assign, "$current_rune_item", "itm_dwarf_rune_spanner"),
        (neg|item_slot_eq, "$current_rune_item", 119, 3),
        (jump_to_menu, "mnu_rune_weapon"),
      ]
      ),

      ("weapon8",
      [
        (this_or_next|troop_has_item_equipped, "trp_player", "itm_dwarf_rune_spanner2"),
        (player_has_item, "itm_dwarf_rune_spanner2"),
      ],
      "Dwarven_Runic_Spanner_2",
      [
        (assign, "$current_rune_item", "itm_dwarf_rune_spanner2"),
        (neg|item_slot_eq, "$current_rune_item", 119, 3),
        (jump_to_menu, "mnu_rune_weapon"),
      ]
      ),

      ("weapon9",
      [
        (this_or_next|troop_has_item_equipped, "trp_player", "itm_dwarf_rune_spanner3"),
        (player_has_item, "itm_dwarf_rune_spanner3"),
      ],
      "Dwarven_Runic_Spanner_3",
      [
        (assign, "$current_rune_item", "itm_dwarf_rune_spanner3"),
        (neg|item_slot_eq, "$current_rune_item", 119, 3),
        (jump_to_menu, "mnu_rune_weapon"),
      ]
      ),

      ("weapon10",
      [
        (this_or_next|troop_has_item_equipped, "trp_player", "itm_two_handed_runic_axe2"),
        (player_has_item, "itm_two_handed_runic_axe2"),
      ],
      "Dwarven_Two_Handed_Runic_Axe_1",
      [
        (assign, "$current_rune_item", "itm_two_handed_runic_axe2"),
        (neg|item_slot_eq, "$current_rune_item", 119, 3),
        (jump_to_menu, "mnu_rune_weapon"),
      ]
      ),

      ("weapon11",
      [
        (this_or_next|troop_has_item_equipped, "trp_player", "itm_two_handed_runic_axe3"),
        (player_has_item, "itm_two_handed_runic_axe3"),
      ],
      "Dwarven_Two_Handed_Runic_Axe_2",
      [
        (assign, "$current_rune_item", "itm_two_handed_runic_axe3"),
        (neg|item_slot_eq, "$current_rune_item", 119, 3),
        (jump_to_menu, "mnu_rune_weapon"),
      ]
      ),

      ("weapon12",
      [
        (this_or_next|troop_has_item_equipped, "trp_player", "itm_two_handed_runic_axe4"),
        (player_has_item, "itm_two_handed_runic_axe4"),
      ],
      "Dwarven_Two_Handed_Runic_Axe_3",
      [
        (assign, "$current_rune_item", "itm_two_handed_runic_axe4"),
        (neg|item_slot_eq, "$current_rune_item", 119, 3),
        (jump_to_menu, "mnu_rune_weapon"),
      ]
      ),

      ("weapon13",
      [
        (this_or_next|troop_has_item_equipped, "trp_player", "itm_dwarf_runic_one_handed_hammer"),
        (player_has_item, "itm_dwarf_runic_one_handed_hammer"),
      ],
      "Dwarven_Runic_One_Handed_Hammer_1",
      [
        (assign, "$current_rune_item", "itm_dwarf_runic_one_handed_hammer"),
        (neg|item_slot_eq, "$current_rune_item", 119, 3),
        (jump_to_menu, "mnu_rune_weapon"),
      ]
      ),

      ("weapon14",
      [
        (this_or_next|troop_has_item_equipped, "trp_player", "itm_dwarf_runic_one_handed_hammer2"),
        (player_has_item, "itm_dwarf_runic_one_handed_hammer2"),
      ],
      "Dwarven_Runic_One_Handed_Hammer_2",
      [
        (assign, "$current_rune_item", "itm_dwarf_runic_one_handed_hammer2"),
        (neg|item_slot_eq, "$current_rune_item", 119, 3),
        (jump_to_menu, "mnu_rune_weapon"),
      ]
      ),

      ("weapon15",
      [
        (this_or_next|troop_has_item_equipped, "trp_player", "itm_dwarf_runic_one_handed_hammer3"),
        (player_has_item, "itm_dwarf_runic_one_handed_hammer3"),
      ],
      "Dwarven_Runic_One_Handed_Hammer_3",
      [
        (assign, "$current_rune_item", "itm_dwarf_runic_one_handed_hammer3"),
        (neg|item_slot_eq, "$current_rune_item", 119, 3),
        (jump_to_menu, "mnu_rune_weapon"),
      ]
      ),

      ("leave",
      [],
      "Choose_not_to_add_any_runes_at_the_moment",
      [
        (jump_to_menu, "mnu_dwarf_runeforge"),
      ]
      ),
    ],
  ),

  ("rune_banner", menu_text_color(0xFF000000)|mnf_disable_all_keys,
    "which rune would you like to have inscribed?",
    "none",
    [],
    [
      ("rune_valaya",
      [
        (item_slot_eq, "$current_rune_item", 146, 0),
        (troop_slot_eq, "trp_player", 238, 0),
      ],
      "Master_rune_of_Valaya:_+2_to_magic_resistance_(15000_gold)",
      [
        (assign, "$chosen_rune", 1),
        (assign, "$rune_cost", 15000),
        (store_troop_gold, ":var0", "trp_player"),
        (try_begin),
          (ge, ":var0", "$rune_cost"),
          (jump_to_menu, "mnu_rune_final_choice_banner"),
        (else_try),
          (display_message, "@You do not have enough gold"),
          (jump_to_menu, "mnu_rune_banner"),
        (try_end),
      ]
      ),

      ("rune_courage",
      [
        (item_slot_eq, "$current_rune_item", 129, 0),
      ],
      "Rune_of_courage:_Nearby_allies_become_unbreakable_(2000_gold)",
      [
        (assign, "$chosen_rune", 2),
        (assign, "$rune_cost", 2000),
        (store_troop_gold, ":var0", "trp_player"),
        (try_begin),
          (ge, ":var0", "$rune_cost"),
          (jump_to_menu, "mnu_rune_final_choice_banner"),
        (else_try),
          (display_message, "@You do not have enough gold"),
          (jump_to_menu, "mnu_rune_banner"),
        (try_end),
      ]
      ),

      ("rune_sanctuary1",
      [
        (item_slot_eq, "$current_rune_item", 130, 0),
      ],
      "Rune_of_sanctuary:_+1_magic_resistance_(4000_gold)",
      [
        (assign, "$chosen_rune", 3),
        (assign, "$rune_cost", 4000),
        (store_troop_gold, ":var0", "trp_player"),
        (try_begin),
          (ge, ":var0", "$rune_cost"),
          (jump_to_menu, "mnu_rune_final_choice_banner"),
        (else_try),
          (display_message, "@You do not have enough gold"),
          (jump_to_menu, "mnu_rune_banner"),
        (try_end),
      ]
      ),

      ("rune_sanctuary2",
      [
        (item_slot_eq, "$current_rune_item", 130, 1),
      ],
      "Another_rune_of_sanctuary:_+2_magic_resistance_(4000_gold)",
      [
        (assign, "$chosen_rune", 3),
        (assign, "$rune_cost", 4000),
        (store_troop_gold, ":var0", "trp_player"),
        (try_begin),
          (ge, ":var0", "$rune_cost"),
          (jump_to_menu, "mnu_rune_final_choice_banner"),
        (else_try),
          (display_message, "@You do not have enough gold"),
          (jump_to_menu, "mnu_rune_banner"),
        (try_end),
      ]
      ),

      ("rune_dismay",
      [
        (item_slot_eq, "$current_rune_item", 131, 0),
        (troop_slot_eq, "trp_player", 242, 0),
      ],
      "Master_Rune_of_dismay:_Nearby_allies_cause_fear_(1000_gold)",
      [
        (assign, "$chosen_rune", 4),
        (assign, "$rune_cost", 1000),
        (store_troop_gold, ":var0", "trp_player"),
        (try_begin),
          (ge, ":var0", "$rune_cost"),
          (jump_to_menu, "mnu_rune_final_choice_banner"),
        (else_try),
          (display_message, "@You do not have enough gold"),
          (jump_to_menu, "mnu_rune_banner"),
        (try_end),
      ]
      ),

      ("rune_spellbreaking",
      [
        (item_slot_eq, "$current_rune_item", 132, 0),
      ],
      "Rune_of_spellbreaking:_Attempts_to_cancel_all_active_magic_effects_throughout_the_battle_(10000_gold)",
      [
        (assign, "$chosen_rune", 5),
        (assign, "$rune_cost", 10000),
        (store_troop_gold, ":var0", "trp_player"),
        (try_begin),
          (ge, ":var0", "$rune_cost"),
          (jump_to_menu, "mnu_rune_final_choice_banner"),
        (else_try),
          (display_message, "@You do not have enough gold"),
          (jump_to_menu, "mnu_rune_banner"),
        (try_end),
      ]
      ),

      ("leave",
      [],
      "No_new_runes_for_now",
      [
        (jump_to_menu, "mnu_dwarf_runeforge"),
      ]
      ),
    ],
  ),

  ("rune_ranged", menu_text_color(0xFF000000)|mnf_disable_all_keys,
    "which rune would you like to have inscribed?",
    "none",
    [],
    [
      ("rune_accuracy1",
      [
        (item_slot_eq, "$current_rune_item", 128, 0),
      ],
      "Rune_of_accuracy:_+5_accuracy_(2000_gold)",
      [
        (assign, "$chosen_rune", 6),
        (assign, "$rune_cost", 2000),
        (store_troop_gold, ":var0", "trp_player"),
        (try_begin),
          (ge, ":var0", "$rune_cost"),
          (jump_to_menu, "mnu_rune_final_choice_ranged"),
        (else_try),
          (display_message, "@You do not have enough gold"),
          (jump_to_menu, "mnu_rune_ranged"),
        (try_end),
      ]
      ),

      ("rune_accuracy2",
      [
        (item_slot_eq, "$current_rune_item", 128, 1),
      ],
      "Another_rune_of_accuracy:_+5_accuracy_(2000_gold)",
      [
        (assign, "$chosen_rune", 6),
        (assign, "$rune_cost", 2000),
        (store_troop_gold, ":var0", "trp_player"),
        (try_begin),
          (ge, ":var0", "$rune_cost"),
          (jump_to_menu, "mnu_rune_final_choice_ranged"),
        (else_try),
          (display_message, "@You do not have enough gold"),
          (jump_to_menu, "mnu_rune_ranged"),
        (try_end),
      ]
      ),

      ("rune_accuracy3",
      [
        (item_slot_eq, "$current_rune_item", 128, 2),
      ],
      "Another_rune_of_accuracy:_+5_accuracy_(2000_gold)",
      [
        (assign, "$chosen_rune", 6),
        (assign, "$rune_cost", 2000),
        (store_troop_gold, ":var0", "trp_player"),
        (try_begin),
          (ge, ":var0", "$rune_cost"),
          (jump_to_menu, "mnu_rune_final_choice_ranged"),
        (else_try),
          (display_message, "@You do not have enough gold"),
          (jump_to_menu, "mnu_rune_ranged"),
        (try_end),
      ]
      ),

      ("rune_penetrating1",
      [
        (item_slot_eq, "$current_rune_item", 127, 0),
      ],
      "Rune_of_penetrating:_+12_damage_(5000_gold)",
      [
        (assign, "$chosen_rune", 7),
        (assign, "$rune_cost", 5000),
        (store_troop_gold, ":var0", "trp_player"),
        (try_begin),
          (ge, ":var0", "$rune_cost"),
          (jump_to_menu, "mnu_rune_final_choice_ranged"),
        (else_try),
          (display_message, "@You do not have enough gold"),
          (jump_to_menu, "mnu_rune_ranged"),
        (try_end),
      ]
      ),

      ("rune_penetrating2",
      [
        (item_slot_eq, "$current_rune_item", 127, 1),
      ],
      "Another_rune_of_penetrating:_+25_damage_(5000_gold)",
      [
        (assign, "$chosen_rune", 7),
        (assign, "$rune_cost", 5000),
        (store_troop_gold, ":var0", "trp_player"),
        (try_begin),
          (ge, ":var0", "$rune_cost"),
          (jump_to_menu, "mnu_rune_final_choice_ranged"),
        (else_try),
          (display_message, "@You do not have enough gold"),
          (jump_to_menu, "mnu_rune_ranged"),
        (try_end),
      ]
      ),

      ("rune_burning",
      [
        (item_slot_eq, "$current_rune_item", 155, 0),
      ],
      "Rune_of_burning:_+1_damage_and_fire_damage_(1000_gold)",
      [
        (assign, "$chosen_rune", 8),
        (assign, "$rune_cost", 1000),
        (store_troop_gold, ":var0", "trp_player"),
        (try_begin),
          (ge, ":var0", "$rune_cost"),
          (jump_to_menu, "mnu_rune_final_choice_ranged"),
        (else_try),
          (display_message, "@You do not have enough gold"),
          (jump_to_menu, "mnu_rune_ranged"),
        (try_end),
      ]
      ),

      ("rune_skewering",
      [
        (item_slot_eq, "$current_rune_item", 137, 0),
      ],
      "Rune_of_skewering:_+20%_accuracy_(5000_gold)",
      [
        (assign, "$chosen_rune", 9),
        (assign, "$rune_cost", 5000),
        (store_troop_gold, ":var0", "trp_player"),
        (try_begin),
          (ge, ":var0", "$rune_cost"),
          (jump_to_menu, "mnu_rune_final_choice_ranged"),
        (else_try),
          (display_message, "@You do not have enough gold"),
          (jump_to_menu, "mnu_rune_ranged"),
        (try_end),
      ]
      ),

      ("rune_reloading1",
      [
        (item_slot_eq, "$current_rune_item", 136, 0),
      ],
      "Rune_of_reloading:_+25%_reload_speed_(2500_gold)",
      [
        (assign, "$chosen_rune", 10),
        (assign, "$rune_cost", 2500),
        (store_troop_gold, ":var0", "trp_player"),
        (try_begin),
          (ge, ":var0", "$rune_cost"),
          (jump_to_menu, "mnu_rune_final_choice_ranged"),
        (else_try),
          (display_message, "@You do not have enough gold"),
          (jump_to_menu, "mnu_rune_ranged"),
        (try_end),
      ]
      ),

      ("rune_reloading2",
      [
        (item_slot_eq, "$current_rune_item", 136, 1),
      ],
      "Another_rune_of_reloading:_+50%_reload_speed_(2500_gold)",
      [
        (assign, "$chosen_rune", 10),
        (assign, "$rune_cost", 2500),
        (store_troop_gold, ":var0", "trp_player"),
        (try_begin),
          (ge, ":var0", "$rune_cost"),
          (jump_to_menu, "mnu_rune_final_choice_ranged"),
        (else_try),
          (display_message, "@You do not have enough gold"),
          (jump_to_menu, "mnu_rune_ranged"),
        (try_end),
      ]
      ),

      ("leave",
      [],
      "No_new_runes_for_now",
      [
        (jump_to_menu, "mnu_dwarf_runeforge"),
      ]
      ),
    ],
  ),

  ("rune_armour", menu_text_color(0xFF000000)|mnf_disable_all_keys,
    "which rune would you like to have inscribed?",
    "none",
    [],
    [
      ("rune_iron",
      [
        (item_slot_eq, "$current_rune_item", 156, 0),
      ],
      "Rune_of_Iron:_6+_ward_save_(20000_gold)",
      [
        (assign, "$chosen_rune", 11),
        (assign, "$rune_cost", 20000),
        (store_troop_gold, ":var0", "trp_player"),
        (try_begin),
          (ge, ":var0", "$rune_cost"),
          (jump_to_menu, "mnu_rune_final_choice_armour"),
        (else_try),
          (display_message, "@You do not have enough gold"),
          (jump_to_menu, "mnu_rune_armour"),
        (try_end),
      ]
      ),

      ("rune_iron2",
      [
        (item_slot_eq, "$current_rune_item", 156, 1),
      ],
      "Another_rune_of_Iron:_5+_ward_save_(20000_gold)",
      [
        (assign, "$chosen_rune", 11),
        (assign, "$rune_cost", 20000),
        (store_troop_gold, ":var0", "trp_player"),
        (try_begin),
          (ge, ":var0", "$rune_cost"),
          (jump_to_menu, "mnu_rune_final_choice_armour"),
        (else_try),
          (display_message, "@You do not have enough gold"),
          (jump_to_menu, "mnu_rune_armour"),
        (try_end),
      ]
      ),

      ("rune_spite",
      [
        (item_slot_eq, "$current_rune_item", 150, 0),
        (troop_slot_eq, "trp_player", 243, 0),
      ],
      "Master_rune_of_Spite:_4+_ward_save_(100000_gold)",
      [
        (assign, "$chosen_rune", 30),
        (assign, "$rune_cost", 100000),
        (store_troop_gold, ":var0", "trp_player"),
        (try_begin),
          (ge, ":var0", "$rune_cost"),
          (jump_to_menu, "mnu_rune_final_choice_armour"),
        (else_try),
          (display_message, "@You do not have enough gold"),
          (jump_to_menu, "mnu_rune_armour"),
        (try_end),
      ]
      ),

      ("rune_steel",
      [
        (item_slot_eq, "$current_rune_item", 147, 0),
        (troop_slot_eq, "trp_player", 239, 0),
      ],
      "Master_rune_of_steel:_+10_armour_(5000_gold)",
      [
        (assign, "$chosen_rune", 12),
        (assign, "$rune_cost", 5000),
        (store_troop_gold, ":var0", "trp_player"),
        (try_begin),
          (ge, ":var0", "$rune_cost"),
          (jump_to_menu, "mnu_rune_final_choice_armour"),
        (else_try),
          (display_message, "@You do not have enough gold"),
          (jump_to_menu, "mnu_rune_armour"),
        (try_end),
      ]
      ),

      ("rune_adamant",
      [
        (item_slot_eq, "$current_rune_item", 148, 0),
        (troop_slot_eq, "trp_player", 240, 0),
      ],
      "Master_rune_of_adamant:_Gain_advanced_ignore_pain_(50000_gold)",
      [
        (assign, "$chosen_rune", 13),
        (assign, "$rune_cost", 50000),
        (store_troop_gold, ":var0", "trp_player"),
        (try_begin),
          (ge, ":var0", "$rune_cost"),
          (jump_to_menu, "mnu_rune_final_choice_armour"),
        (else_try),
          (display_message, "@You do not have enough gold"),
          (jump_to_menu, "mnu_rune_armour"),
        (try_end),
      ]
      ),

      ("rune_gromil",
      [
        (item_slot_eq, "$current_rune_item", 149, 0),
        (troop_slot_eq, "trp_player", 241, 0),
      ],
      "Master_rune_of_Gromil:_+15_armour_(10000_gold)",
      [
        (assign, "$chosen_rune", 14),
        (assign, "$rune_cost", 10000),
        (store_troop_gold, ":var0", "trp_player"),
        (try_begin),
          (ge, ":var0", "$rune_cost"),
          (jump_to_menu, "mnu_rune_final_choice_armour"),
        (else_try),
          (display_message, "@You do not have enough gold"),
          (jump_to_menu, "mnu_rune_armour"),
        (try_end),
      ]
      ),

      ("rune_fortitude",
      [
        (item_slot_eq, "$current_rune_item", 138, 0),
      ],
      "Rune_of_fortitude:_Heals_wounds_at_the_start_of_a_battle_(2500_gold)",
      [
        (assign, "$chosen_rune", 15),
        (assign, "$rune_cost", 2500),
        (store_troop_gold, ":var0", "trp_player"),
        (try_begin),
          (ge, ":var0", "$rune_cost"),
          (jump_to_menu, "mnu_rune_final_choice_armour"),
        (else_try),
          (display_message, "@You do not have enough gold"),
          (jump_to_menu, "mnu_rune_armour"),
        (try_end),
      ]
      ),

      ("rune_shielding",
      [
        (item_slot_eq, "$current_rune_item", 139, 0),
      ],
      "Rune_of_shielding:_4+_ward_save_against_ranged_attacks_and_magic_missile_spells_(40000_gold)",
      [
        (assign, "$chosen_rune", 16),
        (assign, "$rune_cost", 40000),
        (store_troop_gold, ":var0", "trp_player"),
        (try_begin),
          (ge, ":var0", "$rune_cost"),
          (jump_to_menu, "mnu_rune_final_choice_armour"),
        (else_try),
          (display_message, "@You do not have enough gold"),
          (jump_to_menu, "mnu_rune_armour"),
        (try_end),
      ]
      ),

      ("rune_preservation",
      [
        (item_slot_eq, "$current_rune_item", 140, 0),
      ],
      "Rune_of_preservation:_wearer_cannot_be_poisoned_(2000_gold)",
      [
        (assign, "$chosen_rune", 17),
        (assign, "$rune_cost", 2000),
        (store_troop_gold, ":var0", "trp_player"),
        (try_begin),
          (ge, ":var0", "$rune_cost"),
          (jump_to_menu, "mnu_rune_final_choice_armour"),
        (else_try),
          (display_message, "@You do not have enough gold"),
          (jump_to_menu, "mnu_rune_armour"),
        (try_end),
      ]
      ),

      ("leave",
      [],
      "No_new_runes_for_now",
      [
        (jump_to_menu, "mnu_dwarf_runeforge"),
      ]
      ),
    ],
  ),

  ("rune_weapon", menu_text_color(0xFF000000)|mnf_disable_all_keys,
    "which rune would you like to have inscribed?",
    "none",
    [],
    [
      ("rune_snorri",
      [
        (item_slot_eq, "$current_rune_item", 141, 0),
        (troop_slot_eq, "trp_player", 233, 0),
      ],
      "Master_Rune_of_Snorri_Spanglehelm:_+5_to_weapon_swing_speed_(5000_gold)",
      [
        (assign, "$chosen_rune", 18),
        (assign, "$rune_cost", 5000),
        (store_troop_gold, ":var0", "trp_player"),
        (try_begin),
          (ge, ":var0", "$rune_cost"),
          (jump_to_menu, "mnu_rune_final_choice_weapon"),
        (else_try),
          (display_message, "@You do not have enough gold"),
          (jump_to_menu, "mnu_rune_weapon"),
        (try_end),
      ]
      ),

      ("rune_skalf",
      [
        (item_slot_eq, "$current_rune_item", 142, 0),
        (troop_slot_eq, "trp_player", 234, 0),
      ],
      "Master_Rune_of_Skalf_Blackhammer:_+20%_damage_(12000_gold)",
      [
        (assign, "$chosen_rune", 19),
        (assign, "$rune_cost", 12000),
        (store_troop_gold, ":var0", "trp_player"),
        (try_begin),
          (ge, ":var0", "$rune_cost"),
          (jump_to_menu, "mnu_rune_final_choice_weapon"),
        (else_try),
          (display_message, "@You do not have enough gold"),
          (jump_to_menu, "mnu_rune_weapon"),
        (try_end),
      ]
      ),

      ("rune_alaric",
      [
        (item_slot_eq, "$current_rune_item", 143, 0),
        (troop_slot_eq, "trp_player", 235, 0),
      ],
      "Master_Rune_of_Alaric_the_Mad:_+5_damage,_no_ignore_pain_or_ward_save_allowed_(20000_gold)",
      [
        (assign, "$chosen_rune", 20),
        (assign, "$rune_cost", 20000),
        (store_troop_gold, ":var0", "trp_player"),
        (try_begin),
          (ge, ":var0", "$rune_cost"),
          (jump_to_menu, "mnu_rune_final_choice_weapon"),
        (else_try),
          (display_message, "@You do not have enough gold"),
          (jump_to_menu, "mnu_rune_weapon"),
        (try_end),
      ]
      ),

      ("rune_breaking",
      [
        (item_slot_eq, "$current_rune_item", 144, 0),
        (troop_slot_eq, "trp_player", 236, 0),
      ],
      "Master_Rune_of_breaking:_chance_of_destroying_armour_when_hit_(5000_gold)",
      [
        (assign, "$chosen_rune", 21),
        (assign, "$rune_cost", 5000),
        (store_troop_gold, ":var0", "trp_player"),
        (try_begin),
          (ge, ":var0", "$rune_cost"),
          (jump_to_menu, "mnu_rune_final_choice_weapon"),
        (else_try),
          (display_message, "@You do not have enough gold"),
          (jump_to_menu, "mnu_rune_weapon"),
        (try_end),
      ]
      ),

      ("rune_swiftness",
      [
        (item_slot_eq, "$current_rune_item", 145, 0),
        (troop_slot_eq, "trp_player", 237, 0),
      ],
      "Master_Rune_of_swiftness:_+10_to_weapon_swing_speed_(10000_gold)",
      [
        (assign, "$chosen_rune", 22),
        (assign, "$rune_cost", 10000),
        (store_troop_gold, ":var0", "trp_player"),
        (try_begin),
          (ge, ":var0", "$rune_cost"),
          (jump_to_menu, "mnu_rune_final_choice_weapon"),
        (else_try),
          (display_message, "@You do not have enough gold"),
          (jump_to_menu, "mnu_rune_weapon"),
        (try_end),
      ]
      ),

      ("rune_fury1",
      [
        (item_slot_eq, "$current_rune_item", 120, 0),
      ],
      "Rune_of_fury:_+2_to_swing_speed_(1000_gold)",
      [
        (assign, "$chosen_rune", 23),
        (assign, "$rune_cost", 1000),
        (store_troop_gold, ":var0", "trp_player"),
        (try_begin),
          (ge, ":var0", "$rune_cost"),
          (jump_to_menu, "mnu_rune_final_choice_weapon"),
        (else_try),
          (display_message, "@You do not have enough gold"),
          (jump_to_menu, "mnu_rune_weapon"),
        (try_end),
      ]
      ),

      ("rune_fury2",
      [
        (item_slot_eq, "$current_rune_item", 120, 1),
      ],
      "Another_rune_of_fury:_+4_to_swing_speed_(1000_gold)",
      [
        (assign, "$chosen_rune", 23),
        (assign, "$rune_cost", 1000),
        (store_troop_gold, ":var0", "trp_player"),
        (try_begin),
          (ge, ":var0", "$rune_cost"),
          (jump_to_menu, "mnu_rune_final_choice_weapon"),
        (else_try),
          (display_message, "@You do not have enough gold"),
          (jump_to_menu, "mnu_rune_weapon"),
        (try_end),
      ]
      ),

      ("rune_fury3",
      [
        (item_slot_eq, "$current_rune_item", 120, 2),
      ],
      "Another_rune_of_fury:_+6_to_swing_speed_(1000_gold)",
      [
        (assign, "$chosen_rune", 23),
        (assign, "$rune_cost", 1000),
        (store_troop_gold, ":var0", "trp_player"),
        (try_begin),
          (ge, ":var0", "$rune_cost"),
          (jump_to_menu, "mnu_rune_final_choice_weapon"),
        (else_try),
          (display_message, "@You do not have enough gold"),
          (jump_to_menu, "mnu_rune_weapon"),
        (try_end),
      ]
      ),

      ("rune_cleaving1",
      [
        (item_slot_eq, "$current_rune_item", 121, 0),
      ],
      "Rune_of_cleaving:_+2_damage_(200_gold)",
      [
        (assign, "$chosen_rune", 24),
        (assign, "$rune_cost", 200),
        (store_troop_gold, ":var0", "trp_player"),
        (try_begin),
          (ge, ":var0", "$rune_cost"),
          (jump_to_menu, "mnu_rune_final_choice_weapon"),
        (else_try),
          (display_message, "@You do not have enough gold"),
          (jump_to_menu, "mnu_rune_weapon"),
        (try_end),
      ]
      ),

      ("rune_cleaving2",
      [
        (item_slot_eq, "$current_rune_item", 121, 1),
      ],
      "Another_rune_of_cleaving:_+4_to_damage_(200_gold)",
      [
        (assign, "$chosen_rune", 24),
        (assign, "$rune_cost", 200),
        (store_troop_gold, ":var0", "trp_player"),
        (try_begin),
          (ge, ":var0", "$rune_cost"),
          (jump_to_menu, "mnu_rune_final_choice_weapon"),
        (else_try),
          (display_message, "@You do not have enough gold"),
          (jump_to_menu, "mnu_rune_weapon"),
        (try_end),
      ]
      ),

      ("rune_cleaving3",
      [
        (item_slot_eq, "$current_rune_item", 121, 2),
      ],
      "Another_rune_of_cleaving:_+6_damage_(200_gold)",
      [
        (assign, "$chosen_rune", 24),
        (assign, "$rune_cost", 200),
        (store_troop_gold, ":var0", "trp_player"),
        (try_begin),
          (ge, ":var0", "$rune_cost"),
          (jump_to_menu, "mnu_rune_final_choice_weapon"),
        (else_try),
          (display_message, "@You do not have enough gold"),
          (jump_to_menu, "mnu_rune_weapon"),
        (try_end),
      ]
      ),

      ("rune_dragon1",
      [
        (item_slot_eq, "$current_rune_item", 122, 0),
      ],
      "Rune_of_Dragon_slaying:_1D2_damage_vs_large_enemies_(5000_gold)_(will_not_work_with_rune_of_smiting)",
      [
        (assign, "$chosen_rune", 25),
        (assign, "$rune_cost", 5000),
        (store_troop_gold, ":var0", "trp_player"),
        (try_begin),
          (ge, ":var0", "$rune_cost"),
          (jump_to_menu, "mnu_rune_final_choice_weapon"),
        (else_try),
          (display_message, "@You do not have enough gold"),
          (jump_to_menu, "mnu_rune_weapon"),
        (try_end),
      ]
      ),

      ("rune_dragon2",
      [
        (item_slot_eq, "$current_rune_item", 122, 1),
      ],
      "Rune_of_Dragon_slaying:_1D3_damage_vs_large_enemies_(5000_gold)",
      [
        (assign, "$chosen_rune", 25),
        (assign, "$rune_cost", 5000),
        (store_troop_gold, ":var0", "trp_player"),
        (try_begin),
          (ge, ":var0", "$rune_cost"),
          (jump_to_menu, "mnu_rune_final_choice_weapon"),
        (else_try),
          (display_message, "@You do not have enough gold"),
          (jump_to_menu, "mnu_rune_weapon"),
        (try_end),
      ]
      ),

      ("rune_smiting",
      [
        (item_slot_eq, "$current_rune_item", 123, 0),
      ],
      "Rune_of_smiting:_50%_chance_of_double_damage_(25000_gold)_(will_over_ride_rune_of_dragon_slaying)",
      [
        (assign, "$chosen_rune", 26),
        (assign, "$rune_cost", 25000),
        (store_troop_gold, ":var0", "trp_player"),
        (try_begin),
          (ge, ":var0", "$rune_cost"),
          (jump_to_menu, "mnu_rune_final_choice_weapon"),
        (else_try),
          (display_message, "@You do not have enough gold"),
          (jump_to_menu, "mnu_rune_weapon"),
        (try_end),
      ]
      ),

      ("rune_might1",
      [
        (item_slot_eq, "$current_rune_item", 124, 0),
      ],
      "Rune_of_might:_+8%_damage_(4000_gold)",
      [
        (assign, "$chosen_rune", 27),
        (assign, "$rune_cost", 4000),
        (store_troop_gold, ":var0", "trp_player"),
        (try_begin),
          (ge, ":var0", "$rune_cost"),
          (jump_to_menu, "mnu_rune_final_choice_weapon"),
        (else_try),
          (display_message, "@You do not have enough gold"),
          (jump_to_menu, "mnu_rune_weapon"),
        (try_end),
      ]
      ),

      ("rune_might2",
      [
        (item_slot_eq, "$current_rune_item", 124, 1),
      ],
      "Another_rune_of_might:_+16%_damage_(4000_gold)",
      [
        (assign, "$chosen_rune", 27),
        (assign, "$rune_cost", 4000),
        (store_troop_gold, ":var0", "trp_player"),
        (try_begin),
          (ge, ":var0", "$rune_cost"),
          (jump_to_menu, "mnu_rune_final_choice_weapon"),
        (else_try),
          (display_message, "@You do not have enough gold"),
          (jump_to_menu, "mnu_rune_weapon"),
        (try_end),
      ]
      ),

      ("rune_striking1",
      [
        (item_slot_eq, "$current_rune_item", 125, 0),
      ],
      "Rune_of_striking:_+2_weapon_master_when_equipped_(1000_gold)",
      [
        (assign, "$chosen_rune", 28),
        (assign, "$rune_cost", 1000),
        (store_troop_gold, ":var0", "trp_player"),
        (try_begin),
          (ge, ":var0", "$rune_cost"),
          (jump_to_menu, "mnu_rune_final_choice_weapon"),
        (else_try),
          (display_message, "@You do not have enough gold"),
          (jump_to_menu, "mnu_rune_weapon"),
        (try_end),
      ]
      ),

      ("rune_striking2",
      [
        (item_slot_eq, "$current_rune_item", 125, 1),
      ],
      "Another_rune_of_striking:_+4_weapon_master_when_equipped_(1000_gold)",
      [
        (assign, "$chosen_rune", 28),
        (assign, "$rune_cost", 1000),
        (store_troop_gold, ":var0", "trp_player"),
        (try_begin),
          (ge, ":var0", "$rune_cost"),
          (jump_to_menu, "mnu_rune_final_choice_weapon"),
        (else_try),
          (display_message, "@You do not have enough gold"),
          (jump_to_menu, "mnu_rune_weapon"),
        (try_end),
      ]
      ),

      ("rune_striking3",
      [
        (item_slot_eq, "$current_rune_item", 125, 2),
      ],
      "Another_rune_of_striking:_Weapon_master_10_when_equipped_(1000_gold)",
      [
        (assign, "$chosen_rune", 28),
        (assign, "$rune_cost", 1000),
        (store_troop_gold, ":var0", "trp_player"),
        (try_begin),
          (ge, ":var0", "$rune_cost"),
          (jump_to_menu, "mnu_rune_final_choice_weapon"),
        (else_try),
          (display_message, "@You do not have enough gold"),
          (jump_to_menu, "mnu_rune_weapon"),
        (try_end),
      ]
      ),

      ("rune_fire",
      [
        (item_slot_eq, "$current_rune_item", 126, 0),
      ],
      "Rune_of_fire:_+1_damage_and_fire_damage_(1500_gold)",
      [
        (assign, "$chosen_rune", 29),
        (assign, "$rune_cost", 1500),
        (store_troop_gold, ":var0", "trp_player"),
        (try_begin),
          (ge, ":var0", "$rune_cost"),
          (jump_to_menu, "mnu_rune_final_choice_weapon"),
        (else_try),
          (display_message, "@You do not have enough gold"),
          (jump_to_menu, "mnu_rune_weapon"),
        (try_end),
      ]
      ),

      ("leave",
      [],
      "No_new_runes_for_now",
      [
        (jump_to_menu, "mnu_dwarf_runeforge"),
      ]
      ),
    ],
  ),

  ("rune_final_choice_banner", menu_text_color(0xFF000000)|mnf_disable_all_keys,
    "Are you sure you wish to make this purchase?",
    "none",
    [
      (str_store_item_name, s1, "$current_rune_item"),
    ],
    [
      ("purchase",
      [],
      "Yes_I_would_like_to_purchase_a_{s1}",
      [
        (troop_remove_gold, "trp_player", "$rune_cost"),
        (try_begin),
          (eq, "$chosen_rune", 1),
          (item_get_slot, ":var0", "$current_rune_item", 119),
          (val_add, ":var0", 1),
          (item_set_slot, "$current_rune_item", 119, ":var0"),
          (item_set_slot, "$current_rune_item", 146, 2),
          (troop_set_slot, "trp_player", 238, 1),
          (call_script, "script_cf_calculate_player_magic_resistance"),
        (else_try),
          (eq, "$chosen_rune", 2),
          (item_get_slot, ":var0", "$current_rune_item", 119),
          (val_add, ":var0", 1),
          (item_set_slot, "$current_rune_item", 119, ":var0"),
          (item_set_slot, "$current_rune_item", 129, 1),
        (else_try),
          (eq, "$chosen_rune", 3),
          (item_get_slot, ":var0", "$current_rune_item", 119),
          (val_add, ":var0", 1),
          (item_set_slot, "$current_rune_item", 119, ":var0"),
          (item_get_slot, ":var1", "$current_rune_item", 130),
          (val_add, ":var1", 1),
          (item_set_slot, "$current_rune_item", 130, ":var1"),
          (call_script, "script_cf_calculate_player_magic_resistance"),
        (else_try),
          (eq, "$chosen_rune", 4),
          (item_get_slot, ":var0", "$current_rune_item", 119),
          (val_add, ":var0", 1),
          (item_set_slot, "$current_rune_item", 119, ":var0"),
          (item_set_slot, "$current_rune_item", 131, 1),
          (troop_set_slot, "trp_player", 242, 1),
        (else_try),
          (eq, "$chosen_rune", 5),
          (item_get_slot, ":var0", "$current_rune_item", 119),
          (val_add, ":var0", 1),
          (item_set_slot, "$current_rune_item", 119, ":var0"),
          (item_set_slot, "$current_rune_item", 132, 1),
        (try_end),
        (jump_to_menu, "mnu_runeforge_rune"),
      ]
      ),

      ("leave",
      [],
      "No_I_have_not_made_my_final_decision",
      [
        (jump_to_menu, "mnu_rune_banner"),
      ]
      ),
    ],
  ),

  ("rune_final_choice_ranged", menu_text_color(0xFF000000)|mnf_disable_all_keys,
    "Are you sure you wish to make this purchase?",
    "none",
    [
      (str_store_item_name, s1, "$current_rune_item"),
    ],
    [
      ("purchase",
      [],
      "Yes_I_would_like_to_purchase_a_{s1}",
      [
        (troop_remove_gold, "trp_player", "$rune_cost"),
        (try_begin),
          (eq, "$chosen_rune", 6),
          (item_get_slot, ":var0", "$current_rune_item", 119),
          (val_add, ":var0", 1),
          (item_set_slot, "$current_rune_item", 119, ":var0"),
          (try_begin),
            (item_slot_eq, "$current_rune_item", 128, 0),
            (item_set_slot, "$current_rune_item", 128, 1),
          (else_try),
            (item_slot_eq, "$current_rune_item", 128, 1),
            (item_set_slot, "$current_rune_item", 128, 2),
          (else_try),
            (item_slot_eq, "$current_rune_item", 128, 2),
            (item_set_slot, "$current_rune_item", 128, 3),
          (try_end),
        (else_try),
          (eq, "$chosen_rune", 7),
          (item_get_slot, ":var0", "$current_rune_item", 119),
          (val_add, ":var0", 1),
          (item_set_slot, "$current_rune_item", 119, ":var0"),
          (try_begin),
            (item_slot_eq, "$current_rune_item", 127, 0),
            (item_set_slot, "$current_rune_item", 127, 1),
            (item_get_thrust_damage, ":var1", "$current_rune_item"),
            (val_add, ":var1", 12),
            (item_set_thrust_damage, "$current_rune_item", ":var1"),
            (item_set_slot, "$current_rune_item", 64, ":var1"),
          (else_try),
            (item_slot_eq, "$current_rune_item", 127, 1),
            (item_set_slot, "$current_rune_item", 127, 2),
            (item_get_thrust_damage, ":var1", "$current_rune_item"),
            (val_add, ":var1", 13),
            (item_set_thrust_damage, "$current_rune_item", ":var1"),
            (item_set_slot, "$current_rune_item", 64, ":var1"),
          (try_end),
        (else_try),
          (eq, "$chosen_rune", 8),
          (item_get_slot, ":var0", "$current_rune_item", 119),
          (val_add, ":var0", 1),
          (item_set_slot, "$current_rune_item", 119, ":var0"),
          (item_set_slot, "$current_rune_item", 155, 1),
        (else_try),
          (eq, "$chosen_rune", 9),
          (item_get_slot, ":var0", "$current_rune_item", 119),
          (val_add, ":var0", 1),
          (item_set_slot, "$current_rune_item", 119, ":var0"),
          (item_set_slot, "$current_rune_item", 137, 1),
        (else_try),
          (eq, "$chosen_rune", 10),
          (item_get_slot, ":var0", "$current_rune_item", 119),
          (val_add, ":var0", 1),
          (item_set_slot, "$current_rune_item", 119, ":var0"),
          (try_begin),
            (item_slot_eq, "$current_rune_item", 136, 0),
            (item_set_slot, "$current_rune_item", 136, 1),
          (else_try),
            (item_slot_eq, "$current_rune_item", 136, 1),
            (item_set_slot, "$current_rune_item", 136, 2),
          (try_end),
        (try_end),
        (jump_to_menu, "mnu_runeforge_rune"),
      ]
      ),
    ],
  ),

  ("rune_final_choice_armour", menu_text_color(0xFF000000)|mnf_disable_all_keys,
    "Are you sure you wish to make this purchase?",
    "none",
    [
      (str_store_item_name, s1, "$current_rune_item"),
    ],
    [
      ("purchase",
      [],
      "Yes_I_would_like_to_purchase_a_{s1}",
      [
        (troop_remove_gold, "trp_player", "$rune_cost"),
        (try_begin),
          (eq, "$chosen_rune", 11),
          (item_get_slot, ":var0", "$current_rune_item", 119),
          (val_add, ":var0", 1),
          (item_set_slot, "$current_rune_item", 119, ":var0"),
          (try_begin),
            (item_slot_eq, "$current_rune_item", 156, 0),
            (item_set_slot, "$current_rune_item", 156, 1),
          (else_try),
            (item_slot_eq, "$current_rune_item", 156, 1),
            (item_set_slot, "$current_rune_item", 156, 2),
          (try_end),
        (else_try),
          (eq, "$chosen_rune", 30),
          (item_get_slot, ":var0", "$current_rune_item", 119),
          (val_add, ":var0", 1),
          (item_set_slot, "$current_rune_item", 119, ":var0"),
          (item_set_slot, "$current_rune_item", 150, 1),
          (troop_set_slot, "trp_player", 243, 1),
        (else_try),
          (eq, "$chosen_rune", 12),
          (item_get_slot, ":var0", "$current_rune_item", 119),
          (val_add, ":var0", 1),
          (item_set_slot, "$current_rune_item", 119, ":var0"),
          (item_set_slot, "$current_rune_item", 147, 1),
          (troop_set_slot, "trp_player", 239, 1),
          (item_get_body_armor, ":var1", "$current_rune_item"),
          (val_add, ":var1", 10),
          (item_get_slot, ":var0", "$current_rune_item", 119),
          (val_add, ":var0", 1),
        (else_try),
          (eq, "$chosen_rune", 13),
          (item_get_slot, ":var0", "$current_rune_item", 119),
          (val_add, ":var0", 1),
          (item_set_slot, "$current_rune_item", 119, ":var0"),
          (item_set_slot, "$current_rune_item", 148, 1),
          (troop_set_slot, "trp_player", 240, 1),
        (else_try),
          (eq, "$chosen_rune", 14),
          (item_get_slot, ":var0", "$current_rune_item", 119),
          (val_add, ":var0", 1),
          (item_set_slot, "$current_rune_item", 119, ":var0"),
          (item_set_slot, "$current_rune_item", 149, 1),
          (troop_set_slot, "trp_player", 241, 1),
          (item_get_body_armor, ":var1", "$current_rune_item"),
          (val_add, ":var1", 15),
          (item_set_body_armor, "$current_rune_item", ":var1"),
          (item_set_slot, "$current_rune_item", 64, ":var1"),
        (else_try),
          (eq, "$chosen_rune", 15),
          (item_get_slot, ":var0", "$current_rune_item", 119),
          (val_add, ":var0", 1),
          (item_set_slot, "$current_rune_item", 119, ":var0"),
          (item_set_slot, "$current_rune_item", 138, 1),
        (else_try),
          (eq, "$chosen_rune", 16),
          (item_get_slot, ":var0", "$current_rune_item", 119),
          (val_add, ":var0", 1),
          (item_set_slot, "$current_rune_item", 119, ":var0"),
          (item_set_slot, "$current_rune_item", 139, 1),
        (else_try),
          (eq, "$chosen_rune", 17),
          (item_get_slot, ":var0", "$current_rune_item", 119),
          (val_add, ":var0", 1),
          (item_set_slot, "$current_rune_item", 119, ":var0"),
          (item_set_slot, "$current_rune_item", 140, 1),
        (try_end),
        (jump_to_menu, "mnu_runeforge_rune"),
      ]
      ),
    ],
  ),

  ("rune_final_choice_weapon", menu_text_color(0xFF000000)|mnf_disable_all_keys,
    "Are you sure you wish to make this purchase?",
    "none",
    [
      (str_store_item_name, s1, "$current_rune_item"),
    ],
    [
      ("purchase",
      [],
      "Yes_I_would_like_to_purchase_a_{s1}",
      [
        (troop_remove_gold, "trp_player", "$rune_cost"),
        (try_begin),
          (eq, "$chosen_rune", 18),
          (item_get_slot, ":var0", "$current_rune_item", 119),
          (val_add, ":var0", 1),
          (item_set_slot, "$current_rune_item", 119, ":var0"),
          (item_set_slot, "$current_rune_item", 141, 1),
          (troop_set_slot, "trp_player", 233, 1),
          (item_get_speed_rating, ":var1", "$current_rune_item"),
          (val_add, ":var1", 5),
          (item_set_speed_rating, "$current_rune_item", ":var1"),
          (item_set_slot, "$current_rune_item", 63, ":var1"),
        (else_try),
          (eq, "$chosen_rune", 19),
          (item_get_slot, ":var0", "$current_rune_item", 119),
          (val_add, ":var0", 1),
          (item_set_slot, "$current_rune_item", 119, ":var0"),
          (item_set_slot, "$current_rune_item", 142, 1),
          (troop_set_slot, "trp_player", 234, 1),
        (else_try),
          (eq, "$chosen_rune", 20),
          (item_get_slot, ":var0", "$current_rune_item", 119),
          (val_add, ":var0", 1),
          (item_set_slot, "$current_rune_item", 119, ":var0"),
          (item_set_slot, "$current_rune_item", 143, 1),
          (troop_set_slot, "trp_player", 235, 1),
          (item_get_swing_damage, ":var2", "$current_rune_item"),
          (val_add, ":var2", 10),
          (item_set_swing_damage, "$current_rune_item", ":var2"),
          (item_set_slot, "$current_rune_item", 65, ":var2"),
        (else_try),
          (eq, "$chosen_rune", 21),
          (item_get_slot, ":var0", "$current_rune_item", 119),
          (val_add, ":var0", 1),
          (item_set_slot, "$current_rune_item", 119, ":var0"),
          (item_set_slot, "$current_rune_item", 144, 1),
          (troop_set_slot, "trp_player", 236, 1),
        (else_try),
          (eq, "$chosen_rune", 22),
          (item_get_slot, ":var0", "$current_rune_item", 119),
          (val_add, ":var0", 1),
          (item_set_slot, "$current_rune_item", 119, ":var0"),
          (item_set_slot, "$current_rune_item", 145, 1),
          (troop_set_slot, "trp_player", 237, 1),
          (item_get_speed_rating, ":var1", "$current_rune_item"),
          (val_add, ":var1", 10),
          (item_set_speed_rating, "$current_rune_item", ":var1"),
          (item_set_slot, "$current_rune_item", 63, ":var1"),
        (else_try),
          (eq, "$chosen_rune", 23),
          (item_get_slot, ":var0", "$current_rune_item", 119),
          (val_add, ":var0", 1),
          (item_set_slot, "$current_rune_item", 119, ":var0"),
          (try_begin),
            (item_slot_eq, "$current_rune_item", 120, 0),
            (item_set_slot, "$current_rune_item", 120, 1),
            (item_get_speed_rating, ":var1", "$current_rune_item"),
            (val_add, ":var2", 2),
            (item_set_swing_damage, "$current_rune_item", ":var2"),
            (item_set_slot, "$current_rune_item", 65, ":var2"),
          (else_try),
            (item_slot_eq, "$current_rune_item", 120, 1),
            (item_set_slot, "$current_rune_item", 120, 2),
            (item_get_speed_rating, ":var1", "$current_rune_item"),
            (val_add, ":var2", 2),
            (item_set_swing_damage, "$current_rune_item", ":var2"),
            (item_set_slot, "$current_rune_item", 65, ":var2"),
          (else_try),
            (item_slot_eq, "$current_rune_item", 120, 2),
            (item_set_slot, "$current_rune_item", 120, 3),
            (item_get_speed_rating, ":var1", "$current_rune_item"),
            (val_add, ":var2", 2),
            (item_set_swing_damage, "$current_rune_item", ":var2"),
            (item_set_slot, "$current_rune_item", 65, ":var2"),
          (try_end),
        (else_try),
          (eq, "$chosen_rune", 24),
          (item_get_slot, ":var0", "$current_rune_item", 119),
          (val_add, ":var0", 1),
          (item_set_slot, "$current_rune_item", 119, ":var0"),
          (try_begin),
            (item_slot_eq, "$current_rune_item", 121, 0),
            (item_set_slot, "$current_rune_item", 121, 1),
            (item_get_swing_damage, ":var2", "$current_rune_item"),
            (val_add, ":var2", 2),
            (item_set_swing_damage, "$current_rune_item", ":var2"),
            (item_set_slot, "$current_rune_item", 65, ":var2"),
          (else_try),
            (item_slot_eq, "$current_rune_item", 121, 1),
            (item_set_slot, "$current_rune_item", 121, 2),
            (item_get_swing_damage, ":var2", "$current_rune_item"),
            (val_add, ":var2", 2),
            (item_set_swing_damage, "$current_rune_item", ":var2"),
            (item_set_slot, "$current_rune_item", 65, ":var2"),
          (else_try),
            (item_slot_eq, "$current_rune_item", 121, 2),
            (item_set_slot, "$current_rune_item", 121, 3),
            (item_get_swing_damage, ":var2", "$current_rune_item"),
            (val_add, ":var2", 2),
            (item_set_swing_damage, "$current_rune_item", ":var2"),
            (item_set_slot, "$current_rune_item", 65, ":var2"),
          (try_end),
        (else_try),
          (eq, "$chosen_rune", 25),
          (item_get_slot, ":var0", "$current_rune_item", 119),
          (val_add, ":var0", 1),
          (item_set_slot, "$current_rune_item", 119, ":var0"),
          (try_begin),
            (item_slot_eq, "$current_rune_item", 122, 0),
            (item_set_slot, "$current_rune_item", 122, 1),
          (else_try),
            (item_slot_eq, "$current_rune_item", 122, 1),
            (item_set_slot, "$current_rune_item", 122, 2),
          (try_end),
        (else_try),
          (eq, "$chosen_rune", 26),
          (item_get_slot, ":var0", "$current_rune_item", 119),
          (val_add, ":var0", 1),
          (item_set_slot, "$current_rune_item", 119, ":var0"),
          (item_set_slot, "$current_rune_item", 123, 1),
        (else_try),
          (eq, "$chosen_rune", 27),
          (item_get_slot, ":var0", "$current_rune_item", 119),
          (val_add, ":var0", 1),
          (item_set_slot, "$current_rune_item", 119, ":var0"),
          (try_begin),
            (item_slot_eq, "$current_rune_item", 124, 0),
            (item_set_slot, "$current_rune_item", 124, 1),
          (else_try),
            (item_slot_eq, "$current_rune_item", 124, 1),
            (item_set_slot, "$current_rune_item", 124, 2),
          (try_end),
        (else_try),
          (eq, "$chosen_rune", 28),
          (item_get_slot, ":var0", "$current_rune_item", 119),
          (val_add, ":var0", 1),
          (item_set_slot, "$current_rune_item", 119, ":var0"),
          (try_begin),
            (item_slot_eq, "$current_rune_item", 125, 0),
            (item_set_slot, "$current_rune_item", 125, 1),
            (assign, "$rune_of_striking_in_play", 1),
          (else_try),
            (item_slot_eq, "$current_rune_item", 125, 1),
            (item_set_slot, "$current_rune_item", 125, 2),
          (else_try),
            (item_slot_eq, "$current_rune_item", 125, 2),
            (item_set_slot, "$current_rune_item", 125, 3),
          (try_end),
        (else_try),
          (eq, "$chosen_rune", 29),
          (item_get_slot, ":var0", "$current_rune_item", 119),
          (val_add, ":var0", 1),
          (item_set_slot, "$current_rune_item", 119, ":var0"),
          (item_set_slot, "$current_rune_item", 126, 1),
        (try_end),
        (jump_to_menu, "mnu_runeforge_rune"),
      ]
      ),

      ("leave",
      [],
      "No_I_have_not_made_my_final_decision",
      [
        (jump_to_menu, "mnu_rune_banner"),
      ]
      ),
    ],
  ),

  ("cannot_enter_court", 0,
    "There is a feast in progress in the lord's hall, but you are not of sufficient status to be invited inside. Perhaps increasing your renown would win you admittance -- or you might also try distinguishing yourself at a tournament while the feast is in progress...",
    "none",
    [],
    [
      ("continue",
      [],
      "Continue",
      [
        (jump_to_menu, "mnu_town"),
      ]
      ),
    ],
  ),

  ("lady_visit", 0,
    "Whom do you wish to visit?",
    "none",
    [],
    [
      ("visit_lady_1",
      [
        (gt, "$love_interest_in_town", 0),
        (str_store_troop_name, s12, "$love_interest_in_town"),
      ],
      "Visit_{s12}",
      [
        (assign, "$love_interest_in_town", "$love_interest_in_town"),
        (jump_to_menu, "mnu_garden"),
      ]
      ),

      ("visit_lady_2",
      [
        (gt, "$love_interest_in_town_2", 0),
        (str_store_troop_name, s12, "$love_interest_in_town_2"),
      ],
      "Visit_{s12}",
      [
        (assign, "$love_interest_in_town", "$love_interest_in_town_2"),
        (jump_to_menu, "mnu_garden"),
      ]
      ),

      ("visit_lady_3",
      [
        (gt, "$love_interest_in_town_3", 0),
        (str_store_troop_name, s12, "$love_interest_in_town_3"),
      ],
      "Visit_{s12}",
      [
        (assign, "$love_interest_in_town", "$love_interest_in_town_3"),
        (jump_to_menu, "mnu_garden"),
      ]
,
      "Door_to_the_garden."
      ),

      ("visit_lady_4",
      [
        (gt, "$love_interest_in_town_4", 0),
        (str_store_troop_name, s12, "$love_interest_in_town_4"),
      ],
      "Visit_{s12}",
      [
        (assign, "$love_interest_in_town", "$love_interest_in_town_4"),
        (jump_to_menu, "mnu_garden"),
      ]
      ),

      ("visit_lady_5",
      [
        (gt, "$love_interest_in_town_5", 0),
        (str_store_troop_name, s12, "$love_interest_in_town_5"),
      ],
      "Visit_{s12}",
      [
        (assign, "$love_interest_in_town", "$love_interest_in_town_5"),
        (jump_to_menu, "mnu_garden"),
      ]
      ),

      ("visit_lady_6",
      [
        (gt, "$love_interest_in_town_6", 0),
        (str_store_troop_name, s12, "$love_interest_in_town_6"),
      ],
      "Visit_{s12}",
      [
        (assign, "$love_interest_in_town", "$love_interest_in_town_6"),
        (jump_to_menu, "mnu_garden"),
      ]
      ),

      ("visit_lady_7",
      [
        (gt, "$love_interest_in_town_7", 0),
        (str_store_troop_name, s12, "$love_interest_in_town_7"),
      ],
      "Visit_{s12}",
      [
        (assign, "$love_interest_in_town", "$love_interest_in_town_7"),
        (jump_to_menu, "mnu_garden"),
      ]
      ),

      ("visit_lady_8",
      [
        (gt, "$love_interest_in_town_8", 0),
        (str_store_troop_name, s12, "$love_interest_in_town_8"),
      ],
      "Visit_{s12}",
      [
        (assign, "$love_interest_in_town", "$love_interest_in_town_8"),
        (jump_to_menu, "mnu_garden"),
      ]
      ),

      ("leave",
      [],
      "Leave",
      [
        (jump_to_menu, "mnu_town"),
      ]
      ),
    ],
  ),

  ("town_cheats_menu", 0,
    "Town cheats Menu",
    "none",
    [
      (ge, "$cheat_mode", 1),
    ],
    [
      ("town_alley",
      [
        (party_slot_eq, "$current_town", 0, 3),
        (eq, "$cheat_mode", 1),
      ],
      "{!}CHEAT:_Go_to_the_alley.",
      [
        (party_get_slot, reg11, "$current_town", 17),
        (set_jump_mission, "mt_ai_training"),
        (jump_to_scene, reg11),
        (change_screen_mission),
      ]
      ),

      ("castle_cheat_interior",
      [
        (eq, "$cheat_mode", 1),
      ],
      "{!}CHEAT!_Interior.",
      [
        (set_jump_mission, "mt_ai_training"),
        (party_get_slot, ":var0", "$current_town", 11),
        (jump_to_scene, ":var0"),
        (change_screen_mission),
      ]
      ),

      ("castle_cheat_town_exterior",
      [
        (eq, "$cheat_mode", 1),
      ],
      "{!}CHEAT!_Exterior.",
      [
        (try_begin),
          (party_slot_eq, "$current_town", 0, 2),
          (party_get_slot, ":var0", "$current_town", 10),
        (else_try),
          (party_get_slot, ":var0", "$current_town", 10),
        (try_end),
        (set_jump_mission, "mt_ai_training"),
        (jump_to_scene, ":var0"),
        (change_screen_mission),
      ]
      ),

      ("castle_cheat_dungeon",
      [
        (eq, "$cheat_mode", 1),
      ],
      "{!}CHEAT!_Prison.",
      [
        (set_jump_mission, "mt_ai_training"),
        (party_get_slot, ":var0", "$current_town", 12),
        (jump_to_scene, ":var0"),
        (change_screen_mission),
      ]
      ),

      ("castle_cheat_town_walls",
      [
        (eq, "$cheat_mode", 1),
        (party_slot_eq, "$current_town", 0, 3),
      ],
      "{!}CHEAT!_Town_Walls.",
      [
        (party_get_slot, ":var0", "$current_town", 18),
        (set_jump_mission, "mt_ai_training"),
        (jump_to_scene, ":var0"),
        (change_screen_mission),
      ]
      ),

      ("cheat_town_start_siege",
      [
        (ge, "$cheat_mode", 1),
        (party_slot_eq, "$g_encountered_party", 54, -1),
        (lt, "$g_encountered_party_2", 1),
        (call_script, "script_party_count_fit_for_battle", "p_main_party"),
        (gt, reg0, 1),
        (try_begin),
          (party_slot_eq, "$g_encountered_party", 0, 3),
          (assign, reg6, 1),
        (else_try),
          (assign, reg6, 0),
        (try_end),
      ],
      "{!}CHEAT:_Besiege_the_{reg6?town:castle}...",
      [
        (assign, "$g_player_besiege_town", "$g_encountered_party"),
        (jump_to_menu, "mnu_castle_besiege"),
      ]
      ),

      ("center_reports",
      [
        (eq, "$cheat_mode", 1),
      ],
      "{!}CHEAT!_Show_reports.",
      [
        (jump_to_menu, "mnu_center_reports"),
      ]
      ),

      ("go_back",
      [],
      "Go_back_to_Town_menu...",
      [
        (jump_to_menu, "mnu_town"),
      ]
      ),
    ],
  ),

  ("town_tournament_lost", 0,
    "You have been eliminated from the tournament.{s8}",
    "none",
    [
      (str_clear, s8),
      (try_begin),
        (this_or_next|neq, "$players_kingdom", "$g_encountered_party_faction"),
        (neg|troop_slot_ge, "trp_player", 7, 50),
        (neg|troop_slot_ge, "trp_player", 7, 125),
        (gt, "$g_player_tournament_placement", 4),
        (faction_slot_eq, "$g_encountered_party_faction", 4, 6),
        (faction_slot_eq, "$g_encountered_party_faction", 5, "$g_encountered_party"),
        (str_store_string, s8, "str__however_you_have_sufficiently_distinguished_yourself_to_be_invited_to_attend_the_ongoing_feast_in_the_lords_castle"),
      (try_end),
    ],
    [
      ("continue",
      [],
      "Continue...",
      [
        (jump_to_menu, "mnu_town_tournament_won_by_another"),
      ]
      ),
    ],
  ),

  ("town_tournament_won", mnf_disable_all_keys,
    "You have won the tournament of {s3}! You are filled with pride as the crowd cheers your name. In addition to honour, fame and glory, you earn a prize of {reg9} denars. {s8}",
    "none",
    [
      (str_store_party_name, s3, "$current_town"),
      (call_script, "script_change_troop_renown", "trp_player", 20),
      (call_script, "script_change_player_relation_with_center", "$current_town", 1),
      (try_begin),
        (store_random_in_range, ":var0", 0, 100),
        (ge, ":var0", 90),
        (troop_add_item, "trp_player", "itm_shield_coin"),
      (try_end),
      (try_begin),
        (store_random_in_range, ":var0", 0, 100),
        (ge, ":var0", 95),
        (troop_add_item, "trp_player", "itm_sword_might"),
      (try_end),
      (troop_add_item, "trp_player", "itm_medal"),
      (try_begin),
        (troop_get_slot, ":var1", "trp_player", 162),
        (val_add, ":var1", 1),
        (troop_set_slot, "trp_player", 162, ":var1"),
      (try_end),
      (try_begin),
        (eq, "$disposition", 1),
        (call_script, "script_change_player_honor", 2),
      (else_try),
        (eq, "$disposition", 2),
        (call_script, "script_change_player_honor", -2),
      (try_end),
      (assign, reg9, 500),
      (add_xp_to_troop, 250, "trp_player"),
      (troop_add_gold, "trp_player", reg9),
      (str_clear, s8),
      (store_add, ":var2", "$g_tournament_bet_placed", "$g_tournament_bet_win_amount"),
      (try_begin),
        (gt, "$g_tournament_bet_win_amount", 0),
        (assign, reg8, ":var2"),
        (str_store_string, s8, "@Moreover, you earn {reg8} denars from the clever bets you placed on yourself..."),
      (try_end),
      (try_begin),
        (this_or_next|neq, "$players_kingdom", "$g_encountered_party_faction"),
        (neg|troop_slot_ge, "trp_player", 7, 70),
        (neg|troop_slot_ge, "trp_player", 7, 145),
        (faction_slot_eq, "$g_encountered_party_faction", 4, 6),
        (faction_slot_eq, "$g_encountered_party_faction", 5, "$g_encountered_party"),
        (str_store_string, s8, "str_s8_you_are_also_invited_to_attend_the_ongoing_feast_in_the_castle"),
      (try_end),
      (troop_add_gold, "trp_player", ":var2"),
      (assign, ":var3", 0),
      (store_div, ":var3", "$g_tournament_bet_win_amount", 5),
      (party_get_slot, ":var4", "$current_town", 51),
      (val_sub, ":var4", ":var3"),
      (val_max, ":var4", 250),
      (party_set_slot, "$current_town", 51, ":var4"),
      (call_script, "script_play_victorious_sound"),
      (unlock_achievement, 33),
      (stop_all_sounds, 0),
      (set_background_mesh, "mesh_pic_payment"),
      (call_script, "script_change_faction_troop_morale", "$g_encountered_party_faction", ":var4", 1),
    ],
    [
      ("continue",
      [],
      "Continue...",
      [
        (jump_to_menu, "mnu_town"),
      ]
      ),
    ],
  ),

  ("town_tournament_won_by_another", mnf_disable_all_keys,
    "As the only {reg3?fighter:man} to remain undefeated this day, {s1} wins the lists and the glory of this tournament.",
    "none",
    [
      (call_script, "script_get_num_tournament_participants"),
      (store_sub, ":var0", reg0, 1),
      (try_begin),
        (troop_slot_eq, "trp_tournament_participants", 0, 0),
        (troop_set_slot, "trp_tournament_participants", 0, -1),
        (val_sub, ":var0", 1),
      (try_end),
      (call_script, "script_remove_tournament_participants_randomly", ":var0"),
      (call_script, "script_sort_tournament_participant_troops"),
      (troop_get_slot, ":var1", "trp_tournament_participants", 0),
      (str_store_troop_name, s1, ":var1"),
      (try_begin),
        (troop_is_hero, ":var1"),
        (call_script, "script_change_troop_renown", ":var1", 20),
      (try_end),
      (call_script, "script_dplmc_store_troop_is_female_reg", ":var1", 3),
      (stop_all_sounds, 0),
      (set_background_mesh, "mesh_pic_payment"),
    ],
    [
      ("continue",
      [],
      "Continue...",
      [
        (jump_to_menu, "mnu_town"),
      ]
      ),
    ],
  ),

  ("town_tournament", mnf_disable_all_keys,
    "{s1}You are at tier {reg0} of the tournament, with {reg1} participants remaining. In the next round, there will be {reg2} teams with {reg3} {reg4?fighters:fighter} each.",
    "none",
    [
      (party_set_slot, "$current_town", 166, 0),
      (call_script, "script_sort_tournament_participant_troops"),
      (call_script, "script_get_num_tournament_participants"),
      (assign, ":var0", reg0),
      (try_begin),
        (neg|troop_slot_eq, "trp_tournament_participants", 0, 0),
        (assign, ":var1", 0),
        (store_div, ":var1", "$g_tournament_bet_placed", 5),
        (party_get_slot, ":var2", "$current_town", 51),
        (val_add, ":var2", ":var1"),
        (val_min, ":var2", 4000),
        (party_set_slot, "$current_town", 51, ":var2"),
        (jump_to_menu, "mnu_town_tournament_lost"),
      (else_try),
        (eq, ":var0", 1),
        (jump_to_menu, "mnu_town_tournament_won"),
      (else_try),
        (try_begin),
          (le, "$g_tournament_next_num_teams", 0),
          (call_script, "script_get_random_tournament_team_amount_and_size"),
          (assign, "$g_tournament_next_num_teams", reg0),
          (assign, "$g_tournament_next_team_size", reg1),
        (try_end),
        (assign, reg2, "$g_tournament_next_num_teams"),
        (assign, reg3, "$g_tournament_next_team_size"),
        (store_sub, reg4, reg3, 1),
        (str_clear, s1),
        (try_begin),
          (eq, "$g_tournament_player_team_won", 1),
          (str_store_string, s1, "@Victory is yours! You have won this melee, but now you must prepare yourself for the next round. "),
        (else_try),
          (eq, "$g_tournament_player_team_won", 0),
          (str_store_string, s1, "@You have been bested in this melee, but the master of ceremonies declares a recognition of your skill and bravery, allowing you to take part in the next round. "),
        (try_end),
        (assign, reg1, ":var0"),
        (store_add, reg0, "$g_tournament_cur_tier", 1),
      (try_end),
    ],
    [
      ("tournament_view_participants",
      [],
      "View_participants.",
      [
        (jump_to_menu, "mnu_tournament_participants"),
      ]
      ),

      ("tournament_bet",
      [
        (neq, "$g_tournament_cur_tier", "$g_tournament_last_bet_tier"),
      ],
      "Place_a_bet_on_yourself.",
      [
        (jump_to_menu, "mnu_tournament_bet"),
      ]
      ),

      ("tournament_join_next_fight",
      [],
      "Fight_in_the_next_round.",
      [
        (party_get_slot, ":var0", "$current_town", 16),
        (modify_visitors_at_site, ":var0"),
        (reset_visitors),
        (assign, "$g_player_tournament_placement", "$g_tournament_cur_tier"),
        (try_begin),
          (gt, "$g_player_tournament_placement", 4),
          (assign, "$g_player_eligible_feast_center_no", "$current_town"),
        (try_end),
        (val_add, "$g_tournament_cur_tier", 1),
        (store_mul, "$g_tournament_num_participants_for_fight", "$g_tournament_next_num_teams", "$g_tournament_next_team_size"),
        (troop_set_slot, "trp_tournament_participants", 0, -1),
        (troop_set_slot, "trp_temp_array_a", 0, "trp_player"),
        (try_for_range, ":var1", 1, "$g_tournament_num_participants_for_fight"),
          (call_script, "script_get_random_tournament_participant"),
          (troop_set_slot, "trp_temp_array_a", ":var1", reg0),
        (try_end),
        (call_script, "script_shuffle_troop_slots", "trp_temp_array_a", 0, "$g_tournament_num_participants_for_fight"),
        (try_for_range, ":var1", 0, 4),
          (troop_set_slot, "trp_temp_array_b", ":var1", ":var1"),
        (try_end),
        (call_script, "script_shuffle_troop_slots", "trp_temp_array_b", 0, 4),
        (assign, ":var2", 0),
        (try_for_range, ":var3", 0, "$g_tournament_next_num_teams"),
          (troop_get_slot, ":var4", "trp_temp_array_b", ":var3"),
          (try_for_range, ":var1", 0, 8),
            (troop_set_slot, "trp_temp_array_c", ":var1", ":var1"),
          (try_end),
          (call_script, "script_shuffle_troop_slots", "trp_temp_array_c", 0, 8),
          (try_for_range, ":var5", 0, "$g_tournament_next_team_size"),
            (store_mul, ":var6", ":var4", 8),
            (troop_get_slot, ":var7", "trp_temp_array_c", ":var5"),
            (val_add, ":var6", ":var7"),
            (troop_get_slot, ":var8", "trp_temp_array_a", ":var2"),
            (set_visitor, ":var6", ":var8"),
            (val_add, ":var2", 1),
          (try_end),
        (try_end),
        (assign, "$g_tournament_next_num_teams", 0),
        (assign, "$g_tournament_next_team_size", 0),
        (assign, "$g_mt_mode", 3),
        (party_get_slot, ":var9", "$current_town", 61),
        (assign, ":var10", 0),
        (assign, ":var11", "p_castle_1"),
        (try_for_range, ":var12", "p_town_1", ":var11"),
          (try_begin),
            (eq, ":var12", "$current_town"),
            (assign, ":var11", 0),
          (else_try),
            (party_slot_eq, ":var12", 61, ":var9"),
            (val_add, ":var10", 1),
          (try_end),
        (try_end),
        (set_jump_mission, "mt_arena_melee_fight"),
        (try_begin),
          (eq, ":var9", "fac_kingdom_1"),
          (call_script, "script_set_items_for_tournament", 40, 50, 50, 20, 40, 0, 30, 30, "itm_arena_armor_red", "itm_tourney_helm_red"),
        (else_try),
          (eq, ":var9", "fac_kingdom_2"),
          (call_script, "script_set_items_for_tournament", 30, 30, 85, 20, 100, 0, 0, 50, "itm_arena_armor_red", "itm_steppe_helmet_red"),
        (else_try),
          (eq, ":var9", "fac_kingdom_3"),
          (store_mod, ":var13", ":var10", 2),
          (try_begin),
            (eq, ":var13", 0),
            (call_script, "script_set_items_for_tournament", 70, 80, 50, 0, 60, 0, 20, 0, "itm_arena_tunic_red", "itm_steppe_helmet_red"),
          (else_try),
            (eq, ":var13", 1),
            (call_script, "script_set_items_for_tournament", 50, 50, 60, 0, 30, 0, 50, 0, "itm_arena_tunic_red", "itm_steppe_helmet_red"),
          (try_end),
        (else_try),
          (eq, ":var9", "fac_kingdom_4"),
          (call_script, "script_set_items_for_tournament", 30, 30, 85, 20, 100, 0, 0, 50, "itm_arena_armor_red", -1),
        (else_try),
          (eq, ":var9", "fac_kingdom_5"),
          (call_script, "script_set_items_for_tournament", 50, 0, 60, 50, 100, 80, 0, 0, "itm_arena_tunic_red", "itm_arena_helmet_red"),
        (else_try),
          (eq, ":var9", "fac_kingdom_6"),
          (call_script, "script_set_items_for_tournament", 60, 40, 60, 50, 100, 0, 30, 0, "itm_arena_tunic_red", "itm_arena_turban_red"),
        (else_try),
          (eq, ":var9", "fac_kingdom_7"),
          (call_script, "script_set_items_for_tournament", 30, 20, 40, 50, 100, 100, 0, 50, "itm_arena_tunic_red", "itm_arena_helmet_red"),
        (else_try),
          (eq, ":var9", "fac_kingdom_8"),
          (call_script, "script_set_items_for_tournament", 30, 0, 80, 0, 100, 0, 100, 50, "itm_arena_tunic_red", "itm_arena_helmet_red"),
        (else_try),
          (eq, ":var9", "fac_kingdom_9"),
          (call_script, "script_set_items_for_tournament", 40, 30, 70, 30, 100, 0, 70, 0, "itm_arena_tunic_red", "itm_arena_helmet_red"),
        (else_try),
          (eq, ":var9", "fac_kingdom_10"),
          (call_script, "script_set_items_for_tournament", 30, 0, 50, 50, 100, 0, 100, 50, "itm_arena_tunic_red", "itm_arena_helmet_red"),
        (else_try),
          (eq, ":var9", "fac_kingdom_11"),
          (call_script, "script_set_items_for_tournament", 100, 100, 0, 0, 0, 0, 0, 0, "itm_arena_tunic_red", "itm_arena_helmet_red"),
        (else_try),
          (eq, ":var9", "fac_kingdom_12"),
          (call_script, "script_set_items_for_tournament", 30, 50, 75, 0, 50, 0, 40, 30, "itm_arena_tunic_red", "itm_arena_helmet_red"),
        (else_try),
          (eq, ":var9", "fac_kingdom_13"),
          (call_script, "script_set_items_for_tournament", 20, 100, 70, 30, 100, 0, 0, 0, "itm_arena_tunic_red", "itm_arena_helmet_red"),
        (else_try),
          (eq, ":var9", "fac_kingdom_14"),
          (call_script, "script_set_items_for_tournament", 70, 100, 60, 40, 100, 0, 0, 0, "itm_arena_tunic_red", "itm_arena_helmet_red"),
        (else_try),
          (eq, ":var9", "fac_kingdom_15"),
          (call_script, "script_set_items_for_tournament", 30, 0, 50, 50, 100, 0, 100, 50, "itm_arena_tunic_red", "itm_arena_helmet_red"),
        (else_try),
          (eq, ":var9", "fac_kingdom_16"),
          (call_script, "script_set_items_for_tournament", 40, 30, 90, 30, 50, 0, 50, 0, "itm_arena_tunic_red", "itm_arena_helmet_red"),
        (else_try),
          (eq, ":var9", "fac_kingdom_17"),
          (call_script, "script_set_items_for_tournament", 30, 50, 75, 60, 0, 0, 0, 50, "itm_arena_tunic_red", "itm_arena_helmet_red"),
        (else_try),
          (eq, ":var9", "fac_kingdom_18"),
          (call_script, "script_set_items_for_tournament", 40, 50, 50, 20, 50, 0, 50, 0, "itm_arena_tunic_red", "itm_arena_helmet_red"),
        (try_end),
        (jump_to_scene, ":var0"),
        (change_screen_mission),
      ]
      ),

      ("leave_tournament",
      [],
      "Withdraw_from_the_tournament.",
      [
        (jump_to_menu, "mnu_tournament_withdraw_verify"),
      ]
      ),
    ],
  ),

  ("tournament_withdraw_verify", 0,
    "Are you sure you want to withdraw from the tournament?",
    "none",
    [],
    [
      ("tournament_withdraw_yes",
      [],
      "Yes._This_is_a_pointless_affectation.",
      [
        (jump_to_menu, "mnu_town_tournament_won_by_another"),
      ]
      ),

      ("tournament_withdraw_no",
      [],
      "No,_not_as_long_as_there_is_a_chance_of_victory!",
      [
        (jump_to_menu, "mnu_town_tournament"),
      ]
      ),
    ],
  ),

  ("tournament_bet", 0,
    "The odds against you are {reg5} to {reg6}.{reg1? You have already bet {reg1} denars on yourself, and if you win, you will earn {reg2} denars.:} How much do you want to bet?",
    "none",
    [
      (assign, reg1, "$g_tournament_bet_placed"),
      (store_add, reg2, "$g_tournament_bet_win_amount", "$g_tournament_bet_placed"),
      (call_script, "script_get_win_amount_for_tournament_bet"),
      (assign, ":var0", reg0),
      (assign, ":var1", 100000),
      (assign, ":var2", 1),
      (assign, ":var3", 1),
      (try_for_range, ":var4", 1, 50),
        (try_for_range, ":var5", 1, 50),
          (store_mul, ":var6", 100, ":var4"),
          (val_div, ":var6", ":var5"),
          (store_sub, ":var7", ":var0", ":var6"),
          (val_abs, ":var7"),
          (lt, ":var7", ":var1"),
          (assign, ":var1", ":var7"),
          (assign, ":var2", ":var5"),
          (assign, ":var3", ":var4"),
        (try_end),
      (try_end),
      (assign, reg5, ":var3"),
      (assign, reg6, ":var2"),
    ],
    [
      ("bet_250_denars",
      [
        (store_troop_gold, ":var0", "trp_player"),
        (ge, ":var0", 250),
      ],
      "250_denars.",
      [
        (assign, "$temp", 250),
        (jump_to_menu, "mnu_tournament_bet_confirm"),
      ]
      ),

      ("bet_100_denars",
      [
        (store_troop_gold, ":var0", "trp_player"),
        (ge, ":var0", 100),
      ],
      "100_denars.",
      [
        (assign, "$temp", 100),
        (jump_to_menu, "mnu_tournament_bet_confirm"),
      ]
      ),

      ("bet_50_denars",
      [
        (store_troop_gold, ":var0", "trp_player"),
        (ge, ":var0", 50),
      ],
      "50_denars.",
      [
        (assign, "$temp", 50),
        (jump_to_menu, "mnu_tournament_bet_confirm"),
      ]
      ),

      ("bet_20_denars",
      [
        (store_troop_gold, ":var0", "trp_player"),
        (ge, ":var0", 20),
      ],
      "20_denars.",
      [
        (assign, "$temp", 20),
        (jump_to_menu, "mnu_tournament_bet_confirm"),
      ]
      ),

      ("bet_10_denars",
      [
        (store_troop_gold, ":var0", "trp_player"),
        (ge, ":var0", 10),
      ],
      "10_denars.",
      [
        (assign, "$temp", 10),
        (jump_to_menu, "mnu_tournament_bet_confirm"),
      ]
      ),

      ("bet_5_denars",
      [
        (store_troop_gold, ":var0", "trp_player"),
        (ge, ":var0", 5),
      ],
      "5_denars.",
      [
        (assign, "$temp", 5),
        (jump_to_menu, "mnu_tournament_bet_confirm"),
      ]
      ),

      ("go_back_dot",
      [],
      "Go_back.",
      [
        (jump_to_menu, "mnu_town_tournament"),
      ]
      ),
    ],
  ),

  ("tournament_bet_confirm", 0,
    "If you bet {reg1} denars, you will earn {reg2} denars if you win the tournament. Is that all right?",
    "none",
    [
      (call_script, "script_get_win_amount_for_tournament_bet"),
      (assign, ":var0", reg0),
      (val_mul, ":var0", "$temp"),
      (val_div, ":var0", 100),
      (assign, reg1, "$temp"),
      (assign, reg2, ":var0"),
    ],
    [
      ("tournament_bet_accept",
      [],
      "Go_ahead.",
      [
        (call_script, "script_tournament_place_bet", "$temp"),
        (jump_to_menu, "mnu_town_tournament"),
      ]
      ),

      ("tournament_bet_cancel",
      [],
      "Forget_it.",
      [
        (jump_to_menu, "mnu_tournament_bet"),
      ]
      ),
    ],
  ),

  ("tournament_participants", 0,
    "You ask one of the criers for the names of the tournament participants. They are:^{s11}",
    "none",
    [
      (str_clear, s11),
      (call_script, "script_sort_tournament_participant_troops"),
      (call_script, "script_get_num_tournament_participants"),
      (assign, ":var0", reg0),
      (try_for_range, ":var1", 0, ":var0"),
        (troop_get_slot, ":var2", "trp_tournament_participants", ":var1"),
        (str_store_troop_name, s12, ":var2"),
        (str_store_string, s11, "@{!}{s11}^{s12}"),
      (try_end),
    ],
    [
      ("go_back_dot",
      [],
      "Go_back.",
      [
        (jump_to_menu, "mnu_town_tournament"),
      ]
      ),
    ],
  ),

  ("collect_taxes", mnf_disable_all_keys,
    "As the party member with the highest trade skill ({reg2}), {reg3?you expect:{s1} expects} that collecting taxes from here will take {reg4} days...",
    "none",
    [
      (call_script, "script_get_max_skill_of_player_party", "skl_trade"),
      (assign, ":var0", reg0),
      (assign, reg2, reg0),
      (assign, ":var1", reg1),
      (try_begin),
        (eq, ":var1", "trp_player"),
        (assign, reg3, 1),
      (else_try),
        (assign, reg3, 0),
        (str_store_troop_name, s1, ":var1"),
      (try_end),
      (assign, ":var2", 3000),
      (try_begin),
        (party_slot_eq, "$current_town", 0, 3),
        (assign, ":var2", 6000),
      (try_end),
      (try_begin),
        (quest_slot_eq, "qst_collect_taxes", 11, 0),
        (store_add, ":var3", ":var0", 30),
        (try_begin),
          (party_slot_eq, "$current_town", 0, 3),
          (store_div, "$qst_collect_taxes_total_hours", 5040, ":var3"),
        (else_try),
          (store_div, "$qst_collect_taxes_total_hours", 2160, ":var3"),
        (try_end),
        (call_script, "script_party_count_fit_for_battle", "p_main_party"),
        (val_add, reg0, 20),
        (val_mul, "$qst_collect_taxes_total_hours", 20),
        (val_div, "$qst_collect_taxes_total_hours", reg0),
        (quest_set_slot, "qst_collect_taxes", 10, "$qst_collect_taxes_total_hours"),
        (store_div, ":var4", "$qst_collect_taxes_total_hours", 20),
        (store_div, ":var5", "$qst_collect_taxes_total_hours", 4),
        (assign, ":var6", ":var5"),
        (store_mul, ":var7", "$qst_collect_taxes_total_hours", 3),
        (val_div, ":var7", 4),
        (val_mul, ":var2", 2),
        (store_div, "$qst_collect_taxes_hourly_income", ":var2", "$qst_collect_taxes_total_hours"),
        (store_random_in_range, "$qst_collect_taxes_menu_counter", ":var4", ":var5"),
        (store_random_in_range, "$qst_collect_taxes_unrest_counter", ":var6", ":var7"),
        (assign, "$qst_collect_taxes_halve_taxes", 0),
      (try_end),
      (quest_get_slot, ":var8", "qst_collect_taxes", 10),
      (store_div, ":var9", ":var8", 24),
      (val_mul, ":var9", 24),
      (try_begin),
        (lt, ":var9", ":var8"),
        (val_add, ":var9", 24),
      (try_end),
      (val_div, ":var9", 24),
      (assign, reg4, ":var9"),
    ],
    [
      ("start_collecting",
      [],
      "Start_collecting.",
      [
        (assign, "$qst_collect_taxes_currently_collecting", 1),
        (try_begin),
          (quest_slot_eq, "qst_collect_taxes", 11, 0),
          (quest_set_slot, "qst_collect_taxes", 11, 1),
        (try_end),
        (rest_for_hours_interactive, 100, "$g_warsword_wait_multiplier", 0),
        (assign, "$auto_enter_town", "$current_town"),
        (assign, "$g_town_visit_after_rest", 1),
        (change_screen_return),
      ]
      ),

      ("collect_later",
      [],
      "Put_it_off_until_later.",
      [
        (try_begin),
          (party_slot_eq, "$current_town", 0, 3),
          (jump_to_menu, "mnu_town"),
        (else_try),
          (jump_to_menu, "mnu_village"),
        (try_end),
      ]
      ),
    ],
  ),

  ("collect_taxes_complete", mnf_disable_all_keys,
    "You've collected {reg3} denars in taxes from {s3}. {s19} will be expecting you to take the money to {reg4?her:him}.",
    "none",
    [
      (str_store_party_name, s3, "$current_town"),
      (quest_get_slot, ":var0", "qst_collect_taxes", 6),
      (str_store_troop_name, s19, ":var0"),
      (try_begin),
        (eq, "$qst_collect_taxes_halve_taxes", 0),
        (call_script, "script_change_player_relation_with_center", "$current_town", -2),
      (try_end),
      (call_script, "script_succeed_quest", "qst_collect_taxes"),
      (try_begin),
        (call_script, "script_get_max_skill_of_player_party", "skl_trade"),
        (neq, reg1, "trp_player"),
        (call_script, "script_change_troop_renown", reg1, 3),
      (try_end),
      (quest_get_slot, reg3, "qst_collect_taxes", 22),
      (call_script, "script_dplmc_store_troop_is_female_reg", ":var0", 4),
    ],
    [
      ("continue",
      [],
      "Continue...",
      [
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("collect_taxes_rebels_killed", 0,
    "Your quick action and strong arm have successfully put down the revolt. Surely, anyone with a mind to rebel against you will think better of it after this.",
    "none",
    [],
    [
      ("continue",
      [],
      "Continue...",
      [
        (change_screen_map),
      ]
      ),
    ],
  ),

  ("collect_taxes_failed", mnf_disable_all_keys,
    "You could collect only {reg3} denars as tax from {s3} before the revolt broke out. {s1} won't be happy, but some silver will placate {reg4?her:him} better than nothing at all...",
    "none",
    [
      (try_begin),
        (eq, "$character_gender", 0),
        (set_background_mesh, "mesh_pic_escape_1"),
      (else_try),
        (eq, "$character_gender", 0),
        (set_background_mesh, "mesh_pic_escape_1_fem"),
      (try_end),
      (str_store_party_name, s3, "$current_town"),
      (quest_get_slot, ":var0", "qst_collect_taxes", 6),
      (call_script, "script_dplmc_store_troop_is_female", ":var0"),
      (assign, reg4, reg0),
      (str_store_troop_name, s1, ":var0"),
      (quest_get_slot, reg3, "qst_collect_taxes", 22),
      (call_script, "script_fail_quest", "qst_collect_taxes"),
      (quest_set_slot, "qst_collect_taxes", 11, 4),
      (rest_for_hours, 0, "$g_warsword_wait_multiplier", 0),
    ],
    [
      ("continue",
      [],
      "Continue...",
      [
        (change_screen_map),
      ]
      ),
    ],
  ),

  ("collect_taxes_revolt_warning", 0,
    "The people of {s3} are outraged at your demands and decry it as nothing more than extortion. They're getting very restless, and they may react badly if you keep pressing them.",
    "none",
    [
      (str_store_party_name, s3, "$current_town"),
    ],
    [
      ("continue_collecting_taxes",
      [],
      "Ignore_them_and_continue.",
      [
        (change_screen_return),
      ]
      ),

      ("halve_taxes",
      [
        (quest_get_slot, ":var0", "qst_collect_taxes", 6),
        (str_store_troop_name, s1, ":var0"),
      ],
      "Agree_to_reduce_your_collection_by_half._({s1}_may_be_upset)",
      [
        (assign, "$qst_collect_taxes_halve_taxes", 1),
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("collect_taxes_revolt", 0,
    "You are interrupted while collecting the taxes at {s3}. A large band of angry {reg9?peasants:townsmen} is marching nearer, shouting about the exorbitant taxes and waving torches and weapons. It looks like they aim to fight you!",
    "none",
    [
      (str_store_party_name, s3, "$current_town"),
      (try_begin),
        (party_slot_eq, "$current_town", 0, 4),
        (assign, reg9, 1),
        (set_background_mesh, "mesh_pic_villageriot"),
      (else_try),
        (set_background_mesh, "mesh_pic_townriot"),
        (assign, reg9, 0),
      (try_end),
    ],
    [
      ("continue",
      [],
      "Continue...",
      [
        (set_jump_mission, "mt_back_alley_revolt"),
        (quest_get_slot, ":var0", "qst_collect_taxes", 1),
        (try_begin),
          (party_slot_eq, ":var0", 0, 3),
          (party_get_slot, ":var1", ":var0", 17),
        (else_try),
          (party_get_slot, ":var1", ":var0", 10),
        (try_end),
        (modify_visitors_at_site, ":var1"),
        (reset_visitors),
        (assign, ":var2", 6),
        (store_character_level, ":var3", "trp_player"),
        (val_div, ":var3", 5),
        (val_add, ":var2", ":var3"),
        (set_visitors, 1, "trp_tax_rebel", ":var2"),
        (jump_to_scene, ":var1"),
        (change_screen_mission),
      ]
      ),
    ],
  ),

  ("train_peasants_against_bandits", 0,
    "As the party member with the highest training skill ({reg2}), {reg3?you expect:{s1} expects} that getting some peasants ready for practice will take {reg4} hours.",
    "none",
    [
      (call_script, "script_get_max_skill_of_player_party", "skl_trainer"),
      (assign, ":var0", reg0),
      (assign, reg2, reg0),
      (assign, ":var1", reg1),
      (try_begin),
        (eq, ":var1", "trp_player"),
        (assign, reg3, 1),
      (else_try),
        (assign, reg3, 0),
        (str_store_troop_name, s1, ":var1"),
      (try_end),
      (store_sub, ":var2", 20, ":var0"),
      (val_mul, ":var2", 3),
      (val_div, ":var2", 5),
      (store_sub, reg4, ":var2", "$qst_train_peasants_against_bandits_num_hours_trained"),
    ],
    [
      ("make_preparation",
      [],
      "Train_them.",
      [
        (assign, "$qst_train_peasants_against_bandits_currently_training", 1),
        (rest_for_hours_interactive, 100, "$g_warsword_wait_multiplier", 0),
        (assign, "$auto_enter_town", "$current_town"),
        (assign, "$g_town_visit_after_rest", 1),
        (change_screen_return),
      ]
      ),

      ("train_later",
      [],
      "Put_it_off_until_later.",
      [
        (jump_to_menu, "mnu_village"),
      ]
      ),
    ],
  ),

  ("train_peasants_against_bandits_ready", 0,
    "You put the peasants through the basics of soldiering, discipline and obedience. You think {reg0} of them {reg1?have:has} fully grasped the training and {reg1?are:is} ready for some practice.",
    "none",
    [
      (store_character_level, ":var0", "trp_player"),
      (val_div, ":var0", 10),
      (val_add, ":var0", 1),
      (quest_get_slot, ":var1", "qst_train_peasants_against_bandits", 10),
      (quest_get_slot, ":var2", "qst_train_peasants_against_bandits", 11),
      (val_sub, ":var1", ":var2"),
      (assign, ":var3", ":var0"),
      (val_min, ":var3", ":var1"),
      (val_add, ":var3", 1),
      (store_random_in_range, ":var4", 1, ":var3"),
      (assign, "$g_train_peasants_against_bandits_num_peasants", ":var4"),
      (assign, reg0, ":var4"),
      (store_sub, reg1, ":var4", 1),
      (str_store_troop_name_by_count, s0, "trp_trainee_peasant", ":var4"),
    ],
    [
      ("peasant_start_practice",
      [],
      "Start_the_practice_fight.",
      [
        (set_jump_mission, "mt_village_training"),
        (quest_get_slot, ":var0", "qst_train_peasants_against_bandits", 1),
        (party_get_slot, ":var1", ":var0", 10),
        (modify_visitors_at_site, ":var1"),
        (reset_visitors),
        (set_visitor, 0, "trp_player"),
        (set_visitors, 1, "trp_trainee_peasant", "$g_train_peasants_against_bandits_num_peasants"),
        (set_jump_entry, 11),
        (jump_to_scene, ":var1"),
        (jump_to_menu, "mnu_train_peasants_against_bandits_training_result"),
        (music_set_situation, 0),
        (change_screen_mission),
      ]
      ),
    ],
  ),

  ("train_peasants_against_bandits_training_result", mnf_disable_all_keys,
    "{s0}",
    "none",
    [
      (assign, reg5, "$g_train_peasants_against_bandits_num_peasants"),
      (str_store_troop_name_by_count, s0, "trp_trainee_peasant", "$g_train_peasants_against_bandits_num_peasants"),
      (try_begin),
        (eq, "$g_train_peasants_against_bandits_training_succeeded", 0),
        (str_store_string, s0, "@You were beaten. The peasants are heartened by their success, but the lesson you wanted to teach them probably didn't get through..."),
      (else_try),
        (str_store_string, s0, "@After beating your last opponent, you explain to the peasants how to better defend themselves against such an attack. Hopefully they'll take the experience on board and will be prepared next time."),
        (quest_get_slot, ":var0", "qst_train_peasants_against_bandits", 11),
        (val_add, ":var0", "$g_train_peasants_against_bandits_num_peasants"),
        (quest_set_slot, "qst_train_peasants_against_bandits", 11, ":var0"),
      (try_end),
    ],
    [
      ("continue",
      [],
      "Continue...",
      [
        (try_begin),
          (quest_get_slot, ":var0", "qst_train_peasants_against_bandits", 11),
          (quest_slot_eq, "qst_train_peasants_against_bandits", 10, ":var0"),
          (jump_to_menu, "mnu_train_peasants_against_bandits_attack"),
        (else_try),
          (change_screen_map),
        (try_end),
      ]
      ),
    ],
  ),

  ("train_peasants_against_bandits_attack", 0,
    "As you get ready to continue the training, a sentry from the village runs up to you, shouting alarums. The bandits have been spotted on the horizon, riding hard for {s3}. The elder begs that you organize your newly-trained militia and face them.",
    "none",
    [
      (str_store_party_name, s3, "$current_town"),
    ],
    [
      ("peasants_against_bandits_attack_resist",
      [],
      "Prepare_for_a_fight!",
      [
        (store_random_in_range, ":var0", 0, 3),
        (try_begin),
          (eq, ":var0", 0),
          (assign, ":var1", "trp_looter"),
        (else_try),
          (eq, ":var0", 1),
          (assign, ":var1", "trp_cut_throat"),
        (else_try),
          (assign, ":var1", "trp_looter_goblin"),
        (try_end),
        (party_get_slot, ":var2", "$g_encountered_party", 10),
        (modify_visitors_at_site, ":var2"),
        (reset_visitors),
        (store_character_level, ":var3", "trp_player"),
        (val_div, ":var3", 2),
        (store_add, ":var4", ":var3", 16),
        (store_add, ":var5", ":var4", 6),
        (store_random_in_range, ":var0", ":var4", ":var5"),
        (set_visitors, 0, ":var1", ":var0"),
        (assign, ":var6", ":var5"),
        (set_visitors, 2, "trp_trainee_peasant", ":var6"),
        (set_party_battle_mode),
        (set_battle_advantage, 0),
        (assign, "$g_battle_result", 0),
        (set_jump_mission, "mt_village_attack_bandits"),
        (jump_to_scene, ":var2"),
        (assign, "$g_next_menu", "mnu_train_peasants_against_bandits_attack_result"),
        (jump_to_menu, "mnu_battle_debrief"),
        (assign, "$g_mt_mode", 2),
        (change_screen_mission),
      ]
      ),
    ],
  ),

  ("train_peasants_against_bandits_attack_result", mnf_disable_all_keys|mnf_scale_picture,
    "{s9}",
    "none",
    [
      (try_begin),
        (eq, "$g_battle_result", 1),
        (str_store_string, s9, "@The bandits are broken! Those few who remain alive and conscious run off with their tails between their legs, terrified of the peasants and their new champion."),
        (call_script, "script_succeed_quest", "qst_train_peasants_against_bandits"),
        (jump_to_menu, "mnu_train_peasants_against_bandits_success"),
      (else_try),
        (call_script, "script_fail_quest", "qst_train_peasants_against_bandits"),
        (str_store_string, s9, "@Try as you might, you could not defeat the bandits. Infuriated, they raze the village to the ground to punish the peasants, and then leave the burning wasteland behind to find greener pastures to plunder."),
        (set_background_mesh, "mesh_pic_looted_village"),
      (try_end),
    ],
    [
      ("continue",
      [],
      "Continue...",
      [
        (try_begin),
          (call_script, "script_village_set_state", "$current_town", 2),
          (party_set_slot, "$current_town", 36, 0),
          (party_set_slot, "$current_town", 37, 0),
          (call_script, "script_change_player_relation_with_center", "$g_encountered_party", -3),
          (call_script, "script_end_quest", "qst_train_peasants_against_bandits"),
        (try_end),
        (change_screen_map),
      ]
      ),
    ],
  ),

  ("train_peasants_against_bandits_success", mnf_disable_all_keys,
    "The bandits are broken! Those few who remain run off with their tails between their legs, terrified of the peasants and their new champion. The villagers have little left in the way of wealth after their ordeal, but they offer you all they can find to show their gratitude.",
    "none",
    [
      (party_clear, "p_temp_party"),
      (quest_get_slot, ":var0", "qst_train_peasants_against_bandits", 10),
      (store_faction_of_party, ":var1", "$current_town"),
      (faction_get_slot, ":var2", ":var1", 41),
      (party_add_members, "$current_town", ":var2", ":var0"),
      (party_remove_members, "$current_town", "trp_farmer", ":var0"),
      (call_script, "script_end_quest", "qst_train_peasants_against_bandits"),
      (call_script, "script_change_player_relation_with_center", "$current_town", 4),
      (party_get_slot, ":var3", "$current_town", 25),
      (try_for_range, ":var4", 10, 106),
        (store_random_in_range, ":var5", 0, 100),
        (lt, ":var5", 50),
        (troop_set_inventory_slot, ":var3", ":var4", -1),
      (try_end),
      (call_script, "script_add_log_entry", 4, "trp_player", "$current_town", -1, -1),
      (set_background_mesh, "mesh_pic_mb_warrior_3"),
    ],
    [
      ("village_bandits_defeated_accept",
      [],
      "Take_it_as_your_just_due.",
      [
        (jump_to_menu, "mnu_auto_return_to_map"),
        (party_get_slot, ":var0", "$current_town", 25),
        (troop_sort_inventory, ":var0"),
        (change_screen_loot, ":var0"),
      ]
      ),

      ("village_bandits_defeated_cont",
      [],
      "Refuse,_stating_that_they_need_these_items_more_than_you_do.",
      [
        (call_script, "script_change_player_relation_with_center", "$g_encountered_party", 3),
        (try_begin),
          (eq, "$disposition", 1),
          (call_script, "script_change_player_honor", 1),
        (try_end),
        (change_screen_map),
      ]
      ),
    ],
  ),

  ("disembark", 0,
    "Do you wish to disembark?",
    "none",
    [],
    [
      ("disembark_yes",
      [],
      "Yes.",
      [
        (assign, "$g_player_icon_state", 0),
        (party_set_flags, "p_main_party", pf_is_ship, 0),
        (party_set_slot, "p_main_party", 330, 1),
        (party_set_slot, "p_main_party", 333, 0),
        (party_get_position, pos1, "p_main_party"),
        (party_set_position, "p_main_party", pos0),
        (try_begin),
          (gt, "$g_main_ship_party", "p_reserved_5"),
          (party_is_active, "$g_main_ship_party"),
          (party_get_template_id, ":var0", "$g_main_ship_party"),
          (eq, ":var0", "pt_none"),
          (disable_party, "$g_main_ship_party"),
        (try_end),
        (set_spawn_radius, 0),
        (spawn_around_party, "p_main_party", "pt_none"),
        (assign, "$g_main_ship_party", reg0),
        (party_set_flags, "$g_main_ship_party", pf_village|pf_is_ship, 1),
        (str_store_troop_name, s1, "trp_player"),
        (party_set_name, "$g_main_ship_party", "@{s1}'s Ship"),
        (party_set_slot, "$g_main_ship_party", 0, 16),
        (party_get_position, pos3, "$g_main_ship_party"),
        (position_get_x, ":var1", pos3),
        (position_get_y, ":var2", pos3),
        (party_set_slot, "$g_main_ship_party", 331, ":var1"),
        (party_set_slot, "$g_main_ship_party", 332, ":var2"),
        (enable_party, "$g_main_ship_party"),
        (party_set_position, "$g_main_ship_party", pos0),
        (party_set_icon, "$g_main_ship_party", "icon_ship_on_land"),
        (change_screen_return),
      ]
      ),

      ("disembark_no",
      [],
      "No.",
      [
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("ship_reembark", 0,
    "Do you wish to embark?",
    "none",
    [],
    [
      ("reembark_yes",
      [],
      "Yes.",
      [
        (assign, "$g_player_icon_state", 2),
        (party_set_flags, "p_main_party", pf_is_ship, 1),
        (party_set_slot, "p_main_party", 333, 1),
        (party_set_slot, "p_main_party", 330, 1),
        (party_get_position, pos1, "p_main_party"),
        (map_get_water_position_around_position, pos2, pos1, 6),
        (party_set_position, "p_main_party", pos2),
        (party_set_flags, "$g_main_ship_party", pf_village, 0),
        (party_set_icon, "$g_main_ship_party", "icon_camp"),
        (disable_party, "$g_main_ship_party"),
        (remove_party, "$g_main_ship_party"),
        (try_for_parties, ":var0"),
          (gt, ":var0", "p_reserved_5"),
          (party_get_current_terrain, ":var1", ":var0"),
          (party_get_template_id, ":var2", ":var0"),
          (party_get_slot, ":var3", ":var0", 0),
          (try_begin),
            (eq, ":var3", 16),
            (party_get_icon, ":var4", ":var0"),
            (eq, ":var4", "icon_ship_on_land"),
            (assign, ":var5", 1),
            (try_begin),
              (this_or_next|eq, ":var2", "pt_sea_traders"),
              (this_or_next|eq, ":var2", "pt_sea_raiders_ships"),
              (this_or_next|eq, ":var2", "pt_raiders_ships"),
              (eq, ":var2", "pt_pirate_ships"),
              (assign, ":var5", 0),
            (try_end),
            (try_begin),
              (this_or_next|eq, ":var1", 8),
              (eq, ":var1", 0),
              (assign, ":var5", 0),
            (try_end),
            (eq, ":var5", 1),
            (disable_party, ":var0"),
            (remove_party, ":var0"),
          (try_end),
        (try_end),
        (assign, "$g_main_ship_party", -1),
        (change_screen_return),
      ]
      ),

      ("reembark_no",
      [],
      "No.",
      [
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("center_reports", 0,
    "Town Name: {s1}^Rent Income: {reg1} denars^Tariff Income: {reg2} denars^Food Stock: for {reg3} days",
    "none",
    [
      (party_get_slot, ":var0", "$g_encountered_party", 53),
      (call_script, "script_center_get_food_consumption", "$g_encountered_party"),
      (assign, ":var1", reg0),
      (try_begin),
        (gt, ":var1", 0),
        (store_div, reg3, ":var0", ":var1"),
      (else_try),
        (assign, reg3, 9999),
      (try_end),
      (str_store_party_name, s1, "$g_encountered_party"),
      (party_get_slot, reg1, "$g_encountered_party", 47),
      (party_get_slot, reg2, "$g_encountered_party", 48),
    ],
    [
      ("to_price_and_productions",
      [],
      "Show_prices_and_productions.",
      [
        (jump_to_menu, "mnu_price_and_production"),
      ]
      ),

      ("go_back_dot",
      [],
      "Go_back.",
      [
        (try_begin),
          (party_slot_eq, "$g_encountered_party", 0, 4),
          (jump_to_menu, "mnu_village"),
        (else_try),
          (jump_to_menu, "mnu_town"),
        (try_end),
      ]
      ),
    ],
  ),

  ("price_and_production", 0,
    "Productions are:^(Note: base/modified by raw materials/modified by materials plus prosperity)^{s1}^^Price factors are:^{s2}",
    "none",
    [
      (assign, ":var0", 0),
      (assign, ":var1", 0),
      (try_for_range, ":var2", "p_town_1", "p_castle_1"),
        (call_script, "script_center_get_goods_availability", ":var2"),
        (val_add, ":var0", reg0),
      (try_end),
      (try_for_range, ":var2", "p_village_1", "p_salt_mine"),
        (call_script, "script_center_get_goods_availability", ":var2"),
        (val_add, ":var1", reg0),
      (try_end),
      (val_div, ":var1", 110),
      (val_div, ":var0", 22),
      (call_script, "script_center_get_goods_availability", "$g_encountered_party"),
      (assign, reg1, ":var0"),
      (assign, reg2, ":var1"),
      (try_begin),
        (eq, "$cheat_mode", 3),
        (str_store_string, s1, "str___hardship_index_reg0_avg_towns_reg1_avg_villages_reg2__"),
        (display_message, "@{!}DEBUG - {s1}"),
      (try_end),
      (try_for_range, ":var3", "itm_spice", "itm_siege_supply"),
        (neq, ":var3", "itm_pork"),
        (neq, ":var3", "itm_chicken"),
        (neq, ":var3", "itm_butter"),
        (neq, ":var3", "itm_cattle_meat"),
        (neq, ":var3", "itm_cabbages"),
        (call_script, "script_center_get_production", "$g_encountered_party", ":var3"),
        (assign, ":var4", reg0),
        (assign, ":var5", reg2),
        (assign, ":var6", reg1),
        (call_script, "script_center_get_consumption", "$g_encountered_party", ":var3"),
        (assign, ":var7", reg2),
        (assign, ":var8", reg1),
        (assign, ":var9", reg0),
        (store_sub, ":var10", ":var3", "itm_spice"),
        (val_add, ":var10", 260),
        (party_get_slot, ":var11", "$g_encountered_party", ":var10"),
        (assign, ":var12", 0),
        (assign, ":var13", 0),
        (assign, ":var14", 0),
        (assign, ":var15", 0),
        (try_for_range, ":var2", "p_town_1", "p_salt_mine"),
          (neg|is_between, ":var2", "p_castle_1", "p_village_1"),
          (val_add, ":var12", 1),
          (call_script, "script_center_get_production", ":var2", ":var3"),
          (assign, ":var16", reg2),
          (call_script, "script_center_get_consumption", ":var2", ":var3"),
          (store_add, ":var17", reg1, reg2),
          (party_get_slot, ":var18", ":var2", ":var10"),
          (val_add, ":var13", ":var18"),
          (val_add, ":var14", ":var16"),
          (val_add, ":var15", ":var17"),
        (try_end),
        (assign, ":var19", ":var14"),
        (assign, ":var20", ":var15"),
        (val_div, ":var13", ":var12"),
        (val_div, ":var14", ":var12"),
        (val_div, ":var15", ":var12"),
        (str_store_item_name, s3, ":var3"),
        (assign, reg1, ":var5"),
        (assign, reg2, ":var6"),
        (assign, reg3, ":var4"),
        (assign, reg4, ":var11"),
        (assign, reg5, ":var14"),
        (assign, reg6, ":var13"),
        (assign, reg7, ":var7"),
        (assign, reg8, ":var8"),
        (assign, reg9, ":var9"),
        (assign, reg10, ":var15"),
        (item_get_slot, ":var21", ":var3", 14),
        (party_get_slot, ":var22", "$g_encountered_party", ":var21"),
        (assign, reg11, ":var22"),
        (assign, reg12, ":var19"),
        (assign, reg13, ":var20"),
        (item_get_slot, ":var23", ":var3", 15),
        (str_store_string, s4, ":var23"),
        (str_store_string, s1, "str___s3_price_=_reg4_calradian_average_reg6_capital_reg11_s4_base_reg1modified_by_raw_material_reg2modified_by_prosperity_reg3_calradian_average_production_base_reg5_total_reg12_consumed_reg7used_as_raw_material_reg8modified_total_reg9_calradian_consumption_base_reg10_total_reg13s1_"),
      (try_end),
    ],
    [
      ("go_back_dot",
      [],
      "Go_back.",
      [
        (try_begin),
          (party_slot_eq, "$g_encountered_party", 0, 4),
          (jump_to_menu, "mnu_village"),
        (else_try),
          (jump_to_menu, "mnu_town"),
        (try_end),
      ]
      ),
    ],
  ),

  ("town_trade", 0,
    "You head towards the marketplace.",
    "none",
    [],
    [
      ("auto_sell",
      [],
      "Sell_items_automatically.",
      [
        (assign, "$g_next_menu", "mnu_town"),
        (jump_to_menu, "mnu_dplmc_trade_auto_sell_begin"),
      ]
      ),

      ("auto_buy_food",
      [],
      "Buy_food_automatically.",
      [
        (assign, "$g_next_menu", "mnu_town"),
        (jump_to_menu, "mnu_dplmc_trade_auto_buy_food_begin"),
      ]
      ),

      ("assess_prices",
      [
        (store_faction_of_party, ":var0", "$current_town"),
        (store_relation, ":var1", ":var0", "fac_player_supporters_faction"),
        (ge, ":var1", 0),
      ],
      "Assess_the_local_prices.",
      [
        (jump_to_menu, "mnu_town_trade_assessment_begin"),
      ]
      ),

      ("trade_with_arms_merchant",
      [
        (party_slot_ge, "$current_town", 21, 1),
      ],
      "Trade_with_the_arms_merchant.",
      [
        (party_get_slot, ":var0", "$current_town", 21),
        (assign, "$g_talk_troop", ":var0"),
        (try_begin),
          (this_or_next|key_is_down, key_left_shift),
          (key_is_down, key_right_shift),
          (call_script, "script_start_town_conversation", 21, 10),
        (else_try),
          (store_random_in_range, ":var1", "snd_draw_sword", "snd_put_back_other"),
          (play_sound, ":var1"),
          (troop_set_slot, ":var0", 5, 1),
          (change_screen_trade, ":var0"),
        (try_end),
      ]
      ),

      ("trade_with_armor_merchant",
      [
        (party_slot_ge, "$current_town", 22, 1),
      ],
      "Trade_with_the_armor_merchant.",
      [
        (party_get_slot, ":var0", "$current_town", 22),
        (assign, "$g_talk_troop", ":var0"),
        (try_begin),
          (this_or_next|key_is_down, key_left_shift),
          (key_is_down, key_right_shift),
          (call_script, "script_start_town_conversation", 22, 9),
        (else_try),
          (play_sound, "snd_distant_blacksmith"),
          (troop_set_slot, ":var0", 5, 1),
          (change_screen_trade, ":var0"),
        (try_end),
      ]
      ),

      ("trade_with_horse_merchant",
      [
        (party_slot_ge, "$current_town", 24, 1),
      ],
      "Trade_with_the_horse_merchant.",
      [
        (party_get_slot, ":var0", "$current_town", 24),
        (try_begin),
          (this_or_next|key_is_down, key_left_shift),
          (key_is_down, key_right_shift),
          (call_script, "script_start_town_conversation", 24, 12),
        (else_try),
          (play_sound, "snd_neigh"),
          (troop_set_slot, ":var0", 5, 1),
          (change_screen_trade, ":var0"),
        (try_end),
      ]
      ),

      ("trade_with_goods_merchant",
      [
        (party_slot_ge, "$current_town", 23, 1),
      ],
      "Trade_with_the_goods_merchant.",
      [
        (party_get_slot, ":var0", "$current_town", 23),
        (assign, "$g_talk_troop", ":var0"),
        (try_begin),
          (this_or_next|key_is_down, key_left_shift),
          (key_is_down, key_right_shift),
          (call_script, "script_start_town_conversation", 23, 9),
        (else_try),
          (store_random_in_range, ":var1", "snd_distant_dog_bark", "snd_distant_blacksmith"),
          (play_sound, ":var1"),
          (troop_set_slot, ":var0", 5, 1),
          (change_screen_trade, ":var0"),
        (try_end),
      ]
      ),

      ("back_to_town_menu",
      [],
      "Head_back.",
      [
        (jump_to_menu, "mnu_town"),
      ]
      ),
    ],
  ),

  ("dplmc_trade_auto_sell_begin", 0,
    "Items in your inventory whose type is marked as sellable and whose prices are below {reg1} denars will be sold to the {reg2?appropriate merchants:elder} in the current {reg2?town:village} automatically.  Specifically food, trade goods, and books will never be sold. ^^You can change some settings here freely.",
    "none",
    [
      (this_or_next|is_between, "$current_town", "p_town_1", "p_castle_1"),
      (is_between, "$current_town", "p_village_1", "p_salt_mine"),
      (call_script, "script_dplmc_initialize_autoloot", 0),
      (assign, reg1, "$g_dplmc_auto_sell_price_limit"),
      (assign, reg2, 0),
      (try_begin),
        (is_between, "$current_town", "p_town_1", "p_castle_1"),
        (assign, reg2, 1),
      (try_end),
    ],
    [
      ("continue",
      [],
      "Continue...",
      [
        (call_script, "script_dplmc_player_auto_sell_at_center", "$current_town"),
        (jump_to_menu, "$g_next_menu"),
      ]
      ),

      ("change_settings",
      [],
      "Change_settings.",
      [
        (start_presentation, "prsnt_dplmc_auto_sell_options"),
      ]
      ),

      ("go_back",
      [],
      "Go_back",
      [
        (jump_to_menu, "$g_next_menu"),
      ]
      ),
    ],
  ),

  ("dplmc_trade_auto_buy_food_begin", 0,
    "You will automatically buy food according to your shopping list. Do you want to continue?^^You can view and configure the shopping list here.",
    "none",
    [],
    [
      ("continue",
      [
        (assign, ":var0", -1),
        (try_begin),
          (is_between, "$current_town", "p_town_1", "p_castle_1"),
          (party_get_slot, ":var0", "$current_town", 23),
        (else_try),
          (is_between, "$current_town", "p_village_1", "p_salt_mine"),
          (party_get_slot, ":var0", "$current_town", 25),
        (try_end),
        (ge, ":var0", 1),
      ],
      "Continue...",
      [
        (assign, ":var0", -1),
        (try_begin),
          (is_between, "$current_town", "p_town_1", "p_castle_1"),
          (party_get_slot, ":var0", "$current_town", 23),
        (else_try),
          (is_between, "$current_town", "p_village_1", "p_salt_mine"),
          (party_get_slot, ":var0", "$current_town", 25),
        (try_end),
        (call_script, "script_dplmc_auto_buy_food", "trp_player", ":var0"),
        (jump_to_menu, "$g_next_menu"),
      ]
      ),

      ("dplmc_change_shopping_list_of_food",
      [],
      "Configure_your_shopping_list.",
      [
        (start_presentation, "prsnt_dplmc_shopping_list_of_food"),
      ]
      ),

      ("go_back",
      [],
      "Go_back",
      [
        (jump_to_menu, "$g_next_menu"),
      ]
      ),
    ],
  ),

  ("town_trade_assessment_begin", 0,
    "You overhear several discussions about the price of trade goods across the local area.^You listen closely, trying to work out the best deals around.",
    "none",
    [
      (str_clear, s42),
    ],
    [
      ("continue",
      [],
      "Continue...",
      [
        (assign, "$auto_enter_town", "$current_town"),
        (assign, "$g_town_assess_trade_goods_after_rest", 1),
        (call_script, "script_get_max_skill_of_player_party", "skl_trade"),
        (val_div, reg0, 2),
        (store_sub, ":var0", 6, reg0),
        (assign, "$g_last_rest_center", "$current_town"),
        (assign, "$g_last_rest_payment_until", -1),
        (rest_for_hours, ":var0", "$g_warsword_wait_multiplier", 0),
        (change_screen_return),
      ]
      ),

      ("go_back_dot",
      [],
      "Go_back.",
      [
        (jump_to_menu, "mnu_town_trade"),
      ]
      ),
    ],
  ),

  ("town_trade_assessment", mnf_disable_all_keys,
    "As the party member with the highest trade skill ({reg2}), {reg3?you try to figure out:{s1} tries to figure out} the best goods to trade in. {s2}",
    "none",
    [
      (call_script, "script_get_max_skill_of_player_party", "skl_trade"),
      (assign, ":var0", reg0),
      (assign, ":var1", reg1),
      (assign, ":var2", 0),
      (assign, ":var3", -1),
      (assign, ":var4", -1),
      (assign, ":var5", 0),
      (assign, ":var6", -1),
      (assign, ":var7", -1),
      (assign, ":var8", 0),
      (assign, ":var9", -1),
      (assign, ":var10", -1),
      (assign, ":var11", 0),
      (assign, ":var12", -1),
      (assign, ":var13", -1),
      (assign, ":var14", 0),
      (assign, ":var15", -1),
      (assign, ":var16", -1),
      (assign, ":var17", 0),
      (store_sub, ":var18", "p_village_1", "p_town_1"),
      (store_sub, ":var19", "itm_siege_supply", "itm_spice"),
      (store_mul, ":var20", ":var18", ":var19"),
      (val_mul, ":var20", ":var0"),
      (val_div, ":var20", 20),
      (assign, ":var21", "$g_encountered_party"),
      (try_for_range, ":var22", 0, ":var20"),
        (store_random_in_range, ":var23", "itm_spice", "itm_siege_supply"),
        (store_random_in_range, ":var24", "p_town_1", "p_castle_1"),
        (party_get_slot, ":var25", ":var21", 23),
        (assign, ":var26", 0),
        (try_for_range, ":var27", 10, 106),
          (troop_get_inventory_slot, ":var28", ":var25", ":var27"),
          (try_begin),
            (eq, ":var28", ":var23"),
            (val_add, ":var26", 1),
          (try_end),
        (try_end),
        (ge, ":var26", 1),
        (assign, ":var29", 0),
        (try_begin),
          (eq, ":var23", ":var3"),
          (eq, ":var24", ":var4"),
          (val_add, ":var29", 1),
        (try_end),
        (try_begin),
          (eq, ":var23", ":var6"),
          (eq, ":var24", ":var7"),
          (val_add, ":var29", 1),
        (try_end),
        (try_begin),
          (eq, ":var23", ":var9"),
          (eq, ":var24", ":var10"),
          (val_add, ":var29", 1),
        (try_end),
        (try_begin),
          (eq, ":var23", ":var12"),
          (eq, ":var24", ":var13"),
          (val_add, ":var29", 1),
        (try_end),
        (try_begin),
          (eq, ":var23", ":var15"),
          (eq, ":var24", ":var16"),
          (val_add, ":var29", 1),
        (try_end),
        (le, ":var29", 1),
        (store_item_value, ":var30", ":var23"),
        (assign, "$g_encountered_party", ":var21"),
        (call_script, "script_game_get_item_buy_price_factor", ":var23"),
        (store_mul, ":var31", ":var30", reg0),
        (val_div, ":var31", 100),
        (val_max, ":var31", 1),
        (assign, "$g_encountered_party", ":var24"),
        (call_script, "script_game_get_item_sell_price_factor", ":var23"),
        (store_mul, ":var32", ":var30", reg0),
        (val_div, ":var32", 100),
        (val_max, ":var32", 1),
        (store_sub, ":var33", ":var32", ":var31"),
        (try_begin),
          (this_or_next|eq, ":var3", ":var23"),
          (this_or_next|eq, ":var6", ":var23"),
          (this_or_next|eq, ":var9", ":var23"),
          (this_or_next|eq, ":var12", ":var23"),
          (eq, ":var15", ":var23"),
          (try_begin),
            (eq, ":var3", ":var23"),
            (gt, ":var33", ":var5"),
            (assign, ":var3", ":var23"),
            (assign, ":var4", ":var24"),
            (assign, ":var5", ":var33"),
          (else_try),
            (eq, ":var6", ":var23"),
            (gt, ":var33", ":var8"),
            (assign, ":var6", ":var23"),
            (assign, ":var7", ":var24"),
            (assign, ":var8", ":var33"),
          (else_try),
            (eq, ":var9", ":var23"),
            (gt, ":var33", ":var11"),
            (assign, ":var9", ":var23"),
            (assign, ":var10", ":var24"),
            (assign, ":var11", ":var33"),
          (else_try),
            (eq, ":var12", ":var23"),
            (gt, ":var33", ":var14"),
            (assign, ":var12", ":var23"),
            (assign, ":var13", ":var24"),
            (assign, ":var14", ":var33"),
          (else_try),
            (eq, ":var15", ":var23"),
            (gt, ":var33", ":var17"),
            (assign, ":var15", ":var23"),
            (assign, ":var16", ":var24"),
            (assign, ":var17", ":var33"),
          (try_end),
        (else_try),
          (try_begin),
            (gt, ":var33", ":var5"),
            (val_add, ":var2", 1),
            (val_min, ":var2", 5),
            (assign, ":var15", ":var12"),
            (assign, ":var16", ":var13"),
            (assign, ":var17", ":var14"),
            (assign, ":var12", ":var9"),
            (assign, ":var13", ":var10"),
            (assign, ":var14", ":var11"),
            (assign, ":var9", ":var6"),
            (assign, ":var10", ":var7"),
            (assign, ":var11", ":var8"),
            (assign, ":var6", ":var3"),
            (assign, ":var7", ":var4"),
            (assign, ":var8", ":var5"),
            (assign, ":var3", ":var23"),
            (assign, ":var4", ":var24"),
            (assign, ":var5", ":var33"),
          (else_try),
            (gt, ":var33", ":var8"),
            (val_add, ":var2", 1),
            (val_min, ":var2", 5),
            (assign, ":var15", ":var12"),
            (assign, ":var16", ":var13"),
            (assign, ":var17", ":var14"),
            (assign, ":var12", ":var9"),
            (assign, ":var13", ":var10"),
            (assign, ":var14", ":var11"),
            (assign, ":var9", ":var6"),
            (assign, ":var10", ":var7"),
            (assign, ":var11", ":var8"),
            (assign, ":var6", ":var23"),
            (assign, ":var7", ":var24"),
            (assign, ":var8", ":var33"),
          (else_try),
            (gt, ":var33", ":var11"),
            (val_add, ":var2", 1),
            (val_min, ":var2", 5),
            (assign, ":var15", ":var12"),
            (assign, ":var16", ":var13"),
            (assign, ":var17", ":var14"),
            (assign, ":var12", ":var9"),
            (assign, ":var13", ":var10"),
            (assign, ":var14", ":var11"),
            (assign, ":var9", ":var23"),
            (assign, ":var10", ":var24"),
            (assign, ":var11", ":var33"),
          (else_try),
            (gt, ":var33", ":var14"),
            (val_add, ":var2", 1),
            (val_min, ":var2", 5),
            (assign, ":var15", ":var12"),
            (assign, ":var16", ":var13"),
            (assign, ":var17", ":var14"),
            (assign, ":var12", ":var23"),
            (assign, ":var13", ":var24"),
            (assign, ":var14", ":var33"),
          (else_try),
            (gt, ":var33", ":var17"),
            (val_add, ":var2", 1),
            (val_min, ":var2", 5),
            (assign, ":var15", ":var12"),
            (assign, ":var16", ":var13"),
            (assign, ":var17", ":var14"),
          (try_end),
        (try_end),
      (try_end),
      (assign, "$g_encountered_party", ":var21"),
      (str_clear, s3),
      (assign, reg2, ":var0"),
      (try_begin),
        (eq, ":var1", "trp_player"),
        (assign, reg3, 1),
      (else_try),
        (assign, reg3, 0),
        (str_store_troop_name, s1, ":var1"),
      (try_end),
      (try_begin),
        (le, ":var2", 0),
        (str_store_string, s2, "@However, {reg3?You are:{s1} is} unable to find any trade goods that would bring a profit."),
      (else_try),
        (try_begin),
          (call_script, "script_get_max_skill_of_player_party", "skl_trade"),
          (neq, reg1, "trp_player"),
          (call_script, "script_change_troop_renown", reg1, 1),
        (try_end),
        (try_begin),
          (ge, ":var15", 0),
          (assign, reg6, ":var17"),
          (str_store_item_name, s4, ":var15"),
          (str_store_party_name, s5, ":var16"),
          (str_store_string, s3, "@^Buying {s4} here and selling it at {s5} would bring a profit of {reg6} denars per item.{s3}"),
        (try_end),
        (try_begin),
          (ge, ":var12", 0),
          (assign, reg6, ":var14"),
          (str_store_item_name, s4, ":var12"),
          (str_store_party_name, s5, ":var13"),
          (str_store_string, s3, "@^Buying {s4} here and selling it at {s5} would bring a profit of {reg6} denars per item.{s3}"),
        (try_end),
        (try_begin),
          (ge, ":var9", 0),
          (assign, reg6, ":var11"),
          (str_store_item_name, s4, ":var9"),
          (str_store_party_name, s5, ":var10"),
          (str_store_string, s3, "@^Buying {s4} here and selling it at {s5} would bring a profit of {reg6} denars per item.{s3}"),
        (try_end),
        (try_begin),
          (ge, ":var6", 0),
          (assign, reg6, ":var8"),
          (str_store_item_name, s4, ":var6"),
          (str_store_party_name, s5, ":var7"),
          (str_store_string, s3, "@^Buying {s4} here and selling it at {s5} would bring a profit of {reg6} denars per item.{s3}"),
        (try_end),
        (try_begin),
          (ge, ":var3", 0),
          (assign, reg6, ":var5"),
          (str_store_item_name, s4, ":var3"),
          (str_store_party_name, s5, ":var4"),
          (str_store_string, s3, "@^Buying {s4} here and selling it at {s5} would bring a profit of {reg6} denars per item.{s3}"),
        (try_end),
        (str_store_string, s2, "@{reg3?You find:{s1} finds} out the following:^{s3}"),
      (try_end),
    ],
    [
      ("continue",
      [],
      "Continue...",
      [
        (jump_to_menu, "mnu_town_trade"),
      ]
      ),
    ],
  ),

  ("sneak_into_town_suceeded", 0,
    "You fool the guards and make your way into the town.",
    "none",
    [
      (assign, ":var0", 0),
      (try_begin),
        (gt, "$cheat_mode", 0),
        (assign, ":var0", 1),
      (try_end),
      (assign, reg1, ":var0"),
      (call_script, "script_get_disguise_string", "$sneaked_into_town", 1),
    ],
    [
      ("continue",
      [],
      "Continue...",
      [
        (jump_to_menu, "mnu_town"),
      ]
      ),
    ],
  ),

  ("sneak_into_town_caught", 0,
    "As you try to sneak in, one of the guards recognizes you and raises the alarm! You must flee back through the gates before all the guards in the town come down on you!",
    "none",
    [
      (assign, "$auto_menu", "mnu_captivity_start_castle_surrender"),
    ],
    [
      ("sneak_caught_fight",
      [],
      "Try_to_fight_your_way_out!",
      [
        (assign, "$all_doors_locked", 1),
        (party_get_slot, ":var0", "$current_town", 10),
        (modify_visitors_at_site, ":var0"),
        (reset_visitors),
        (set_jump_mission, "mt_sneak_caught_fight"),
        (try_begin),
          (this_or_next|eq, "$talk_context", 19),
          (eq, "$talk_context", 18),
          (assign, ":var1", 7),
        (else_try),
          (party_slot_eq, "$current_town", 0, 3),
          (assign, ":var1", 0),
        (else_try),
          (assign, ":var1", 1),
        (try_end),
        (try_begin),
          (gt, "$sneaked_into_town", 0),
          (assign, ":var2", 511),
          (mission_tpl_entry_set_override_flags, "mt_sneak_caught_fight", ":var1", ":var2"),
          (try_begin),
            (eq, "$sneaked_into_town", 64),
            (call_script, "script_cf_set_disguise_override_items", "mt_sneak_caught_fight", ":var1", 1),
          (try_end),
        (try_end),
        (set_jump_entry, ":var1"),
        (set_passage_menu, "mnu_town"),
        (jump_to_scene, ":var0"),
        (change_screen_mission),
      ]
      ),

      ("sneak_caught_surrender",
      [],
      "Surrender.",
      [
        (jump_to_menu, "mnu_captivity_start_castle_surrender"),
      ]
      ),
    ],
  ),

  ("sneak_into_town_caught_dispersed_guards", 0,
    "You drive off the guards and cover your trail before running off, easily losing your pursuers in the maze of streets.",
    "none",
    [
      (set_fixed_point_multiplier, 100),
      (init_position, pos0),
      (try_begin),
        (neq, "$sneaked_into_town", 0),
        (position_set_x, pos0, 60),
        (position_set_y, pos0, 20),
        (position_set_z, pos0, 100),
        (set_game_menu_tableau_mesh, "tableau_game_inventory_window", "trp_player", pos0),
      (try_end),
    ],
    [
      ("continue",
      [],
      "Continue...",
      [
        (try_begin),
          (eq, "$sneaked_into_town", 0),
          (assign, "$sneaked_into_town", 1),
        (try_end),
        (assign, "$town_entered", 1),
        (jump_to_menu, "mnu_town"),
      ]
      ),
    ],
  ),

  ("sneak_into_town_caught_ran_away", 0,
    "You make your way back through the gates and quickly retreat to the safety of the countryside.{s11}",
    "none",
    [
      (str_clear, s11),
      (assign, ":var0", 0),
      (assign, ":var1", "trp_heroes_end"),
      (try_for_range, ":var2", "trp_npc1", ":var1"),
        (try_begin),
          (troop_slot_eq, ":var2", 149, 4),
          (assign, "$talk_context", 8),
          (assign, reg14, ":var2"),
          (call_script, "script_setup_troop_meeting", ":var2", -1),
          (troop_set_slot, ":var2", 149, -1),
          (troop_get_slot, ":var3", ":var2", 8),
          (party_remove_prisoners, ":var3", ":var2", 1),
          (troop_set_slot, ":var2", 8, -1),
          (assign, ":var1", -1),
        (else_try),
          (troop_slot_eq, ":var2", 149, 5),
          (str_store_troop_name, s12, ":var2"),
          (try_begin),
            (eq, ":var0", 0),
            (str_store_string, s11, "str_s11_unfortunately_s12_was_wounded_and_had_to_be_left_behind"),
          (else_try),
            (str_store_string, s11, "str_s11_also_s12_was_wounded_and_had_to_be_left_behind"),
          (try_end),
          (assign, ":var0", 1),
        (try_end),
        (troop_set_slot, ":var2", 149, 0),
      (try_end),
    ],
    [
      ("continue",
      [],
      "Continue...",
      [
        (assign, "$auto_menu", -1),
        (store_encountered_party, "$last_sneak_attempt_town"),
        (store_current_hours, "$last_sneak_attempt_time"),
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("enemy_offer_ransom_for_prisoner", 0,
    "{s2} offers you a sum of {reg12} denars in silver if you are willing to sell them {s1}.",
    "none",
    [
      (call_script, "script_calculate_ransom_amount_for_troop", "$g_ransom_offer_troop"),
      (assign, reg12, reg0),
      (str_store_troop_name, s1, "$g_ransom_offer_troop"),
      (store_faction_of_troop, ":var0", "$g_ransom_offer_troop"),
      (str_store_faction_name, s2, ":var0"),
      (set_fixed_point_multiplier, 100),
      (position_set_x, pos0, 70),
      (position_set_y, pos0, 5),
      (position_set_z, pos0, 75),
      (set_game_menu_tableau_mesh, "tableau_troop_note_mesh", "$g_ransom_offer_troop", pos0),
    ],
    [
      ("ransom_accept",
      [],
      "Accept_the_offer.",
      [
        (try_begin),
          (gt, "$g_player_chamberlain", 0),
          (call_script, "script_dplmc_pay_into_treasury", reg12),
        (else_try),
          (troop_add_gold, "trp_player", reg12),
        (try_end),
        (assign, ":var0", reg12),
        (assign, ":var1", "$g_ransom_offer_troop"),
        (store_faction_of_troop, ":var2", "$g_ransom_offer_troop"),
        (try_begin),
          (is_between, "$g_ransom_offer_troop", "trp_knight_1_1_wife", "trp_heroes_end"),
          (neg|troop_slot_eq, "$g_ransom_offer_troop", 2, 2),
          (neg|troop_slot_ge, "$g_ransom_offer_troop", 11, 1),
          (try_begin),
            (troop_get_slot, ":var3", "$g_ransom_offer_troop", 30),
            (this_or_next|is_between, ":var3", "trp_npc1", "trp_knight_1_1_wife"),
            (troop_slot_eq, ":var3", 2, 2),
            (store_faction_of_troop, ":var4", ":var3"),
            (eq, ":var2", ":var4"),
            (neg|troop_slot_ge, ":var3", 2, 11),
            (assign, ":var1", ":var3"),
          (else_try),
            (troop_get_slot, ":var3", "$g_ransom_offer_troop", 31),
            (this_or_next|is_between, ":var3", "trp_npc1", "trp_knight_1_1_wife"),
            (troop_slot_eq, ":var3", 2, 2),
            (store_faction_of_troop, ":var4", ":var3"),
            (eq, ":var2", ":var4"),
            (neg|troop_slot_ge, ":var3", 2, 11),
            (assign, ":var1", ":var3"),
          (else_try),
            (troop_get_slot, ":var3", "$g_ransom_offer_troop", 33),
            (this_or_next|is_between, ":var3", "trp_npc1", "trp_knight_1_1_wife"),
            (troop_slot_eq, ":var3", 2, 2),
            (store_faction_of_troop, ":var4", ":var3"),
            (eq, ":var2", ":var4"),
            (neg|troop_slot_ge, ":var3", 2, 11),
            (assign, ":var1", ":var3"),
          (else_try),
            (troop_get_slot, ":var3", "$g_ransom_offer_troop", 32),
            (this_or_next|is_between, ":var3", "trp_npc1", "trp_knight_1_1_wife"),
            (troop_slot_eq, ":var3", 2, 2),
            (store_faction_of_troop, ":var4", ":var3"),
            (eq, ":var2", ":var4"),
            (neg|troop_slot_ge, ":var3", 2, 11),
            (assign, ":var1", ":var3"),
          (try_end),
          (call_script, "script_get_kingdom_lady_social_determinants", "$g_ransom_offer_troop"),
          (assign, ":var5", reg1),
          (troop_set_slot, "$g_ransom_offer_troop", 12, ":var5"),
        (try_end),
        (try_begin),
          (ge, ":var0", 0),
          (ge, ":var1", 1),
          (troop_is_hero, ":var1"),
          (game_get_reduce_campaign_ai, ":var6"),
          (try_begin),
            (eq, ":var6", 0),
            (val_div, ":var0", 2),
          (else_try),
            (eq, ":var6", 1),
            (val_mul, ":var0", 3),
            (val_div, ":var0", 4),
          (try_end),
          (call_script, "script_dplmc_remove_gold_from_lord_and_holdings", ":var0", ":var1"),
        (try_end),
        (party_remove_prisoners, "$g_ransom_offer_party", "$g_ransom_offer_troop", 1),
        (call_script, "script_remove_troop_from_prison", "$g_ransom_offer_troop"),
        (change_screen_return),
      ]
      ),

      ("ransom_reject",
      [],
      "Reject_the_offer.",
      [
        (call_script, "script_change_player_relation_with_troop", "$g_ransom_offer_troop", -4),
        (try_begin),
          (eq, "$disposition", 1),
          (call_script, "script_change_player_honor", -1),
        (try_end),
        (assign, "$g_ransom_offer_rejected", 1),
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("training_ground", 0,
    "You approach a training field where you can practice your martial skills. What kind of training do you want to do?",
    "none",
    [
      (store_add, "$g_training_ground_melee_training_scene", "scn_training_ground_ranged_melee_1", "$g_encountered_party"),
      (val_sub, "$g_training_ground_melee_training_scene", "p_training_ground_1"),
      (try_begin),
        (ge, "$g_training_ground_training_count", 3),
        (assign, "$g_training_ground_training_count", 0),
        (rest_for_hours, 1, "$g_warsword_wait_multiplier", 1),
        (assign, "$auto_enter_town", "$g_encountered_party"),
        (change_screen_return),
      (try_end),
    ],
    [
      ("camp_trainer",
      [],
      "Speak_with_the_trainer.",
      [
        (set_jump_mission, "mt_training_ground_trainer_talk"),
        (modify_visitors_at_site, "$g_training_ground_melee_training_scene"),
        (reset_visitors),
        (set_jump_entry, 5),
        (jump_to_scene, "$g_training_ground_melee_training_scene"),
        (change_screen_mission),
        (music_set_situation, 0),
      ]
      ),

      ("camp_train_melee",
      [
        (neg|troop_is_wounded, "trp_player"),
        (call_script, "script_party_count_fit_for_battle", "p_main_party"),
        (gt, reg0, 1),
      ],
      "Sparring_practice.",
      [
        (assign, "$g_mt_mode", 1),
        (jump_to_menu, "mnu_training_ground_selection_details_melee_1"),
        (music_set_situation, 0),
      ]
      ),

      ("camp_train_archery",
      [],
      "Ranged_weapon_practice.",
      [
        (jump_to_menu, "mnu_training_ground_selection_details_ranged_1"),
        (music_set_situation, 0),
      ]
      ),

      ("go_to_track",
      [
        (eq, "$cheat_mode", 1),
      ],
      "{!}Cheat:_Go_to_track.",
      [
        (set_jump_mission, "mt_ai_training"),
        (store_add, ":var0", "scn_training_ground_horse_track_1", "$g_encountered_party"),
        (val_sub, ":var0", "p_training_ground_1"),
        (jump_to_scene, ":var0"),
        (change_screen_mission),
      ]
      ),

      ("go_to_range",
      [
        (eq, "$cheat_mode", 1),
      ],
      "{!}Cheat:_Go_to_range.",
      [
        (set_jump_mission, "mt_ai_training"),
        (jump_to_scene, "$g_training_ground_melee_training_scene"),
        (change_screen_mission),
      ]
      ),

      ("leave",
      [],
      "Leave.",
      [
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("training_ground_selection_details_melee_1", 0,
    "How many opponents will you go against?",
    "none",
    [
      (call_script, "script_write_fit_party_members_to_stack_selection", "p_main_party", 1),
      (troop_get_slot, "$temp", "trp_stack_selection_amounts", 1),
      (assign, "$temp_2", 1),
    ],
    [
      ("camp_train_melee_num_men_1",
      [
        (ge, "$temp", 1),
      ],
      "One.",
      [
        (assign, "$temp", 1),
        (jump_to_menu, "mnu_training_ground_selection_details_melee_2"),
      ]
      ),

      ("camp_train_melee_num_men_2",
      [
        (ge, "$temp", 2),
      ],
      "Two.",
      [
        (assign, "$temp", 2),
        (jump_to_menu, "mnu_training_ground_selection_details_melee_2"),
      ]
      ),

      ("camp_train_melee_num_men_3",
      [
        (ge, "$temp", 3),
      ],
      "Three.",
      [
        (assign, "$temp", 3),
        (jump_to_menu, "mnu_training_ground_selection_details_melee_2"),
      ]
      ),

      ("camp_train_melee_num_men_4",
      [
        (ge, "$temp", 4),
      ],
      "Four.",
      [
        (assign, "$temp", 4),
        (jump_to_menu, "mnu_training_ground_selection_details_melee_2"),
      ]
      ),

      ("go_back_dot",
      [],
      "Cancel.",
      [
        (jump_to_menu, "mnu_training_ground"),
      ]
      ),
    ],
  ),

  ("training_ground_selection_details_melee_2", 0,
    "Choose your opponent #{reg1}:",
    "none",
    [
      (assign, reg1, "$temp_2"),
      (troop_get_slot, "$temp_3", "trp_stack_selection_amounts", 0),
    ],
    [
      ("s0",
      [
        (call_script, "script_cf_training_ground_sub_routine_1_for_melee_details", 1),
      ],
      "{s0}",
      [
        (call_script, "script_training_ground_sub_routine_2_for_melee_details", 1),
      ]
      ),

      ("s0",
      [
        (call_script, "script_cf_training_ground_sub_routine_1_for_melee_details", 2),
      ],
      "{s0}",
      [
        (call_script, "script_training_ground_sub_routine_2_for_melee_details", 2),
      ]
      ),

      ("s0",
      [
        (call_script, "script_cf_training_ground_sub_routine_1_for_melee_details", 3),
      ],
      "{s0}",
      [
        (call_script, "script_training_ground_sub_routine_2_for_melee_details", 3),
      ]
      ),

      ("s0",
      [
        (call_script, "script_cf_training_ground_sub_routine_1_for_melee_details", 4),
      ],
      "{s0}",
      [
        (call_script, "script_training_ground_sub_routine_2_for_melee_details", 4),
      ]
      ),

      ("s0",
      [
        (call_script, "script_cf_training_ground_sub_routine_1_for_melee_details", 5),
      ],
      "{s0}",
      [
        (call_script, "script_training_ground_sub_routine_2_for_melee_details", 5),
      ]
      ),

      ("s0",
      [
        (call_script, "script_cf_training_ground_sub_routine_1_for_melee_details", 6),
      ],
      "{s0}",
      [
        (call_script, "script_training_ground_sub_routine_2_for_melee_details", 6),
      ]
      ),

      ("s0",
      [
        (call_script, "script_cf_training_ground_sub_routine_1_for_melee_details", 7),
      ],
      "{s0}",
      [
        (call_script, "script_training_ground_sub_routine_2_for_melee_details", 7),
      ]
      ),

      ("s0",
      [
        (call_script, "script_cf_training_ground_sub_routine_1_for_melee_details", 8),
      ],
      "{s0}",
      [
        (call_script, "script_training_ground_sub_routine_2_for_melee_details", 8),
      ]
      ),

      ("s0",
      [
        (call_script, "script_cf_training_ground_sub_routine_1_for_melee_details", 9),
      ],
      "{s0}",
      [
        (call_script, "script_training_ground_sub_routine_2_for_melee_details", 9),
      ]
      ),

      ("s0",
      [
        (call_script, "script_cf_training_ground_sub_routine_1_for_melee_details", 10),
      ],
      "{s0}",
      [
        (call_script, "script_training_ground_sub_routine_2_for_melee_details", 10),
      ]
      ),

      ("s0",
      [
        (call_script, "script_cf_training_ground_sub_routine_1_for_melee_details", 11),
      ],
      "{s0}",
      [
        (call_script, "script_training_ground_sub_routine_2_for_melee_details", 11),
      ]
      ),

      ("s0",
      [
        (call_script, "script_cf_training_ground_sub_routine_1_for_melee_details", 12),
      ],
      "{s0}",
      [
        (call_script, "script_training_ground_sub_routine_2_for_melee_details", 12),
      ]
      ),

      ("s0",
      [
        (call_script, "script_cf_training_ground_sub_routine_1_for_melee_details", 13),
      ],
      "{s0}",
      [
        (call_script, "script_training_ground_sub_routine_2_for_melee_details", 13),
      ]
      ),

      ("s0",
      [
        (call_script, "script_cf_training_ground_sub_routine_1_for_melee_details", 14),
      ],
      "{s0}",
      [
        (call_script, "script_training_ground_sub_routine_2_for_melee_details", 14),
      ]
      ),

      ("s0",
      [
        (call_script, "script_cf_training_ground_sub_routine_1_for_melee_details", 15),
      ],
      "{s0}",
      [
        (call_script, "script_training_ground_sub_routine_2_for_melee_details", 15),
      ]
      ),

      ("s0",
      [
        (call_script, "script_cf_training_ground_sub_routine_1_for_melee_details", 16),
      ],
      "{s0}",
      [
        (call_script, "script_training_ground_sub_routine_2_for_melee_details", 16),
      ]
      ),

      ("s0",
      [
        (call_script, "script_cf_training_ground_sub_routine_1_for_melee_details", 17),
      ],
      "{s0}",
      [
        (call_script, "script_training_ground_sub_routine_2_for_melee_details", 17),
      ]
      ),

      ("s0",
      [
        (call_script, "script_cf_training_ground_sub_routine_1_for_melee_details", 18),
      ],
      "{s0}",
      [
        (call_script, "script_training_ground_sub_routine_2_for_melee_details", 18),
      ]
      ),

      ("s0",
      [
        (call_script, "script_cf_training_ground_sub_routine_1_for_melee_details", 19),
      ],
      "{s0}",
      [
        (call_script, "script_training_ground_sub_routine_2_for_melee_details", 19),
      ]
      ),

      ("s0",
      [
        (call_script, "script_cf_training_ground_sub_routine_1_for_melee_details", 20),
      ],
      "{s0}",
      [
        (call_script, "script_training_ground_sub_routine_2_for_melee_details", 20),
      ]
      ),

      ("training_ground_selection_details_melee_random",
      [],
      "Choose_randomly.",
      [
        (call_script, "script_training_ground_sub_routine_2_for_melee_details", -1),
      ]
      ),

      ("go_back_dot",
      [],
      "Go_back.",
      [
        (jump_to_menu, "mnu_training_ground"),
      ]
      ),
    ],
  ),

  ("training_ground_selection_details_mounted", 0,
    "What kind of weapon do you want to train with?",
    "none",
    [],
    [
      ("camp_train_mounted_details_1",
      [],
      "One_handed_weapon.",
      [
        (call_script, "script_start_training_at_training_ground", 2, 0),
      ]
      ),

      ("camp_train_mounted_details_2",
      [],
      "Polearm.",
      [
        (call_script, "script_start_training_at_training_ground", 4, 0),
      ]
      ),

      ("camp_train_mounted_details_3",
      [],
      "Bow.",
      [
        (call_script, "script_start_training_at_training_ground", 8, 0),
      ]
      ),

      ("camp_train_mounted_details_4",
      [],
      "Thrown_weapon.",
      [
        (call_script, "script_start_training_at_training_ground", 10, 0),
      ]
      ),

      ("go_back_dot",
      [],
      "Go_back.",
      [
        (jump_to_menu, "mnu_training_ground"),
      ]
      ),
    ],
  ),

  ("training_ground_selection_details_ranged_1", 0,
    "What kind of ranged weapon do you want to train with?",
    "none",
    [],
    [
      ("camp_train_ranged_weapon_bow",
      [],
      "Bow_and_arrows.",
      [
        (assign, "$g_mt_mode", 2),
        (assign, "$temp", 8),
        (jump_to_menu, "mnu_training_ground_selection_details_ranged_2"),
      ]
      ),

      ("camp_train_ranged_weapon_crossbow",
      [],
      "Crossbow.",
      [
        (assign, "$g_mt_mode", 2),
        (assign, "$temp", 9),
        (jump_to_menu, "mnu_training_ground_selection_details_ranged_2"),
      ]
      ),

      ("camp_train_ranged_weapon_thrown",
      [],
      "Throwing_Knives.",
      [
        (assign, "$g_mt_mode", 2),
        (assign, "$temp", 10),
        (jump_to_menu, "mnu_training_ground_selection_details_ranged_2"),
      ]
      ),

      ("go_back_dot",
      [],
      "Go_back.",
      [
        (jump_to_menu, "mnu_training_ground"),
      ]
      ),
    ],
  ),

  ("training_ground_selection_details_ranged_2", 0,
    "What range do you want to practice at?",
    "none",
    [],
    [
      ("camp_train_ranged_details_1",
      [],
      "10_yards.",
      [
        (call_script, "script_start_training_at_training_ground", "$temp", 10),
      ]
      ),

      ("camp_train_ranged_details_2",
      [],
      "20_yards.",
      [
        (call_script, "script_start_training_at_training_ground", "$temp", 20),
      ]
      ),

      ("camp_train_ranged_details_3",
      [],
      "30_yards.",
      [
        (call_script, "script_start_training_at_training_ground", "$temp", 30),
      ]
      ),

      ("camp_train_ranged_details_4",
      [],
      "40_yards.",
      [
        (call_script, "script_start_training_at_training_ground", "$temp", 40),
      ]
      ),

      ("camp_train_ranged_details_5",
      [
        (eq, "$g_mt_mode", 2),
      ],
      "50_yards.",
      [
        (call_script, "script_start_training_at_training_ground", "$temp", 50),
      ]
      ),

      ("camp_train_ranged_details_6",
      [
        (eq, "$g_mt_mode", 2),
      ],
      "60_yards.",
      [
        (call_script, "script_start_training_at_training_ground", "$temp", 60),
      ]
      ),

      ("camp_train_ranged_details_7",
      [
        (eq, "$g_mt_mode", 2),
      ],
      "70_yards.",
      [
        (call_script, "script_start_training_at_training_ground", "$temp", 70),
      ]
      ),

      ("go_back_dot",
      [],
      "Go_back.",
      [
        (jump_to_menu, "mnu_training_ground"),
      ]
      ),
    ],
  ),

  ("training_ground_description", 0,
    "{s0}",
    "none",
    [],
    [
      ("continue",
      [],
      "Continue...",
      [
        (jump_to_scene, "$g_training_ground_training_scene"),
        (change_screen_mission),
      ]
      ),
    ],
  ),

  ("training_ground_training_result", mnf_disable_all_keys,
    "{s7}{s2}",
    "none",
    [
      (store_skill_level, ":var0", "skl_trainer", "trp_player"),
      (store_add, ":var1", 5, ":var0"),
      (call_script, "script_write_fit_party_members_to_stack_selection", "p_main_party", 1),
      (str_clear, s2),
      (troop_get_slot, ":var2", "trp_stack_selection_amounts", 1),
      (troop_get_slot, ":var3", "trp_stack_selection_amounts", 0),
      (try_begin),
        (gt, "$g_training_ground_training_success_ratio", 0),
        (store_mul, ":var4", "$g_training_ground_training_success_ratio", "$g_training_ground_training_success_ratio"),
        (try_begin),
          (eq, "$g_training_ground_training_success_ratio", 100),
          (val_mul, ":var4", 2),
        (try_end),
        (try_begin),
          (eq, "$g_mt_mode", 1),
          (val_div, ":var4", 2),
        (try_end),
        (val_div, ":var4", 10),
        (try_begin),
          (gt, ":var2", 8),
          (val_mul, ":var4", 3),
          (assign, ":var5", ":var2"),
          (convert_to_fixed_point, ":var5"),
          (store_sqrt, ":var5", ":var5"),
          (convert_to_fixed_point, ":var4"),
          (val_div, ":var4", ":var5"),
        (try_end),
        (store_mul, ":var6", ":var4", ":var1"),
        (val_div, ":var6", 10),
        (party_get_num_companion_stacks, ":var7", "p_main_party"),
        (store_add, ":var8", ":var3", 2),
        (try_for_range, ":var9", 2, ":var8"),
          (troop_get_slot, ":var10", "trp_stack_selection_amounts", ":var9"),
          (troop_get_slot, ":var11", "trp_stack_selection_ids", ":var9"),
          (assign, ":var12", ":var7"),
          (try_for_range, ":var13", 0, ":var12"),
            (party_stack_get_troop_id, ":var14", "p_main_party", ":var13"),
            (eq, ":var14", ":var11"),
            (assign, ":var12", 0),
            (call_script, "script_cf_training_ground_sub_routine_for_training_result", ":var11", ":var13", ":var10", ":var6"),
            (str_store_troop_name_by_count, s1, ":var11", ":var10"),
            (assign, reg1, ":var10"),
            (str_store_string, s2, "@{s2}^{reg1} {s1} earned {reg0} experience."),
          (try_end),
        (try_end),
        (try_begin),
          (eq, "$g_mt_mode", 1),
          (store_mul, ":var15", ":var4", 3),
          (val_div, ":var15", 2),
          (try_for_range, ":var16", 0, "$g_training_ground_training_num_enemies"),
            (troop_get_slot, ":var11", "trp_temp_array_a", ":var16"),
            (assign, ":var12", ":var7"),
            (try_for_range, ":var13", 0, ":var12"),
              (party_stack_get_troop_id, ":var14", "p_main_party", ":var13"),
              (eq, ":var14", ":var11"),
              (assign, ":var12", 0),
              (call_script, "script_cf_training_ground_sub_routine_for_training_result", ":var11", ":var13", 1, ":var15"),
              (str_store_troop_name, s1, ":var11"),
              (str_store_string, s2, "@{s2}^{s1} earned an additional {reg0} experience."),
            (try_end),
          (try_end),
        (try_end),
        (try_begin),
          (call_script, "script_cf_training_ground_sub_routine_for_training_result", "trp_player", -1, 1, ":var4"),
          (str_store_string, s2, "@^You earned {reg0} experience.{s2}"),
        (try_end),
      (try_end),
      (try_begin),
        (eq, "$g_training_ground_training_success_ratio", 0),
        (str_store_string, s7, "@The training didn't go well at all."),
      (else_try),
        (lt, "$g_training_ground_training_success_ratio", 25),
        (str_store_string, s7, "@The training didn't go well at all."),
      (else_try),
        (lt, "$g_training_ground_training_success_ratio", 50),
        (str_store_string, s7, "@The training didn't go very well."),
      (else_try),
        (lt, "$g_training_ground_training_success_ratio", 75),
        (str_store_string, s7, "@The training went quite well."),
      (else_try),
        (lt, "$g_training_ground_training_success_ratio", 99),
        (str_store_string, s7, "@The training went very well."),
      (else_try),
        (str_store_string, s7, "@The training went perfectly."),
      (try_end),
    ],
    [
      ("continue",
      [],
      "Continue...",
      [
        (jump_to_menu, "mnu_training_ground"),
      ]
      ),
    ],
  ),

  ("marshall_selection_candidate_ask", 0,
    "{s15} will soon select a new marshall for {s23}. Some of the lords have suggested your name as a likely candidate.",
    "none",
    [
      (try_begin),
        (eq, "$g_presentation_marshall_selection_ended", 1),
        (change_screen_return),
      (try_end),
      (faction_get_slot, ":var0", "$players_kingdom", 11),
      (str_store_troop_name, s15, ":var0"),
      (str_store_faction_name, s23, "$players_kingdom"),
    ],
    [
      ("marshall_candidate_accept",
      [],
      "Let_{s15}_learn_that_you_are_willing_to_serve_as_marshall.",
      [
        (start_presentation, "prsnt_marshall_selection"),
      ]
      ),

      ("marshall_candidate_reject",
      [],
      "Tell_everyone_that_you_are_too_busy_these_days.",
      [
        (try_begin),
          (eq, "$g_presentation_marshall_selection_max_renown_2_troop", "trp_player"),
          (assign, "$g_presentation_marshall_selection_max_renown_2", "$g_presentation_marshall_selection_max_renown_3"),
          (assign, "$g_presentation_marshall_selection_max_renown_2_troop", "$g_presentation_marshall_selection_max_renown_3_troop"),
        (else_try),
          (assign, "$g_presentation_marshall_selection_max_renown_1", "$g_presentation_marshall_selection_max_renown_2"),
          (assign, "$g_presentation_marshall_selection_max_renown_1_troop", "$g_presentation_marshall_selection_max_renown_2_troop"),
          (assign, "$g_presentation_marshall_selection_max_renown_2", "$g_presentation_marshall_selection_max_renown_3"),
          (assign, "$g_presentation_marshall_selection_max_renown_2_troop", "$g_presentation_marshall_selection_max_renown_3_troop"),
        (try_end),
        (start_presentation, "prsnt_marshall_selection"),
      ]
      ),
    ],
  ),

  ("captivity_avoid_wilderness", 0,
    "Suddenly all the world goes black around you. Many hours later you regain your conciousness and find yourself at the spot you fell. Your enemies must have taken you up for dead and left you there. However, it seems that none of your wound were lethal, and altough you feel awful, you find out that can still walk. You get up and try to look for any other survivors from your party.",
    "none",
    [],
    [
    ],
    [],
  ),

  ("captivity_start_wilderness", 0,
    "Stub",
    "none",
    [
      (assign, "$g_player_is_captive", 1),
      (try_begin),
        (eq, "$g_player_surrenders", 1),
        (jump_to_menu, "mnu_captivity_start_wilderness_surrender"),
      (else_try),
        (jump_to_menu, "mnu_captivity_start_wilderness_defeat"),
      (try_end),
    ],
    [
    ],
    [],
  ),

  ("captivity_start_wilderness_surrender", 0,
    "Stub",
    "none",
    [
      (assign, "$g_player_is_captive", 1),
      (assign, "$auto_menu", -1),
      (assign, "$capturer_party", "$g_encountered_party"),
      (jump_to_menu, "mnu_captivity_wilderness_taken_prisoner"),
    ],
    [
    ],
    [],
  ),

  ("captivity_start_wilderness_defeat", 0,
    "Your enemies take you prisoner.",
    "none",
    [
      (assign, "$g_player_is_captive", 1),
      (assign, "$auto_menu", -1),
      (assign, "$capturer_party", "$g_encountered_party"),
      (try_begin),
        (party_stack_get_troop_id, ":var0", "$g_encountered_party", 0),
        (is_between, ":var0", "trp_npc1", "trp_knight_1_1_wife"),
        (troop_slot_eq, ":var0", 2, 2),
        (store_sub, ":var1", ":var0", "trp_npc1"),
        (set_achievement_stat, 7, ":var1", 1),
      (try_end),
      (jump_to_menu, "mnu_captivity_wilderness_taken_prisoner"),
    ],
    [
    ],
    [],
  ),

  ("captivity_start_castle_surrender", 0,
    "Stub",
    "none",
    [
      (assign, "$g_player_is_captive", 1),
      (assign, "$auto_menu", -1),
      (assign, "$capturer_party", "$g_encountered_party"),
      (jump_to_menu, "mnu_captivity_castle_taken_prisoner"),
    ],
    [
    ],
    [],
  ),

  ("captivity_start_castle_defeat", 0,
    "Stub",
    "none",
    [
      (assign, "$g_player_is_captive", 1),
      (assign, "$auto_menu", -1),
      (assign, "$capturer_party", "$g_encountered_party"),
      (jump_to_menu, "mnu_captivity_castle_taken_prisoner"),
    ],
    [
    ],
    [],
  ),

  ("captivity_start_under_siege_defeat", 0,
    "Your enemies take you prisoner.",
    "none",
    [
      (assign, "$g_player_is_captive", 1),
      (assign, "$auto_menu", -1),
      (assign, "$capturer_party", "$g_encountered_party"),
      (jump_to_menu, "mnu_captivity_castle_taken_prisoner"),
    ],
    [
    ],
    [],
  ),

  ("captivity_wilderness_taken_prisoner", mnf_scale_picture,
    "Your enemies take you prisoner.",
    "none",
    [
      (try_begin),
        (party_get_current_terrain, ":var0", "$capturer_party"),
        (neq, ":var0", 0),
        (set_background_mesh, "mesh_pic_prisoner_wilderness"),
      (try_end),
    ],
    [
      ("continue",
      [],
      "Continue...",
      [
        (set_camera_follow_party, "$capturer_party"),
        (assign, "$g_player_is_captive", 1),
        (store_random_in_range, ":var0", 18, 30),
        (call_script, "script_event_player_captured_as_prisoner"),
        (call_script, "script_stay_captive_for_hours", ":var0"),
        (assign, "$auto_menu", "mnu_captivity_wilderness_check"),
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("captivity_wilderness_check", 0,
    "stub",
    "none",
    [
      (try_begin),
        (party_get_current_terrain, ":var0", "p_main_party"),
        (eq, ":var0", 0),
        (assign, reg1, 0),
        (try_begin),
          (set_fixed_point_multiplier, 10),
          (party_get_position, pos1, "p_main_party"),
          (map_get_land_position_around_position, pos2, pos1, 10),
          (position_get_x, ":var1", pos2),
          (position_get_y, ":var2", pos2),
          (val_div, ":var1", 10),
          (val_div, ":var2", 10),
          (try_begin),
            (le, ":var1", -98),
            (ge, ":var2", 198),
            (assign, reg1, 1),
          (try_end),
          (eq, reg1, 0),
          (jump_to_menu, "mnu_captivity_end_sea_escape"),
        (else_try),
          (call_script, "script_stay_captive_for_hours", 1),
          (assign, "$auto_menu", "mnu_captivity_wilderness_check"),
          (change_screen_return),
        (try_end),
      (else_try),
        (jump_to_menu, "mnu_captivity_end_wilderness_escape"),
      (try_end),
    ],
    [
    ],
    [],
  ),

  ("captivity_end_sea_escape", mnf_scale_picture,
    "After painful days of being dragged about as a prisoner, you find a chance and escape from your captors!",
    "none",
    [
      (play_cue_track, "track_empty_village"),
    ],
    [
      ("continue",
      [],
      "Continue...",
      [
        (assign, "$g_player_is_captive", 0),
        (assign, "$g_player_icon_state", 0),
        (party_set_flags, "p_main_party", pf_is_ship, 0),
        (try_begin),
          (party_is_active, "$capturer_party"),
          (party_set_position, "p_main_party", pos2),
        (try_end),
        (call_script, "script_set_parties_around_player_ignore_player", 2, 4),
        (assign, "$g_player_icon_state", 0),
        (set_camera_follow_party, "p_main_party"),
        (rest_for_hours, 0, "$g_warsword_wait_multiplier", 0),
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("captivity_end_wilderness_escape", mnf_scale_picture,
    "After painful days of being dragged about as a prisoner, you find a chance and escape from your captors!",
    "none",
    [
      (play_cue_track, "track_escape"),
      (try_begin),
        (eq, "$character_gender", 1),
        (set_background_mesh, "mesh_pic_escape_1_fem"),
      (else_try),
        (set_background_mesh, "mesh_pic_escape_1"),
      (try_end),
    ],
    [
      ("continue",
      [],
      "Continue...",
      [
        (assign, "$g_player_is_captive", 0),
        (try_begin),
          (party_is_active, "$capturer_party"),
          (party_relocate_near_party, "p_main_party", "$capturer_party", 2),
        (try_end),
        (call_script, "script_set_parties_around_player_ignore_player", 8, 12),
        (assign, "$g_player_icon_state", 0),
        (set_camera_follow_party, "p_main_party"),
        (rest_for_hours, 0, "$g_warsword_wait_multiplier", 0),
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("captivity_castle_taken_prisoner", 0,
    "You are quickly surrounded by guards who take away your weapons. With curses and insults, they throw you into the dungeon where you must while away the miserable days of your captivity.",
    "none",
    [
      (try_begin),
        (eq, "$character_gender", 1),
        (set_background_mesh, "mesh_pic_prisoner_fem"),
      (else_try),
        (set_background_mesh, "mesh_pic_prisoner_man"),
      (try_end),
    ],
    [
      ("continue",
      [],
      "Continue...",
      [
        (assign, "$g_player_is_captive", 1),
        (store_random_in_range, ":var0", 16, 22),
        (call_script, "script_event_player_captured_as_prisoner"),
        (call_script, "script_stay_captive_for_hours", ":var0"),
        (assign, "$auto_menu", "mnu_captivity_castle_check"),
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("captivity_rescue_lord_taken_prisoner", 0,
    "You remain in disguise for as long as possible before revealing yourself. The guards are outraged and beat you savagely before throwing you back into the cell for God knows how long...",
    "none",
    [
      (try_begin),
        (eq, "$character_gender", 1),
        (set_background_mesh, "mesh_pic_prisoner_fem"),
      (else_try),
        (set_background_mesh, "mesh_pic_prisoner_man"),
      (try_end),
    ],
    [
      ("continue",
      [],
      "Continue...",
      [
        (assign, "$g_player_is_captive", 1),
        (store_random_in_range, ":var0", 16, 22),
        (call_script, "script_event_player_captured_as_prisoner"),
        (call_script, "script_stay_captive_for_hours", ":var0"),
        (assign, "$auto_menu", "mnu_captivity_castle_check"),
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("captivity_castle_check", 0,
    "stub",
    "none",
    [
      (store_random_in_range, reg7, 0, 10),
      (try_begin),
        (party_is_active, "$capturer_party"),
        (store_faction_of_party, ":var0", "$capturer_party"),
        (is_between, ":var0", "fac_player_supporters_faction", "fac_kingdoms_end"),
        (store_relation, ":var1", ":var0", "fac_player_faction"),
        (ge, ":var1", 0),
        (jump_to_menu, "mnu_captivity_end_exchanged_with_prisoner"),
      (else_try),
        (lt, reg7, 4),
        (store_character_level, ":var2", "trp_player"),
        (store_mul, "$player_ransom_amount", ":var2", 50),
        (val_add, "$player_ransom_amount", 100),
        (store_troop_gold, reg3, "trp_player"),
        (store_div, ":var3", reg3, 20),
        (val_add, "$player_ransom_amount", ":var3"),
        (gt, reg3, "$player_ransom_amount"),
        (jump_to_menu, "mnu_captivity_end_propose_ransom"),
      (else_try),
        (lt, reg7, 7),
        (jump_to_menu, "mnu_captivity_end_exchanged_with_prisoner"),
      (else_try),
        (jump_to_menu, "mnu_captivity_castle_remain"),
      (try_end),
    ],
    [
    ],
    [],
  ),

  ("captivity_end_exchanged_with_prisoner", 0,
    "After days of imprisonment, you are finally set free when your captors exchange you with another prisoner.",
    "none",
    [
      (play_cue_track, "track_escape"),
    ],
    [
      ("continue",
      [],
      "Continue...",
      [
        (assign, "$g_player_is_captive", 0),
        (try_begin),
          (party_is_active, "$capturer_party"),
          (party_relocate_near_party, "p_main_party", "$capturer_party", 2),
        (try_end),
        (call_script, "script_set_parties_around_player_ignore_player", 8, 12),
        (assign, "$g_player_icon_state", 0),
        (set_camera_follow_party, "p_main_party"),
        (rest_for_hours, 0, "$g_warsword_wait_multiplier", 0),
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("captivity_end_propose_ransom", 0,
    "You spend long hours in the sunless dank of the dungeon, more than you can count. Suddenly one of your captors enters your cell with an offer; he proposes to free you in return for {reg5} denars of your hidden wealth. You decide to...",
    "none",
    [
      (assign, reg5, "$player_ransom_amount"),
    ],
    [
      ("captivity_end_ransom_accept",
      [
        (store_troop_gold, ":var0", "trp_player"),
        (ge, ":var0", "$player_ransom_amount"),
      ],
      "Accept_the_offer.",
      [
        (play_cue_track, "track_escape"),
        (assign, "$g_player_is_captive", 0),
        (troop_remove_gold, "trp_player", "$player_ransom_amount"),
        (try_begin),
          (party_is_active, "$capturer_party"),
          (party_relocate_near_party, "p_main_party", "$capturer_party", 1),
        (try_end),
        (call_script, "script_set_parties_around_player_ignore_player", 8, 12),
        (assign, "$g_player_icon_state", 0),
        (set_camera_follow_party, "p_main_party"),
        (rest_for_hours, 0, "$g_warsword_wait_multiplier", 0),
        (change_screen_return),
      ]
      ),

      ("captivity_end_ransom_deny",
      [],
      "Refuse_him,_wait_for_something_better.",
      [
        (assign, "$g_player_is_captive", 1),
        (store_random_in_range, reg8, 16, 22),
        (call_script, "script_stay_captive_for_hours", reg8),
        (assign, "$auto_menu", "mnu_captivity_castle_check"),
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("captivity_castle_remain", mnf_disable_all_keys|mnf_scale_picture,
    "More days pass in the darkness of your cell. You get through them as best you can, enduring the kicks and curses of the guards, watching your underfed body waste away more and more...",
    "none",
    [
      (try_begin),
        (eq, "$character_gender", 1),
        (set_background_mesh, "mesh_pic_prisoner_fem"),
      (else_try),
        (set_background_mesh, "mesh_pic_prisoner_man"),
      (try_end),
      (store_random_in_range, ":var0", 16, 22),
      (call_script, "script_stay_captive_for_hours", ":var0"),
      (assign, "$auto_menu", "mnu_captivity_castle_check"),
    ],
    [
      ("continue",
      [],
      "Continue...",
      [
        (assign, "$g_player_is_captive", 1),
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("kingdom_army_quest_report_to_army", mnf_scale_picture,
    "{s8} sends word that {reg4?she:he} wishes you to join {reg4?her:his} new military campaign. You need to bring at least {reg13} troops to the army, and are instructed to raise more men with all due haste if you do not have enough.",
    "none",
    [
      (set_background_mesh, "mesh_pic_messenger"),
      (quest_get_slot, ":var0", "qst_report_to_army", 2),
      (quest_get_slot, ":var1", "qst_report_to_army", 10),
      (call_script, "script_get_information_about_troops_position", ":var0", 0),
      (str_clear, s9),
      (try_begin),
        (eq, reg0, 1),
        (str_store_string, s9, s1),
      (try_end),
      (str_store_troop_name, s8, ":var0"),
      (assign, reg13, ":var1"),
      (call_script, "script_dplmc_store_troop_is_female_reg", ":var0", 4),
    ],
    [
      ("continue",
      [],
      "Continue...",
      [
        (quest_get_slot, ":var0", "qst_report_to_army", 2),
        (quest_get_slot, ":var1", "qst_report_to_army", 10),
        (str_store_troop_name_link, s13, ":var0"),
        (assign, reg13, ":var1"),
        (setup_quest_text, "qst_report_to_army"),
        (str_store_string, s2, "@{s13} asked you to report to {reg4?her:him} with at least {reg13} troops."),
        (call_script, "script_start_quest", "qst_report_to_army", ":var0"),
        (call_script, "script_report_quest_troop_positions", "qst_report_to_army", ":var0", 3),
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("kingdom_army_quest_messenger", mnf_scale_picture,
    "{s8} sends word that {reg4?she:he} wishes to speak with you about a task {reg4?she:he} needs performed. {reg4?She:He} requests you to come and see {reg4?her:him} as soon as possible.",
    "none",
    [
      (set_background_mesh, "mesh_pic_messenger"),
      (faction_get_slot, ":var0", "$players_kingdom", 8),
      (call_script, "script_dplmc_store_troop_is_female", ":var0"),
      (assign, reg4, reg0),
      (str_store_troop_name, s8, ":var0"),
    ],
    [
      ("continue",
      [],
      "Continue...",
      [
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("kingdom_army_quest_join_siege_order", mnf_scale_picture,
    "{s8} sends word that you are to join the siege of {s9} in preparation for a full assault. Your troops are to take {s9} at all costs.",
    "none",
    [
      (set_background_mesh, "mesh_pic_messenger"),
      (faction_get_slot, ":var0", "$players_kingdom", 8),
      (quest_get_slot, ":var1", "qst_join_siege_with_army", 1),
      (str_store_troop_name, s8, ":var0"),
      (str_store_party_name, s9, ":var1"),
    ],
    [
      ("continue",
      [],
      "Continue...",
      [
        (call_script, "script_end_quest", "qst_follow_army"),
        (quest_get_slot, ":var0", "qst_join_siege_with_army", 1),
        (faction_get_slot, ":var1", "$players_kingdom", 8),
        (str_store_troop_name_link, s13, ":var1"),
        (str_store_party_name_link, s14, ":var0"),
        (setup_quest_text, "qst_join_siege_with_army"),
        (str_store_string, s2, "@{s13} ordered you to join the assault against {s14}."),
        (call_script, "script_start_quest", "qst_join_siege_with_army", ":var1"),
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("kingdom_army_follow_failed", mnf_scale_picture,
    "You have failed to follow {s8}. The marshal assumes that you were otherwise engaged, but would have appreciated your support.",
    "none",
    [
      (set_background_mesh, "mesh_pic_messenger"),
      (faction_get_slot, ":var0", "$players_kingdom", 8),
      (str_store_troop_name, s8, ":var0"),
      (call_script, "script_abort_quest", "qst_follow_army", 1),
    ],
    [
      ("continue",
      [],
      "Continue...",
      [
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("invite_player_to_faction_without_center", mnf_scale_picture,
    "You receive an offer of vassalage!^^ {s8} of {s9} has sent a royal herald to bring you an invititation in {reg4?her:his} own hand. You would be granted the honour of becoming a vassal {lord/lady} of {s9}, and in return {s8} asks you to swear an oath of homage to {reg4?her:him} and fight in {reg4?her:his} military campaigns, although {reg4?she:he} offers you no lands or titles. {reg4?She:He} will surely be offended if you do not take the offer...",
    "none",
    [
      (set_background_mesh, "mesh_pic_messenger"),
      (faction_get_slot, "$g_invite_faction_lord", "$g_invite_faction", 11),
      (call_script, "script_dplmc_store_troop_is_female", "$g_invite_faction_lord"),
      (assign, reg4, reg0),
      (str_store_troop_name, s8, "$g_invite_faction_lord"),
      (str_store_faction_name, s9, "$g_invite_faction"),
    ],
    [
      ("faction_accept",
      [],
      "Accept!",
      [
        (str_store_troop_name, s1, "$g_invite_faction_lord"),
        (setup_quest_text, "qst_join_faction"),
        (str_store_troop_name_link, s3, "$g_invite_faction_lord"),
        (str_store_faction_name_link, s4, "$g_invite_faction"),
        (quest_set_slot, "qst_join_faction", 6, "$g_invite_faction_lord"),
        (quest_set_slot, "qst_join_faction", 23, 30),
        (quest_set_slot, "qst_join_faction", 26, 0),
        (str_store_string, s2, "@Find and speak with {s3} of {s4} to give {reg4?her:him} your oath of homage."),
        (call_script, "script_start_quest", "qst_join_faction", "$g_invite_faction_lord"),
        (call_script, "script_report_quest_troop_positions", "qst_join_faction", "$g_invite_faction_lord", 3),
        (jump_to_menu, "mnu_invite_player_to_faction_accepted"),
      ]
      ),

      ("faction_reject",
      [],
      "Decline_the_invitation.",
      [
        (call_script, "script_change_player_relation_with_troop", "$g_invite_faction_lord", -3),
        (call_script, "script_change_player_relation_with_faction", "$g_invite_faction", -10),
        (assign, "$g_invite_faction", 0),
        (assign, "$g_invite_faction_lord", 0),
        (assign, "$g_invite_offered_center", 0),
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("invite_player_to_faction", mnf_scale_picture,
    "You receive an offer of vassalage!^^ {s8} of {s9} has sent a royal herald to bring you an invititation in {reg4?her:his} own hand. You would be granted the honour of becoming a vassal {lord/lady} of {s9}, and in return {s8} asks you to swear an oath of homage to {reg4?her:him} and fight in {reg4?her:his} military campaigns, offering you the fief of {s2} for your loyal service. {reg4?She:He} will surely be offended if you do not take the offer...",
    "none",
    [
      (set_background_mesh, "mesh_pic_messenger"),
      (faction_get_slot, "$g_invite_faction_lord", "$g_invite_faction", 11),
      (call_script, "script_dplmc_store_troop_is_female", "$g_invite_faction_lord"),
      (assign, reg4, reg0),
      (str_store_troop_name, s8, "$g_invite_faction_lord"),
      (str_store_faction_name, s9, "$g_invite_faction"),
      (str_store_party_name, s2, "$g_invite_offered_center"),
    ],
    [
      ("faction_accept",
      [],
      "Accept!",
      [
        (str_store_troop_name, s1, "$g_invite_faction_lord"),
        (setup_quest_text, "qst_join_faction"),
        (str_store_troop_name_link, s3, "$g_invite_faction_lord"),
        (str_store_faction_name_link, s4, "$g_invite_faction"),
        (quest_set_slot, "qst_join_faction", 6, "$g_invite_faction_lord"),
        (quest_set_slot, "qst_join_faction", 23, 30),
        (str_store_string, s2, "@Find and speak with {s3} of {s4} to give {reg4?her:him} your oath of homage."),
        (call_script, "script_start_quest", "qst_join_faction", "$g_invite_faction_lord"),
        (call_script, "script_report_quest_troop_positions", "qst_join_faction", "$g_invite_faction_lord", 3),
        (jump_to_menu, "mnu_invite_player_to_faction_accepted"),
      ]
      ),

      ("faction_reject",
      [],
      "Decline_the_invitation.",
      [
        (call_script, "script_change_player_relation_with_troop", "$g_invite_faction_lord", -3),
        (assign, "$g_invite_faction", 0),
        (assign, "$g_invite_faction_lord", 0),
        (assign, "$g_invite_offered_center", 0),
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("invite_player_to_faction_accepted", 0,
    "In order to become a vassal, you must swear an oath of homage to {s3}. You shall have to find {reg4?her:him} and give {reg4?her:him} your oath in person. {s5}",
    "none",
    [
      (call_script, "script_get_information_about_troops_position", "$g_invite_faction_lord", 0),
      (str_store_troop_name, s3, "$g_invite_faction_lord"),
      (str_store_string, s5, "@{!}{s1}"),
    ],
    [
      ("continue",
      [],
      "Continue...",
      [
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("question_peace_offer", 0,
    "You Receive a Peace Offer^^The {s1} offers you a peace agreement. What is your answer?",
    "none",
    [
      (str_store_faction_name, s1, "$g_notification_menu_var1"),
      (set_fixed_point_multiplier, 100),
      (position_set_x, pos0, 65),
      (position_set_y, pos0, 30),
      (position_set_z, pos0, 170),
      (set_game_menu_tableau_mesh, "tableau_faction_note_mesh_banner", "$g_notification_menu_var1", pos0),
      (store_relation, ":var0", "fac_player_supporters_faction", "$g_notification_menu_var1"),
      (try_begin),
        (ge, ":var0", 0),
        (change_screen_return),
      (try_end),
    ],
    [
      ("peace_offer_accept",
      [],
      "Accept",
      [
        (call_script, "script_diplomacy_start_peace_between_kingdoms", "fac_player_supporters_faction", "$g_notification_menu_var1", 1),
        (change_screen_return),
      ]
      ),

      ("dplmc_peace_offer_terms",
      [],
      "Dictate_the_peace_terms",
      [
        (start_presentation, "prsnt_dplmc_peace_terms"),
      ]
      ),

      ("peace_offer_reject",
      [],
      "Reject",
      [
        (call_script, "script_change_player_relation_with_faction", "$g_notification_menu_var1", -5),
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("notification_truce_expired", 0,
    "Truce Has Expired^^The truce between {s1} and {s2} has expired.",
    "none",
    [
      (str_store_faction_name, s1, "$g_notification_menu_var1"),
      (str_store_faction_name, s2, "$g_notification_menu_var2"),
      (set_fixed_point_multiplier, 100),
      (position_set_x, pos0, 65),
      (position_set_y, pos0, 30),
      (position_set_z, pos0, 170),
      (set_game_menu_tableau_mesh, "tableau_faction_note_mesh_banner", "$g_notification_menu_var1", pos0),
    ],
    [
      ("continue",
      [],
      "Continue",
      [
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("notification_feast_quest_expired", 0,
    "{s10}",
    "none",
    [
      (str_store_string, s10, "str_feast_quest_expired"),
    ],
    [
      ("continue",
      [],
      "Continue",
      [
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("notification_sortie_possible", 0,
    "Enemy Sighted: Enemies have been sighted outside the walls of {s4}, and {s5} and others are preparing for a sortie. You may join them if you wish.",
    "none",
    [
      (str_store_party_name, s4, "$g_notification_menu_var1"),
      (party_stack_get_troop_id, ":var0", "$g_notification_menu_var2", 0),
      (str_store_troop_name, s5, ":var0"),
    ],
    [
      ("continue",
      [],
      "Continue",
      [
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("notification_casus_belli_expired", 0,
    "Kingdom Fails to Respond^^The {s1} has not responded to the {s2}'s provocations, and {s3} suffers a loss of face among {reg4?her:his} more bellicose subjects...^",
    "none",
    [
      (str_store_faction_name, s1, "$g_notification_menu_var1"),
      (str_store_faction_name, s2, "$g_notification_menu_var2"),
      (faction_get_slot, ":var0", "$g_notification_menu_var1", 11),
      (str_store_troop_name, s3, ":var0"),
      (call_script, "script_dplmc_store_troop_is_female_reg", ":var0", 4),
      (set_fixed_point_multiplier, 100),
      (position_set_x, pos0, 65),
      (position_set_y, pos0, 30),
      (position_set_z, pos0, 170),
      (set_game_menu_tableau_mesh, "tableau_faction_note_mesh_banner", "$g_notification_menu_var1", pos0),
    ],
    [
      ("continue",
      [],
      "Continue",
      [
        (call_script, "script_faction_follows_controversial_policy", "$g_notification_menu_var1", 81),
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("notification_lord_defects", 0,
    "Defection: {s4} has abandoned the {s5} and joined the {s7}, taking {reg4?her:his} fiefs with {reg4?her:him}",
    "none",
    [
      (assign, ":var0", "$g_notification_menu_var1"),
      (assign, ":var1", "$g_notification_menu_var2"),
      (str_store_troop_name, s4, ":var0"),
      (str_store_faction_name, s5, ":var1"),
      (store_faction_of_troop, ":var2", ":var0"),
      (str_store_faction_name, s7, ":var2"),
      (call_script, "script_dplmc_store_troop_is_female_reg", ":var0", 4),
    ],
    [
      ("continue",
      [],
      "Continue",
      [
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("notification_treason_indictment", 0,
    "Treason Indictment^^{s9}",
    "none",
    [
      (assign, ":var0", "$g_notification_menu_var1"),
      (assign, ":var1", "$g_notification_menu_var2"),
      (faction_get_slot, ":var2", ":var1", 11),
      (try_begin),
        (eq, ":var0", "trp_player"),
        (str_store_troop_name, s7, ":var2"),
        (str_store_string, s9, "str_you_have_been_indicted_for_treason_to_s7_your_properties_have_been_confiscated_and_you_would_be_well_advised_to_flee_for_your_life"),
      (else_try),
        (str_store_troop_name_link, s4, ":var0"),
        (str_store_faction_name_link, s5, ":var1"),
        (str_store_troop_name_link, s6, ":var2"),
        (call_script, "script_dplmc_store_troop_is_female_reg", ":var0", 4),
        (store_faction_of_troop, ":var3", ":var0"),
        (try_begin),
          (is_between, ":var3", "fac_player_supporters_faction", "fac_kingdoms_end"),
          (str_store_faction_name_link, s10, ":var3"),
          (str_store_string, s11, "str_with_the_s10"),
        (else_try),
          (str_store_string, s11, "str_outside_calradia"),
        (try_end),
        (str_store_string, s9, "str_by_order_of_s6_s4_of_the_s5_has_been_indicted_for_treason_the_lord_has_been_stripped_of_all_reg4herhis_properties_and_has_fled_for_reg4herhis_life_he_is_rumored_to_have_gone_into_exile_s11"),
      (try_end),
    ],
    [
      ("continue",
      [],
      "Continue",
      [
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("notification_border_incident", 0,
    "Border incident^^Word reaches you that {s9}. Though you don't know whether or not the rumors are true, you do know one thing -- this seemingly minor incident has raised passions among the {s4}, making it easier for them to go to war against the {s3}, if they want it...",
    "none",
    [
      (assign, ":var0", "$g_notification_menu_var1"),
      (assign, ":var1", "$g_notification_menu_var2"),
      (store_faction_of_party, ":var2", ":var0"),
      (try_begin),
        (eq, ":var1", -1),
        (party_get_slot, ":var3", ":var0", 61),
        (try_begin),
          (this_or_next|eq, ":var3", ":var2"),
          (neg|faction_slot_eq, ":var3", 21, 0),
          (party_get_slot, ":var3", ":var0", 62),
        (try_end),
        (str_store_party_name, s1, ":var0"),
        (str_store_faction_name, s3, ":var2"),
        (str_store_faction_name, s4, ":var3"),
        (faction_get_slot, ":var4", ":var3", 11),
        (str_store_troop_name, s5, ":var4"),
        (str_store_string, s9, "str_local_notables_from_s1_a_village_claimed_by_the_s4_have_been_mistreated_by_their_overlords_from_the_s3_and_petition_s5_for_protection"),
        (display_log_message, "@There has been an alleged border incident: {s9}"),
        (call_script, "script_add_log_entry", 75, ":var0", -1, -1, ":var2"),
      (else_try),
        (store_faction_of_party, ":var3", ":var1"),
        (str_store_party_name, s1, ":var0"),
        (str_store_party_name, s2, ":var1"),
        (store_random_in_range, ":var5", 0, 3),
        (try_begin),
          (eq, ":var5", 0),
          (str_store_string, s9, "str_villagers_from_s1_stole_some_cattle_from_s2"),
          (display_log_message, "@There has been an alleged border incident: {s9}"),
          (call_script, "script_add_log_entry", 72, ":var0", ":var1", -1, ":var2"),
        (else_try),
          (eq, ":var5", 1),
          (str_store_string, s9, "str_villagers_from_s1_abducted_a_woman_from_a_prominent_family_in_s2_to_marry_one_of_their_boys"),
          (display_log_message, "@There has been an alleged border incident: {s9}"),
          (call_script, "script_add_log_entry", 73, ":var0", ":var1", -1, ":var2"),
        (else_try),
          (eq, ":var5", 2),
          (str_store_string, s9, "str_villagers_from_s1_killed_some_farmers_from_s2_in_a_fight_over_the_diversion_of_a_stream"),
          (display_log_message, "@There has been an alleged border incident: {s9}"),
          (call_script, "script_add_log_entry", 74, ":var0", ":var1", -1, ":var2"),
        (try_end),
      (try_end),
      (str_store_faction_name, s3, ":var2"),
      (str_store_faction_name, s4, ":var3"),
      (store_add, ":var6", ":var2", 140),
      (val_sub, ":var6", "fac_player_supporters_faction"),
      (faction_set_slot, ":var3", ":var6", 30),
    ],
    [
      ("continue",
      [],
      "Continue",
      [
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("notification_player_faction_active", 0,
    "You now possess land in your name, without being tied to any kingdom. This makes you a monarch in your own right, with your court temporarily located at {s12}. However, the other kings in the Old World will at first consider you a threat, for if any upstart warlord can grab a throne, then their own legitimacy is called into question.^^You may find it desirable at this time to pledge yourself to an existing kingdom. If you want to continue as a sovereign monarch, then your first priority should be to establish an independent right to rule. You can establish your right to rule through several means -- marrying into a high-born family, recruiting new lords, governing your lands, treating with other kings, or dispatching your companions on missions.^^At any rate, your first step should be to appoint a chief minister from among your companions, to handle affairs of state. Different companions have different capabilities.^You may appoint new ministers from time to time. You may also change the location of your court, by speaking to the minister.",
    "none",
    [
      (set_fixed_point_multiplier, 100),
      (position_set_x, pos0, 65),
      (position_set_y, pos0, 30),
      (position_set_z, pos0, 170),
      (set_game_menu_tableau_mesh, "tableau_faction_note_mesh_banner", "fac_player_supporters_faction", pos0),
      (unlock_achievement, 52),
      (play_track, "track_coronation"),
      (try_for_range, ":var0", "p_town_1", "p_village_1"),
        (lt, "$g_player_court", "p_town_1"),
        (store_faction_of_party, ":var1", ":var0"),
        (eq, ":var1", "fac_player_supporters_faction"),
        (assign, "$g_player_court", ":var0"),
        (try_for_range, ":var2", "trp_knight_1_1_wife", "trp_heroes_end"),
          (troop_slot_eq, ":var2", 2, 6),
          (neg|troop_slot_ge, ":var2", 10, 0),
          (neg|troop_slot_ge, ":var2", 8, 0),
          (neg|main_party_has_troop, ":var2"),
          (try_begin),
            (this_or_next|troop_slot_eq, "trp_player", 30, ":var2"),
            (troop_slot_eq, ":var2", 30, "trp_player"),
            (troop_set_slot, ":var2", 12, "$g_player_court"),
          (else_try),
            (troop_slot_eq, ":var2", 30, -1),
            (this_or_next|troop_slot_eq, ":var2", 31, "trp_player"),
            (this_or_next|troop_slot_eq, ":var2", 32, "trp_player"),
            (troop_slot_eq, ":var2", 33, "trp_player"),
            (troop_set_slot, ":var2", 12, "$g_player_court"),
          (try_end),
        (try_end),
        (str_store_party_name, s12, "$g_player_court"),
      (try_end),
    ],
    [
      ("appoint_spouse",
      [
        (troop_slot_ge, "trp_player", 30, 1),
        (troop_get_slot, ":var0", "trp_player", 30),
        (neg|troop_slot_eq, ":var0", 2, 2),
        (neg|troop_slot_ge, ":var0", 2, 11),
        (call_script, "script_dplmc_store_troop_is_female", ":var0"),
        (str_store_troop_name, s10, ":var0"),
      ],
      "Appoint_your_{reg0?wife:husband},_{s10}...",
      [
        (troop_get_slot, ":var0", "trp_player", 30),
        (assign, "$g_player_minister", ":var0"),
        (jump_to_menu, "mnu_minister_confirm"),
      ]
      ),

      ("dplmc_appoint_spouse_plus_1",
      [
        (troop_slot_ge, "trp_player", 30, 1),
        (assign, ":var0", -1),
        (try_for_range_backwards, ":var1", "trp_npc1", "trp_heroes_end"),
          (troop_slot_eq, ":var1", 30, "trp_player"),
          (neg|troop_slot_eq, "trp_player", 30, ":var1"),
          (neg|troop_slot_ge, ":var1", 2, 11),
          (neg|troop_slot_eq, ":var1", 2, 2),
          (assign, ":var0", ":var1"),
        (try_end),
        (ge, ":var0", 1),
        (call_script, "script_dplmc_store_troop_is_female", ":var0"),
        (str_store_troop_name, s10, ":var0"),
      ],
      "Appoint_your_{reg0?wife:husband},_{s10}...",
      [
        (assign, ":var0", -1),
        (try_for_range_backwards, ":var1", "trp_npc1", "trp_heroes_end"),
          (troop_slot_eq, ":var1", 30, "trp_player"),
          (neg|troop_slot_eq, "trp_player", 30, ":var1"),
          (neg|troop_slot_ge, ":var1", 2, 11),
          (neg|troop_slot_eq, ":var1", 2, 2),
          (assign, ":var0", ":var1"),
        (try_end),
        (try_begin),
          (lt, ":var0", 1),
          (troop_get_slot, ":var0", "trp_player", 30),
        (try_end),
        (assign, "$g_player_minister", ":var0"),
        (jump_to_menu, "mnu_minister_confirm"),
      ]
      ),

      ("appoint_npc1",
      [
        (main_party_has_troop, "trp_npc1"),
        (str_store_troop_name, s10, "trp_npc1"),
      ],
      "Appoint_{s10}",
      [
        (assign, "$g_player_minister", "trp_npc1"),
        (jump_to_menu, "mnu_minister_confirm"),
      ]
      ),

      ("appoint_npc2",
      [
        (main_party_has_troop, "trp_npc2"),
        (str_store_troop_name, s10, "trp_npc2"),
      ],
      "Appoint_{s10}",
      [
        (assign, "$g_player_minister", "trp_npc2"),
        (jump_to_menu, "mnu_minister_confirm"),
      ]
      ),

      ("appoint_npc3",
      [
        (main_party_has_troop, "trp_npc3"),
        (str_store_troop_name, s10, "trp_npc3"),
      ],
      "Appoint_{s10}",
      [
        (assign, "$g_player_minister", "trp_npc3"),
        (jump_to_menu, "mnu_minister_confirm"),
      ]
      ),

      ("appoint_npc4",
      [
        (main_party_has_troop, "trp_npc4"),
        (str_store_troop_name, s10, "trp_npc4"),
      ],
      "Appoint_{s10}",
      [
        (assign, "$g_player_minister", "trp_npc4"),
        (jump_to_menu, "mnu_minister_confirm"),
      ]
      ),

      ("appoint_npc5",
      [
        (main_party_has_troop, "trp_npc5"),
        (str_store_troop_name, s10, "trp_npc5"),
      ],
      "Appoint_{s10}",
      [
        (assign, "$g_player_minister", "trp_npc5"),
        (jump_to_menu, "mnu_minister_confirm"),
      ]
      ),

      ("appoint_npc6",
      [
        (main_party_has_troop, "trp_npc6"),
        (str_store_troop_name, s10, "trp_npc6"),
      ],
      "Appoint_{s10}",
      [
        (assign, "$g_player_minister", "trp_npc6"),
        (jump_to_menu, "mnu_minister_confirm"),
      ]
      ),

      ("appoint_npc7",
      [
        (main_party_has_troop, "trp_npc7"),
        (str_store_troop_name, s10, "trp_npc7"),
      ],
      "Appoint_{s10}",
      [
        (assign, "$g_player_minister", "trp_npc7"),
        (jump_to_menu, "mnu_minister_confirm"),
      ]
      ),

      ("appoint_npc8",
      [
        (main_party_has_troop, "trp_npc8"),
        (str_store_troop_name, s10, "trp_npc8"),
      ],
      "Appoint_{s10}",
      [
        (assign, "$g_player_minister", "trp_npc8"),
        (jump_to_menu, "mnu_minister_confirm"),
      ]
      ),

      ("appoint_npc9",
      [
        (main_party_has_troop, "trp_npc9"),
        (str_store_troop_name, s10, "trp_npc9"),
      ],
      "Appoint_{s10}",
      [
        (assign, "$g_player_minister", "trp_npc9"),
        (jump_to_menu, "mnu_minister_confirm"),
      ]
      ),

      ("appoint_npc10",
      [
        (main_party_has_troop, "trp_npc10"),
        (str_store_troop_name, s10, "trp_npc10"),
      ],
      "Appoint_{s10}",
      [
        (assign, "$g_player_minister", "trp_npc10"),
        (jump_to_menu, "mnu_minister_confirm"),
      ]
      ),

      ("appoint_npc11",
      [
        (main_party_has_troop, "trp_npc11"),
        (str_store_troop_name, s10, "trp_npc11"),
      ],
      "Appoint_{s10}",
      [
        (assign, "$g_player_minister", "trp_npc11"),
        (jump_to_menu, "mnu_minister_confirm"),
      ]
      ),

      ("appoint_npc12",
      [
        (main_party_has_troop, "trp_npc12"),
        (str_store_troop_name, s10, "trp_npc12"),
      ],
      "Appoint_{s10}",
      [
        (assign, "$g_player_minister", "trp_npc12"),
        (jump_to_menu, "mnu_minister_confirm"),
      ]
      ),

      ("appoint_npc13",
      [
        (main_party_has_troop, "trp_npc13"),
        (str_store_troop_name, s10, "trp_npc13"),
      ],
      "Appoint_{s10}",
      [
        (assign, "$g_player_minister", "trp_npc13"),
        (jump_to_menu, "mnu_minister_confirm"),
      ]
      ),

      ("appoint_npc14",
      [
        (main_party_has_troop, "trp_npc14"),
        (str_store_troop_name, s10, "trp_npc14"),
      ],
      "Appoint_{s10}",
      [
        (assign, "$g_player_minister", "trp_npc14"),
        (jump_to_menu, "mnu_minister_confirm"),
      ]
      ),

      ("appoint_npc15",
      [
        (main_party_has_troop, "trp_npc15"),
        (str_store_troop_name, s10, "trp_npc15"),
      ],
      "Appoint_{s10}",
      [
        (assign, "$g_player_minister", "trp_npc15"),
        (jump_to_menu, "mnu_minister_confirm"),
      ]
      ),

      ("appoint_npc16",
      [
        (main_party_has_troop, "trp_npc16"),
        (str_store_troop_name, s10, "trp_npc16"),
      ],
      "Appoint_{s10}",
      [
        (assign, "$g_player_minister", "trp_npc16"),
        (jump_to_menu, "mnu_minister_confirm"),
      ]
      ),

      ("appoint_default",
      [],
      "Appoint_a_prominent_citizen_from_the_area...",
      [
        (assign, "$g_player_minister", "trp_temporary_minister"),
        (troop_set_faction, "trp_temporary_minister", "fac_player_supporters_faction"),
        (jump_to_menu, "mnu_minister_confirm"),
      ]
      ),
    ],
  ),

  ("minister_confirm", 0,
    "{s9}can be found at your court in {s12}. You should consult {reg4?her:him} periodically, to avoid the accumulation of unresolved issues that may sap your authority...",
    "none",
    [
      (try_begin),
        (store_and, ":var0", "$players_kingdom_name_set", 1),
        (eq, ":var0", 1),
        (change_screen_return),
      (try_end),
      (try_begin),
        (eq, "$g_player_minister", "trp_temporary_minister"),
        (str_store_string, s9, "str_your_new_minister_"),
      (else_try),
        (str_store_troop_name, s10, "$g_player_minister"),
        (str_store_string, s9, "str_s10_is_your_new_minister_and_"),
      (try_end),
      (try_begin),
        (main_party_has_troop, "$g_player_minister"),
        (remove_member_from_party, "$g_player_minister", "p_main_party"),
      (try_end),
      (set_fixed_point_multiplier, 100),
      (position_set_x, pos0, 70),
      (position_set_y, pos0, 5),
      (position_set_z, pos0, 75),
      (set_game_menu_tableau_mesh, "tableau_troop_note_mesh", "$g_player_minister", pos0),
      (call_script, "script_dplmc_store_troop_is_female_reg", "$g_player_minister", 4),
    ],
    [
      ("continue",
      [],
      "Continue...",
      [
        (assign, "$g_presentation_state", 1),
        (start_presentation, "prsnt_name_kingdom"),
      ]
      ),
    ],
  ),

  ("notification_court_lost", 0,
    "{s12}",
    "none",
    [
      (try_begin),
        (is_between, "$g_player_court", "p_town_1", "p_salt_mine"),
        (str_store_party_name, s10, "$g_player_court"),
        (str_store_party_name, s11, "$g_player_court"),
      (else_try),
        (str_store_string, s10, "str_your_previous_court_some_time_ago"),
        (str_store_string, s11, "str_your_previous_court_some_time_ago"),
      (try_end),
      (assign, ":var0", "fac_player_supporters_faction"),
      (try_begin),
        (is_between, "$players_kingdom", "fac_kingdom_1", "fac_kingdoms_end"),
        (call_script, "script_dplmc_get_troop_standing_in_faction", "trp_player", "$players_kingdom"),
        (ge, reg0, 50),
        (assign, ":var0", "$players_kingdom"),
      (try_end),
      (try_begin),
        (store_and, ":var1", "$players_kingdom_name_set", 2),
        (eq, ":var1", 2),
        (val_sub, "$players_kingdom_name_set", 2),
      (else_try),
        (is_between, "$g_player_court", "p_town_1", "p_salt_mine"),
      (try_end),
      (assign, "$g_player_court", -1),
      (str_store_string, s14, "str_after_to_the_fall_of_s11_your_court_has_nowhere_to_go"),
      (try_begin),
        (neg|this_or_next|is_between, ":var0", "fac_kingdom_1", "fac_kingdoms_end"),
        (neg|faction_slot_eq, ":var0", 21, 0),
        (faction_slot_eq, "fac_player_supporters_faction", 21, 2),
        (str_store_string, s14, "str_as_you_no_longer_maintain_an_independent_kingdom_you_no_longer_maintain_a_court"),
      (try_end),
      (try_for_range, ":var2", "p_town_1", "p_village_1"),
        (eq, "$g_player_court", -1),
        (neg|party_slot_eq, ":var2", 39, "trp_peasant_woman"),
        (store_faction_of_party, ":var3", ":var2"),
        (this_or_next|eq, ":var0", ":var3"),
        (eq, ":var3", "fac_player_supporters_faction"),
        (neg|party_slot_ge, ":var2", 7, "trp_npc1"),
        (assign, "$g_player_court", ":var2"),
        (try_begin),
          (troop_get_slot, ":var4", "trp_player", 30),
          (is_between, ":var4", "trp_knight_1_1_wife", "trp_heroes_end"),
          (neg|troop_slot_eq, ":var4", 2, 2),
          (neg|troop_slot_ge, ":var4", 2, 11),
          (neg|troop_slot_ge, ":var4", 8, 1),
          (neg|main_party_has_troop, ":var4"),
          (troop_set_slot, ":var4", 12, "$g_player_court"),
          (str_store_party_name, s11, "$g_player_court"),
        (try_end),
        (str_store_string, s14, "str_due_to_the_fall_of_s10_your_court_has_been_relocated_to_s12"),
      (try_end),
      (try_for_range, ":var2", "p_town_1", "p_village_1"),
        (eq, "$g_player_court", -1),
        (store_faction_of_party, ":var3", ":var2"),
        (this_or_next|eq, ":var0", ":var3"),
        (eq, ":var3", "fac_player_supporters_faction"),
        (assign, "$g_player_court", ":var2"),
        (try_begin),
          (troop_get_slot, ":var4", "trp_player", 30),
          (is_between, ":var4", "trp_knight_1_1_wife", "trp_heroes_end"),
          (neg|troop_slot_eq, ":var4", 2, 2),
          (neg|troop_slot_ge, ":var4", 2, 11),
          (neg|troop_slot_ge, ":var4", 8, 1),
          (troop_set_slot, ":var4", 12, "$g_player_court"),
        (try_end),
        (party_get_slot, ":var5", ":var2", 7),
        (str_store_party_name, s11, "$g_player_court"),
        (str_store_troop_name, s9, ":var5"),
        (str_store_string, s14, "str_after_to_the_fall_of_s10_your_faithful_vassal_s9_has_invited_your_court_to_s11_"),
      (try_end),
      (try_begin),
        (neg|this_or_next|is_between, ":var0", "fac_kingdom_1", "fac_kingdoms_end"),
        (neg|faction_slot_eq, ":var0", 21, 0),
        (faction_slot_eq, "fac_player_supporters_faction", 21, 2),
        (str_store_string, s14, "str_as_you_no_longer_maintain_an_independent_kingdom_you_no_longer_maintain_a_court"),
      (try_end),
      (str_store_string, s12, s14),
    ],
    [
      ("continue",
      [],
      "Continue...",
      [
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("notification_player_faction_deactive", 0,
    "Your kingdom no longer holds any land.",
    "none",
    [
      (set_fixed_point_multiplier, 100),
      (position_set_x, pos0, 65),
      (position_set_y, pos0, 30),
      (position_set_z, pos0, 170),
      (set_game_menu_tableau_mesh, "tableau_faction_note_mesh_banner", "fac_player_supporters_faction", pos0),
    ],
    [
      ("continue",
      [],
      "Continue...",
      [
        (try_begin),
          (is_between, "$g_player_minister", "trp_npc1", "trp_kingdom_1_lord"),
          (assign, "$npc_to_rejoin_party", "$g_player_minister"),
        (try_end),
        (assign, "$g_player_minister", -1),
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("notification_player_wedding_day", mnf_scale_picture,
    "{s8} wishes to inform you that preparations for your wedding at {s10} have been complete, and that your presence is expected imminently .",
    "none",
    [
      (set_background_mesh, "mesh_pic_messenger"),
      (str_store_troop_name, s8, "$g_notification_menu_var1"),
      (str_store_party_name, s10, "$g_notification_menu_var2"),
    ],
    [
      ("continue",
      [],
      "Continue...",
      [
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("notification_player_kingdom_holds_feast", mnf_scale_picture,
    "{s11}",
    "none",
    [
      (set_background_mesh, "mesh_pic_messenger"),
      (str_store_troop_name, s8, "$g_notification_menu_var1"),
      (store_faction_of_troop, ":var0", "$g_notification_menu_var1"),
      (str_store_faction_name, s9, ":var0"),
      (str_store_party_name, s10, "$g_notification_menu_var2"),
      (str_clear, s12),
      (try_begin),
        (check_quest_active, "qst_wed_betrothed"),
        (quest_get_slot, ":var1", "qst_wed_betrothed", 6),
        (store_faction_of_troop, ":var2", ":var1"),
        (eq, ":var2", "$players_kingdom"),
        (str_store_string, s12, "str_feast_wedding_opportunity"),
      (try_end),
      (str_store_string, s11, "str_s8_wishes_to_inform_you_that_the_lords_of_s9_will_be_gathering_for_a_feast_at_his_great_hall_in_s10_and_invites_you_to_be_part_of_this_august_assembly"),
      (try_begin),
        (eq, "$g_notification_menu_var1", 0),
        (str_store_string, s11, "str_the_great_lords_of_your_kingdom_plan_to_gather_at_your_hall_in_s10_for_a_feast"),
      (try_end),
      (str_store_string, s11, "@{!}{s11}{s12}"),
      (try_begin),
        (eq, "$cheat_mode", 1),
        (store_current_hours, ":var3"),
        (faction_get_slot, ":var4", "$players_kingdom", 94),
        (val_sub, ":var3", ":var4"),
        (assign, reg4, ":var3"),
        (display_message, "@{!}DEBUG -- Hours since last feast started: {reg4}"),
      (try_end),
    ],
    [
      ("continue",
      [],
      "Continue...",
      [
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("notification_center_under_siege", 0,
    "{s1} has been besieged by {s2} of {s3}!",
    "none",
    [
      (str_store_party_name, s1, "$g_notification_menu_var1"),
      (str_store_troop_name, s2, "$g_notification_menu_var2"),
      (store_faction_of_troop, ":var0", "$g_notification_menu_var2"),
      (str_store_faction_name, s3, ":var0"),
      (set_fixed_point_multiplier, 100),
      (position_set_x, pos0, 62),
      (position_set_y, pos0, 30),
      (position_set_z, pos0, 170),
      (set_game_menu_tableau_mesh, "tableau_center_note_mesh", "$g_notification_menu_var1", pos0),
    ],
    [
      ("continue",
      [],
      "Continue...",
      [
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("notification_village_raided", 0,
    "Enemies have Laid Waste to a Fief^^{s1} has been raided by {s2} of {s3}!",
    "none",
    [
      (str_store_party_name, s1, "$g_notification_menu_var1"),
      (str_store_troop_name, s2, "$g_notification_menu_var2"),
      (store_faction_of_troop, ":var0", "$g_notification_menu_var2"),
      (str_store_faction_name, s3, ":var0"),
      (set_fixed_point_multiplier, 100),
      (position_set_x, pos0, 62),
      (position_set_y, pos0, 30),
      (position_set_z, pos0, 170),
      (set_game_menu_tableau_mesh, "tableau_center_note_mesh", "$g_notification_menu_var1", pos0),
    ],
    [
      ("continue",
      [],
      "Continue...",
      [
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("notification_village_raid_started", 0,
    "Your Village is under Attack!^^{s2} of {s3} is laying waste to {s1}.",
    "none",
    [
      (str_store_party_name, s1, "$g_notification_menu_var1"),
      (str_store_troop_name, s2, "$g_notification_menu_var2"),
      (store_faction_of_troop, ":var0", "$g_notification_menu_var2"),
      (str_store_faction_name, s3, ":var0"),
      (set_fixed_point_multiplier, 100),
      (position_set_x, pos0, 62),
      (position_set_y, pos0, 30),
      (position_set_z, pos0, 170),
      (set_game_menu_tableau_mesh, "tableau_center_note_mesh", "$g_notification_menu_var1", pos0),
    ],
    [
      ("continue",
      [],
      "Continue...",
      [
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("notification_one_faction_left", 0,
    "The Old World Conquered by One Kingdom^^{s1} has defeated all rivals and stands as the sole kingdom.",
    "none",
    [
      (str_store_faction_name, s1, "$g_notification_menu_var1"),
      (set_fixed_point_multiplier, 100),
      (position_set_x, pos0, 65),
      (position_set_y, pos0, 30),
      (position_set_z, pos0, 170),
      (try_begin),
        (is_between, "$g_notification_menu_var1", "fac_kingdom_1", "fac_kingdoms_end"),
        (set_game_menu_tableau_mesh, "tableau_faction_note_mesh_for_menu", "$g_notification_menu_var1", pos0),
      (else_try),
        (set_game_menu_tableau_mesh, "tableau_faction_note_mesh_banner", "$g_notification_menu_var1", pos0),
      (try_end),
      (try_begin),
        (faction_slot_eq, "$g_notification_menu_var1", 11, "trp_player"),
        (unlock_achievement, 44),
      (else_try),
        (unlock_achievement, 53),
      (try_end),
      (try_begin),
        (eq, "$character_gender", 1),
        (unlock_achievement, 78),
      (try_end),
    ],
    [
      ("continue",
      [],
      "Continue...",
      [
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("notification_oath_renounced_faction_defeated", 0,
    "Your Old Faction was Defeated^^You won the battle against {s1}! This ends your struggle which started after you renounced your oath to them.",
    "none",
    [
      (str_store_faction_name, s1, "$g_notification_menu_var1"),
      (set_fixed_point_multiplier, 100),
      (position_set_x, pos0, 65),
      (position_set_y, pos0, 30),
      (position_set_z, pos0, 170),
      (try_begin),
        (is_between, "$g_notification_menu_var1", "fac_kingdom_1", "fac_kingdoms_end"),
        (set_game_menu_tableau_mesh, "tableau_faction_note_mesh_for_menu", "$g_notification_menu_var1", pos0),
      (else_try),
        (set_game_menu_tableau_mesh, "tableau_faction_note_mesh_banner", "$g_notification_menu_var1", pos0),
      (try_end),
    ],
    [
      ("continue",
      [],
      "Continue...",
      [
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("notification_center_lost", 0,
    "An Estate was Lost^^You have lost {s1} to {s2}.",
    "none",
    [
      (str_store_party_name, s1, "$g_notification_menu_var1"),
      (str_store_faction_name, s2, "$g_notification_menu_var2"),
      (set_fixed_point_multiplier, 100),
      (position_set_x, pos0, 62),
      (position_set_y, pos0, 30),
      (position_set_z, pos0, 170),
      (set_game_menu_tableau_mesh, "tableau_center_note_mesh", "$g_notification_menu_var1", pos0),
    ],
    [
      ("continue",
      [],
      "Continue...",
      [
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("notification_troop_left_players_faction", 0,
    "Betrayal!^^{s1} has left {s2} and joined {s3}.",
    "none",
    [
      (str_store_troop_name, s1, "$g_notification_menu_var1"),
      (str_store_faction_name, s2, "$players_kingdom"),
      (str_store_faction_name, s3, "$g_notification_menu_var2"),
      (set_fixed_point_multiplier, 100),
      (position_set_x, pos0, 55),
      (position_set_y, pos0, 20),
      (position_set_z, pos0, 100),
      (set_game_menu_tableau_mesh, "tableau_troop_note_mesh", "$g_notification_menu_var1", pos0),
    ],
    [
      ("continue",
      [],
      "Continue...",
      [
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("notification_troop_joined_players_faction", 0,
    "Good news!^^ {s1} has left {s2} and joined {s3}.",
    "none",
    [
      (str_store_troop_name, s1, "$g_notification_menu_var1"),
      (str_store_faction_name, s2, "$g_notification_menu_var2"),
      (str_store_faction_name, s3, "$players_kingdom"),
      (set_fixed_point_multiplier, 100),
      (position_set_x, pos0, 55),
      (position_set_y, pos0, 20),
      (position_set_z, pos0, 100),
      (set_game_menu_tableau_mesh, "tableau_troop_note_mesh", "$g_notification_menu_var1", pos0),
    ],
    [
      ("continue",
      [],
      "Continue...",
      [
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("notification_war_declared", 0,
    "Declaration of War^^{s1} has declared war against {s2}!",
    "none",
    [
      (try_begin),
        (str_store_faction_name, s1, "$g_notification_menu_var1"),
        (str_store_faction_name, s2, "$g_notification_menu_var2"),
      (try_end),
      (set_fixed_point_multiplier, 100),
      (position_set_x, pos0, 65),
      (position_set_y, pos0, 30),
      (position_set_z, pos0, 170),
      (store_sub, ":var0", "$g_notification_menu_var1", "fac_player_supporters_faction"),
      (store_sub, ":var1", "$g_notification_menu_var2", "fac_player_supporters_faction"),
      (val_mul, ":var0", 128),
      (val_add, ":var0", ":var1"),
      (set_game_menu_tableau_mesh, "tableau_2_factions_mesh", ":var0", pos0),
    ],
    [
      ("continue",
      [],
      "Continue...",
      [
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("notification_peace_declared", 0,
    "Peace Agreement^^{s1} and {s2} have made peace!^{s57}",
    "none",
    [
      (try_begin),
        (eq, 1, 0),
        (eq, "$g_include_diplo_explanation", "$g_notification_menu_var1"),
        (assign, "$g_include_diplo_explanation", 0),
      (else_try),
        (str_clear, s57),
      (try_end),
      (str_store_faction_name, s1, "$g_notification_menu_var1"),
      (str_store_faction_name, s2, "$g_notification_menu_var2"),
      (set_fixed_point_multiplier, 100),
      (position_set_x, pos0, 65),
      (position_set_y, pos0, 30),
      (position_set_z, pos0, 170),
      (store_sub, ":var0", "$g_notification_menu_var1", "fac_player_supporters_faction"),
      (store_sub, ":var1", "$g_notification_menu_var2", "fac_player_supporters_faction"),
      (val_mul, ":var0", 128),
      (val_add, ":var0", ":var1"),
      (set_game_menu_tableau_mesh, "tableau_2_factions_mesh", ":var0", pos0),
    ],
    [
      ("continue",
      [],
      "Continue...",
      [
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("notification_faction_defeated", 0,
    "Faction Eliminated^^{s1} is no more!",
    "none",
    [
      (str_store_faction_name, s1, "$g_notification_menu_var1"),
      (set_fixed_point_multiplier, 100),
      (position_set_x, pos0, 65),
      (position_set_y, pos0, 30),
      (position_set_z, pos0, 170),
      (try_begin),
        (is_between, "$g_notification_menu_var1", "fac_kingdom_1", "fac_kingdoms_end"),
        (set_game_menu_tableau_mesh, "tableau_faction_note_mesh_for_menu", "$g_notification_menu_var1", pos0),
      (else_try),
        (set_game_menu_tableau_mesh, "tableau_faction_note_mesh_banner", "$g_notification_menu_var1", pos0),
      (try_end),
    ],
    [
      ("continue",
      [],
      "Continue...",
      [
        (try_begin),
          (is_between, "$supported_pretender", "trp_kingdom_1_pretender", "trp_knight_1_1_wife"),
          (troop_slot_eq, "$supported_pretender", 14, "$g_notification_menu_var1"),
          (try_for_range, ":var0", "trp_npc1", "trp_knight_1_1_wife"),
            (this_or_next|troop_slot_eq, ":var0", 2, 2),
            (troop_slot_eq, ":var0", 2, 6),
            (store_faction_of_troop, ":var1", ":var0"),
            (eq, ":var1", "fac_player_supporters_faction"),
            (troop_set_faction, ":var0", "$g_notification_menu_var1"),
            (try_begin),
              (this_or_next|eq, "$g_notification_menu_var1", "$players_kingdom"),
              (eq, "$g_notification_menu_var1", "fac_player_supporters_faction"),
              (call_script, "script_check_concilio_calradi_achievement"),
            (try_end),
          (else_try),
            (troop_slot_eq, ":var0", 2, 2),
            (store_faction_of_troop, ":var1", ":var0"),
            (eq, ":var1", "$g_notification_menu_var1"),
            (call_script, "script_troop_change_relation_with_troop", ":var0", "trp_player", 5),
          (try_end),
          (try_for_parties, ":var2"),
            (store_faction_of_party, ":var1", ":var2"),
            (eq, ":var1", "fac_player_supporters_faction"),
            (party_set_faction, ":var2", "$g_notification_menu_var1"),
          (try_end),
          (assign, "$players_kingdom", "$g_notification_menu_var1"),
          (try_begin),
            (troop_get_slot, ":var3", "trp_player", 30),
            (is_between, ":var3", "trp_knight_1_1_wife", "trp_heroes_end"),
            (troop_set_faction, ":var3", "$g_notification_menu_var1"),
          (try_end),
          (call_script, "script_add_notification_menu", "mnu_notification_rebels_switched_to_faction", "$g_notification_menu_var1", "$supported_pretender"),
          (faction_set_slot, "$g_notification_menu_var1", 21, 0),
          (faction_set_slot, "fac_player_supporters_faction", 21, 2),
          (faction_get_slot, ":var4", "$g_notification_menu_var1", 11),
          (assign, ":var5", 0),
          (call_script, "script_change_troop_faction", ":var4", "fac_commoners", ":var5"),
          (troop_get_slot, ":var6", ":var4", 7),
          (store_random_in_range, ":var7", 10, 25),
          (val_mul, ":var7", ":var6"),
          (val_div, ":var7", 100),
          (val_sub, ":var6", ":var7"),
          (troop_set_slot, ":var4", 7, ":var6"),
          (faction_set_slot, "$g_notification_menu_var1", 11, "$supported_pretender"),
          (troop_set_faction, "$supported_pretender", "$g_notification_menu_var1"),
          (faction_get_slot, ":var8", "$g_notification_menu_var1", 8),
          (try_begin),
            (ge, ":var8", 0),
            (troop_get_slot, ":var9", ":var8", 10),
            (party_is_active, ":var9"),
            (party_set_marshall, ":var9", 0),
          (try_end),
          (faction_set_slot, "$g_notification_menu_var1", 8, "trp_player"),
          (faction_set_slot, "$g_notification_menu_var1", 4, 0),
          (faction_set_slot, "$g_notification_menu_var1", 5, -1),
          (troop_set_slot, "$supported_pretender", 2, 2),
          (call_script, "script_change_troop_renown", "$supported_pretender", 1000),
          (val_div, ":var7", 2),
          (call_script, "script_change_troop_renown", "$supported_pretender", ":var7"),
          (party_remove_members, "p_main_party", "$supported_pretender", 1),
          (troop_set_auto_equip, "$supported_pretender", 1),
          (call_script, "script_set_player_relation_with_faction", "$g_notification_menu_var1", 0),
          (try_for_range, ":var10", "fac_player_supporters_faction", "fac_kingdoms_end"),
            (faction_slot_eq, ":var10", 21, 0),
            (neq, ":var10", "$g_notification_menu_var1"),
            (store_relation, ":var11", ":var10", "fac_player_supporters_faction"),
            (set_relation, ":var10", "$g_notification_menu_var1", ":var11"),
          (try_end),
          (assign, "$supported_pretender", 0),
          (assign, "$supported_pretender_old_faction", 0),
          (assign, "$g_recalculate_ais", 1),
          (call_script, "script_update_all_notes"),
        (try_end),
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("notification_rebels_switched_to_faction", 0,
    "Rebellion Success^^ Your rebellion is victorious! Your faction now has the sole claim to the title of {s11}, with {s12} as the single ruler.",
    "none",
    [
      (str_store_faction_name, s11, "$g_notification_menu_var1"),
      (str_store_troop_name, s12, "$g_notification_menu_var2"),
      (set_fixed_point_multiplier, 100),
      (position_set_x, pos0, 65),
      (position_set_y, pos0, 30),
      (position_set_z, pos0, 170),
      (try_begin),
        (is_between, "$g_notification_menu_var1", "fac_kingdom_1", "fac_kingdoms_end"),
        (set_game_menu_tableau_mesh, "tableau_faction_note_mesh_for_menu", "$g_notification_menu_var1", pos0),
      (else_try),
        (set_game_menu_tableau_mesh, "tableau_faction_note_mesh_banner", "$g_notification_menu_var1", pos0),
      (try_end),
    ],
    [
      ("continue",
      [],
      "Continue...",
      [
        (assign, "$talk_context", 15),
        (start_map_conversation, "$g_notification_menu_var2", -1),
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("notification_player_should_consult", 0,
    "{reg0?Your minister:{s11}} send word that there are problems brewing in the realm which, if left untreated, could sap your authority. You should consult with {reg4?her:him} at your earliest convenience",
    "none",
    [],
    [
      ("continue",
      [],
      "Continue...",
      [
        (setup_quest_text, "qst_consult_with_minister"),
        (str_store_troop_name, s11, "$g_player_minister"),
        (str_store_party_name, s12, "$g_player_court"),
        (str_store_string, s2, "str_consult_with_s11_at_your_court_in_s12"),
        (call_script, "script_start_quest", "qst_consult_with_minister", -1),
        (assign, reg4, 0),
        (try_begin),
          (call_script, "script_cf_dplmc_troop_is_female", "$g_player_minister"),
          (assign, reg4, 1),
        (try_end),
        (assign, reg0, 1),
        (try_begin),
          (is_between, "$g_player_minister", "trp_npc1", "trp_heroes_end"),
          (assign, reg0, 0),
        (try_end),
        (quest_set_slot, "qst_consult_with_minister", 23, 30),
        (quest_set_slot, "qst_consult_with_minister", 6, "$g_player_minister"),
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("notification_player_feast_in_progress", 0,
    "Feast in Preparation^^Your {reg33?husband:wife} has started preparations for a feast in your hall in {s11}",
    "none",
    [
      (str_store_party_name, s11, "$g_notification_menu_var1"),
    ],
    [
      ("continue",
      [],
      "Continue...",
      [
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("notification_lady_requests_visit", 0,
    "An elderly woman approaches your party and passes one of your men a letter, sealed in plain wax. It is addressed to you. When you break the seal, you see it is from {s15}. It reads, 'I so enjoyed your last visit. {s14} I am currently in {s10}.{s12}'",
    "none",
    [
      (assign, ":var0", "$g_notification_menu_var1"),
      (assign, ":var1", "$g_notification_menu_var2"),
      (str_store_troop_name, s15, ":var0"),
      (str_store_party_name, s10, ":var1"),
      (store_current_hours, ":var2"),
      (troop_get_slot, ":var3", ":var0", 4),
      (val_sub, ":var2", ":var3"),
      (call_script, "script_get_kingdom_lady_social_determinants", ":var0"),
      (assign, ":var4", reg0),
      (str_store_troop_name, s16, ":var4"),
      (call_script, "script_troop_get_family_relation_to_troop", ":var4", ":var0"),
      (str_clear, s14),
      (try_begin),
        (lt, ":var2", 336),
        (try_begin),
          (troop_slot_eq, ":var0", 53, 23),
          (str_store_string, s14, "str_as_brief_as_our_separation_has_been_the_longing_in_my_heart_to_see_you_has_made_it_seem_as_many_years"),
        (else_try),
          (str_store_string, s14, "str_although_it_has_only_been_a_short_time_since_your_departure_but_i_would_be_most_pleased_to_see_you_again"),
        (try_end),
      (else_try),
        (ge, ":var2", 336),
        (try_begin),
          (troop_slot_eq, ":var0", 53, 24),
          (str_store_string, s14, "str_although_i_have_received_no_word_from_you_for_quite_some_time_i_am_sure_that_you_must_have_been_very_busy_and_that_your_failure_to_come_see_me_in_no_way_indicates_that_your_attentions_to_me_were_insincere_"),
        (else_try),
          (troop_slot_eq, ":var0", 53, 25),
          (str_store_string, s14, "str_i_trust_that_you_have_comported_yourself_in_a_manner_becoming_a_gentleman_during_our_long_separation_"),
        (else_try),
          (str_store_string, s14, "str_it_has_been_many_days_since_you_came_and_i_would_very_much_like_to_see_you_again"),
        (try_end),
      (try_end),
      (str_clear, s12),
      (str_clear, s18),
      (assign, ":var5", reg4),
      (call_script, "script_dplmc_store_troop_is_female_reg", ":var4", 4),
      (try_begin),
        (troop_slot_eq, ":var4", 38, 0),
        (str_store_string, s12, "str__you_should_ask_my_s11_s16s_permission_but_i_have_no_reason_to_believe_that_he_will_prevent_you_from_coming_to_see_me"),
        (str_store_string, s18, "str__you_should_first_ask_her_s11_s16s_permission"),
      (else_try),
        (troop_slot_eq, ":var4", 38, -1),
        (str_store_string, s12, "str__alas_as_we_know_my_s11_s16_will_not_permit_me_to_see_you_however_i_believe_that_i_can_arrange_away_for_you_to_enter_undetected"),
      (else_try),
        (troop_slot_eq, ":var4", 38, 1),
        (str_store_string, s12, "str__as_my_s11_s16_has_already_granted_permission_for_you_to_see_me_i_shall_expect_your_imminent_arrival"),
      (try_end),
      (assign, reg4, ":var5"),
      (set_fixed_point_multiplier, 100),
      (init_position, pos0),
      (position_set_x, pos0, 60),
      (position_set_y, pos0, 20),
      (position_set_z, pos0, 100),
      (set_game_menu_tableau_mesh, "tableau_dplmc_lord_profile", ":var0", pos0),
    ],
    [
      ("continue",
      [],
      "Tell_the_woman_to_inform_her_mistress_that_you_will_come_shortly",
      [
        (assign, ":var0", "$g_notification_menu_var1"),
        (str_store_troop_name_link, s3, ":var0"),
        (str_store_party_name_link, s4, "$g_notification_menu_var2"),
        (str_store_string, s2, "str_visit_s3_who_was_last_at_s4s18"),
        (call_script, "script_start_quest", "qst_visit_lady", ":var0"),
        (quest_set_slot, "qst_visit_lady", 6, ":var0"),
        (try_begin),
          (eq, "$cheat_mode", 1),
          (quest_get_slot, ":var1", "qst_visit_lady", 6),
          (str_store_troop_name, s2, ":var1"),
          (display_message, "str_giver_troop_=_s2"),
        (try_end),
        (quest_set_slot, "qst_visit_lady", 23, 30),
        (change_screen_return),
      ]
      ),

      ("continue",
      [],
      "Tell_the_woman_to_inform_her_mistress_that_you_are_indisposed",
      [
        (troop_set_slot, "$g_notification_menu_var1", 37, 1),
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("garden", 0,
    "{s12}",
    "none",
    [
      (call_script, "script_get_kingdom_lady_social_determinants", "$love_interest_in_town"),
      (assign, ":var0", reg0),
      (str_store_troop_name, s11, "$love_interest_in_town"),
      (try_begin),
        (call_script, "script_npc_decision_checklist_male_guardian_assess_suitor", ":var0", "trp_player"),
        (lt, reg0, 0),
        (troop_set_slot, ":var0", 38, -1),
      (try_end),
      (assign, "$nurse_assists_entry", 0),
      (try_begin),
        (troop_slot_eq, ":var0", 38, 1),
        (str_store_string, s12, "str_the_guards_at_the_gate_have_been_ordered_to_allow_you_through_you_might_be_imagining_things_but_you_think_one_of_them_may_have_given_you_a_wink"),
      (else_try),
        (call_script, "script_troop_get_relation_with_troop", "trp_player", "$love_interest_in_town"),
        (gt, reg0, 0),
        (assign, ":var1", 0),
        (try_begin),
          (check_quest_active, "qst_visit_lady"),
          (quest_slot_eq, "qst_visit_lady", 6, "$love_interest_in_town"),
          (assign, ":var1", 1),
        (else_try),
          (check_quest_active, "qst_formal_marriage_proposal"),
          (quest_slot_eq, "qst_formal_marriage_proposal", 6, "$love_interest_in_town"),
          (this_or_next|check_quest_succeeded, "qst_formal_marriage_proposal"),
          (check_quest_failed, "qst_formal_marriage_proposal"),
          (assign, ":var1", 1),
        (else_try),
          (check_quest_active, "qst_duel_courtship_rival"),
          (quest_slot_eq, "qst_duel_courtship_rival", 6, "$love_interest_in_town"),
          (this_or_next|check_quest_succeeded, "qst_duel_courtship_rival"),
          (check_quest_failed, "qst_duel_courtship_rival"),
          (assign, ":var1", 1),
        (try_end),
        (try_begin),
          (store_current_hours, ":var2"),
          (troop_get_slot, ":var3", "$love_interest_in_town", 4),
          (val_sub, ":var2", ":var3"),
          (this_or_next|ge, ":var2", 96),
          (eq, ":var1", 1),
          (try_begin),
            (is_between, "$g_encountered_party", "p_town_1", "p_castle_1"),
            (str_store_string, s12, "str_the_guards_glare_at_you_and_you_know_better_than_to_ask_permission_to_enter_however_as_you_walk_back_towards_your_lodgings_an_elderly_lady_dressed_in_black_approaches_you_i_am_s11s_nurse_she_whispers_urgently_don_this_dress_and_throw_the_hood_over_your_face_i_will_smuggle_you_inside_the_castle_to_meet_her_in_the_guise_of_a_skullery_maid__the_guards_will_not_look_too_carefully_but_i_beg_you_for_all_of_our_sakes_be_discrete"),
            (assign, "$nurse_assists_entry", 1),
          (else_try),
            (str_store_string, s12, "str_the_guards_glare_at_you_and_you_know_better_than_to_ask_permission_to_enter_however_as_you_walk_back_towards_your_lodgings_an_elderly_lady_dressed_in_black_approaches_you_i_am_s11s_nurse_she_whispers_urgently_wait_for_a_while_by_the_spring_outside_the_walls_i_will_smuggle_her_ladyship_out_to_meet_you_dressed_in_the_guise_of_a_shepherdess_but_i_beg_you_for_all_of_our_sakes_be_discrete"),
            (assign, "$nurse_assists_entry", 2),
          (try_end),
        (else_try),
          (str_store_string, s12, "str_the_guards_glare_at_you_and_you_know_better_than_to_ask_permission_to_enter_however_as_you_walk_back_towards_your_lodgings_an_elderly_lady_dressed_in_black_approaches_you_i_am_s11s_nurse_she_whispers_urgently_her_ladyship_asks_me_to_say_that_yearns_to_see_you_but_that_you_should_bide_your_time_a_bit_her_ladyship_says_that_to_arrange_a_clandestine_meeting_so_soon_after_your_last_encounter_would_be_too_dangerous"),
        (try_end),
      (else_try),
        (str_store_string, s12, "str_the_guards_glare_at_you_and_you_know_better_than_to_ask_permission_to_enter"),
      (try_end),
    ],
    [
      ("enter",
      [
        (call_script, "script_get_kingdom_lady_social_determinants", "$love_interest_in_town"),
        (troop_slot_eq, reg0, 38, 1),
      ],
      "Enter",
      [
        (jump_to_menu, "mnu_town"),
        (call_script, "script_setup_meet_lady", "$love_interest_in_town", "$g_encountered_party"),
      ]
      ),

      ("nurse",
      [
        (eq, "$nurse_assists_entry", 1),
      ],
      "Go_with_the_nurse",
      [
        (jump_to_menu, "mnu_town"),
        (call_script, "script_setup_meet_lady", "$love_interest_in_town", "$g_encountered_party"),
      ]
      ),

      ("nurse",
      [
        (eq, "$nurse_assists_entry", 2),
      ],
      "Wait_by_the_spring",
      [
        (jump_to_menu, "mnu_town"),
        (call_script, "script_setup_meet_lady", "$love_interest_in_town", "$g_encountered_party"),
      ]
      ),

      ("leave",
      [],
      "Leave",
      [
        (jump_to_menu, "mnu_town"),
      ]
      ),
    ],
  ),

  ("kill_local_merchant_begin", 0,
    "You spot your victim and follow him, observing as he turns a corner into a dark alley. This will surely be your best opportunity to attack him.",
    "none",
    [],
    [
      ("continue",
      [],
      "Continue...",
      [
        (set_jump_mission, "mt_back_alley_kill_local_merchant"),
        (party_get_slot, ":var0", "$qst_kill_local_merchant_center", 17),
        (modify_visitors_at_site, ":var0"),
        (reset_visitors),
        (set_visitor, 0, "trp_player"),
        (set_visitor, 1, "trp_local_merchant"),
        (jump_to_menu, "mnu_town"),
        (jump_to_scene, ":var0"),
        (change_screen_mission),
      ]
      ),
    ],
  ),

  ("debug_alert_from_s65", 0,
    "DEBUG ALERT: {s65}",
    "none",
    [],
    [
      ("continue",
      [],
      "Continue...",
      [
        (assign, "$debug_message_in_queue", 0),
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("auto_return_to_map", 0,
    "stub",
    "none",
    [
      (change_screen_map),
    ],
    [
    ],
    [],
  ),

  ("bandit_lair", 0,
    "{s3}",
    "none",
    [
      (try_begin),
        (eq, "$loot_screen_shown", 1),
        (try_for_range, ":var0", "pt_steppe_bandits", "pt_deserters"),
          (party_template_slot_eq, ":var0", 4, "$g_encountered_party"),
          (party_template_set_slot, ":var0", 4, 0),
        (try_end),
        (try_begin),
          (ge, "$g_encountered_party", 0),
          (party_is_active, "$g_encountered_party"),
          (party_get_template_id, ":var1", "$g_encountered_party"),
          (neq, ":var1", "pt_looter_lair"),
          (remove_party, "$g_encountered_party"),
        (try_end),
        (assign, "$g_leave_encounter", 0),
        (change_screen_return),
      (else_try),
        (party_get_template_id, ":var1", "$g_encountered_party"),
        (try_begin),
          (this_or_next|eq, ":var1", "pt_sea_raider_lair"),
          (eq, ":var1", "pt_steppe_bandit_lair"),
          (assign, ":var2", "trp_skeleton_warrior"),
        (else_try),
          (this_or_next|eq, ":var1", "pt_goblin_bandit_lair"),
          (this_or_next|eq, ":var1", "pt_goblin_bandit5_lair"),
          (this_or_next|eq, ":var1", "pt_goblin_bandit2_lair"),
          (this_or_next|eq, ":var1", "pt_amazon_hunters_lair"),
          (eq, ":var1", "pt_goblin_bandit4_lair"),
          (assign, ":var2", "trp_goblin_brave"),
        (else_try),
          (this_or_next|eq, ":var1", "pt_goblin_bandit3_lair"),
          (this_or_next|eq, ":var1", "pt_beastmen_bandit_lair"),
          (eq, ":var1", "pt_goblin_bandit6_lair"),
          (assign, ":var2", "trp_nord_footman"),
        (else_try),
          (this_or_next|eq, ":var1", "pt_desert_bandit_lair"),
          (eq, ":var1", "pt_desert_bandits2_lair"),
          (assign, ":var2", "trp_desert_bandit"),
        (else_try),
          (eq, ":var1", "pt_amazon_bandit_lair"),
          (assign, ":var2", "trp_bandit_amazon_warrior"),
        (else_try),
          (eq, ":var1", "pt_mountain_bandits_lair"),
          (assign, ":var2", "trp_mountain_bandit"),
        (else_try),
          (eq, ":var1", "pt_hunter_bandit_lair"),
          (assign, ":var2", "trp_bandit"),
        (else_try),
          (this_or_next|eq, ":var1", "pt_sea_raider2_lair"),
          (eq, ":var1", "pt_taiga_bandit_lair"),
          (assign, ":var2", "trp_skaven_rabble"),
        (else_try),
          (eq, ":var1", "pt_nippon_bandit_lair"),
          (assign, ":var2", "trp_nippon_ninja"),
        (try_end),
        (str_store_troop_name_plural, s4, ":var2"),
        (str_store_string, s5, "str_bandit_approach_defile"),
        (try_begin),
          (eq, ":var2", "trp_desert_bandit"),
          (str_store_string, s5, "str_bandit_approach_defile"),
        (else_try),
          (eq, ":var2", "trp_mountain_bandit"),
          (str_store_string, s5, "str_bandit_approach_cliffs"),
        (else_try),
          (eq, ":var2", "trp_bandit"),
          (str_store_string, s5, "str_bandit_approach_swamp"),
        (else_try),
          (eq, ":var2", "trp_taiga_bandit"),
          (str_store_string, s5, "str_bandit_approach_swamp"),
        (else_try),
          (eq, ":var2", "trp_steppe_bandit"),
          (str_store_string, s5, "str_bandit_approach_thickets"),
        (else_try),
          (eq, ":var2", "trp_sea_raider"),
          (str_store_string, s5, "str_bandit_approach_cove"),
        (else_try),
          (eq, ":var2", "trp_mercenary_bandit"),
          (str_store_string, s5, "str_bandit_approach_thickets"),
        (else_try),
          (eq, ":var2", "trp_goblin_bandit"),
          (str_store_string, s5, "str_bandit_approach_thickets"),
        (else_try),
          (eq, ":var2", "trp_beastmen_bandit"),
          (str_store_string, s5, "str_bandit_approach_cliffs"),
        (else_try),
          (eq, ":var2", "trp_amazon_bandit"),
          (str_store_string, s5, "str_bandit_approach_thickets"),
        (else_try),
          (eq, ":var2", "trp_hunter_bandit"),
          (str_store_string, s5, "str_bandit_approach_defile"),
        (try_end),
        (try_begin),
          (party_slot_eq, "$g_encountered_party", 8, 0),
          (str_store_string, s3, "str_bandit_hideout_preattack"),
        (else_try),
          (party_get_template_id, ":var1", "$g_encountered_party"),
          (eq, ":var1", "pt_looter_lair"),
          (party_slot_eq, "$g_encountered_party", 8, 1),
          (str_store_string, s3, "str_lost_startup_hideout_attack"),
        (else_try),
          (party_slot_eq, "$g_encountered_party", 8, 1),
          (str_store_string, s3, "str_bandit_hideout_failure"),
          (set_background_mesh, "mesh_pic_wounded"),
          (try_begin),
            (eq, "$character_gender", 1),
            (set_background_mesh, "mesh_pic_wounded_fem"),
          (try_end),
        (else_try),
          (party_slot_eq, "$g_encountered_party", 8, 2),
          (str_store_string, s3, "str_bandit_hideout_success"),
          (set_background_mesh, "mesh_pic_victory"),
        (try_end),
      (try_end),
    ],
    [
      ("continue_1",
      [
        (party_slot_eq, "$g_encountered_party", 8, 0),
      ],
      "Attack_the_hideout...",
      [
        (party_set_slot, "$g_encountered_party", 8, 1),
        (party_get_template_id, ":var0", "$g_encountered_party"),
        (assign, "$g_enemy_party", "$g_encountered_party"),
        (assign, ":var1", "scn_lair_steppe_bandits"),
        (assign, ":var2", 0),
        (try_begin),
          (eq, ":var0", "pt_steppe_bandit_lair"),
          (assign, ":var2", "trp_skeleton_warrior"),
          (assign, ":var1", "scn_lair_mountain_bandits"),
        (else_try),
          (eq, ":var0", "pt_goblin_bandit4_lair"),
          (assign, ":var2", "trp_goblin_bandit"),
          (assign, ":var1", "scn_lair_steppe_bandits"),
        (else_try),
          (eq, ":var0", "pt_goblin_bandit3_lair"),
          (assign, ":var2", "trp_nord_trained_footman"),
          (assign, ":var1", "scn_lair_steppe_bandits"),
        (else_try),
          (eq, ":var0", "pt_goblin_bandits6"),
          (assign, ":var2", "trp_nord_trained_footman"),
          (assign, ":var1", "scn_lair_steppe_bandits"),
        (else_try),
          (eq, ":var0", "pt_sea_raider_lair"),
          (assign, ":var2", "trp_skeleton_warrior"),
          (assign, ":var1", "scn_lair_sea_raiders"),
        (else_try),
          (eq, ":var0", "pt_desert_bandits2_lair"),
          (assign, ":var2", "trp_desert_bandit"),
          (assign, ":var1", "scn_lair_desert_bandits"),
        (else_try),
          (eq, ":var0", "pt_amazon_bandit_lair"),
          (assign, ":var2", "trp_amazon_bandit"),
          (assign, ":var1", "scn_lair_forest_bandits"),
        (else_try),
          (eq, ":var0", "pt_hunter_bandit_lair"),
          (assign, ":var2", "trp_bandit"),
          (assign, ":var1", "scn_lair_desert_bandits"),
        (else_try),
          (eq, ":var0", "pt_desert_bandit_lair"),
          (assign, ":var2", "trp_desert_hustler"),
          (assign, ":var1", "scn_lair_desert_bandits"),
        (else_try),
          (eq, ":var0", "pt_goblin_bandit_lair"),
          (assign, ":var2", "trp_goblin_bandit"),
          (assign, ":var1", "scn_lair_steppe_bandits"),
        (else_try),
          (eq, ":var0", "pt_taiga_bandit_lair"),
          (assign, ":var2", "trp_skaven_corsair"),
          (assign, ":var1", "scn_lair_steppe_bandits"),
        (else_try),
          (eq, ":var0", "pt_sea_raider2_lair"),
          (assign, ":var2", "trp_skaven_corsair"),
          (assign, ":var1", "scn_lair_sea_raiders"),
        (else_try),
          (eq, ":var0", "pt_goblin_bandit5_lair"),
          (assign, ":var2", "trp_goblin_bandit"),
          (assign, ":var1", "scn_lair_steppe_bandits"),
        (else_try),
          (eq, ":var0", "pt_mountain_bandits_lair"),
          (assign, ":var2", "trp_goblin_bandit"),
          (assign, ":var1", "scn_lair_mountain_bandits"),
        (else_try),
          (eq, ":var0", "pt_beastmen_bandit_lair"),
          (assign, ":var2", "trp_nord_trained_footman"),
          (assign, ":var1", "scn_lair_steppe_bandits"),
        (else_try),
          (eq, ":var0", "pt_nippon_bandit_lair"),
          (assign, ":var2", "trp_nippon_ninja"),
          (assign, ":var1", "scn_lair_steppe_bandits"),
        (else_try),
          (eq, ":var0", "pt_goblin_bandit2_lair"),
          (assign, ":var2", "trp_goblin_bandit"),
          (assign, ":var1", "scn_lair_steppe_bandits"),
        (else_try),
          (eq, ":var0", "pt_amazon_hunters_lair"),
          (assign, ":var2", "trp_goblin_bandit"),
          (assign, ":var1", "scn_lair_forest_bandits"),
        (else_try),
          (assign, ":var1", "scn_lair_steppe_bandits"),
          (assign, ":var2", "trp_goblin_bandit"),
        (try_end),
        (modify_visitors_at_site, ":var1"),
        (reset_visitors),
        (store_character_level, ":var3", "trp_player"),
        (store_add, ":var4", 5, ":var3"),
        (val_div, ":var4", 3),
        (val_max, ":var4", 1),
        (try_for_range, ":var5", 0, ":var4"),
          (store_random_in_range, ":var6", 2, 5),
          (set_visitor, ":var6", ":var2", 1),
        (try_end),
        (party_clear, "p_temp_casualties"),
        (set_party_battle_mode),
        (set_battle_advantage, 0),
        (assign, "$g_battle_result", 0),
        (set_jump_mission, "mt_bandit_lair"),
        (jump_to_scene, ":var1"),
        (change_screen_mission),
      ]
      ),

      ("leave_no_attack",
      [
        (party_slot_eq, "$g_encountered_party", 8, 0),
      ],
      "Leave...",
      [
        (change_screen_return),
      ]
      ),

      ("leave_victory",
      [
        (party_slot_eq, "$g_encountered_party", 8, 2),
      ],
      "Continue...",
      [
        (try_for_range, ":var0", "pt_steppe_bandits", "pt_deserters"),
          (party_template_slot_eq, ":var0", 4, "$g_encountered_party"),
          (party_template_set_slot, ":var0", 4, 0),
        (try_end),
        (party_get_template_id, ":var1", "$g_encountered_party"),
        (try_begin),
          (neq, ":var1", "pt_looter_lair"),
          (check_quest_active, "qst_destroy_bandit_lair"),
          (quest_slot_eq, "qst_destroy_bandit_lair", 8, "$g_encountered_party"),
          (call_script, "script_succeed_quest", "qst_destroy_bandit_lair"),
        (try_end),
        (assign, "$g_leave_encounter", 0),
        (change_screen_return),
        (try_begin),
          (eq, "$loot_screen_shown", 0),
          (assign, "$loot_screen_shown", 1),
          (try_begin),
            (gt, "$g_ally_party", 0),
            (call_script, "script_party_add_party", "$g_ally_party", "p_temp_party"),
          (else_try),
            (party_get_num_attached_parties, ":var2", "p_main_party"),
            (gt, ":var2", 0),
            (party_get_attached_party_with_rank, ":var3", "p_main_party", 0),
            (call_script, "script_party_add_party", ":var3", "p_temp_party"),
          (try_end),
          (troop_clear_inventory, "trp_temp_troop"),
          (party_get_num_companion_stacks, ":var4", "p_temp_casualties"),
          (try_for_range, ":var5", 0, ":var4"),
            (party_stack_get_troop_id, ":var6", "p_temp_casualties", ":var5"),
            (try_begin),
              (party_stack_get_size, ":var7", "p_temp_casualties", ":var5"),
              (party_stack_get_troop_id, ":var6", "p_temp_casualties", ":var5"),
              (gt, ":var7", 0),
              (party_add_members, "p_total_enemy_casualties", ":var6", ":var7"),
              (party_stack_get_num_wounded, ":var8", "p_temp_casualties", ":var5"),
              (gt, ":var8", 0),
              (party_wound_members, "p_total_enemy_casualties", ":var6", ":var8"),
            (try_end),
          (try_end),
          (troop_clear_inventory, "trp_temp_troop"),
          (call_script, "script_party_calculate_loot", "p_total_enemy_casualties"),
          (gt, reg0, 0),
          (troop_sort_inventory, "trp_temp_troop"),
          (try_begin),
            (eq, "$g_autoloot_enable", 1),
            (call_script, "script_party_calculate_loot", "p_total_enemy_casualties"),
            (assign, "$dplmc_return_menu", "mnu_bandit_lair"),
            (assign, "$lord_selected", "trp_player"),
            (str_clear, s30),
            (jump_to_menu, "mnu_dplmc_manage_loot_pool"),
          (else_try),
            (change_screen_loot, "trp_temp_troop"),
          (try_end),
        (try_end),
        (try_begin),
          (ge, "$g_encountered_party", 0),
          (party_is_active, "$g_encountered_party"),
          (party_get_template_id, ":var1", "$g_encountered_party"),
          (eq, ":var1", "pt_looter_lair"),
          (remove_party, "$g_encountered_party"),
        (try_end),
      ]
      ),

      ("leave_defeat",
      [
        (party_slot_eq, "$g_encountered_party", 8, 1),
      ],
      "Continue...",
      [
        (try_for_range, ":var0", "pt_steppe_bandits", "pt_deserters"),
          (party_template_slot_eq, ":var0", 4, "$g_encountered_party"),
          (party_template_set_slot, ":var0", 4, 0),
        (try_end),
        (try_begin),
          (party_get_template_id, ":var1", "$g_encountered_party"),
          (neq, ":var1", "pt_looter_lair"),
          (check_quest_active, "qst_destroy_bandit_lair"),
          (quest_slot_eq, "qst_destroy_bandit_lair", 8, "$g_encountered_party"),
          (call_script, "script_fail_quest", "qst_destroy_bandit_lair"),
        (try_end),
        (try_begin),
          (ge, "$g_encountered_party", 0),
          (party_is_active, "$g_encountered_party"),
          (party_get_template_id, ":var1", "$g_encountered_party"),
          (neq, ":var1", "pt_looter_lair"),
          (remove_party, "$g_encountered_party"),
        (try_end),
        (assign, "$g_leave_encounter", 0),
        (try_begin),
          (party_is_active, "$g_encountered_party"),
          (party_set_slot, "$g_encountered_party", 8, 0),
        (try_end),
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("notification_player_faction_political_issue_resolved", 0,
    "After consulting with the peers of the realm, {s10} has decided to confer {s11} on {s12}.",
    "none",
    [
      (assign, ":var0", "$g_notification_menu_var1"),
      (assign, ":var1", "$g_notification_menu_var2"),
      (faction_get_slot, ":var2", "$players_kingdom", 11),
      (str_store_troop_name, s10, ":var2"),
      (try_begin),
        (eq, ":var0", 1),
        (str_store_string, s11, "str_the_marshalship"),
      (else_try),
        (str_store_party_name, s11, ":var0"),
      (try_end),
      (str_store_troop_name, s12, ":var1"),
    ],
    [
      ("continue",
      [],
      "Continue...",
      [
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("notification_player_faction_political_issue_resolved_for_player", 0,
    "After consulting with the peers of the realm, {s10} has decided to confer {s11} on you. You may decline the honor, but it will probably mean that you will not receive other awards for a little while.{s12}",
    "none",
    [
      (faction_get_slot, ":var0", "$players_kingdom", 11),
      (str_store_troop_name, s10, ":var0"),
      (faction_get_slot, ":var1", "$players_kingdom", 64),
      (try_begin),
        (eq, ":var1", 1),
        (str_store_string, s11, "str_the_marshalship"),
        (str_store_string, s12, "@^^Note that so long as you remain marshal, the lords of the realm will be expecting you to lead them on campaign. So, if you are awaiting a feast, either for a wedding or for other purposes, you may wish to resign the marshalship by speaking to your liege."),
      (else_try),
        (str_clear, s12),
        (str_store_party_name, s11, ":var1"),
      (try_end),
    ],
    [
      ("accept",
      [],
      "Accept_the_honor",
      [
        (faction_get_slot, ":var0", "$players_kingdom", 64),
        (try_begin),
          (eq, ":var0", 1),
          (call_script, "script_check_and_finish_active_army_quests_for_faction", "$players_kingdom"),
          (call_script, "script_appoint_faction_marshall", "$players_kingdom", "trp_player"),
          (unlock_achievement, 41),
          (try_begin),
            (eq, "$disposition", 1),
            (call_script, "script_change_player_honor", 1),
          (else_try),
            (eq, "$disposition", 2),
            (call_script, "script_change_player_honor", -1),
          (try_end),
        (else_try),
          (call_script, "script_give_center_to_lord", ":var0", "trp_player", 0),
        (try_end),
        (faction_set_slot, "$players_kingdom", 64, 0),
        (try_for_range, ":var1", "trp_npc1", "trp_knight_1_1_wife"),
          (store_faction_of_troop, ":var2", ":var1"),
          (eq, ":var2", "$players_kingdom"),
          (troop_set_slot, ":var1", 154, -1),
        (try_end),
        (change_screen_return),
      ]
      ),

      ("decline",
      [],
      "Decline_the_honor",
      [
        (faction_get_slot, ":var0", "$players_kingdom", 64),
        (try_begin),
          (is_between, ":var0", "p_town_1", "p_salt_mine"),
          (assign, "$g_dont_give_fief_to_player_days", 30),
        (else_try),
          (assign, "$g_dont_give_marshalship_to_player_days", 30),
        (try_end),
        (try_for_range, ":var1", "trp_npc1", "trp_knight_1_1_wife"),
          (store_faction_of_troop, ":var2", ":var1"),
          (eq, ":var2", "$players_kingdom"),
          (troop_set_slot, ":var1", 154, -1),
        (try_end),
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("start_phase_2_5", mnf_disable_all_keys,
    "{!}{s16}",
    "none",
    [
      (str_store_party_name, s1, "$g_starting_town"),
      (str_store_string, s16, "$g_journey_string"),
    ],
    [
      ("continue",
      [],
      "Continue...",
      [
        (jump_to_menu, "mnu_start_phase_3"),
      ]
      ),
    ],
  ),

  ("start_phase_3", mnf_disable_all_keys,
    "{s16}^^You are exhausted by the time you find the inn in {s1}, and fall asleep quickly. However, you awake before dawn and are eager to explore your surroundings. You venture out onto the streets, which are still deserted. All of a sudden, you hear a sound that stands the hairs of your neck on end -- the rasp of a blade sliding from its scabbard...",
    "none",
    [
      (assign, ":var0", 1),
      (try_begin),
        (eq, "$current_startup_quest_phase", 1),
        (try_begin),
          (eq, "$g_killed_first_bandit", 1),
          (str_store_string, s11, "str_killed_bandit_at_alley_fight"),
        (else_try),
          (str_store_string, s11, "str_wounded_by_bandit_at_alley_fight"),
        (try_end),
        (jump_to_menu, "mnu_start_phase_4"),
        (assign, ":var0", 0),
      (else_try),
        (eq, "$current_startup_quest_phase", 3),
        (try_begin),
          (eq, "$g_killed_first_bandit", 1),
          (str_store_string, s11, "str_killed_bandit_at_alley_fight"),
        (else_try),
          (str_store_string, s11, "str_wounded_by_bandit_at_alley_fight"),
        (try_end),
        (jump_to_menu, "mnu_start_phase_4"),
        (assign, ":var0", 0),
      (try_end),
      (str_store_party_name, s1, "$g_starting_town"),
      (str_clear, s16),
      (eq, ":var0", 1),
    ],
    [
      ("continue",
      [],
      "Continue...",
      [
        (assign, "$g_starting_town", "$current_town"),
        (call_script, "script_player_arrived"),
        (party_set_morale, "p_main_party", 100),
        (set_encountered_party, "$current_town"),
        (call_script, "script_prepare_alley_to_fight"),
      ]
      ),
    ],
  ),

  ("start_phase_4", mnf_disable_all_keys,
    "{s11}",
    "none",
    [
      (assign, ":var0", 1),
      (try_begin),
        (eq, "$current_startup_quest_phase", 2),
        (change_screen_return),
        (assign, ":var0", 0),
      (else_try),
        (eq, "$current_startup_quest_phase", 3),
        (str_store_string, s11, "str_merchant_and_you_call_some_townsmen_and_guards_to_get_ready_and_you_get_out_from_tavern"),
      (else_try),
        (eq, "$current_startup_quest_phase", 4),
        (try_begin),
          (eq, "$g_killed_first_bandit", 1),
          (str_store_string, s11, "str_town_fight_ended_you_and_citizens_cleaned_town_from_bandits"),
        (else_try),
          (str_store_string, s11, "str_town_fight_ended_you_and_citizens_cleaned_town_from_bandits_you_wounded"),
        (try_end),
      (try_end),
      (eq, ":var0", 1),
    ],
    [
      ("continue",
      [
        (this_or_next|eq, "$current_startup_quest_phase", 1),
        (eq, "$current_startup_quest_phase", 4),
      ],
      "Continue...",
      [
        (assign, "$town_entered", 1),
        (try_begin),
          (eq, "$current_town", "p_town_1"),
          (assign, ":var0", "trp_nord_merchant"),
          (assign, ":var1", "scn_town_1_room"),
        (else_try),
          (eq, "$current_town", "p_town_5"),
          (assign, ":var0", "trp_rhodok_merchant"),
          (assign, ":var1", "scn_town_5_room"),
        (else_try),
          (eq, "$current_town", "p_town_6"),
          (assign, ":var0", "trp_swadian_merchant"),
          (assign, ":var1", "scn_town_6_room"),
        (else_try),
          (eq, "$current_town", "p_town_8"),
          (assign, ":var0", "trp_vaegir_merchant"),
          (assign, ":var1", "scn_town_8_room"),
        (else_try),
          (eq, "$current_town", "p_town_10"),
          (assign, ":var0", "trp_khergit_merchant"),
          (assign, ":var1", "scn_town_10_room"),
        (else_try),
          (eq, "$current_town", "p_town_19"),
          (assign, ":var0", "trp_sarranid_merchant"),
          (assign, ":var1", "scn_town_19_room"),
        (try_end),
        (modify_visitors_at_site, ":var1"),
        (reset_visitors),
        (set_visitor, 0, "trp_player"),
        (set_visitor, 9, ":var0"),
        (assign, "$talk_context", 21),
        (assign, "$dialog_with_merchant_ended", 0),
        (set_jump_mission, "mt_meeting_merchant"),
        (jump_to_scene, ":var1"),
        (change_screen_mission),
      ]
      ),

      ("continue",
      [
        (eq, "$current_startup_quest_phase", 3),
      ],
      "Continue...",
      [
        (call_script, "script_prepare_town_to_fight"),
      ]
      ),
    ],
  ),

  ("lost_tavern_duel", mnf_disable_all_keys,
    "{s11}",
    "none",
    [
      (try_begin),
        (agent_get_troop_id, ":var0", "$g_main_attacker_agent"),
        (eq, ":var0", "trp_belligerent_drunk"),
        (str_store_string, s11, "str_lost_tavern_duel_ordinary"),
      (else_try),
        (agent_get_troop_id, ":var0", "$g_main_attacker_agent"),
        (eq, ":var0", "trp_hired_assassin"),
        (str_store_string, s11, "str_lost_tavern_duel_assassin"),
      (try_end),
      (troop_set_slot, "trp_hired_assassin", 12, -1),
    ],
    [
      ("continue",
      [],
      "Continue...",
      [
        (jump_to_menu, "mnu_town"),
      ]
      ),
    ],
  ),

  ("establish_court", mnf_disable_all_keys,
    "To establish {s4} as your court will require a small refurbishment. In particular, you will need a set of tools and two bolts of fabric. You own {reg1} of the former and {reg0} of the latter. It may also take a short while for some of your followers to relocate here. Do you wish to proceed?",
    "none",
    [
      (call_script, "script_dplmc_count_item_for_court", "trp_player", -1, -1),
      (assign, "$diplomacy_var", reg0),
      (assign, "$diplomacy_var2", reg1),
      (call_script, "script_dplmc_count_item_for_court", "trp_household_possessions", -1, -1),
      (val_add, "$diplomacy_var", reg0),
      (val_add, "$diplomacy_var2", reg1),
      (str_store_party_name, s4, "$g_encountered_party"),
      (assign, reg0, "$diplomacy_var"),
      (assign, reg1, "$diplomacy_var2"),
    ],
    [
      ("establish",
      [
        (ge, "$diplomacy_var", 2),
        (ge, "$diplomacy_var2", 1),
      ],
      "Establish_{s4}_as_your_court",
      [
        (assign, "$g_player_court", "$current_town"),
        (call_script, "script_dplmc_count_item_for_court", "trp_household_possessions", 2, 1),
        (call_script, "script_dplmc_count_item_for_court", "trp_player", reg0, reg1),
        (jump_to_menu, "mnu_town"),
      ]
      ),

      ("check_inv",
      [],
      "Check_your_household_inventory",
      [
        (change_screen_loot, "trp_household_possessions"),
      ]
      ),

      ("continue",
      [],
      "Hold_off...",
      [
        (jump_to_menu, "mnu_town"),
      ]
      ),
    ],
  ),

  ("notification_relieved_as_marshal", mnf_disable_all_keys,
    "{s4} wishes to inform you that your services as marshal are no longer required. In honor of valiant efforts on behalf of the realm over the last {reg4} days, however, {reg8?she:he} offers you a purse of {reg5} denars.",
    "none",
    [
      (assign, reg4, "$g_player_days_as_marshal"),
      (store_div, ":var0", "$g_player_days_as_marshal", 4),
      (val_min, ":var0", 20),
      (store_mul, ":var1", "$g_player_days_as_marshal", 50),
      (val_max, ":var1", 200),
      (val_min, ":var1", 4000),
      (troop_add_gold, "trp_player", ":var1"),
      (call_script, "script_change_troop_renown", "trp_player", ":var0"),
      (assign, "$g_player_days_as_marshal", 0),
      (assign, "$g_dont_give_marshalship_to_player_days", 15),
      (assign, reg5, ":var1"),
      (faction_get_slot, ":var2", "$players_kingdom", 11),
      (str_store_troop_name, s4, ":var2"),
      (assign, ":var3", reg0),
      (call_script, "script_dplmc_store_troop_is_female", ":var2"),
      (assign, reg8, reg0),
      (assign, reg0, ":var3"),
    ],
    [
      ("continue",
      [],
      "Continue",
      [
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("export_import_npcs", mnf_enable_hot_keys,
    "Please choose an NPC, then press key C to view and export/import this character.^^You choose {reg0?{s0}:none}.",
    "none",
    [
      (assign, reg0, "$g_player_troop"),
      (str_store_troop_name, s0, "$g_player_troop"),
    ],
    [
      ("export_import_back",
      [],
      "Go_back",
      [
        (assign, "$g_player_troop", "trp_player"),
        (set_player_troop, "$g_player_troop"),
        (jump_to_menu, "mnu_camp_action"),
      ]
      ),

      ("export_import_npc1",
      [
        (store_add, ":var0", "trp_npc1", 0),
        (str_store_troop_name, s0, ":var0"),
      ],
      "{s0}",
      [
        (store_add, ":var0", "trp_npc1", 0),
        (assign, "$g_player_troop", ":var0"),
        (set_player_troop, "$g_player_troop"),
      ]
      ),

      ("export_import_npc2",
      [
        (store_add, ":var0", "trp_npc1", 1),
        (str_store_troop_name, s0, ":var0"),
      ],
      "{s0}",
      [
        (store_add, ":var0", "trp_npc1", 1),
        (assign, "$g_player_troop", ":var0"),
        (set_player_troop, "$g_player_troop"),
      ]
      ),

      ("export_import_npc3",
      [
        (store_add, ":var0", "trp_npc1", 2),
        (str_store_troop_name, s0, ":var0"),
      ],
      "{s0}",
      [
        (store_add, ":var0", "trp_npc1", 2),
        (assign, "$g_player_troop", ":var0"),
        (set_player_troop, "$g_player_troop"),
      ]
      ),

      ("export_import_npc4",
      [
        (store_add, ":var0", "trp_npc1", 3),
        (str_store_troop_name, s0, ":var0"),
      ],
      "{s0}",
      [
        (store_add, ":var0", "trp_npc1", 3),
        (assign, "$g_player_troop", ":var0"),
        (set_player_troop, "$g_player_troop"),
      ]
      ),

      ("export_import_npc5",
      [
        (store_add, ":var0", "trp_npc1", 4),
        (str_store_troop_name, s0, ":var0"),
      ],
      "{s0}",
      [
        (store_add, ":var0", "trp_npc1", 4),
        (assign, "$g_player_troop", ":var0"),
        (set_player_troop, "$g_player_troop"),
      ]
      ),

      ("export_import_npc6",
      [
        (store_add, ":var0", "trp_npc1", 5),
        (str_store_troop_name, s0, ":var0"),
      ],
      "{s0}",
      [
        (store_add, ":var0", "trp_npc1", 5),
        (assign, "$g_player_troop", ":var0"),
        (set_player_troop, "$g_player_troop"),
      ]
      ),

      ("export_import_npc7",
      [
        (store_add, ":var0", "trp_npc1", 6),
        (str_store_troop_name, s0, ":var0"),
      ],
      "{s0}",
      [
        (store_add, ":var0", "trp_npc1", 6),
        (assign, "$g_player_troop", ":var0"),
        (set_player_troop, "$g_player_troop"),
      ]
      ),

      ("export_import_npc8",
      [
        (store_add, ":var0", "trp_npc1", 7),
        (str_store_troop_name, s0, ":var0"),
      ],
      "{s0}",
      [
        (store_add, ":var0", "trp_npc1", 7),
        (assign, "$g_player_troop", ":var0"),
        (set_player_troop, "$g_player_troop"),
      ]
      ),

      ("export_import_next",
      [],
      "Next_page",
      [
        (jump_to_menu, "mnu_export_import_npcs_2"),
      ]
      ),
    ],
  ),

  ("export_import_npcs_2", mnf_enable_hot_keys,
    "Please choose an NPC, then press key C to view and export/import this character.^^You choose {reg0?{s0}:none}.",
    "none",
    [
      (assign, reg0, "$g_player_troop"),
      (str_store_troop_name, s0, "$g_player_troop"),
    ],
    [
      ("export_import_prev",
      [],
      "Previous_page",
      [
        (jump_to_menu, "mnu_export_import_npcs"),
      ]
      ),

      ("export_import_npc9",
      [
        (store_add, ":var0", "trp_npc1", 8),
        (str_store_troop_name, s0, ":var0"),
      ],
      "{s0}",
      [
        (store_add, ":var0", "trp_npc1", 8),
        (assign, "$g_player_troop", ":var0"),
        (set_player_troop, "$g_player_troop"),
      ]
      ),

      ("export_import_npc10",
      [
        (store_add, ":var0", "trp_npc1", 9),
        (str_store_troop_name, s0, ":var0"),
      ],
      "{s0}",
      [
        (store_add, ":var0", "trp_npc1", 9),
        (assign, "$g_player_troop", ":var0"),
        (set_player_troop, "$g_player_troop"),
      ]
      ),

      ("export_import_npc11",
      [
        (store_add, ":var0", "trp_npc1", 10),
        (str_store_troop_name, s0, ":var0"),
      ],
      "{s0}",
      [
        (store_add, ":var0", "trp_npc1", 10),
        (assign, "$g_player_troop", ":var0"),
        (set_player_troop, "$g_player_troop"),
      ]
      ),

      ("export_import_npc12",
      [
        (store_add, ":var0", "trp_npc1", 11),
        (str_store_troop_name, s0, ":var0"),
      ],
      "{s0}",
      [
        (store_add, ":var0", "trp_npc1", 11),
        (assign, "$g_player_troop", ":var0"),
        (set_player_troop, "$g_player_troop"),
      ]
      ),

      ("export_import_npc13",
      [
        (store_add, ":var0", "trp_npc1", 12),
        (str_store_troop_name, s0, ":var0"),
      ],
      "{s0}",
      [
        (store_add, ":var0", "trp_npc1", 12),
        (assign, "$g_player_troop", ":var0"),
        (set_player_troop, "$g_player_troop"),
      ]
      ),

      ("export_import_npc14",
      [
        (store_add, ":var0", "trp_npc1", 13),
        (str_store_troop_name, s0, ":var0"),
      ],
      "{s0}",
      [
        (store_add, ":var0", "trp_npc1", 13),
        (assign, "$g_player_troop", ":var0"),
        (set_player_troop, "$g_player_troop"),
      ]
      ),

      ("export_import_npc15",
      [
        (store_add, ":var0", "trp_npc1", 14),
        (str_store_troop_name, s0, ":var0"),
      ],
      "{s0}",
      [
        (store_add, ":var0", "trp_npc1", 14),
        (assign, "$g_player_troop", ":var0"),
        (set_player_troop, "$g_player_troop"),
      ]
      ),

      ("export_import_npc16",
      [
        (store_add, ":var0", "trp_npc1", 15),
        (str_store_troop_name, s0, ":var0"),
      ],
      "{s0}",
      [
        (store_add, ":var0", "trp_npc1", 15),
        (assign, "$g_player_troop", ":var0"),
        (set_player_troop, "$g_player_troop"),
      ]
      ),

      ("export_import_next",
      [],
      "Next_page",
      [
        (jump_to_menu, "mnu_export_import_npcs_3"),
      ]
      ),
    ],
  ),

  ("export_import_npcs_3", mnf_enable_hot_keys,
    "Please choose an NPC, then press key C to view and export/import this character.^^You choose {reg0?{s0}:none}.",
    "none",
    [
      (assign, reg0, "$g_player_troop"),
      (str_store_troop_name, s0, "$g_player_troop"),
    ],
    [
      ("export_import_prev",
      [],
      "Previous_page",
      [
        (jump_to_menu, "mnu_export_import_npcs_2"),
      ]
      ),

      ("export_import_npc17",
      [
        (store_add, ":var0", "trp_npc1", 16),
        (str_store_troop_name, s0, ":var0"),
      ],
      "{s0}",
      [
        (store_add, ":var0", "trp_npc1", 16),
        (assign, "$g_player_troop", ":var0"),
        (set_player_troop, "$g_player_troop"),
      ]
      ),

      ("export_import_npc18",
      [
        (store_add, ":var0", "trp_npc1", 17),
        (str_store_troop_name, s0, ":var0"),
      ],
      "{s0}",
      [
        (store_add, ":var0", "trp_npc1", 17),
        (assign, "$g_player_troop", ":var0"),
        (set_player_troop, "$g_player_troop"),
      ]
      ),

      ("export_import_npc19",
      [
        (store_add, ":var0", "trp_npc1", 18),
        (str_store_troop_name, s0, ":var0"),
      ],
      "{s0}",
      [
        (store_add, ":var0", "trp_npc1", 18),
        (assign, "$g_player_troop", ":var0"),
        (set_player_troop, "$g_player_troop"),
      ]
      ),

      ("export_import_npc20",
      [
        (store_add, ":var0", "trp_npc1", 19),
        (str_store_troop_name, s0, ":var0"),
      ],
      "{s0}",
      [
        (store_add, ":var0", "trp_npc1", 19),
        (assign, "$g_player_troop", ":var0"),
        (set_player_troop, "$g_player_troop"),
      ]
      ),

      ("export_import_npc21",
      [
        (store_add, ":var0", "trp_npc1", 20),
        (str_store_troop_name, s0, ":var0"),
      ],
      "{s0}",
      [
        (store_add, ":var0", "trp_npc1", 20),
        (assign, "$g_player_troop", ":var0"),
        (set_player_troop, "$g_player_troop"),
      ]
      ),

      ("export_import_npc22",
      [
        (store_add, ":var0", "trp_npc1", 21),
        (str_store_troop_name, s0, ":var0"),
      ],
      "{s0}",
      [
        (store_add, ":var0", "trp_npc1", 21),
        (assign, "$g_player_troop", ":var0"),
        (set_player_troop, "$g_player_troop"),
      ]
      ),

      ("export_import_npc23",
      [
        (store_add, ":var0", "trp_npc1", 22),
        (str_store_troop_name, s0, ":var0"),
      ],
      "{s0}",
      [
        (store_add, ":var0", "trp_npc1", 22),
        (assign, "$g_player_troop", ":var0"),
        (set_player_troop, "$g_player_troop"),
      ]
      ),

      ("export_import_npc24",
      [
        (store_add, ":var0", "trp_npc1", 23),
        (str_store_troop_name, s0, ":var0"),
      ],
      "{s0}",
      [
        (store_add, ":var0", "trp_npc1", 23),
        (assign, "$g_player_troop", ":var0"),
        (set_player_troop, "$g_player_troop"),
      ]
      ),

      ("export_import_next",
      [],
      "Next_page",
      [
        (jump_to_menu, "mnu_export_import_npcs_4"),
      ]
      ),
    ],
  ),

  ("export_import_npcs_4", mnf_enable_hot_keys,
    "Please choose an NPC, then press key C to view and export/import this character.^^You choose {reg0?{s0}:none}.",
    "none",
    [
      (assign, reg0, "$g_player_troop"),
      (str_store_troop_name, s0, "$g_player_troop"),
    ],
    [
      ("export_import_prev",
      [],
      "Previous_page",
      [
        (jump_to_menu, "mnu_export_import_npcs_3"),
      ]
      ),

      ("export_import_npc25",
      [
        (store_add, ":var0", "trp_npc1", 24),
        (str_store_troop_name, s0, ":var0"),
      ],
      "{s0}",
      [
        (store_add, ":var0", "trp_npc1", 24),
        (assign, "$g_player_troop", ":var0"),
        (set_player_troop, "$g_player_troop"),
      ]
      ),

      ("export_import_npc26",
      [
        (store_add, ":var0", "trp_npc1", 25),
        (str_store_troop_name, s0, ":var0"),
      ],
      "{s0}",
      [
        (store_add, ":var0", "trp_npc1", 25),
        (assign, "$g_player_troop", ":var0"),
        (set_player_troop, "$g_player_troop"),
      ]
      ),

      ("export_import_npc27",
      [
        (store_add, ":var0", "trp_npc1", 26),
        (str_store_troop_name, s0, ":var0"),
      ],
      "{s0}",
      [
        (store_add, ":var0", "trp_npc1", 26),
        (assign, "$g_player_troop", ":var0"),
        (set_player_troop, "$g_player_troop"),
      ]
      ),

      ("export_import_npc28",
      [
        (store_add, ":var0", "trp_npc1", 27),
        (str_store_troop_name, s0, ":var0"),
      ],
      "{s0}",
      [
        (store_add, ":var0", "trp_npc1", 27),
        (assign, "$g_player_troop", ":var0"),
        (set_player_troop, "$g_player_troop"),
      ]
      ),

      ("export_import_npc29",
      [
        (store_add, ":var0", "trp_npc1", 28),
        (str_store_troop_name, s0, ":var0"),
      ],
      "{s0}",
      [
        (store_add, ":var0", "trp_npc1", 28),
        (assign, "$g_player_troop", ":var0"),
        (set_player_troop, "$g_player_troop"),
      ]
      ),

      ("export_import_npc30",
      [
        (store_add, ":var0", "trp_npc1", 29),
        (str_store_troop_name, s0, ":var0"),
      ],
      "{s0}",
      [
        (store_add, ":var0", "trp_npc1", 29),
        (assign, "$g_player_troop", ":var0"),
        (set_player_troop, "$g_player_troop"),
      ]
      ),

      ("export_import_npc31",
      [
        (store_add, ":var0", "trp_npc1", 30),
        (str_store_troop_name, s0, ":var0"),
      ],
      "{s0}",
      [
        (store_add, ":var0", "trp_npc1", 30),
        (assign, "$g_player_troop", ":var0"),
        (set_player_troop, "$g_player_troop"),
      ]
      ),

      ("export_import_npc32",
      [
        (store_add, ":var0", "trp_npc1", 31),
        (str_store_troop_name, s0, ":var0"),
      ],
      "{s0}",
      [
        (store_add, ":var0", "trp_npc1", 31),
        (assign, "$g_player_troop", ":var0"),
        (set_player_troop, "$g_player_troop"),
      ]
      ),
    ],
  ),

  ("camp_action_change_troops", 0,
    "Which faction?",
    "none",
    [],
    [
      ("empire",
      [],
      "Empire.",
      [
        (faction_set_slot, "fac_player_supporters_faction", 41, "trp_swadian_recruit"),
        (faction_set_slot, "fac_player_supporters_faction", 42, "trp_swadian_militia"),
        (faction_set_slot, "fac_player_supporters_faction", 43, "trp_swadian_footman"),
        (faction_set_slot, "fac_player_supporters_faction", 44, "trp_swadian_infantry"),
        (faction_set_slot, "fac_player_supporters_faction", 45, "trp_swadian_knight"),
        (faction_set_slot, "fac_player_supporters_faction", 46, "trp_warrior_priest"),
        (faction_set_slot, "fac_player_supporters_faction", 75, "pt_kingdom_1_reinforcements_a"),
        (faction_set_slot, "fac_player_supporters_faction", 76, "pt_kingdom_1_reinforcements_b"),
        (faction_set_slot, "fac_player_supporters_faction", 77, "pt_kingdom_1_reinforcements_c"),
        (faction_set_slot, "fac_player_supporters_faction", 78, "pt_kingdom_1_reinforcements_d"),
        (faction_set_slot, "fac_player_supporters_faction", 79, "pt_kingdom_1_reinforcements_e"),
        (faction_set_slot, "fac_player_supporters_faction", 111, "pt_kingdom_1_reinforcements_f"),
        (faction_set_slot, "fac_player_supporters_faction", 112, "pt_kingdom_1_reinforcements_g"),
        (faction_set_slot, "fac_player_supporters_faction", 49, "trp_swadian_sergeant"),
        (faction_set_slot, "fac_player_supporters_faction", 51, "trp_swadian_prison_guard"),
        (faction_set_slot, "fac_player_supporters_faction", 52, "trp_swadian_castle_guard"),
        (faction_set_slot, "fac_player_supporters_faction", 53, "trp_town_walker_1"),
        (faction_set_slot, "fac_player_supporters_faction", 54, "trp_town_walker_2"),
        (faction_set_slot, "fac_player_supporters_faction", 55, "trp_village_walker_1"),
        (faction_set_slot, "fac_player_supporters_faction", 56, "trp_village_walker_2"),
        (faction_set_slot, "fac_player_supporters_faction", 28, 0),
        (faction_set_slot, "fac_player_supporters_faction", 29, 1),
        (faction_set_slot, "fac_player_supporters_faction", 251, "itm_leather_jerkin"),
        (faction_set_slot, "fac_player_supporters_faction", 252, "itm_courtly_outfit"),
        (faction_set_slot, "fac_player_supporters_faction", 253, "itm_leather_boots"),
        (faction_set_slot, "fac_player_supporters_faction", 255, "fac_kingdom_1"),
        (jump_to_menu, "mnu_camp"),
      ]
      ),

      ("dwarfs",
      [],
      "Dwarves.",
      [
        (faction_set_slot, "fac_player_supporters_faction", 41, "trp_vaegir_recruit"),
        (faction_set_slot, "fac_player_supporters_faction", 42, "trp_vaegir_footman"),
        (faction_set_slot, "fac_player_supporters_faction", 43, "trp_vaegir_veteran"),
        (faction_set_slot, "fac_player_supporters_faction", 44, "trp_vaegir_infantry"),
        (faction_set_slot, "fac_player_supporters_faction", 45, "trp_vaegir_knight"),
        (faction_set_slot, "fac_player_supporters_faction", 46, "trp_dwarf_daemon_slayer"),
        (faction_set_slot, "fac_player_supporters_faction", 75, "pt_kingdom_2_reinforcements_a"),
        (faction_set_slot, "fac_player_supporters_faction", 76, "pt_kingdom_2_reinforcements_b"),
        (faction_set_slot, "fac_player_supporters_faction", 77, "pt_kingdom_2_reinforcements_c"),
        (faction_set_slot, "fac_player_supporters_faction", 78, "pt_kingdom_2_reinforcements_d"),
        (faction_set_slot, "fac_player_supporters_faction", 79, "pt_kingdom_2_reinforcements_e"),
        (faction_set_slot, "fac_player_supporters_faction", 111, "pt_kingdom_2_reinforcements_f"),
        (faction_set_slot, "fac_player_supporters_faction", 112, "pt_kingdom_2_reinforcements_g"),
        (faction_set_slot, "fac_player_supporters_faction", 49, "trp_vaegir_knight"),
        (faction_set_slot, "fac_player_supporters_faction", 51, "trp_vaegir_prison_guard"),
        (faction_set_slot, "fac_player_supporters_faction", 52, "trp_vaegir_castle_guard"),
        (faction_set_slot, "fac_player_supporters_faction", 53, "trp_town_walker_5"),
        (faction_set_slot, "fac_player_supporters_faction", 54, "trp_town_walker_6"),
        (faction_set_slot, "fac_player_supporters_faction", 55, "trp_town_walker_5"),
        (faction_set_slot, "fac_player_supporters_faction", 56, "trp_town_walker_6"),
        (faction_set_slot, "fac_player_supporters_faction", 28, 4),
        (faction_set_slot, "fac_player_supporters_faction", 29, 4),
        (faction_set_slot, "fac_player_supporters_faction", 251, "itm_dwarf_leather"),
        (faction_set_slot, "fac_player_supporters_faction", 252, "itm_dwarf_tunic_2"),
        (faction_set_slot, "fac_player_supporters_faction", 253, "itm_dwarf_boots_1"),
        (faction_set_slot, "fac_player_supporters_faction", 254, "itm_dwarf_hat1"),
        (faction_set_slot, "fac_player_supporters_faction", 255, "fac_kingdom_2"),
        (jump_to_menu, "mnu_camp"),
      ]
      ),

      ("highelf",
      [],
      "High_Elves.",
      [
        (faction_set_slot, "fac_player_supporters_faction", 41, "trp_highelf_recruit"),
        (faction_set_slot, "fac_player_supporters_faction", 42, "trp_highelf_footman"),
        (faction_set_slot, "fac_player_supporters_faction", 43, "trp_highelf_veteran"),
        (faction_set_slot, "fac_player_supporters_faction", 44, "trp_highelf_guard"),
        (faction_set_slot, "fac_player_supporters_faction", 45, "trp_highelf_knight"),
        (faction_set_slot, "fac_player_supporters_faction", 46, "trp_white_lion_rider"),
        (faction_set_slot, "fac_player_supporters_faction", 75, "pt_kingdom_3_reinforcements_a"),
        (faction_set_slot, "fac_player_supporters_faction", 76, "pt_kingdom_3_reinforcements_b"),
        (faction_set_slot, "fac_player_supporters_faction", 77, "pt_kingdom_3_reinforcements_c"),
        (faction_set_slot, "fac_player_supporters_faction", 78, "pt_kingdom_3_reinforcements_d"),
        (faction_set_slot, "fac_player_supporters_faction", 79, "pt_kingdom_3_reinforcements_e"),
        (faction_set_slot, "fac_player_supporters_faction", 111, "pt_kingdom_3_reinforcements_f"),
        (faction_set_slot, "fac_player_supporters_faction", 112, "pt_kingdom_3_reinforcements_g"),
        (faction_set_slot, "fac_player_supporters_faction", 49, "trp_highelf_bladelord"),
        (faction_set_slot, "fac_player_supporters_faction", 51, "trp_highelf_prison_guard"),
        (faction_set_slot, "fac_player_supporters_faction", 52, "trp_highelf_castle_guard"),
        (faction_set_slot, "fac_player_supporters_faction", 53, "trp_town_walker_elf"),
        (faction_set_slot, "fac_player_supporters_faction", 54, "trp_town_walker_elfwoman"),
        (faction_set_slot, "fac_player_supporters_faction", 55, "trp_town_walker_elf"),
        (faction_set_slot, "fac_player_supporters_faction", 56, "trp_town_walker_elfwoman"),
        (faction_set_slot, "fac_player_supporters_faction", 28, 8),
        (faction_set_slot, "fac_player_supporters_faction", 29, 5),
        (faction_set_slot, "fac_player_supporters_faction", 251, "itm_leather_jerkin"),
        (faction_set_slot, "fac_player_supporters_faction", 252, "itm_courtly_outfit"),
        (faction_set_slot, "fac_player_supporters_faction", 253, "itm_leather_boots"),
        (faction_set_slot, "fac_player_supporters_faction", 255, "fac_kingdom_3"),
        (jump_to_menu, "mnu_camp"),
      ]
      ),

      ("woodelf",
      [],
      "Wood_Elves.",
      [
        (faction_set_slot, "fac_player_supporters_faction", 41, "trp_woodelf_recruit"),
        (faction_set_slot, "fac_player_supporters_faction", 42, "trp_forest_guard"),
        (faction_set_slot, "fac_player_supporters_faction", 43, "trp_glade_guard"),
        (faction_set_slot, "fac_player_supporters_faction", 44, "trp_glade_rider"),
        (faction_set_slot, "fac_player_supporters_faction", 45, "trp_wild_rider"),
        (faction_set_slot, "fac_player_supporters_faction", 46, "trp_treekin"),
        (faction_set_slot, "fac_player_supporters_faction", 75, "pt_kingdom_18_reinforcements_a"),
        (faction_set_slot, "fac_player_supporters_faction", 76, "pt_kingdom_18_reinforcements_b"),
        (faction_set_slot, "fac_player_supporters_faction", 77, "pt_kingdom_18_reinforcements_c"),
        (faction_set_slot, "fac_player_supporters_faction", 78, "pt_kingdom_18_reinforcements_d"),
        (faction_set_slot, "fac_player_supporters_faction", 79, "pt_kingdom_18_reinforcements_e"),
        (faction_set_slot, "fac_player_supporters_faction", 111, "pt_kingdom_18_reinforcements_f"),
        (faction_set_slot, "fac_player_supporters_faction", 112, "pt_kingdom_18_reinforcements_g"),
        (faction_set_slot, "fac_player_supporters_faction", 49, "trp_shadow_lord"),
        (faction_set_slot, "fac_player_supporters_faction", 51, "trp_woodelf_prison_guard"),
        (faction_set_slot, "fac_player_supporters_faction", 52, "trp_woodelf_castle_guard"),
        (faction_set_slot, "fac_player_supporters_faction", 53, "trp_town_walker_elf"),
        (faction_set_slot, "fac_player_supporters_faction", 54, "trp_town_walker_elfwoman"),
        (faction_set_slot, "fac_player_supporters_faction", 55, "trp_town_walker_elf"),
        (faction_set_slot, "fac_player_supporters_faction", 56, "trp_town_walker_elfwoman"),
        (faction_set_slot, "fac_player_supporters_faction", 28, 8),
        (faction_set_slot, "fac_player_supporters_faction", 29, 5),
        (faction_set_slot, "fac_player_supporters_faction", 251, "itm_leather_jerkin"),
        (faction_set_slot, "fac_player_supporters_faction", 252, "itm_courtly_outfit"),
        (faction_set_slot, "fac_player_supporters_faction", 253, "itm_leather_boots"),
        (faction_set_slot, "fac_player_supporters_faction", 255, "fac_kingdom_18"),
        (jump_to_menu, "mnu_camp"),
      ]
      ),

      ("pirate",
      [],
      "Pirates.",
      [
        (faction_set_slot, "fac_player_supporters_faction", 41, "trp_nord_recruit"),
        (faction_set_slot, "fac_player_supporters_faction", 42, "trp_nord_footman"),
        (faction_set_slot, "fac_player_supporters_faction", 43, "trp_nord_trained_footman"),
        (faction_set_slot, "fac_player_supporters_faction", 44, "trp_nord_warrior"),
        (faction_set_slot, "fac_player_supporters_faction", 45, "trp_nord_veteran"),
        (faction_set_slot, "fac_player_supporters_faction", 46, "trp_pirate_ogre"),
        (faction_set_slot, "fac_player_supporters_faction", 75, "pt_kingdom_4_reinforcements_a"),
        (faction_set_slot, "fac_player_supporters_faction", 76, "pt_kingdom_4_reinforcements_b"),
        (faction_set_slot, "fac_player_supporters_faction", 77, "pt_kingdom_4_reinforcements_c"),
        (faction_set_slot, "fac_player_supporters_faction", 78, "pt_kingdom_4_reinforcements_d"),
        (faction_set_slot, "fac_player_supporters_faction", 79, "pt_kingdom_4_reinforcements_e"),
        (faction_set_slot, "fac_player_supporters_faction", 111, "pt_kingdom_4_reinforcements_f"),
        (faction_set_slot, "fac_player_supporters_faction", 112, "pt_kingdom_4_reinforcements_g"),
        (faction_set_slot, "fac_player_supporters_faction", 49, "trp_nord_champion"),
        (faction_set_slot, "fac_player_supporters_faction", 51, "trp_nord_trained_footman"),
        (faction_set_slot, "fac_player_supporters_faction", 52, "trp_nord_veteran"),
        (faction_set_slot, "fac_player_supporters_faction", 53, "trp_town_walker_1"),
        (faction_set_slot, "fac_player_supporters_faction", 54, "trp_town_walker_2"),
        (faction_set_slot, "fac_player_supporters_faction", 55, "trp_village_walker_1"),
        (faction_set_slot, "fac_player_supporters_faction", 56, "trp_village_walker_2"),
        (faction_set_slot, "fac_player_supporters_faction", 28, 0),
        (faction_set_slot, "fac_player_supporters_faction", 29, 1),
        (faction_set_slot, "fac_player_supporters_faction", 251, "itm_shirt"),
        (faction_set_slot, "fac_player_supporters_faction", 252, "itm_courtly_outfit"),
        (faction_set_slot, "fac_player_supporters_faction", 253, "itm_leather_boots"),
        (jump_to_menu, "mnu_camp"),
      ]
      ),

      ("chaos",
      [],
      "Chaos_Undivided.",
      [
        (faction_set_slot, "fac_player_supporters_faction", 41, "trp_chaos_recruit"),
        (faction_set_slot, "fac_player_supporters_faction", 42, "trp_chaos_footman"),
        (faction_set_slot, "fac_player_supporters_faction", 43, "trp_chaos_trained_footman"),
        (faction_set_slot, "fac_player_supporters_faction", 44, "trp_chaos_warrior"),
        (faction_set_slot, "fac_player_supporters_faction", 45, "trp_chaos_knight"),
        (faction_set_slot, "fac_player_supporters_faction", 46, "trp_undivided_troll"),
        (faction_set_slot, "fac_player_supporters_faction", 75, "pt_kingdom_5_reinforcements_a"),
        (faction_set_slot, "fac_player_supporters_faction", 76, "pt_kingdom_5_reinforcements_b"),
        (faction_set_slot, "fac_player_supporters_faction", 77, "pt_kingdom_5_reinforcements_c"),
        (faction_set_slot, "fac_player_supporters_faction", 78, "pt_kingdom_5_reinforcements_d"),
        (faction_set_slot, "fac_player_supporters_faction", 79, "pt_kingdom_5_reinforcements_e"),
        (faction_set_slot, "fac_player_supporters_faction", 111, "pt_kingdom_5_reinforcements_f"),
        (faction_set_slot, "fac_player_supporters_faction", 112, "pt_kingdom_5_reinforcements_g"),
        (faction_set_slot, "fac_player_supporters_faction", 49, "trp_chaos_knight"),
        (faction_set_slot, "fac_player_supporters_faction", 51, "trp_chaos_prison_guard"),
        (faction_set_slot, "fac_player_supporters_faction", 52, "trp_chaos_castle_guard"),
        (faction_set_slot, "fac_player_supporters_faction", 53, "trp_town_walker_7"),
        (faction_set_slot, "fac_player_supporters_faction", 54, "trp_town_walker_8"),
        (faction_set_slot, "fac_player_supporters_faction", 55, "trp_town_walker_7"),
        (faction_set_slot, "fac_player_supporters_faction", 56, "trp_town_walker_8"),
        (faction_set_slot, "fac_player_supporters_faction", 28, 6),
        (faction_set_slot, "fac_player_supporters_faction", 29, 1),
        (faction_set_slot, "fac_player_supporters_faction", 251, "itm_marauder_lightarmour3"),
        (faction_set_slot, "fac_player_supporters_faction", 252, "itm_chaosrecruit_armor"),
        (faction_set_slot, "fac_player_supporters_faction", 253, "itm_marauder_boots"),
        (faction_set_slot, "fac_player_supporters_faction", 255, "fac_kingdom_5"),
        (jump_to_menu, "mnu_camp"),
      ]
      ),

      ("tombkings",
      [],
      "Tomb_Kings.",
      [
        (faction_set_slot, "fac_player_supporters_faction", 41, "trp_rhodok_tribesman"),
        (faction_set_slot, "fac_player_supporters_faction", 42, "trp_rhodok_spearman"),
        (faction_set_slot, "fac_player_supporters_faction", 43, "trp_rhodok_trained_spearman"),
        (faction_set_slot, "fac_player_supporters_faction", 44, "trp_rhodok_veteran_spearman"),
        (faction_set_slot, "fac_player_supporters_faction", 45, "trp_rhodok_sergeant"),
        (faction_set_slot, "fac_player_supporters_faction", 46, "trp_ushabti"),
        (faction_set_slot, "fac_player_supporters_faction", 75, "pt_kingdom_6_reinforcements_a"),
        (faction_set_slot, "fac_player_supporters_faction", 76, "pt_kingdom_6_reinforcements_b"),
        (faction_set_slot, "fac_player_supporters_faction", 77, "pt_kingdom_6_reinforcements_c"),
        (faction_set_slot, "fac_player_supporters_faction", 78, "pt_kingdom_6_reinforcements_d"),
        (faction_set_slot, "fac_player_supporters_faction", 79, "pt_kingdom_6_reinforcements_e"),
        (faction_set_slot, "fac_player_supporters_faction", 111, "pt_kingdom_6_reinforcements_f"),
        (faction_set_slot, "fac_player_supporters_faction", 112, "pt_kingdom_6_reinforcements_g"),
        (faction_set_slot, "fac_player_supporters_faction", 49, "trp_rhodok_sergeant"),
        (faction_set_slot, "fac_player_supporters_faction", 51, "trp_rhodok_prison_guard"),
        (faction_set_slot, "fac_player_supporters_faction", 52, "trp_rhodok_castle_guard"),
        (faction_set_slot, "fac_player_supporters_faction", 53, "trp_town_walker_9"),
        (faction_set_slot, "fac_player_supporters_faction", 54, "trp_town_walker_10"),
        (faction_set_slot, "fac_player_supporters_faction", 55, "trp_town_walker_9"),
        (faction_set_slot, "fac_player_supporters_faction", 56, "trp_town_walker_10"),
        (faction_set_slot, "fac_player_supporters_faction", 28, 2),
        (faction_set_slot, "fac_player_supporters_faction", 29, 2),
        (faction_set_slot, "fac_player_supporters_faction", 251, "itm_skeleton_archer"),
        (faction_set_slot, "fac_player_supporters_faction", 252, "itm_skel_warrior_gold"),
        (faction_set_slot, "fac_player_supporters_faction", 255, "fac_kingdom_6"),
        (jump_to_menu, "mnu_camp"),
      ]
      ),

      ("lizardmen",
      [],
      "Lizardmen.",
      [
        (faction_set_slot, "fac_player_supporters_faction", 41, "trp_saurus_youngblood"),
        (faction_set_slot, "fac_player_supporters_faction", 42, "trp_saurus_warrior"),
        (faction_set_slot, "fac_player_supporters_faction", 43, "trp_spawning_champion"),
        (faction_set_slot, "fac_player_supporters_faction", 44, "trp_scar_veteran"),
        (faction_set_slot, "fac_player_supporters_faction", 45, "trp_revered_guardian"),
        (faction_set_slot, "fac_player_supporters_faction", 46, "trp_kroxigor"),
        (faction_set_slot, "fac_player_supporters_faction", 75, "pt_kingdom_7_reinforcements_a"),
        (faction_set_slot, "fac_player_supporters_faction", 76, "pt_kingdom_7_reinforcements_b"),
        (faction_set_slot, "fac_player_supporters_faction", 77, "pt_kingdom_7_reinforcements_c"),
        (faction_set_slot, "fac_player_supporters_faction", 78, "pt_kingdom_7_reinforcements_d"),
        (faction_set_slot, "fac_player_supporters_faction", 79, "pt_kingdom_7_reinforcements_e"),
        (faction_set_slot, "fac_player_supporters_faction", 111, "pt_kingdom_7_reinforcements_f"),
        (faction_set_slot, "fac_player_supporters_faction", 112, "pt_kingdom_7_reinforcements_g"),
        (faction_set_slot, "fac_player_supporters_faction", 49, "trp_revered_guardian"),
        (faction_set_slot, "fac_player_supporters_faction", 51, "trp_saurus_prison_guard"),
        (faction_set_slot, "fac_player_supporters_faction", 52, "trp_saurus_castle_guard"),
        (faction_set_slot, "fac_player_supporters_faction", 53, "trp_town_walker_4"),
        (faction_set_slot, "fac_player_supporters_faction", 54, "trp_town_walker_3"),
        (faction_set_slot, "fac_player_supporters_faction", 55, "trp_town_walker_3"),
        (faction_set_slot, "fac_player_supporters_faction", 56, "trp_town_walker_4"),
        (faction_set_slot, "fac_player_supporters_faction", 28, 10),
        (faction_set_slot, "fac_player_supporters_faction", 29, 10),
        (faction_set_slot, "fac_player_supporters_faction", 251, "itm_saurus_bluebody"),
        (faction_set_slot, "fac_player_supporters_faction", 252, "itm_saurus_bluebody"),
        (faction_set_slot, "fac_player_supporters_faction", 255, "fac_kingdom_7"),
        (jump_to_menu, "mnu_camp"),
      ]
      ),

      ("forest_goblin",
      [],
      "Forest_Goblins.",
      [
        (faction_set_slot, "fac_player_supporters_faction", 41, "trp_goblin_tribe"),
        (faction_set_slot, "fac_player_supporters_faction", 42, "trp_goblin_brave"),
        (faction_set_slot, "fac_player_supporters_faction", 43, "trp_goblin_vetbrave"),
        (faction_set_slot, "fac_player_supporters_faction", 44, "trp_wolfrider_warchief"),
        (faction_set_slot, "fac_player_supporters_faction", 45, "trp_goblin_warchief"),
        (faction_set_slot, "fac_player_supporters_faction", 46, "trp_goblin_troll"),
        (faction_set_slot, "fac_player_supporters_faction", 75, "pt_forest_goblins_reinforcements_a"),
        (faction_set_slot, "fac_player_supporters_faction", 76, "pt_forest_goblins_reinforcements_b"),
        (faction_set_slot, "fac_player_supporters_faction", 77, "pt_forest_goblins_reinforcements_c"),
        (faction_set_slot, "fac_player_supporters_faction", 78, "pt_forest_goblins_reinforcements_d"),
        (faction_set_slot, "fac_player_supporters_faction", 79, "pt_forest_goblins_reinforcements_e"),
        (faction_set_slot, "fac_player_supporters_faction", 111, "pt_forest_goblins_reinforcements_f"),
        (faction_set_slot, "fac_player_supporters_faction", 112, "pt_forest_goblins_reinforcements_g"),
        (faction_set_slot, "fac_player_supporters_faction", 49, "trp_goblin_scalp"),
        (faction_set_slot, "fac_player_supporters_faction", 51, "trp_goblin_prison_guard"),
        (faction_set_slot, "fac_player_supporters_faction", 52, "trp_goblin_castle_guard"),
        (faction_set_slot, "fac_player_supporters_faction", 53, "trp_forest_goblin_townsman"),
        (faction_set_slot, "fac_player_supporters_faction", 54, "trp_forest_goblin_townswoman"),
        (faction_set_slot, "fac_player_supporters_faction", 55, "trp_forest_goblin_townsman"),
        (faction_set_slot, "fac_player_supporters_faction", 56, "trp_forest_goblin_townswoman"),
        (faction_set_slot, "fac_player_supporters_faction", 28, 14),
        (faction_set_slot, "fac_player_supporters_faction", 29, 14),
        (faction_set_slot, "fac_player_supporters_faction", 251, "itm_gob_scale_armor"),
        (faction_set_slot, "fac_player_supporters_faction", 252, "itm_goblin_armoured_robe"),
        (faction_set_slot, "fac_player_supporters_faction", 253, "itm_goblin_nomad_boots"),
        (faction_set_slot, "fac_player_supporters_faction", 255, "fac_kingdom_8"),
        (jump_to_menu, "mnu_camp"),
      ]
      ),

      ("night_goblin",
      [],
      "Night_Goblins",
      [
        (faction_set_slot, "fac_player_supporters_faction", 41, "trp_goblin_recruit"),
        (faction_set_slot, "fac_player_supporters_faction", 42, "trp_night_goblin_stabba"),
        (faction_set_slot, "fac_player_supporters_faction", 43, "trp_night_warrior"),
        (faction_set_slot, "fac_player_supporters_faction", 44, "trp_night_boss"),
        (faction_set_slot, "fac_player_supporters_faction", 45, "trp_squig_rider"),
        (faction_set_slot, "fac_player_supporters_faction", 46, "trp_goblin_troll"),
        (faction_set_slot, "fac_player_supporters_faction", 75, "pt_kingdom_8_reinforcements_a"),
        (faction_set_slot, "fac_player_supporters_faction", 76, "pt_kingdom_8_reinforcements_b"),
        (faction_set_slot, "fac_player_supporters_faction", 77, "pt_kingdom_8_reinforcements_c"),
        (faction_set_slot, "fac_player_supporters_faction", 78, "pt_kingdom_8_reinforcements_d"),
        (faction_set_slot, "fac_player_supporters_faction", 79, "pt_kingdom_8_reinforcements_e"),
        (faction_set_slot, "fac_player_supporters_faction", 111, "pt_kingdom_8_reinforcements_f"),
        (faction_set_slot, "fac_player_supporters_faction", 112, "pt_kingdom_8_reinforcements_g"),
        (faction_set_slot, "fac_player_supporters_faction", 49, "trp_night_boss"),
        (faction_set_slot, "fac_player_supporters_faction", 51, "trp_goblin_prison_guard"),
        (faction_set_slot, "fac_player_supporters_faction", 52, "trp_goblin_castle_guard"),
        (faction_set_slot, "fac_player_supporters_faction", 53, "trp_khergit_townsman"),
        (faction_set_slot, "fac_player_supporters_faction", 54, "trp_khergit_townswoman"),
        (faction_set_slot, "fac_player_supporters_faction", 55, "trp_khergit_townsman"),
        (faction_set_slot, "fac_player_supporters_faction", 56, "trp_khergit_townswoman"),
        (faction_set_slot, "fac_player_supporters_faction", 28, 14),
        (faction_set_slot, "fac_player_supporters_faction", 29, 14),
        (faction_set_slot, "fac_player_supporters_faction", 251, "itm_gob_scale_armor"),
        (faction_set_slot, "fac_player_supporters_faction", 252, "itm_goblin_armoured_robe"),
        (faction_set_slot, "fac_player_supporters_faction", 253, "itm_goblin_nomad_boots"),
        (faction_set_slot, "fac_player_supporters_faction", 255, "fac_kingdom_8"),
        (jump_to_menu, "mnu_camp"),
      ]
      ),

      ("araby",
      [],
      "Araby.",
      [
        (faction_set_slot, "fac_player_supporters_faction", 41, "trp_sarranid_recruit"),
        (faction_set_slot, "fac_player_supporters_faction", 42, "trp_sarranid_footman"),
        (faction_set_slot, "fac_player_supporters_faction", 43, "trp_sarranid_archer"),
        (faction_set_slot, "fac_player_supporters_faction", 44, "trp_sarranid_horseman"),
        (faction_set_slot, "fac_player_supporters_faction", 45, "trp_sarranid_mamluke"),
        (faction_set_slot, "fac_player_supporters_faction", 46, "trp_sand_wraith"),
        (faction_set_slot, "fac_player_supporters_faction", 75, "pt_kingdom_9_reinforcements_a"),
        (faction_set_slot, "fac_player_supporters_faction", 76, "pt_kingdom_9_reinforcements_b"),
        (faction_set_slot, "fac_player_supporters_faction", 77, "pt_kingdom_9_reinforcements_c"),
        (faction_set_slot, "fac_player_supporters_faction", 78, "pt_kingdom_9_reinforcements_d"),
        (faction_set_slot, "fac_player_supporters_faction", 79, "pt_kingdom_9_reinforcements_e"),
        (faction_set_slot, "fac_player_supporters_faction", 111, "pt_kingdom_9_reinforcements_f"),
        (faction_set_slot, "fac_player_supporters_faction", 112, "pt_kingdom_9_reinforcements_g"),
        (faction_set_slot, "fac_player_supporters_faction", 49, "trp_sarranid_guard"),
        (faction_set_slot, "fac_player_supporters_faction", 51, "trp_sarranid_prison_guard"),
        (faction_set_slot, "fac_player_supporters_faction", 52, "trp_sarranid_castle_guard"),
        (faction_set_slot, "fac_player_supporters_faction", 53, "trp_sarranid_townsman"),
        (faction_set_slot, "fac_player_supporters_faction", 54, "trp_sarranid_townswoman"),
        (faction_set_slot, "fac_player_supporters_faction", 55, "trp_sarranid_townsman"),
        (faction_set_slot, "fac_player_supporters_faction", 56, "trp_sarranid_townswoman"),
        (faction_set_slot, "fac_player_supporters_faction", 28, 0),
        (faction_set_slot, "fac_player_supporters_faction", 29, 1),
        (faction_set_slot, "fac_player_supporters_faction", 251, "itm_shirt"),
        (faction_set_slot, "fac_player_supporters_faction", 252, "itm_courtly_outfit"),
        (faction_set_slot, "fac_player_supporters_faction", 253, "itm_leather_boots"),
        (faction_set_slot, "fac_player_supporters_faction", 255, "fac_kingdom_9"),
        (jump_to_menu, "mnu_camp"),
      ]
      ),

      ("orc",
      [],
      "Orcs.",
      [
        (faction_set_slot, "fac_player_supporters_faction", 41, "trp_orc"),
        (faction_set_slot, "fac_player_supporters_faction", 42, "trp_orc_warrior"),
        (faction_set_slot, "fac_player_supporters_faction", 43, "trp_orc_big"),
        (faction_set_slot, "fac_player_supporters_faction", 44, "trp_orc_blackorc"),
        (faction_set_slot, "fac_player_supporters_faction", 45, "trp_orc_veteran_boar"),
        (faction_set_slot, "fac_player_supporters_faction", 46, "trp_orc_troll"),
        (faction_set_slot, "fac_player_supporters_faction", 75, "pt_kingdom_10_reinforcements_a"),
        (faction_set_slot, "fac_player_supporters_faction", 76, "pt_kingdom_10_reinforcements_b"),
        (faction_set_slot, "fac_player_supporters_faction", 77, "pt_kingdom_10_reinforcements_c"),
        (faction_set_slot, "fac_player_supporters_faction", 78, "pt_kingdom_10_reinforcements_d"),
        (faction_set_slot, "fac_player_supporters_faction", 79, "pt_kingdom_10_reinforcements_e"),
        (faction_set_slot, "fac_player_supporters_faction", 111, "pt_kingdom_10_reinforcements_f"),
        (faction_set_slot, "fac_player_supporters_faction", 112, "pt_kingdom_10_reinforcements_g"),
        (faction_set_slot, "fac_player_supporters_faction", 49, "trp_orc_blackorc_boss"),
        (faction_set_slot, "fac_player_supporters_faction", 51, "trp_orc_prison_guard"),
        (faction_set_slot, "fac_player_supporters_faction", 52, "trp_orc_castle_guard"),
        (faction_set_slot, "fac_player_supporters_faction", 53, "trp_orc_townsman"),
        (faction_set_slot, "fac_player_supporters_faction", 54, "trp_orc_townswoman"),
        (faction_set_slot, "fac_player_supporters_faction", 55, "trp_orc_townsman"),
        (faction_set_slot, "fac_player_supporters_faction", 56, "trp_orc_townswoman"),
        (faction_set_slot, "fac_player_supporters_faction", 28, 12),
        (faction_set_slot, "fac_player_supporters_faction", 29, 12),
        (faction_set_slot, "fac_player_supporters_faction", 251, "itm_orc_armour"),
        (faction_set_slot, "fac_player_supporters_faction", 252, "itm_orc_medarmor2"),
        (faction_set_slot, "fac_player_supporters_faction", 253, "itm_orc_boots"),
        (faction_set_slot, "fac_player_supporters_faction", 255, "fac_kingdom_10"),
        (jump_to_menu, "mnu_camp"),
      ]
      ),

      ("bretonnian",
      [],
      "Bretonnian.",
      [
        (faction_set_slot, "fac_player_supporters_faction", 41, "trp_bretonnian_peasant"),
        (faction_set_slot, "fac_player_supporters_faction", 42, "trp_bretonnian_man_at_arms"),
        (faction_set_slot, "fac_player_supporters_faction", 43, "trp_bretonnian_veteran_man_at_arms"),
        (faction_set_slot, "fac_player_supporters_faction", 44, "trp_bretonnian_errant"),
        (faction_set_slot, "fac_player_supporters_faction", 45, "trp_bretonnian_realm"),
        (faction_set_slot, "fac_player_supporters_faction", 46, "trp_paladin"),
        (faction_set_slot, "fac_player_supporters_faction", 75, "pt_kingdom_11_reinforcements_a"),
        (faction_set_slot, "fac_player_supporters_faction", 76, "pt_kingdom_11_reinforcements_b"),
        (faction_set_slot, "fac_player_supporters_faction", 77, "pt_kingdom_11_reinforcements_c"),
        (faction_set_slot, "fac_player_supporters_faction", 78, "pt_kingdom_11_reinforcements_d"),
        (faction_set_slot, "fac_player_supporters_faction", 79, "pt_kingdom_11_reinforcements_e"),
        (faction_set_slot, "fac_player_supporters_faction", 111, "pt_kingdom_11_reinforcements_f"),
        (faction_set_slot, "fac_player_supporters_faction", 112, "pt_kingdom_11_reinforcements_g"),
        (faction_set_slot, "fac_player_supporters_faction", 49, "trp_paladin"),
        (faction_set_slot, "fac_player_supporters_faction", 51, "trp_bretonnian_prison_guard"),
        (faction_set_slot, "fac_player_supporters_faction", 52, "trp_bretonnian_castle_guard"),
        (faction_set_slot, "fac_player_supporters_faction", 53, "trp_town_walker_1"),
        (faction_set_slot, "fac_player_supporters_faction", 54, "trp_town_walker_2"),
        (faction_set_slot, "fac_player_supporters_faction", 55, "trp_village_walker_1"),
        (faction_set_slot, "fac_player_supporters_faction", 56, "trp_village_walker_2"),
        (faction_set_slot, "fac_player_supporters_faction", 28, 0),
        (faction_set_slot, "fac_player_supporters_faction", 29, 1),
        (faction_set_slot, "fac_player_supporters_faction", 251, "itm_leather_jerkin"),
        (faction_set_slot, "fac_player_supporters_faction", 252, "itm_courtly_outfit"),
        (faction_set_slot, "fac_player_supporters_faction", 253, "itm_leather_boots"),
        (faction_set_slot, "fac_player_supporters_faction", 255, "fac_kingdom_11"),
        (jump_to_menu, "mnu_camp"),
      ]
      ),

      ("darkelf",
      [],
      "Dark_Elves.",
      [
        (faction_set_slot, "fac_player_supporters_faction", 41, "trp_darkelf_recruit"),
        (faction_set_slot, "fac_player_supporters_faction", 42, "trp_darkelf_footman"),
        (faction_set_slot, "fac_player_supporters_faction", 43, "trp_darkelf_veteran"),
        (faction_set_slot, "fac_player_supporters_faction", 44, "trp_darkelf_infantry"),
        (faction_set_slot, "fac_player_supporters_faction", 45, "trp_darkelf_knight"),
        (faction_set_slot, "fac_player_supporters_faction", 46, "trp_dreadmaster"),
        (faction_set_slot, "fac_player_supporters_faction", 75, "pt_kingdom_12_reinforcements_a"),
        (faction_set_slot, "fac_player_supporters_faction", 76, "pt_kingdom_12_reinforcements_b"),
        (faction_set_slot, "fac_player_supporters_faction", 77, "pt_kingdom_12_reinforcements_c"),
        (faction_set_slot, "fac_player_supporters_faction", 78, "pt_kingdom_12_reinforcements_d"),
        (faction_set_slot, "fac_player_supporters_faction", 79, "pt_kingdom_12_reinforcements_e"),
        (faction_set_slot, "fac_player_supporters_faction", 111, "pt_kingdom_12_reinforcements_f"),
        (faction_set_slot, "fac_player_supporters_faction", 112, "pt_kingdom_12_reinforcements_g"),
        (faction_set_slot, "fac_player_supporters_faction", 49, "trp_darkelf_knight"),
        (faction_set_slot, "fac_player_supporters_faction", 51, "trp_darkelf_prison_guard"),
        (faction_set_slot, "fac_player_supporters_faction", 52, "trp_darkelf_castle_guard"),
        (faction_set_slot, "fac_player_supporters_faction", 53, "trp_town_walker_darkelf"),
        (faction_set_slot, "fac_player_supporters_faction", 54, "trp_town_walker_darkelfwoman"),
        (faction_set_slot, "fac_player_supporters_faction", 55, "trp_town_walker_darkelf"),
        (faction_set_slot, "fac_player_supporters_faction", 56, "trp_town_walker_darkelfwoman"),
        (faction_set_slot, "fac_player_supporters_faction", 28, 8),
        (faction_set_slot, "fac_player_supporters_faction", 29, 5),
        (faction_set_slot, "fac_player_supporters_faction", 251, "itm_leather_jerkin"),
        (faction_set_slot, "fac_player_supporters_faction", 252, "itm_courtly_outfit"),
        (faction_set_slot, "fac_player_supporters_faction", 253, "itm_leather_boots"),
        (faction_set_slot, "fac_player_supporters_faction", 255, "fac_kingdom_12"),
        (jump_to_menu, "mnu_camp"),
      ]
      ),

      ("skaven",
      [],
      "Skaven.",
      [
        (faction_set_slot, "fac_player_supporters_faction", 41, "trp_skaven_slave"),
        (faction_set_slot, "fac_player_supporters_faction", 42, "trp_clanrat"),
        (faction_set_slot, "fac_player_supporters_faction", 43, "trp_claw_vermin"),
        (faction_set_slot, "fac_player_supporters_faction", 44, "trp_storm_vermin"),
        (faction_set_slot, "fac_player_supporters_faction", 45, "trp_fang_vermin"),
        (faction_set_slot, "fac_player_supporters_faction", 46, "trp_rat_ogre"),
        (faction_set_slot, "fac_player_supporters_faction", 75, "pt_kingdom_13_reinforcements_a"),
        (faction_set_slot, "fac_player_supporters_faction", 76, "pt_kingdom_13_reinforcements_b"),
        (faction_set_slot, "fac_player_supporters_faction", 77, "pt_kingdom_13_reinforcements_c"),
        (faction_set_slot, "fac_player_supporters_faction", 78, "pt_kingdom_13_reinforcements_d"),
        (faction_set_slot, "fac_player_supporters_faction", 79, "pt_kingdom_13_reinforcements_e"),
        (faction_set_slot, "fac_player_supporters_faction", 111, "pt_kingdom_13_reinforcements_f"),
        (faction_set_slot, "fac_player_supporters_faction", 112, "pt_kingdom_13_reinforcements_g"),
        (faction_set_slot, "fac_player_supporters_faction", 49, "trp_fang_vermin"),
        (faction_set_slot, "fac_player_supporters_faction", 51, "trp_skaven_prison_guard"),
        (faction_set_slot, "fac_player_supporters_faction", 52, "trp_skaven_castle_guard"),
        (faction_set_slot, "fac_player_supporters_faction", 53, "trp_skaven_townsman"),
        (faction_set_slot, "fac_player_supporters_faction", 54, "trp_skaven_townswoman"),
        (faction_set_slot, "fac_player_supporters_faction", 55, "trp_skaven_townsman"),
        (faction_set_slot, "fac_player_supporters_faction", 56, "trp_skaven_townswoman"),
        (faction_set_slot, "fac_player_supporters_faction", 28, 15),
        (faction_set_slot, "fac_player_supporters_faction", 29, 15),
        (faction_set_slot, "fac_player_supporters_faction", 251, "itm_skaven_outfit2"),
        (faction_set_slot, "fac_player_supporters_faction", 252, "itm_nightrunner_outfit"),
        (faction_set_slot, "fac_player_supporters_faction", 253, "itm_rat_ankle"),
        (faction_set_slot, "fac_player_supporters_faction", 255, "fac_kingdom_13"),
        (jump_to_menu, "mnu_camp"),
      ]
      ),

      ("cancel",
      [],
      "Cancel.",
      [
        (jump_to_menu, "mnu_camp"),
      ]
      ),
    ],
  ),

  ("camp_action_change_troops2", 0,
    "Which faction?",
    "none",
    [],
    [
      ("kislev",
      [],
      "Kislev.",
      [
        (faction_set_slot, "fac_player_supporters_faction", 41, "trp_khergit_tribesman"),
        (faction_set_slot, "fac_player_supporters_faction", 42, "trp_kislev_axeman"),
        (faction_set_slot, "fac_player_supporters_faction", 43, "trp_kislev_hunter"),
        (faction_set_slot, "fac_player_supporters_faction", 44, "trp_kislev_bohka"),
        (faction_set_slot, "fac_player_supporters_faction", 45, "trp_kislev_gryphon"),
        (faction_set_slot, "fac_player_supporters_faction", 46, "trp_sons_of_ursun"),
        (faction_set_slot, "fac_player_supporters_faction", 75, "pt_kingdom_14_reinforcements_a"),
        (faction_set_slot, "fac_player_supporters_faction", 76, "pt_kingdom_14_reinforcements_b"),
        (faction_set_slot, "fac_player_supporters_faction", 77, "pt_kingdom_14_reinforcements_c"),
        (faction_set_slot, "fac_player_supporters_faction", 78, "pt_kingdom_14_reinforcements_d"),
        (faction_set_slot, "fac_player_supporters_faction", 79, "pt_kingdom_14_reinforcements_e"),
        (faction_set_slot, "fac_player_supporters_faction", 111, "pt_kingdom_14_reinforcements_f"),
        (faction_set_slot, "fac_player_supporters_faction", 112, "pt_kingdom_14_reinforcements_g"),
        (faction_set_slot, "fac_player_supporters_faction", 49, "trp_kislev_bohka"),
        (faction_set_slot, "fac_player_supporters_faction", 51, "trp_khergit_prison_guard"),
        (faction_set_slot, "fac_player_supporters_faction", 52, "trp_khergit_castle_guard"),
        (faction_set_slot, "fac_player_supporters_faction", 53, "trp_town_walker_1"),
        (faction_set_slot, "fac_player_supporters_faction", 54, "trp_town_walker_2"),
        (faction_set_slot, "fac_player_supporters_faction", 55, "trp_town_walker_1"),
        (faction_set_slot, "fac_player_supporters_faction", 56, "trp_town_walker_1"),
        (faction_set_slot, "fac_player_supporters_faction", 28, 0),
        (faction_set_slot, "fac_player_supporters_faction", 29, 1),
        (faction_set_slot, "fac_player_supporters_faction", 251, "itm_fur_coat"),
        (faction_set_slot, "fac_player_supporters_faction", 252, "itm_courtly_outfit"),
        (faction_set_slot, "fac_player_supporters_faction", 253, "itm_leather_boots"),
        (faction_set_slot, "fac_player_supporters_faction", 255, "fac_kingdom_14"),
        (jump_to_menu, "mnu_camp"),
      ]
      ),

      ("beastmen",
      [],
      "Beastmen.",
      [
        (faction_set_slot, "fac_player_supporters_faction", 41, "trp_ungor"),
        (faction_set_slot, "fac_player_supporters_faction", 42, "trp_beastman_gor"),
        (faction_set_slot, "fac_player_supporters_faction", 43, "trp_beastman_foe_render"),
        (faction_set_slot, "fac_player_supporters_faction", 44, "trp_beastman_wargor"),
        (faction_set_slot, "fac_player_supporters_faction", 45, "trp_razorgor_thunderhoof"),
        (faction_set_slot, "fac_player_supporters_faction", 46, "trp_minotaur"),
        (faction_set_slot, "fac_player_supporters_faction", 75, "pt_kingdom_15_reinforcements_a"),
        (faction_set_slot, "fac_player_supporters_faction", 76, "pt_kingdom_15_reinforcements_b"),
        (faction_set_slot, "fac_player_supporters_faction", 77, "pt_kingdom_15_reinforcements_c"),
        (faction_set_slot, "fac_player_supporters_faction", 78, "pt_kingdom_15_reinforcements_d"),
        (faction_set_slot, "fac_player_supporters_faction", 79, "pt_kingdom_15_reinforcements_e"),
        (faction_set_slot, "fac_player_supporters_faction", 111, "pt_kingdom_15_reinforcements_f"),
        (faction_set_slot, "fac_player_supporters_faction", 112, "pt_kingdom_15_reinforcements_g"),
        (faction_set_slot, "fac_player_supporters_faction", 49, "trp_beastman_bestigor"),
        (faction_set_slot, "fac_player_supporters_faction", 51, "trp_beastman_prison_guard"),
        (faction_set_slot, "fac_player_supporters_faction", 52, "trp_beastman_castle_guard"),
        (faction_set_slot, "fac_player_supporters_faction", 53, "trp_beastman_walker"),
        (faction_set_slot, "fac_player_supporters_faction", 54, "trp_ungor_walker"),
        (faction_set_slot, "fac_player_supporters_faction", 55, "trp_beastman_walker"),
        (faction_set_slot, "fac_player_supporters_faction", 56, "trp_ungor_walker"),
        (faction_set_slot, "fac_player_supporters_faction", 28, 13),
        (faction_set_slot, "fac_player_supporters_faction", 29, 13),
        (faction_set_slot, "fac_player_supporters_faction", 251, "itm_bray_armour"),
        (faction_set_slot, "fac_player_supporters_faction", 252, "itm_tuskgor_armour2"),
        (faction_set_slot, "fac_player_supporters_faction", 253, "itm_fur_legs"),
        (faction_set_slot, "fac_player_supporters_faction", 255, "fac_kingdom_15"),
        (jump_to_menu, "mnu_camp"),
      ]
      ),

      ("nippon",
      [],
      "Nippon.",
      [
        (faction_set_slot, "fac_culture_16", 41, "trp_doshin"),
        (faction_set_slot, "fac_culture_16", 42, "trp_nippon_gunso"),
        (faction_set_slot, "fac_culture_16", 43, "trp_samurai"),
        (faction_set_slot, "fac_culture_16", 44, "trp_nippon_hatamoto"),
        (faction_set_slot, "fac_culture_16", 45, "trp_red_devil"),
        (faction_set_slot, "fac_culture_16", 46, "trp_great_guard"),
        (faction_set_slot, "fac_player_supporters_faction", 75, "pt_kingdom_16_reinforcements_a"),
        (faction_set_slot, "fac_player_supporters_faction", 76, "pt_kingdom_16_reinforcements_b"),
        (faction_set_slot, "fac_player_supporters_faction", 77, "pt_kingdom_16_reinforcements_c"),
        (faction_set_slot, "fac_player_supporters_faction", 78, "pt_kingdom_16_reinforcements_d"),
        (faction_set_slot, "fac_player_supporters_faction", 79, "pt_kingdom_16_reinforcements_e"),
        (faction_set_slot, "fac_player_supporters_faction", 111, "pt_kingdom_16_reinforcements_f"),
        (faction_set_slot, "fac_player_supporters_faction", 112, "pt_kingdom_16_reinforcements_g"),
        (faction_set_slot, "fac_player_supporters_faction", 49, "trp_samurai"),
        (faction_set_slot, "fac_player_supporters_faction", 51, "trp_nippon_gunso"),
        (faction_set_slot, "fac_player_supporters_faction", 52, "trp_samurai"),
        (faction_set_slot, "fac_culture_16", 53, "trp_town_walker_1_nippon"),
        (faction_set_slot, "fac_culture_16", 54, "trp_town_walker_2_nippon"),
        (faction_set_slot, "fac_culture_16", 55, "trp_village_walker_1_nippon"),
        (faction_set_slot, "fac_culture_16", 56, "trp_village_walker_2_nippon"),
        (faction_set_slot, "fac_player_supporters_faction", 28, 0),
        (faction_set_slot, "fac_player_supporters_faction", 29, 1),
        (faction_set_slot, "fac_player_supporters_faction", 251, "itm_shugenja_kinomo3"),
        (faction_set_slot, "fac_player_supporters_faction", 252, "itm_courtly_outfit"),
        (faction_set_slot, "fac_player_supporters_faction", 253, "itm_leather_boots"),
        (faction_set_slot, "fac_player_supporters_faction", 255, "fac_kingdom_16"),
        (jump_to_menu, "mnu_camp"),
      ]
      ),

      ("halfling",
      [],
      "Halfling.",
      [
        (faction_set_slot, "fac_player_supporters_faction", 41, "trp_halfling_militia"),
        (faction_set_slot, "fac_player_supporters_faction", 42, "trp_halfling_fieldwarden"),
        (faction_set_slot, "fac_player_supporters_faction", 43, "trp_halfling_vigilante"),
        (faction_set_slot, "fac_player_supporters_faction", 44, "trp_halfling_chef"),
        (faction_set_slot, "fac_player_supporters_faction", 45, "trp_halfling_moot_knight"),
        (faction_set_slot, "fac_player_supporters_faction", 46, "trp_halfling_ogre"),
        (faction_set_slot, "fac_player_supporters_faction", 75, "pt_halfling_reinforcements_a"),
        (faction_set_slot, "fac_player_supporters_faction", 76, "pt_halfling_reinforcements_b"),
        (faction_set_slot, "fac_player_supporters_faction", 77, "pt_halfling_reinforcements_c"),
        (faction_set_slot, "fac_player_supporters_faction", 78, "pt_halfling_reinforcements_d"),
        (faction_set_slot, "fac_player_supporters_faction", 79, "pt_halfling_reinforcements_e"),
        (faction_set_slot, "fac_player_supporters_faction", 111, "pt_halfling_reinforcements_f"),
        (faction_set_slot, "fac_player_supporters_faction", 112, "pt_halfling_reinforcements_g"),
        (faction_set_slot, "fac_player_supporters_faction", 49, "trp_halfling_pantry_guard"),
        (faction_set_slot, "fac_player_supporters_faction", 51, "trp_halfling_prison_guard"),
        (faction_set_slot, "fac_player_supporters_faction", 52, "trp_halfling_castle_guard"),
        (faction_set_slot, "fac_player_supporters_faction", 53, "trp_halfling_walker"),
        (faction_set_slot, "fac_player_supporters_faction", 54, "trp_halfling_walker"),
        (faction_set_slot, "fac_player_supporters_faction", 55, "trp_halfling_walker"),
        (faction_set_slot, "fac_player_supporters_faction", 56, "trp_halfling_walker"),
        (faction_set_slot, "fac_player_supporters_faction", 28, 11),
        (faction_set_slot, "fac_player_supporters_faction", 29, 11),
        (faction_set_slot, "fac_player_supporters_faction", 251, "itm_halfling_militia"),
        (faction_set_slot, "fac_player_supporters_faction", 252, "itm_halfling_ranger"),
        (faction_set_slot, "fac_player_supporters_faction", 253, "itm_halfling_feet"),
        (jump_to_menu, "mnu_camp"),
      ]
      ),

      ("vampire",
      [],
      "Vampire.",
      [
        (faction_set_slot, "fac_player_supporters_faction", 41, "trp_zombie"),
        (faction_set_slot, "fac_player_supporters_faction", 42, "trp_vc_skeleton_warrior"),
        (faction_set_slot, "fac_player_supporters_faction", 43, "trp_grave_guard"),
        (faction_set_slot, "fac_player_supporters_faction", 44, "trp_wight_champion"),
        (faction_set_slot, "fac_player_supporters_faction", 45, "trp_hell_knight"),
        (faction_set_slot, "fac_player_supporters_faction", 46, "trp_blood_knight"),
        (faction_set_slot, "fac_player_supporters_faction", 75, "pt_kingdom_17_reinforcements_a"),
        (faction_set_slot, "fac_player_supporters_faction", 76, "pt_kingdom_17_reinforcements_b"),
        (faction_set_slot, "fac_player_supporters_faction", 77, "pt_kingdom_17_reinforcements_c"),
        (faction_set_slot, "fac_player_supporters_faction", 78, "pt_kingdom_17_reinforcements_d"),
        (faction_set_slot, "fac_player_supporters_faction", 79, "pt_kingdom_17_reinforcements_e"),
        (faction_set_slot, "fac_player_supporters_faction", 111, "pt_kingdom_17_reinforcements_f"),
        (faction_set_slot, "fac_player_supporters_faction", 112, "pt_kingdom_17_reinforcements_g"),
        (faction_set_slot, "fac_player_supporters_faction", 49, "trp_wight"),
        (faction_set_slot, "fac_player_supporters_faction", 51, "trp_sylvania_prison_guard"),
        (faction_set_slot, "fac_player_supporters_faction", 52, "trp_sylvania_castle_guard"),
        (faction_set_slot, "fac_player_supporters_faction", 53, "trp_town_walker_1_sylvania"),
        (faction_set_slot, "fac_player_supporters_faction", 54, "trp_town_walker_1_sylvania"),
        (faction_set_slot, "fac_player_supporters_faction", 55, "trp_town_walker_1_sylvania"),
        (faction_set_slot, "fac_player_supporters_faction", 56, "trp_town_walker_1_sylvania"),
        (faction_set_slot, "fac_player_supporters_faction", 28, 9),
        (faction_set_slot, "fac_player_supporters_faction", 29, 9),
        (faction_set_slot, "fac_player_supporters_faction", 251, "itm_leather_jerkin"),
        (faction_set_slot, "fac_player_supporters_faction", 252, "itm_courtly_outfit"),
        (faction_set_slot, "fac_player_supporters_faction", 253, "itm_leather_boots"),
        (faction_set_slot, "fac_player_supporters_faction", 255, "fac_kingdom_17"),
        (jump_to_menu, "mnu_camp"),
      ]
      ),

      ("woodelf",
      [],
      "Wood_Elves.",
      [
        (faction_set_slot, "fac_player_supporters_faction", 41, "trp_woodelf_recruit"),
        (faction_set_slot, "fac_player_supporters_faction", 42, "trp_forest_guard"),
        (faction_set_slot, "fac_player_supporters_faction", 43, "trp_glade_guard"),
        (faction_set_slot, "fac_player_supporters_faction", 44, "trp_glade_rider"),
        (faction_set_slot, "fac_player_supporters_faction", 45, "trp_wild_hunter"),
        (faction_set_slot, "fac_player_supporters_faction", 46, "trp_glade_captain"),
        (faction_set_slot, "fac_player_supporters_faction", 75, "pt_kingdom_18_reinforcements_a"),
        (faction_set_slot, "fac_player_supporters_faction", 76, "pt_kingdom_18_reinforcements_b"),
        (faction_set_slot, "fac_player_supporters_faction", 77, "pt_kingdom_18_reinforcements_c"),
        (faction_set_slot, "fac_player_supporters_faction", 78, "pt_kingdom_18_reinforcements_d"),
        (faction_set_slot, "fac_player_supporters_faction", 79, "pt_kingdom_18_reinforcements_e"),
        (faction_set_slot, "fac_player_supporters_faction", 111, "pt_kingdom_18_reinforcements_f"),
        (faction_set_slot, "fac_player_supporters_faction", 112, "pt_kingdom_18_reinforcements_g"),
        (faction_set_slot, "fac_player_supporters_faction", 49, "trp_shadow_lord"),
        (faction_set_slot, "fac_player_supporters_faction", 51, "trp_woodelf_prison_guard"),
        (faction_set_slot, "fac_player_supporters_faction", 52, "trp_woodelf_castle_guard"),
        (faction_set_slot, "fac_player_supporters_faction", 53, "trp_town_walker_elf"),
        (faction_set_slot, "fac_player_supporters_faction", 54, "trp_town_walker_elfwoman"),
        (faction_set_slot, "fac_player_supporters_faction", 55, "trp_town_walker_elf"),
        (faction_set_slot, "fac_player_supporters_faction", 56, "trp_town_walker_elfwoman"),
        (faction_set_slot, "fac_player_supporters_faction", 28, 8),
        (faction_set_slot, "fac_player_supporters_faction", 29, 5),
        (faction_set_slot, "fac_player_supporters_faction", 251, "itm_leather_jerkin"),
        (faction_set_slot, "fac_player_supporters_faction", 252, "itm_courtly_outfit"),
        (faction_set_slot, "fac_player_supporters_faction", 253, "itm_leather_boots"),
        (faction_set_slot, "fac_player_supporters_faction", 255, "fac_kingdom_18"),
        (jump_to_menu, "mnu_camp"),
      ]
      ),

      ("khorne",
      [],
      "Chaos_Khorne.",
      [
        (faction_set_slot, "fac_player_supporters_faction", 41, "trp_khorne_chaos_recruit"),
        (faction_set_slot, "fac_player_supporters_faction", 42, "trp_khorne_chaos_footman"),
        (faction_set_slot, "fac_player_supporters_faction", 43, "trp_khorne_chaos_trained_footman"),
        (faction_set_slot, "fac_player_supporters_faction", 44, "trp_warrior_of_khorne"),
        (faction_set_slot, "fac_player_supporters_faction", 45, "trp_khorne_knight"),
        (faction_set_slot, "fac_player_supporters_faction", 46, "trp_herald"),
        (faction_set_slot, "fac_player_supporters_faction", 75, "pt_khorne_reinforcements_a"),
        (faction_set_slot, "fac_player_supporters_faction", 76, "pt_khorne_reinforcements_b"),
        (faction_set_slot, "fac_player_supporters_faction", 77, "pt_khorne_reinforcements_c"),
        (faction_set_slot, "fac_player_supporters_faction", 78, "pt_khorne_reinforcements_d"),
        (faction_set_slot, "fac_player_supporters_faction", 79, "pt_khorne_reinforcements_e"),
        (faction_set_slot, "fac_player_supporters_faction", 49, "trp_khorne_knight"),
        (faction_set_slot, "fac_player_supporters_faction", 51, "trp_chaos_prison_guard"),
        (faction_set_slot, "fac_player_supporters_faction", 52, "trp_chaos_castle_guard"),
        (faction_set_slot, "fac_player_supporters_faction", 53, "trp_town_walker_7"),
        (faction_set_slot, "fac_player_supporters_faction", 54, "trp_town_walker_8"),
        (faction_set_slot, "fac_player_supporters_faction", 55, "trp_town_walker_7"),
        (faction_set_slot, "fac_player_supporters_faction", 56, "trp_town_walker_8"),
        (faction_set_slot, "fac_player_supporters_faction", 28, 6),
        (faction_set_slot, "fac_player_supporters_faction", 29, 1),
        (faction_set_slot, "fac_player_supporters_faction", 251, "itm_marauder_lightarmour3"),
        (faction_set_slot, "fac_player_supporters_faction", 252, "itm_chaosrecruit_armor"),
        (faction_set_slot, "fac_player_supporters_faction", 253, "itm_marauder_boots"),
        (faction_set_slot, "fac_player_supporters_faction", 255, "fac_kingdom_5"),
        (jump_to_menu, "mnu_camp"),
      ]
      ),

      ("slaanesh",
      [],
      "Chaos_Slaanesh.",
      [
        (faction_set_slot, "fac_player_supporters_faction", 41, "trp_slaanesh_chaos_recruit"),
        (faction_set_slot, "fac_player_supporters_faction", 42, "trp_slaanesh_chaos_footman"),
        (faction_set_slot, "fac_player_supporters_faction", 43, "trp_slaanesh_chaos_trained_footman"),
        (faction_set_slot, "fac_player_supporters_faction", 44, "trp_warrior_of_slaanesh"),
        (faction_set_slot, "fac_player_supporters_faction", 45, "trp_slaanesh_knight"),
        (faction_set_slot, "fac_player_supporters_faction", 46, "trp_daemon_prince_slaanesh"),
        (faction_set_slot, "fac_player_supporters_faction", 75, "pt_slaanesh_reinforcements_a"),
        (faction_set_slot, "fac_player_supporters_faction", 76, "pt_slaanesh_reinforcements_b"),
        (faction_set_slot, "fac_player_supporters_faction", 77, "pt_slaanesh_reinforcements_c"),
        (faction_set_slot, "fac_player_supporters_faction", 78, "pt_slaanesh_reinforcements_d"),
        (faction_set_slot, "fac_player_supporters_faction", 79, "pt_slaanesh_reinforcements_e"),
        (faction_set_slot, "fac_player_supporters_faction", 49, "trp_slaanesh_knight"),
        (faction_set_slot, "fac_player_supporters_faction", 51, "trp_chaos_prison_guard"),
        (faction_set_slot, "fac_player_supporters_faction", 52, "trp_chaos_castle_guard"),
        (faction_set_slot, "fac_player_supporters_faction", 53, "trp_town_walker_7"),
        (faction_set_slot, "fac_player_supporters_faction", 54, "trp_town_walker_8"),
        (faction_set_slot, "fac_player_supporters_faction", 55, "trp_town_walker_7"),
        (faction_set_slot, "fac_player_supporters_faction", 56, "trp_town_walker_8"),
        (faction_set_slot, "fac_player_supporters_faction", 28, 6),
        (faction_set_slot, "fac_player_supporters_faction", 29, 1),
        (faction_set_slot, "fac_player_supporters_faction", 251, "itm_marauder_lightarmour3"),
        (faction_set_slot, "fac_player_supporters_faction", 252, "itm_chaosrecruit_armor"),
        (faction_set_slot, "fac_player_supporters_faction", 253, "itm_marauder_boots"),
        (faction_set_slot, "fac_player_supporters_faction", 255, "fac_kingdom_5"),
        (jump_to_menu, "mnu_camp"),
      ]
      ),

      ("nurgle",
      [],
      "Chaos_Nurgle.",
      [
        (faction_set_slot, "fac_player_supporters_faction", 41, "trp_nurgle_chaos_recruit"),
        (faction_set_slot, "fac_player_supporters_faction", 42, "trp_nurgle_chaos_footman"),
        (faction_set_slot, "fac_player_supporters_faction", 43, "trp_nurgle_chaos_trained_footman"),
        (faction_set_slot, "fac_player_supporters_faction", 44, "trp_chaos_nurgle"),
        (faction_set_slot, "fac_player_supporters_faction", 45, "trp_nurgle_knight"),
        (faction_set_slot, "fac_player_supporters_faction", 46, "trp_daemon_prince_nurgle"),
        (faction_set_slot, "fac_player_supporters_faction", 75, "pt_nurgle_reinforcements_a"),
        (faction_set_slot, "fac_player_supporters_faction", 76, "pt_nurgle_reinforcements_b"),
        (faction_set_slot, "fac_player_supporters_faction", 77, "pt_nurgle_reinforcements_c"),
        (faction_set_slot, "fac_player_supporters_faction", 78, "pt_nurgle_reinforcements_d"),
        (faction_set_slot, "fac_player_supporters_faction", 79, "pt_nurgle_reinforcements_e"),
        (faction_set_slot, "fac_player_supporters_faction", 49, "trp_nurgle_knight"),
        (faction_set_slot, "fac_player_supporters_faction", 51, "trp_chaos_prison_guard"),
        (faction_set_slot, "fac_player_supporters_faction", 52, "trp_chaos_castle_guard"),
        (faction_set_slot, "fac_player_supporters_faction", 53, "trp_town_walker_7"),
        (faction_set_slot, "fac_player_supporters_faction", 54, "trp_town_walker_8"),
        (faction_set_slot, "fac_player_supporters_faction", 55, "trp_town_walker_7"),
        (faction_set_slot, "fac_player_supporters_faction", 56, "trp_town_walker_8"),
        (faction_set_slot, "fac_player_supporters_faction", 28, 6),
        (faction_set_slot, "fac_player_supporters_faction", 29, 1),
        (faction_set_slot, "fac_player_supporters_faction", 251, "itm_marauder_lightarmour3"),
        (faction_set_slot, "fac_player_supporters_faction", 252, "itm_chaosrecruit_armor"),
        (faction_set_slot, "fac_player_supporters_faction", 253, "itm_marauder_boots"),
        (faction_set_slot, "fac_player_supporters_faction", 255, "fac_kingdom_5"),
        (jump_to_menu, "mnu_camp"),
      ]
      ),

      ("tzeentch",
      [],
      "Chaos_Tzeentch.",
      [
        (faction_set_slot, "fac_player_supporters_faction", 41, "trp_tzeentch_chaos_recruit"),
        (faction_set_slot, "fac_player_supporters_faction", 42, "trp_tzeentch_chaos_footman"),
        (faction_set_slot, "fac_player_supporters_faction", 43, "trp_tzeentch_chaos_trained_footman"),
        (faction_set_slot, "fac_player_supporters_faction", 44, "trp_warrior_of_tzeentch"),
        (faction_set_slot, "fac_player_supporters_faction", 45, "trp_tzeentch_knight"),
        (faction_set_slot, "fac_player_supporters_faction", 46, "trp_daemon_prince_tzeentch"),
        (faction_set_slot, "fac_player_supporters_faction", 75, "pt_tzeentch_reinforcements_a"),
        (faction_set_slot, "fac_player_supporters_faction", 76, "pt_tzeentch_reinforcements_b"),
        (faction_set_slot, "fac_player_supporters_faction", 77, "pt_tzeentch_reinforcements_c"),
        (faction_set_slot, "fac_player_supporters_faction", 78, "pt_tzeentch_reinforcements_d"),
        (faction_set_slot, "fac_player_supporters_faction", 79, "pt_tzeentch_reinforcements_e"),
        (faction_set_slot, "fac_player_supporters_faction", 49, "trp_tzeentch_knight"),
        (faction_set_slot, "fac_player_supporters_faction", 51, "trp_chaos_prison_guard"),
        (faction_set_slot, "fac_player_supporters_faction", 52, "trp_chaos_castle_guard"),
        (faction_set_slot, "fac_player_supporters_faction", 53, "trp_town_walker_7"),
        (faction_set_slot, "fac_player_supporters_faction", 54, "trp_town_walker_8"),
        (faction_set_slot, "fac_player_supporters_faction", 55, "trp_town_walker_7"),
        (faction_set_slot, "fac_player_supporters_faction", 56, "trp_town_walker_8"),
        (faction_set_slot, "fac_player_supporters_faction", 28, 6),
        (faction_set_slot, "fac_player_supporters_faction", 29, 1),
        (faction_set_slot, "fac_player_supporters_faction", 251, "itm_marauder_lightarmour3"),
        (faction_set_slot, "fac_player_supporters_faction", 252, "itm_chaosrecruit_armor"),
        (faction_set_slot, "fac_player_supporters_faction", 253, "itm_marauder_boots"),
        (faction_set_slot, "fac_player_supporters_faction", 255, "fac_kingdom_5"),
        (jump_to_menu, "mnu_camp"),
      ]
      ),

      ("chaos_dwarf",
      [],
      "Chaos_Dwarf.",
      [
        (faction_set_slot, "fac_player_supporters_faction", 41, "trp_chaos_dwarf_slaver"),
        (faction_set_slot, "fac_player_supporters_faction", 42, "trp_chaos_dwarf_warrior"),
        (faction_set_slot, "fac_player_supporters_faction", 43, "trp_chaos_dwarf_veteran"),
        (faction_set_slot, "fac_player_supporters_faction", 44, "trp_chaos_dwarf_castellan"),
        (faction_set_slot, "fac_player_supporters_faction", 45, "trp_chaos_dwarf_obsidian"),
        (faction_set_slot, "fac_player_supporters_faction", 46, "trp_chaos_dwarf_inferno"),
        (faction_set_slot, "fac_player_supporters_faction", 75, "pt_kingdom_4_reinforcements_a"),
        (faction_set_slot, "fac_player_supporters_faction", 76, "pt_kingdom_4_reinforcements_b"),
        (faction_set_slot, "fac_player_supporters_faction", 77, "pt_kingdom_4_reinforcements_c"),
        (faction_set_slot, "fac_player_supporters_faction", 78, "pt_kingdom_4_reinforcements_d"),
        (faction_set_slot, "fac_player_supporters_faction", 79, "pt_kingdom_4_reinforcements_e"),
        (faction_set_slot, "fac_player_supporters_faction", 111, "pt_kingdom_4_reinforcements_f"),
        (faction_set_slot, "fac_player_supporters_faction", 112, "pt_kingdom_4_reinforcements_g"),
        (faction_set_slot, "fac_player_supporters_faction", 49, "trp_chaos_dwarf_veteran"),
        (faction_set_slot, "fac_player_supporters_faction", 51, "trp_chaos_dwarf_veteran"),
        (faction_set_slot, "fac_player_supporters_faction", 52, "trp_chaos_dwarf_castellan"),
        (faction_set_slot, "fac_player_supporters_faction", 53, "trp_town_walker_11"),
        (faction_set_slot, "fac_player_supporters_faction", 54, "trp_town_walker_12"),
        (faction_set_slot, "fac_player_supporters_faction", 55, "trp_town_walker_11"),
        (faction_set_slot, "fac_player_supporters_faction", 56, "trp_town_walker_12"),
        (faction_set_slot, "fac_player_supporters_faction", 28, 3),
        (faction_set_slot, "fac_player_supporters_faction", 29, 3),
        (faction_set_slot, "fac_player_supporters_faction", 251, "itm_chaosdwarf_shirt_black"),
        (faction_set_slot, "fac_player_supporters_faction", 252, "itm_dwarf_tunic_2"),
        (faction_set_slot, "fac_player_supporters_faction", 253, "itm_chaosdwarf_boots_1"),
        (faction_set_slot, "fac_player_supporters_faction", 255, "fac_kingdom_4"),
        (jump_to_menu, "mnu_camp"),
      ]
      ),

      ("ulric",
      [],
      "Northern_Imperial",
      [
        (faction_set_slot, "fac_player_supporters_faction", 41, "trp_ulric_recruit"),
        (faction_set_slot, "fac_player_supporters_faction", 42, "trp_ulrican_militia"),
        (faction_set_slot, "fac_player_supporters_faction", 43, "trp_wolf_kin"),
        (faction_set_slot, "fac_player_supporters_faction", 44, "trp_duellist_of_ulric"),
        (faction_set_slot, "fac_player_supporters_faction", 45, "trp_teutogen_guard"),
        (faction_set_slot, "fac_player_supporters_faction", 46, "trp_ulric_warrior_priest"),
        (faction_set_slot, "fac_player_supporters_faction", 75, "pt_kingdom_1_ulric_reinforcements_a"),
        (faction_set_slot, "fac_player_supporters_faction", 76, "pt_kingdom_1_ulric_reinforcements_b"),
        (faction_set_slot, "fac_player_supporters_faction", 77, "pt_kingdom_1_ulric_reinforcements_c"),
        (faction_set_slot, "fac_player_supporters_faction", 78, "pt_kingdom_1_ulric_reinforcements_d"),
        (faction_set_slot, "fac_player_supporters_faction", 79, "pt_kingdom_1_ulric_reinforcements_e"),
        (faction_set_slot, "fac_player_supporters_faction", 111, "pt_kingdom_1_ulric_reinforcements_f"),
        (faction_set_slot, "fac_player_supporters_faction", 112, "pt_kingdom_1_ulric_reinforcements_g"),
        (faction_set_slot, "fac_player_supporters_faction", 49, "trp_wolf_brother"),
        (faction_set_slot, "fac_player_supporters_faction", 51, "trp_swadian_prison_guard"),
        (faction_set_slot, "fac_player_supporters_faction", 52, "trp_swadian_castle_guard"),
        (faction_set_slot, "fac_player_supporters_faction", 53, "trp_town_walker_1"),
        (faction_set_slot, "fac_player_supporters_faction", 54, "trp_town_walker_2"),
        (faction_set_slot, "fac_player_supporters_faction", 55, "trp_village_walker_1"),
        (faction_set_slot, "fac_player_supporters_faction", 56, "trp_village_walker_2"),
        (faction_set_slot, "fac_player_supporters_faction", 28, 0),
        (faction_set_slot, "fac_player_supporters_faction", 29, 1),
        (faction_set_slot, "fac_player_supporters_faction", 251, "itm_leather_jerkin"),
        (faction_set_slot, "fac_player_supporters_faction", 252, "itm_courtly_outfit"),
        (faction_set_slot, "fac_player_supporters_faction", 253, "itm_leather_boots"),
        (faction_set_slot, "fac_player_supporters_faction", 255, "fac_kingdom_1"),
        (jump_to_menu, "mnu_camp"),
      ]
      ),

      ("nuln",
      [],
      "Southern_Imperial",
      [
        (faction_set_slot, "fac_player_supporters_faction", 41, "trp_imperial_recruit"),
        (faction_set_slot, "fac_player_supporters_faction", 42, "trp_imperial_militia"),
        (faction_set_slot, "fac_player_supporters_faction", 43, "trp_nuln_infantry"),
        (faction_set_slot, "fac_player_supporters_faction", 44, "trp_nuln_veteran_sword"),
        (faction_set_slot, "fac_player_supporters_faction", 45, "trp_nuln_captain"),
        (faction_set_slot, "fac_player_supporters_faction", 46, "trp_empire_ogre"),
        (faction_set_slot, "fac_player_supporters_faction", 75, "pt_kingdom_1_nuln_reinforcements_a"),
        (faction_set_slot, "fac_player_supporters_faction", 76, "pt_kingdom_1_nuln_reinforcements_b"),
        (faction_set_slot, "fac_player_supporters_faction", 77, "pt_kingdom_1_nuln_reinforcements_c"),
        (faction_set_slot, "fac_player_supporters_faction", 78, "pt_kingdom_1_nuln_reinforcements_d"),
        (faction_set_slot, "fac_player_supporters_faction", 79, "pt_kingdom_1_nuln_reinforcements_e"),
        (faction_set_slot, "fac_player_supporters_faction", 111, "pt_kingdom_1_nuln_reinforcements_f"),
        (faction_set_slot, "fac_player_supporters_faction", 112, "pt_kingdom_1_nuln_reinforcements_g"),
        (faction_set_slot, "fac_player_supporters_faction", 49, "trp_nuln_veteran_sword"),
        (faction_set_slot, "fac_player_supporters_faction", 51, "trp_swadian_prison_guard"),
        (faction_set_slot, "fac_player_supporters_faction", 52, "trp_swadian_castle_guard"),
        (faction_set_slot, "fac_player_supporters_faction", 53, "trp_town_walker_1"),
        (faction_set_slot, "fac_player_supporters_faction", 54, "trp_town_walker_2"),
        (faction_set_slot, "fac_player_supporters_faction", 55, "trp_village_walker_1"),
        (faction_set_slot, "fac_player_supporters_faction", 56, "trp_village_walker_2"),
        (faction_set_slot, "fac_player_supporters_faction", 28, 0),
        (faction_set_slot, "fac_player_supporters_faction", 29, 1),
        (faction_set_slot, "fac_player_supporters_faction", 251, "itm_leather_jerkin"),
        (faction_set_slot, "fac_player_supporters_faction", 252, "itm_courtly_outfit"),
        (faction_set_slot, "fac_player_supporters_faction", 253, "itm_leather_boots"),
        (faction_set_slot, "fac_player_supporters_faction", 255, "fac_kingdom_1"),
        (jump_to_menu, "mnu_camp"),
      ]
      ),

      ("cancel",
      [],
      "Cancel.",
      [
        (jump_to_menu, "mnu_camp"),
      ]
      ),
    ],
  ),

  ("world_event_01", menu_text_color(0xFF000000)|mnf_disable_all_keys|mnf_scale_picture,
    "Your religious leader calls for tributes in order to build a new idol. Do you answer the call?",
    "none",
    [
      (set_background_mesh, "mesh_pic_tribute"),
    ],
    [
      ("choice_01_1",
      [],
      "Send_250_gold_to_help_pay_for_the_idol",
      [
        (store_troop_gold, ":var0", "trp_player"),
        (try_begin),
          (ge, ":var0", 250),
          (call_script, "script_change_troop_renown", "trp_player", 30),
          (troop_remove_gold, "trp_player", 250),
        (else_try),
          (display_message, "@You don't have enough gold."),
          (call_script, "script_change_troop_renown", "trp_player", -5),
        (try_end),
        (change_screen_return),
      ]
      ),

      ("choice_01_2",
      [],
      "Send_the_messenger_away_with_no_instructions.",
      [
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("world_event_02", menu_text_color(0xFF000000)|mnf_disable_all_keys|mnf_scale_picture,
    "A sneaky halfling throws a firebomb at your party and legs it. The resulting blaze is red hot and starts to melt everyones gold.",
    "none",
    [
      (set_background_mesh, "mesh_pic_halfling"),
      (store_random_in_range, ":var0", 1, 7),
      (assign, "$random_event", ":var0"),
    ],
    [
      ("choice_02_1",
      [
        (eq, "$random_event", 6),
      ],
      "You_desperately_try_to_save_your_gold_but_much_gets_melted_beyond_recognition",
      [
        (store_troop_gold, ":var0", "trp_player"),
        (val_div, ":var0", 4),
        (troop_remove_gold, "trp_player", ":var0"),
        (assign, "$random_event", 0),
        (change_screen_return),
      ]
      ),

      ("choice_02_2",
      [
        (eq, "$random_event", 5),
      ],
      "You_save_your_gold_and_run_after_the_gnome,_catching_him_before_he_could_escape._He_hands_you_his_gold_before_you_pass_judgement",
      [
        (troop_add_gold, "trp_player", 200),
        (assign, "$random_event", 0),
        (change_screen_return),
      ]
      ),

      ("choice_02_3",
      [
        (le, "$random_event", 4),
      ],
      "Luckily_your_gold_is_unaffected._You_ran_after_the_gnome_but_he_escaped_before_you_could_grab_him",
      [
        (assign, "$random_event", 0),
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("world_event_03", menu_text_color(0xFF000000)|mnf_disable_all_keys|mnf_scale_picture,
    "You come across a shrine to your God. You have the chance to donate some gold and say a prayer.",
    "none",
    [
      (set_background_mesh, "mesh_pic_shrine"),
    ],
    [
      ("choice_03_1",
      [],
      "Donate_300_gold_and_say_a_prayer",
      [
        (store_random_in_range, ":var0", 1, 7),
        (try_begin),
          (ge, ":var0", 4),
          (troop_raise_skill, "trp_player", 36, 1),
          (display_message, "@Your God favours you this day, +1 to ironflesh"),
          (change_screen_return),
        (else_try),
          (display_message, "@Your God does not convey their blessing today"),
          (change_screen_return),
        (try_end),
      ]
      ),

      ("choice_03_2",
      [],
      "Walk_on_past_without_paying_your_respects.",
      [
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("world_event_04", menu_text_color(0xFF000000)|mnf_disable_all_keys|mnf_scale_picture,
    "A stranger catches your attention at a crossroads. He says he has heard about you and wants to join your party.",
    "none",
    [
      (set_background_mesh, "mesh_pic_stranger"),
    ],
    [
      ("choice_04_01",
      [
        (party_get_free_companions_capacity, ":var0", "p_main_party"),
        (ge, ":var0", 1),
        (eq, "$event_companion", 0),
        (eq, "$disposition", 1),
      ],
      "He_is_a_young_samurai_from_Nippon_in_full_battle_gear._You_welcome_him_to_your_party",
      [
        (party_add_members, "p_main_party", "trp_npc84", 1),
        (assign, "$g_event_troop", "trp_npc84"),
        (call_script, "script_setup_talk_info_event_companions"),
        (assign, "$event_companion", 1),
        (change_screen_return),
      ]
      ),

      ("choice_04_02",
      [
        (party_get_free_companions_capacity, ":var0", "p_main_party"),
        (ge, ":var0", 1),
        (eq, "$event_companion", 0),
        (eq, "$disposition", 2),
      ],
      "She_is_a_witch_hag_riding_a_coldone._You_welcome_her_to_your_party",
      [
        (party_add_members, "p_main_party", "trp_npc85", 1),
        (assign, "$g_event_troop", "trp_npc85"),
        (call_script, "script_setup_talk_info_event_companions"),
        (assign, "$event_companion", 1),
        (change_screen_return),
      ]
      ),

      ("choice_04_03",
      [
        (party_get_free_companions_capacity, ":var0", "p_main_party"),
        (ge, ":var0", 1),
        (eq, "$event_companion", 1),
        (eq, "$disposition", 1),
      ],
      "He_is_an_elderly_dwarf_with_a_white_beard._You_welcome_him_to_your_party",
      [
        (party_add_members, "p_main_party", "trp_npc86", 1),
        (assign, "$g_event_troop", "trp_npc86"),
        (call_script, "script_setup_talk_info_event_companions"),
        (assign, "$event_companion", 2),
        (change_screen_return),
      ]
      ),

      ("choice_04_04",
      [
        (party_get_free_companions_capacity, ":var0", "p_main_party"),
        (ge, ":var0", 1),
        (eq, "$event_companion", 1),
        (eq, "$disposition", 2),
      ],
      "He_is_a_giant_troll_who_seems_a_lot_smarter_than_your_average_troll._You_welcome_him_to_your_party",
      [
        (party_add_members, "p_main_party", "trp_npc87", 1),
        (assign, "$g_event_troop", "trp_npc87"),
        (call_script, "script_setup_talk_info_event_companions"),
        (assign, "$event_companion", 2),
        (change_screen_return),
      ]
      ),

      ("choice_04_05",
      [
        (party_get_free_companions_capacity, ":var0", "p_main_party"),
        (ge, ":var0", 1),
        (eq, "$event_companion", 2),
        (eq, "$disposition", 1),
      ],
      "He_is_a_giant_armoured_gorilla._You_welcome_him_to_your_party",
      [
        (party_add_members, "p_main_party", "trp_npc88", 1),
        (assign, "$g_event_troop", "trp_npc88"),
        (call_script, "script_setup_talk_info_event_companions"),
        (assign, "$event_companion", 3),
        (change_screen_return),
      ]
      ),

      ("choice_04_06",
      [
        (party_get_free_companions_capacity, ":var0", "p_main_party"),
        (ge, ":var0", 1),
        (eq, "$event_companion", 2),
        (eq, "$disposition", 2),
      ],
      "He_is_a_giant_armoured_gorilla._You_welcome_him_to_your_party",
      [
        (party_add_members, "p_main_party", "trp_npc88", 1),
        (assign, "$g_event_troop", "trp_npc88"),
        (call_script, "script_setup_talk_info_event_companions"),
        (assign, "$event_companion", 3),
        (change_screen_return),
      ]
      ),

      ("choice_04_07",
      [
        (party_get_free_companions_capacity, ":var0", "p_main_party"),
        (ge, ":var0", 1),
        (eq, "$event_companion", 3),
        (eq, "$disposition", 1),
      ],
      "He_is_a_fighter_from_the_Volands_Venetors._You_welcome_him_to_your_party",
      [
        (party_add_members, "p_main_party", "trp_mercenary_horseman", 1),
        (change_screen_return),
      ]
      ),

      ("choice_04_08",
      [
        (party_get_free_companions_capacity, ":var0", "p_main_party"),
        (ge, ":var0", 1),
        (eq, "$event_companion", 3),
        (eq, "$disposition", 2),
      ],
      "He_is_a_Bearman_of_Urslo._You_welcome_him_to_your_party",
      [
        (party_add_members, "p_main_party", "trp_mercenary_swordsman", 1),
        (change_screen_return),
      ]
      ),

      ("choice_04_09",
      [],
      "You_tell_the_stranger_to_move_along_and_continue_on_their_business",
      [
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("world_event_05", menu_text_color(0xFF000000)|mnf_disable_all_keys|mnf_scale_picture,
    "Your party is hit by a tornado and the ferocity of the storm threatens to carry many of your things from your grasp.",
    "none",
    [
      (store_random_in_range, ":var0", 1, 7),
      (assign, "$random_event", ":var0"),
      (set_background_mesh, "mesh_pic_tornado"),
    ],
    [
      ("choice_05_1",
      [
        (troop_get_slot, ":var0", "trp_player", 226),
        (neq, ":var0", 4),
        (eq, "$random_event", 6),
      ],
      "You_save_your_items_but_some_of_your_gold_is_lost.",
      [
        (store_troop_gold, ":var0", "trp_player"),
        (val_div, ":var0", 5),
        (troop_remove_gold, "trp_player", ":var0"),
        (assign, "$random_event", 0),
        (change_screen_return),
      ]
      ),

      ("choice_05_2",
      [
        (troop_get_slot, ":var0", "trp_player", 226),
        (neq, ":var0", 4),
        (eq, "$random_event", 5),
      ],
      "You_save_your_items_but_some_of_your_gold_is_lost.",
      [
        (store_troop_gold, ":var0", "trp_player"),
        (val_div, ":var0", 10),
        (troop_remove_gold, "trp_player", ":var0"),
        (assign, "$random_event", 0),
        (change_screen_return),
      ]
      ),

      ("choice_05_3",
      [
        (troop_get_slot, ":var0", "trp_player", 226),
        (neq, ":var0", 4),
        (le, "$random_event", 4),
      ],
      "You_tried_desperately_to_hold_on_to_your_items_but_something_is_wrenched_free_by_the_terrifying_winds.",
      [
        (troop_get_inventory_capacity, ":var0", "trp_player"),
        (try_for_range, ":var1", 0, ":var0"),
          (troop_get_inventory_slot, ":var2", "trp_player", ":var1"),
          (ge, ":var2", 0),
          (item_get_slot, ":var3", ":var2", 117),
          (neq, ":var3", 1),
          (assign, ":var4", 0),
          (try_begin),
            (is_between, ":var2", "itm_spice", "itm_siege_supply"),
            (assign, ":var4", 20),
          (else_try),
            (this_or_next|is_between, ":var2", "itm_steppe_horse", "itm_arrows"),
            (this_or_next|eq, ":var2", "itm_warhorse_sarranid"),
            (eq, ":var2", "itm_warhorse_steppe"),
            (assign, ":var4", 15),
          (else_try),
            (this_or_next|is_between, ":var2", "itm_gor_rok_axe", "itm_liche_globe"),
            (is_between, ":var2", "itm_darts", "itm_torch"),
            (assign, ":var4", 5),
          (else_try),
            (this_or_next|is_between, ":var2", "itm_leather_gloves", "itm_gor_rok_axe"),
            (this_or_next|eq, ":var2", "itm_plate_boots"),
            (is_between, ":var2", "itm_wooden_shield", "itm_darts"),
            (assign, ":var4", 5),
          (try_end),
          (store_random_in_range, ":var5", 0, 100),
          (lt, ":var5", ":var4"),
          (troop_remove_item, "trp_player", ":var2"),
        (try_end),
        (assign, "$random_event", 0),
        (change_screen_return),
      ]
      ),

      ("choice_05_4",
      [
        (troop_slot_eq, "trp_player", 226, 4),
      ],
      "Your_control_of_the_heavens_allows_you_to_calm_the_storm_and_save_your_possessions.",
      [
        (assign, "$random_event", 0),
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("world_event_06", menu_text_color(0xFF000000)|mnf_disable_all_keys|mnf_scale_picture,
    "You travel across an area ravaged by the plague.",
    "none",
    [
      (store_random_in_range, ":var0", 1, 7),
      (assign, "$random_event", ":var0"),
      (troop_get_type, ":var1", "trp_player"),
      (assign, "$raceplague", ":var1"),
      (set_background_mesh, "mesh_pic_plague"),
    ],
    [
      ("choice_06_01",
      [
        (eq, "$has_plague", 1),
      ],
      "You_are_already_fighting_the_plague_yourself_and_the_sight_of_others_suffering_and_on_the_edge_of_death_saps_your_strength_even_more.",
      [
        (assign, "$random_event", 0),
        (change_screen_return),
      ]
      ),

      ("choice_06_02",
      [
        (eq, "$has_plague", 0),
        (this_or_next|eq, "$raceplague", 2),
        (this_or_next|eq, "$raceplague", 9),
        (eq, "$raceplague", 10),
      ],
      "But_you_are_immune_to_the_plague_and_do_not_have_to_worry_about_such_things.",
      [
        (assign, "$random_event", 0),
        (change_screen_return),
      ]
      ),

      ("choice_06_03",
      [
        (eq, "$has_plague", 0),
        (this_or_next|neq, "$raceplague", 2),
        (this_or_next|neq, "$raceplague", 9),
        (neq, "$raceplague", 10),
        (ge, "$random_event", 3),
      ],
      "You_hurry_through_as_quickly_as_possible_and_luckily_escape_affliction_yourself.",
      [
        (assign, "$random_event", 0),
        (change_screen_return),
      ]
      ),

      ("choice_06_04",
      [
        (eq, "$has_plague", 0),
        (this_or_next|neq, "$raceplague", 2),
        (this_or_next|neq, "$raceplague", 9),
        (neq, "$raceplague", 10),
        (le, "$random_event", 2),
      ],
      "You_hurry_through_but_could_not_prevent_yourself_from_becoming_afflicted._You_now_have_the_plague.",
      [
        (assign, "$has_plague", 1),
        (troop_raise_attribute, "trp_player", ca_strength, -3),
        (troop_raise_attribute, "trp_player", ca_agility, -3),
        (try_begin),
          (store_skill_level, ":var0", 36, "trp_player"),
          (ge, ":var0", 2),
          (troop_raise_skill, "trp_player", 36, -2),
          (assign, "$plagueironflesh", 2),
        (try_end),
        (try_begin),
          (store_skill_level, ":var1", 35, "trp_player"),
          (ge, ":var1", 2),
          (troop_raise_skill, "trp_player", 35, -2),
          (assign, "$plaguepower_strike", 2),
        (try_end),
        (try_begin),
          (store_skill_level, ":var2", 25, "trp_player"),
          (ge, ":var2", 2),
          (troop_raise_skill, "trp_player", 25, -2),
          (assign, "$plagueathletics", 2),
        (try_end),
        (assign, "$random_event", 0),
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("world_event_07", menu_text_color(0xFF000000)|mnf_disable_all_keys|mnf_scale_picture,
    "You see a party of beastmen chasing a dwarf merchant. You cannot see how many beastmen there are in total but if you are to save him you must act now.",
    "none",
    [
      (set_background_mesh, "mesh_pic_beastman"),
    ],
    [
      ("choice_07_1",
      [],
      "Charge_the_beastmen.",
      [
        (assign, "$event_troop", "trp_beastman_gor"),
        (call_script, "script_setup_random_scene_event"),
        (store_character_level, ":var0", "trp_player"),
        (store_add, "$event_troop_amount", ":var0", 10),
        (val_mul, "$event_troop_amount", 12),
        (val_div, "$event_troop_amount", 10),
        (modify_visitors_at_site, "$event_scene"),
        (reset_visitors),
        (set_visitors, 0, "$event_troop", "$event_troop_amount"),
        (set_party_battle_mode),
        (set_battle_advantage, 0),
        (assign, "$g_battle_result", 0),
        (set_jump_mission, "mt_village_attack_bandits"),
        (jump_to_scene, "$event_scene"),
        (assign, "$g_next_menu", "mnu_beastmen_event_result"),
        (jump_to_menu, "mnu_battle_debrief"),
        (assign, "$g_mt_mode", 3),
        (change_screen_mission),
      ]
      ),

      ("choice_07_02",
      [],
      "Leave_the_merchant_to_his_fate.",
      [
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("world_event_08", menu_text_color(0xFF000000)|mnf_disable_all_keys|mnf_scale_picture,
    "You encounter a witch who shows you a small vial of pink liquid which she says will make you very powerful. She offers it to you for only 300 gold but she says you must drink it immediately.",
    "none",
    [
      (set_background_mesh, "mesh_pic_witch"),
      (store_random_in_range, ":var0", 1, 7),
      (assign, "$random_event", ":var0"),
    ],
    [
      ("choice_08_1",
      [],
      "Give_her_the_gold_and_drink_the_vial.",
      [
        (troop_remove_gold, "trp_player", 300),
        (try_begin),
          (eq, "$random_event", 6),
          (troop_raise_attribute, "trp_player", ca_strength, -2),
          (display_message, "@The liquid makes you collapse and convulse. Lose 2 strength permanently."),
          (assign, "$random_event", 0),
        (else_try),
          (ge, "$random_event", 3),
          (troop_raise_skill, "trp_player", 36, 1),
          (display_message, "@The liquid is hot and satisfying. Gain 1 ironflesh permanently."),
          (assign, "$random_event", 0),
        (else_try),
          (troop_raise_skill, "trp_player", 0, 2),
          (display_message, "@The liquid is hot and satisfying. Gain 2 strength permanently."),
          (assign, "$random_event", 0),
        (try_end),
        (change_screen_return),
      ]
      ),

      ("choice_08_02",
      [],
      "Refuse_her_offer_and_send_her_on_her_way.",
      [
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("world_event_09", menu_text_color(0xFF000000)|mnf_disable_all_keys,
    "You come across a land ravaged by famine and drought. Despite the best efforts of the farmers the harvest has been the worst in history. The suffering is all around you.",
    "none",
    [],
    [
      ("choice_09_1",
      [
        (store_troop_gold, ":var0", "trp_player"),
        (ge, ":var0", 500),
      ],
      "Give_500_gold_to_see_them_through_the_hard_times.",
      [
        (troop_remove_gold, "trp_player", 500),
        (call_script, "script_change_troop_renown", "trp_player", 80),
        (store_random_in_range, ":var0", 1, 7),
        (try_begin),
          (ge, ":var0", 4),
          (troop_add_item, "trp_player", "itm_grain"),
          (display_message, "@The community gives you a gift for your generosity."),
        (try_end),
        (change_screen_return),
      ]
      ),

      ("choice_09_2",
      [
        (store_troop_gold, ":var0", "trp_player"),
        (ge, ":var0", 250),
      ],
      "Give_250_gold_so_everyone_can_have_a_meal_or_two.",
      [
        (troop_remove_gold, "trp_player", 250),
        (call_script, "script_change_troop_renown", "trp_player", 40),
        (change_screen_return),
      ]
      ),

      ("choice_09_3",
      [
        (store_troop_gold, ":var0", "trp_player"),
        (ge, ":var0", 100),
      ],
      "Give_100_gold_to_make_sure_the_young_and_sick_are_fed.",
      [
        (troop_remove_gold, "trp_player", 100),
        (call_script, "script_change_troop_renown", "trp_player", 20),
        (change_screen_return),
      ]
      ),

      ("choice_09_4",
      [
        (troop_get_inventory_capacity, ":var0", "trp_player"),
        (try_for_range, ":var1", 0, ":var0"),
          (troop_get_inventory_slot, ":var2", "trp_player", ":var1"),
          (is_between, ":var2", "itm_wine", "itm_siege_supply"),
          (store_item_kind_count, ":var3", ":var2", "trp_player"),
          (gt, ":var3", 0),
        (try_end),
      ],
      "Give_them_some_food_so_a_family_can_cook_a_meal.",
      [
        (troop_get_inventory_capacity, ":var0", "trp_player"),
        (try_for_range, ":var1", 0, ":var0"),
          (troop_get_inventory_slot, ":var2", "trp_player", ":var1"),
          (is_between, ":var2", "itm_wine", "itm_siege_supply"),
          (assign, ":var3", 50),
          (store_random_in_range, ":var4", 1, 101),
          (lt, ":var4", ":var3"),
          (troop_remove_item, "trp_player", ":var2"),
        (try_end),
        (call_script, "script_change_troop_renown", "trp_player", 30),
        (change_screen_return),
      ]
      ),

      ("choice_09_05",
      [],
      "Ignore_their_plight_and_continue_on_your_journey.",
      [
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("world_event_10", menu_text_color(0xFF000000)|mnf_disable_all_keys|mnf_scale_picture,
    "You encounter the famed pool of dreams where it is claimed that those with strong minds can look in and get a glimpse of their future. Do you take a look?",
    "none",
    [
      (set_background_mesh, "mesh_pic_pool"),
      (store_random_in_range, ":var0", 1, 7),
      (assign, "$random_event", ":var0"),
      (store_attribute_level, ":var1", "trp_player", ca_intelligence),
      (assign, "$pool", ":var1"),
    ],
    [
      ("choice_10_1",
      [
        (this_or_next|lt, "$pool", 15),
        (le, "$random_event", 3),
      ],
      "Take_a_look_into_the_pool.",
      [
        (assign, "$random_event", 0),
        (jump_to_menu, "mnu_pool_fail"),
      ]
      ),

      ("choice_10_2",
      [
        (ge, "$pool", 15),
        (this_or_next|eq, "$random_event", 4),
        (eq, "$random_event", 5),
      ],
      "Take_a_look_into_the_pool.",
      [
        (assign, "$random_event", 0),
        (jump_to_menu, "mnu_pool_charisma"),
      ]
      ),

      ("choice_10_3",
      [
        (ge, "$pool", 15),
        (eq, "$random_event", 6),
      ],
      "Take_a_look_into_the_pool.",
      [
        (assign, "$random_event", 0),
        (jump_to_menu, "mnu_pool_rtr"),
      ]
      ),

      ("choice_10_4",
      [],
      "Do_not_look_this_time.",
      [
        (assign, "$random_event", 0),
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("pool_fail", menu_text_color(0xFF000000)|mnf_disable_all_keys|mnf_scale_picture,
    "You gaze into the crystal clear waters for a long time but you see nothing but your own reflection until you finally decided to leave.",
    "none",
    [
      (set_background_mesh, "mesh_pic_pool"),
    ],
    [
      ("continue",
      [],
      "Continue",
      [
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("pool_charisma", menu_text_color(0xFF000000)|mnf_disable_all_keys|mnf_scale_picture,
    "You see visions of yourself achieving great deeds. All the things you thought you were capable of appear to be within your grasp. This brings you new confidence and a feeling of total self belief.",
    "none",
    [
      (set_background_mesh, "mesh_pic_pool"),
    ],
    [
      ("continue",
      [],
      "Add_1_to_charisma",
      [
        (troop_raise_attribute, "trp_player", ca_charisma, 1),
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("pool_rtr", menu_text_color(0xFF000000)|mnf_disable_all_keys|mnf_scale_picture,
    "From the moment you looked into the pool the images started to take shape before your eyes. You saw yourself as the leader of a great nation, an all powerful nation which strikes fear into the hearts of those who stand against it.",
    "none",
    [
      (set_background_mesh, "mesh_pic_pool"),
    ],
    [
      ("continue",
      [],
      "Add_10_to_right_to_rule.",
      [
        (val_add, "$player_right_to_rule", 10),
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("world_event_11", menu_text_color(0xFF000000)|mnf_disable_all_keys|mnf_scale_picture,
    "The weather is worsening as you travel over a series of open hilltops when suddenly a lightning storm explodes above your heads. Everyone starts to move fast to escape the risk of burns or ruined armour and clothing.",
    "none",
    [
      (set_background_mesh, "mesh_pic_storm"),
      (store_random_in_range, ":var0", 1, 9),
      (assign, "$random_event", ":var0"),
    ],
    [
      ("choice_11_01",
      [
        (troop_get_slot, ":var0", "trp_player", 226),
        (neq, ":var0", 4),
        (lt, "$random_event", 7),
      ],
      "You_make_a_dash_for_a_rock_formation,_hoping_to_avoid_the_lightning_before_it_gets_you.",
      [
        (assign, "$random_event", 0),
        (jump_to_menu, "mnu_lightning_succeed"),
      ]
      ),

      ("choice_11_02",
      [
        (troop_get_slot, ":var0", "trp_player", 226),
        (neq, ":var0", 4),
        (ge, "$random_event", 7),
      ],
      "You_make_a_dash_for_a_rock_formation,_hoping_to_avoid_the_lightning_before_it_gets_you.",
      [
        (assign, "$random_event", 0),
        (jump_to_menu, "mnu_lightning_fail"),
      ]
      ),

      ("choice_11_03",
      [
        (troop_get_slot, ":var0", "trp_player", 226),
        (eq, ":var0", 4),
      ],
      "You_make_a_dash_for_a_rock_formation,_hoping_to_avoid_the_lightning_before_it_gets_you.",
      [
        (assign, "$random_event", 0),
        (jump_to_menu, "mnu_lightning_succeed"),
      ]
      ),
    ],
  ),

  ("lightning_succeed", menu_text_color(0xFF000000)|mnf_disable_all_keys|mnf_scale_picture,
    "You can feel the heat as a bolt whizzes past your cheek. You can hear some of your men getting hit close by and soon everyone is frantic. You manage to dive behind the rocks with an enormous leap and make yourself as small as possible.",
    "none",
    [
      (set_background_mesh, "mesh_pic_storm"),
    ],
    [
      ("continue",
      [],
      "As_you_emerge_unscathed_you_are_glad_to_see_your_troops_a_bit_worse_for_wear_but_no_serious_injuries.",
      [
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("lightning_fail", menu_text_color(0xFF000000)|mnf_disable_all_keys|mnf_scale_picture,
    "You can feel the heat as a bolt whizzes past your cheek. You can hear some of your men getting hit close by and soon everyone is frantic. You try to dive behind the rocks but just as you leave the ground a bolt of lightning hits your shoulder. You get thrown 20 feet through the air and lay immobilised in pain for at least 3 minutes.",
    "none",
    [
      (set_background_mesh, "mesh_pic_storm"),
    ],
    [
      ("continue",
      [],
      "You_regain_your_strength_and_stand_up_to_see_the_state_of_your_apparel.",
      [
        (troop_get_inventory_capacity, ":var0", "trp_player"),
        (try_for_range, ":var1", 0, ":var0"),
          (troop_get_inventory_slot, ":var2", "trp_player", ":var1"),
          (ge, ":var2", 0),
          (item_get_slot, ":var3", ":var2", 117),
          (neq, ":var3", 1),
          (assign, ":var4", 0),
          (try_begin),
            (this_or_next|is_between, ":var2", "itm_leather_gloves", "itm_gor_rok_axe"),
            (this_or_next|eq, ":var2", "itm_plate_boots"),
            (is_between, ":var2", "itm_wooden_shield", "itm_darts"),
            (assign, ":var4", 50),
          (try_end),
          (store_random_in_range, ":var5", 0, 100),
          (lt, ":var5", ":var4"),
          (troop_remove_item, "trp_player", ":var2"),
        (try_end),
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("world_event_12", menu_text_color(0xFF000000)|mnf_disable_all_keys|mnf_scale_picture,
    "You come across a small settlement which has been badly damaged by flash storms and tornados. They ask you for help in fixing their homes. It will take some time but they will give you gold for your help. Will you help them?",
    "none",
    [
      (set_background_mesh, "mesh_pic_looted_village"),
    ],
    [
      ("choice_12_01",
      [],
      "Tell_your_party_to_stop_and_help_the_community.",
      [
        (troop_add_gold, "trp_player", 200),
        (rest_for_hours, 36, 5, 1),
        (change_screen_return),
      ]
      ),

      ("choice_12_02",
      [],
      "Tell_them_you_do_not_have_the_time.",
      [
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("world_event_13", menu_text_color(0xFF000000)|mnf_disable_all_keys|mnf_scale_picture,
    "Ambush! Out of nowhere a horde of forest goblins descend upon your party, you must take up arms with haste.",
    "none",
    [
      (set_background_mesh, "mesh_pic_goblinambush"),
    ],
    [
      ("continue",
      [],
      "Meet_the_attack.",
      [
        (assign, "$event_troop1", "trp_goblin_warrior"),
        (assign, "$event_troop2", "trp_goblin_scout"),
        (assign, "$event_troop3", "trp_wolfrider_warriors"),
        (assign, "$event_troop4", "trp_goblin_scalp"),
        (call_script, "script_setup_random_scene_event"),
        (assign, "$event_troop_amount1", 12),
        (assign, "$event_troop_amount2", 10),
        (assign, "$event_troop_amount3", 10),
        (assign, "$event_troop_amount4", 8),
        (modify_visitors_at_site, "$event_scene"),
        (reset_visitors),
        (set_visitors, 0, "$event_troop1", "$event_troop_amount1"),
        (set_visitors, 0, "$event_troop2", "$event_troop_amount2"),
        (set_visitors, 0, "$event_troop3", "$event_troop_amount3"),
        (set_visitors, 0, "$event_troop4", "$event_troop_amount4"),
        (set_party_battle_mode),
        (set_battle_advantage, 0),
        (assign, "$g_battle_result", 0),
        (set_jump_mission, "mt_village_attack_bandits"),
        (jump_to_scene, "$event_scene"),
        (assign, "$g_next_menu", "mnu_ambush_event_result"),
        (jump_to_menu, "mnu_battle_debrief"),
        (assign, "$g_mt_mode", 3),
        (change_screen_mission),
      ]
      ),
    ],
  ),

  ("world_event_14", mnf_disable_all_keys|mnf_scale_picture,
    "As you march around the base of a hill a shallow earthquake hits the area and the whole landscape starts to sway from under your feet. As you lose balance you hear a great sound as part of the hill breaks free and starts to slide down towards you at great pace. The dirt and rubble smothers a large proportion of your troops although quick thinking from the rest prevents a real catastrophe from occuring. You are left with many injured to attend to.",
    "none",
    [
      (set_background_mesh, "mesh_pic_landslide"),
      (call_script, "script_party_wound_random_members", "p_main_party"),
    ],
    [
      ("continue",
      [],
      "Continue.",
      [
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("world_event_15", mnf_disable_all_keys,
    "It is a glorious day. The weather is perfect and an entertainment troupe arrives to give your army a few hours of fun and laughter. You finish things off by giving them an uplifting speech and a great banquet leaving spirits high for the journey ahead.",
    "none",
    [
      (party_set_morale, "p_main_party", 100),
    ],
    [
      ("continue",
      [],
      "Continue.",
      [
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("world_event_16", mnf_disable_all_keys|mnf_scale_picture,
    "Without any warning a freak storm blackens the sky and brings forth savage winds and torrential rain. It is a struggle to move or even see but your army is disciplined and manages to keep a good pace despite the conditions. As the storm subsides you realise that all of your food has either blown free or has been ruined.",
    "none",
    [
      (set_background_mesh, "mesh_pic_storm"),
      (troop_get_inventory_capacity, ":var0", "trp_player"),
      (try_for_range, ":var1", 0, ":var0"),
        (troop_get_inventory_slot, ":var2", "trp_player", ":var1"),
        (ge, ":var2", 0),
        (is_between, ":var2", "itm_wine", "itm_siege_supply"),
        (neq, ":var2", "itm_wine"),
        (neq, ":var2", "itm_ale"),
        (troop_remove_item, "trp_player", ":var2"),
      (try_end),
    ],
    [
      ("continue",
      [],
      "Continue.",
      [
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("world_event_17", mnf_disable_all_keys|mnf_scale_picture,
    "You march across a stretch of path which is busy with travellers and adventuring parties. Lots of travelling merchants and artisans approach you and your troops trying to make a sale but you are not tempted to buy anything. In amongst the distractions you fail to notice a halfling reach into your pocket and take some of your gold, you can just about hear it cackle as it escapes into the tall grass.",
    "none",
    [
      (set_background_mesh, "mesh_pic_halfling"),
      (troop_remove_gold, "trp_player", 200),
    ],
    [
      ("continue",
      [],
      "Continue.",
      [
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("world_event_18", menu_text_color(0xFF000000)|mnf_disable_all_keys,
    "You come across a small outpost which has a very unusual establishment. It is a stone building built into the bottom of a small cliff and on the outside there is a sign post saying 'steam bath for 100 gold'. You have heard of these places, apparently they are excellent but you are not sure if you can spare the time.",
    "none",
    [],
    [
      ("choice_18_01",
      [
        (store_troop_gold, ":var0", "trp_player"),
        (ge, ":var0", 100),
      ],
      "Tell_your_party_to_halt_while_you_go_in_for_some_rest_and_relaxation.",
      [
        (troop_remove_gold, "trp_player", 100),
        (jump_to_menu, "mnu_steam_bath"),
      ]
      ),

      ("choice_18_02",
      [],
      "Continue_with_your_journey.",
      [
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("steam_bath", menu_text_color(0xFF000000)|mnf_disable_all_keys,
    "You experience the most pampering you have ever experienced in your life. You accept any extras offered to you and spend 90 minutes in pure euphoric heaven.",
    "none",
    [
      (store_random_in_range, "$random_event", 1, 7),
    ],
    [
      ("choice_18_01",
      [
        (ge, "$random_event", 4),
      ],
      "It_was_an_unforgettable_experience_which_leaves_a_lasting_effect_on_you._You_will_definitely_return.",
      [
        (troop_raise_attribute, "trp_player", ca_strength, 1),
        (display_message, "@Add 1 to strength permanently."),
        (assign, "$random_event", 0),
        (change_screen_return),
      ]
      ),

      ("choice_18_02",
      [
        (le, "$random_event", 3),
      ],
      "Feeling_better_for_you_experience_you_leave_on_a_high_and_ready_for_anything.",
      [
        (assign, "$random_event", 0),
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("world_event_19", menu_text_color(0xFF000000)|mnf_disable_all_keys|mnf_scale_picture,
    "You receive a message that one of your {s2}s is wanted for murder and has been summoned to trial immediately. The family of the deceased will compensate you if you release them to their armed guards immediately.",
    "none",
    [
      (set_background_mesh, "mesh_pic_guards"),
      (str_clear, s2),
      (party_get_num_companion_stacks, ":var0", "p_main_party"),
      (store_random_in_range, ":var1", 1, ":var0"),
      (party_stack_get_troop_id, "$event_selected_troop", "p_main_party", ":var1"),
      (neg|troop_is_hero, "$event_selected_troop"),
      (neq, "$event_selected_troop", "trp_player"),
      (str_store_troop_name, s2, "$event_selected_troop"),
    ],
    [
      ("choice_19_01",
      [
        (str_clear, s2),
        (str_store_troop_name, s2, "$event_selected_troop"),
      ],
      "Agree_to_hand_over_the_{s2}_immediately.",
      [
        (jump_to_menu, "mnu_murder_agree"),
      ]
      ),

      ("choice_19_02",
      [
        (str_clear, s2),
        (str_store_troop_name, s2, "$event_selected_troop"),
      ],
      "Refuse_to_hand_over_the_{s2}._While_under_your_leadership_your_troops_have_your_protection.",
      [
        (jump_to_menu, "mnu_murder_disagree"),
      ]
      ),
    ],
  ),

  ("murder_agree", mnf_disable_all_keys|mnf_scale_picture,
    "You examine the documents and see that this is an official request. You hand over your troop much to the discontent of your army.",
    "none",
    [
      (set_background_mesh, "mesh_pic_guards"),
      (party_remove_members, "p_main_party", "$event_selected_troop", 1),
      (store_character_level, ":var0", "$event_selected_troop"),
      (val_mul, ":var0", 10),
      (troop_add_gold, "trp_player", ":var0"),
      (call_script, "script_change_player_party_morale", -2),
    ],
    [
      ("continue",
      [],
      "Continue.",
      [
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("murder_disagree", mnf_disable_all_keys|mnf_scale_picture,
    "You can see the guards considering making a move but they back down after considerable thought and walk away scowling. Your men raise a cheer and seem impressed with your decision.",
    "none",
    [
      (set_background_mesh, "mesh_pic_guards"),
      (call_script, "script_change_player_party_morale", 10),
    ],
    [
      ("continue",
      [],
      "Continue.",
      [
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("world_event_20", menu_text_color(0xFF000000)|mnf_disable_all_keys,
    "You suddenly find yourself in the middle of a skirmish between some goblins and some pirates. Your troops quickly clear any combatents which get too close for comfort but not before you take a dart to the neck and collapse on the floor.",
    "none",
    [],
    [
      ("continue",
      [],
      "Continue.",
      [
        (rest_for_hours, 4, 3, 1),
        (jump_to_menu, "mnu_drugged"),
      ]
      ),
    ],
  ),

  ("drugged", menu_text_color(0xFF000000)|mnf_disable_all_keys,
    "You wake up a few hours later and with great difficulty stagger to your feet. You realise you have been drugged and curse the goblin who did it. Your troops inform you that the goblin is dead along with many others.",
    "none",
    [
      (party_wound_members, "p_main_party", "trp_player", 1),
    ],
    [
      ("continue",
      [],
      "Continue.",
      [
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("world_event_21", menu_text_color(0xFF000000)|mnf_disable_all_keys|mnf_scale_picture,
    "Your troops request a few hours of revelry and entertainment at your expense, they claim it would be good for morale. These festivities will cost you 400 gold.",
    "none",
    [
      (set_background_mesh, "mesh_pic_camp"),
    ],
    [
      ("choice_21_01",
      [],
      "My_army_has_earnt_it_and_it_will_raise_morale._Hand_them_the_gold.",
      [
        (troop_remove_gold, "trp_player", 400),
        (call_script, "script_change_player_party_morale", 20),
        (rest_for_hours, 4, 3, 1),
        (change_screen_return),
      ]
      ),

      ("choice_21_02",
      [],
      "Continue_with_your_journey.",
      [
        (call_script, "script_change_player_party_morale", -10),
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("world_event_22", mnf_disable_all_keys|mnf_scale_picture,
    "You are approached by a man who has sought you out in desperate need for help. Will you hear what he has to say?",
    "none",
    [
      (set_background_mesh, "mesh_pic_stranger"),
    ],
    [
      ("choice_22_01",
      [
        (eq, "$disposition", 1),
      ],
      "Speak_with_the_man.",
      [
        (call_script, "script_get_meeting_scene"),
        (assign, ":var0", reg0),
        (modify_visitors_at_site, ":var0"),
        (reset_visitors),
        (set_visitor, 0, "trp_player"),
        (set_visitor, 17, "trp_good_robbed"),
        (set_jump_mission, "mt_conversation_encounter"),
        (jump_to_scene, ":var0"),
        (change_screen_map_conversation, "trp_good_robbed"),
      ]
      ),

      ("choice_22_02",
      [
        (eq, "$disposition", 2),
      ],
      "Speak_with_the_man.",
      [
        (call_script, "script_get_meeting_scene"),
        (assign, ":var0", reg0),
        (modify_visitors_at_site, ":var0"),
        (reset_visitors),
        (set_visitor, 0, "trp_player"),
        (set_visitor, 17, "trp_evil_robbed"),
        (set_jump_mission, "mt_conversation_encounter"),
        (jump_to_scene, ":var0"),
        (change_screen_map_conversation, "trp_evil_robbed"),
      ]
      ),

      ("choice_22_03",
      [],
      "Tell_the_man_you_have_no_time_for_his_troubles.",
      [
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("world_event_23", menu_text_color(0xFF000000)|mnf_disable_all_keys,
    "You come across a mutilated, purulant body. This body did not die of natural causes, nor you suspect in battle. As you are about to leave you catch the feint glint of a diamond clasped in the hand of the corpse. In order to retrieve the diamond you will have to handle the body. What do you do?",
    "none",
    [],
    [
      ("choice_23_01",
      [],
      "Reach_down_and_discover_what_is_in_its_hand.",
      [
        (try_begin),
          (store_random_in_range, ":var0", 1, 4),
          (try_begin),
            (eq, ":var0", 1),
            (troop_add_item, "trp_player", "itm_ring_rich"),
          (else_try),
            (eq, ":var0", 2),
            (troop_add_item, "trp_player", "itm_ring_normal"),
          (else_try),
            (eq, ":var0", 3),
            (troop_add_item, "trp_player", "itm_ring_rich"),
          (try_end),
        (try_end),
        (display_message, "@You retrieve the ring from the corpse"),
        (try_begin),
          (store_random_in_range, ":var0", 1, 3),
          (try_begin),
            (eq, ":var0", 1),
            (assign, "$has_plague", 1),
            (troop_raise_attribute, "trp_player", ca_strength, -3),
            (troop_raise_attribute, "trp_player", ca_agility, -3),
            (try_begin),
              (store_skill_level, ":var1", 36, "trp_player"),
              (ge, ":var1", 2),
              (troop_raise_skill, "trp_player", 36, -2),
              (assign, "$plagueironflesh", 2),
            (try_end),
            (try_begin),
              (store_skill_level, ":var2", 35, "trp_player"),
              (ge, ":var2", 2),
              (troop_raise_skill, "trp_player", 35, -2),
              (assign, "$plaguepower_strike", 2),
            (try_end),
            (try_begin),
              (store_skill_level, ":var3", 25, "trp_player"),
              (ge, ":var3", 2),
              (troop_raise_skill, "trp_player", 25, -2),
              (assign, "$plagueathletics", 2),
            (try_end),
            (display_message, "@You have contracted the plague", 0xFFAAFFAA),
          (else_try),
          (try_end),
        (try_end),
        (change_screen_return),
      ]
      ),

      ("choice_23_02",
      [],
      "Leave_the_corpse_and_continue_with_your_journey.",
      [
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("world_event_24", menu_text_color(0xFF000000)|mnf_disable_all_keys,
    "You lose your footing on a slippery rock and damage your foot and knee. It will take a while for the injuries to heal.",
    "none",
    [],
    [
      ("continue",
      [],
      "Continue.",
      [
        (assign, "$hasfall", 1),
        (troop_raise_skill, "trp_player", 25, -2),
        (display_message, "@Your athletics skill has been reduced"),
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("world_event_25", menu_text_color(0xFF000000)|mnf_disable_all_keys,
    "You come across a potion seller, a rare kind of merchant in the Old World. Do you wish to trade with him?",
    "none",
    [],
    [
      ("choice_25_01",
      [],
      "Trade_with_the_merchant.",
      [
        (change_screen_trade, "trp_tavern_minstrel_3"),
      ]
      ),

      ("choice_25_02",
      [],
      "Continue_with_your_journey.",
      [
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("world_event_26", menu_text_color(0xFF000000)|mnf_disable_all_keys,
    "You find a treasure chest with a heavy lock on it when your party stopped for food. Do you break it open?",
    "none",
    [],
    [
      ("choice_26_01",
      [],
      "Open_the_chest.",
      [
        (jump_to_menu, "mnu_treasure_chest"),
      ]
      ),

      ("choice_26_02",
      [],
      "Continue_with_your_journey.",
      [
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("treasure_chest", menu_text_color(0xFF000000)|mnf_disable_all_keys,
    "After a significant struggle you manage to break open the chest and the lid springs open.....",
    "none",
    [
      (store_random_in_range, ":var0", 1, 7),
      (assign, "$random_event", ":var0"),
    ],
    [
      ("choice_26_1",
      [
        (eq, "$random_event", 6),
      ],
      "You_cannot_hide_your_disbelief_as_you_find_a_genuine_pearl_necklace_hidden_in_fine_cloth.",
      [
        (troop_add_item, "trp_player", "itm_pearl_necklace"),
        (troop_add_item, "trp_player", "itm_linen"),
        (assign, "$random_event", 0),
        (change_screen_return),
      ]
      ),

      ("choice_26_2",
      [
        (lt, "$random_event", 6),
        (ge, "$random_event", 3),
      ],
      "You_find_a_few_interesting_items_amongst_a_pile_of_gold.",
      [
        (troop_add_gold, "trp_player", 830),
        (troop_add_item, "trp_player", "itm_ring_normal"),
        (troop_add_item, "trp_player", "itm_potion_healing"),
        (troop_add_item, "trp_player", "itm_honey"),
        (troop_add_item, "trp_player", "itm_raw_silk"),
        (troop_add_item, "trp_player", "itm_gekokujo_wakizashi_10"),
        (assign, "$random_event", 0),
        (change_screen_return),
      ]
      ),

      ("choice_26_3",
      [
        (le, "$random_event", 2),
      ],
      "As_soon_as_it_is_opened_a_green_gas_surrounds_you_and_you_start_choking_on_the_poison._The_chest_is_empty_and_you_collapse_on_the_floor_with_mucus_coming_out_of_your_eyes.",
      [
        (party_wound_members, "p_main_party", "trp_player", 1),
        (assign, "$random_event", 0),
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("world_event_27", menu_text_color(0xFF000000)|mnf_disable_all_keys,
    "As you travel through the pitch black you see a figure suddenly appear by what looks like an alcove in the base of a hill. She is beckoning you in with her hands and is speaking to you but you cannot make out what she is saying. Do you follow her?",
    "none",
    [],
    [
      ("choice_27_01",
      [],
      "follow_her_into_the_alcove.",
      [
        (jump_to_menu, "mnu_ghost_alcove"),
      ]
      ),

      ("choice_27_02",
      [],
      "Continue_with_your_journey.",
      [
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("ghost_alcove", menu_text_color(0xFF000000)|mnf_disable_all_keys,
    "As you look back you are surprised to see that none of your troops will follow you. You pause but still assured you walk into the alcove a couple of feet behind the ghost who you now see is a middle aged woman.",
    "none",
    [
      (store_random_in_range, ":var0", 1, 7),
      (assign, "$random_event", ":var0"),
    ],
    [
      ("choice_27_1",
      [
        (ge, "$random_event", 4),
      ],
      "As_you_step_in_she_turns_around_and_looks_straight_at_you_and_with_her_left_hand_gestures_towards_a_bag_of_gold_on_the_side._She_nods_and_disappears_into_the_night._Why_she_chose_you_you_cannot_understand_but_you_take_the_invitation_nevertheless.",
      [
        (troop_add_gold, "trp_player", 380),
        (assign, "$random_event", 0),
        (change_screen_return),
      ]
      ),

      ("choice_27_2",
      [
        (lt, "$random_event", 4),
        (ge, "$random_event", 2),
        (troop_get_type, ":var0", "trp_player"),
        (this_or_next|neq, ":var0", 2),
        (this_or_next|neq, ":var0", 9),
        (neq, ":var0", 10),
      ],
      "As_you_step_in_you_trigger_a_trip_wire_and_receive_a_dart_in_the_leg._You_instantly_feel_the_poison_flowing_through_your_body._You_let_out_a_mighty_scream_and_collapse_to_the_ground_motionless.",
      [
        (party_wound_members, "p_main_party", "trp_player", 1),
        (troop_set_slot, "trp_player", 222, 1),
        (assign, "$random_event", 0),
        (change_screen_return),
      ]
      ),

      ("choice_27_3",
      [
        (le, "$random_event", 2),
      ],
      "As_soon_as_it_is_opened_a_green_gas_surrounds_you_and_you_start_choking_on_the_poison._The_chest_is_empty_and_you_collapse_on_the_floor_with_mucus_coming_out_of_your_eyes.",
      [
        (party_wound_members, "p_main_party", "trp_player", 1),
        (rest_for_hours, 72, 5, 0),
        (assign, "$random_event", 0),
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("world_event_28", menu_text_color(0xFF000000)|mnf_disable_all_keys,
    "As you pass a small Araby prisoner train the men in the back cry out at you to free them and that they will pay you gold if you do. The guards quickly silence them although you notice the train is not heavily defended and you would make short work of them if you wished. What do you do?",
    "none",
    [],
    [
      ("choice_28_01",
      [],
      "Kill_the_guards_and_rescue_the_men.",
      [
        (jump_to_menu, "mnu_araby_guards"),
      ]
      ),

      ("choice_28_02",
      [],
      "Ignore_them_and_continue_with_your_journey.",
      [
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("araby_guards", menu_text_color(0xFF000000)|mnf_disable_all_keys,
    "Your troops quickly over power the guards and release the men. They reveal that they are merchants and were arrested with no justification. They find their belongings in a hold and give you all of their gold as a reward.",
    "none",
    [],
    [
      ("continue",
      [],
      "Continue.",
      [
        (store_random_in_range, ":var0", 1, 7),
        (val_mul, ":var0", 200),
        (troop_add_gold, "trp_player", ":var0"),
        (call_script, "script_change_player_relation_with_faction", "fac_kingdom_9", -1),
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("world_event_29", menu_text_color(0xFF000000)|mnf_disable_all_keys,
    "As you are about to cross a bridge you are approached by a dwarf in a dark cloak who tells you that he is the owner of these lands and that you must pay a toll of 500 gold for passing through. Your troops laugh at the figure who responds by telling you that moves of violence will only bring you pain and that it would be wise to pay him. What do you do?",
    "none",
    [],
    [
      ("choice_29_01",
      [],
      "Enough_with_this_fool._Kill_him!",
      [
        (jump_to_menu, "mnu_hooded_dwarf"),
      ]
      ),

      ("choice_29_02",
      [],
      "I_don't_have_time_for_this._Here_have_500_gold.",
      [
        (troop_remove_gold, "trp_player", 500),
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("hooded_dwarf", menu_text_color(0xFF000000)|mnf_disable_all_keys,
    "You half expected to be ambushed or for some foul magic to come forth but alas, the dwarf died quickly by the cold steel of your troops. Before he died he laid a curse upon you in his own native dialect....",
    "none",
    [
      (store_random_in_range, ":var0", 1, 7),
      (assign, "$random_event", ":var0"),
    ],
    [
      ("choice_29_01",
      [
        (eq, "$random_event", 6),
      ],
      "The_curse_does_nothing.",
      [
        (assign, "$random_event", 0),
        (change_screen_return),
      ]
      ),

      ("choice_29_02",
      [
        (this_or_next|eq, "$random_event", 4),
        (eq, "$random_event", 5),
      ],
      "Lose_1_power_strike_permanently.",
      [
        (try_begin),
          (store_skill_level, ":var0", 35, "trp_player"),
          (ge, ":var0", 1),
          (troop_raise_skill, "trp_player", 35, -1),
        (try_end),
        (assign, "$random_event", 0),
        (change_screen_return),
      ]
      ),

      ("choice_29_03",
      [
        (this_or_next|eq, "$random_event", 2),
        (eq, "$random_event", 3),
      ],
      "Lose_1_ironflesh_permanently.",
      [
        (try_begin),
          (store_skill_level, ":var0", 36, "trp_player"),
          (ge, ":var0", 1),
          (troop_raise_skill, "trp_player", 36, -1),
        (try_end),
        (assign, "$random_event", 0),
        (change_screen_return),
      ]
      ),

      ("choice_29_04",
      [
        (eq, "$random_event", 1),
      ],
      "Lose_2_strength_permanently.",
      [
        (troop_raise_attribute, "trp_player", ca_strength, -2),
        (assign, "$random_event", 0),
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("world_event_30", menu_text_color(0xFF000000)|mnf_disable_all_keys,
    "A young elf girl, no older than 8 years old comes running at you screaming. 'Nurgle has taken me, save me'. It is clear from her face and arms that she is inflicted with some horrid disease. She looks terrified and tears run down her face as she runs. It looks like she is running straight for you, what do you do?",
    "none",
    [],
    [
      ("choice_30_01",
      [],
      "Let_her_collapse_in_your_arms",
      [
        (assign, "$has_plague", 1),
        (display_message, "@The elven girl dies in your arms. You have contracted the plague", 0xFFAAFFAA),
        (change_screen_return),
      ]
      ),

      ("choice_30_02",
      [],
      "Get_one_of_your_troops_to_bring_her_down_before_she_reaches_you.",
      [
        (call_script, "script_change_player_honor", -1),
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("world_event_31", menu_text_color(0xFF000000)|mnf_disable_all_keys,
    "You come across a large pile of old bones lying in a heap at the side of the track. A local remarks how strange it is that the pile contains human, animal and goblin remains. Do you investigate the pile further?",
    "none",
    [],
    [
      ("choice_31_01",
      [],
      "Investigate_the_pile_of_bones.",
      [
        (jump_to_menu, "mnu_old_bones"),
      ]
      ),

      ("choice_31_02",
      [],
      "Leave_the_dead_where_they_lay_and_move_on.",
      [
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("old_bones", menu_text_color(0xFF000000)|mnf_disable_all_keys,
    "You start to remove the outer bones only to reveal a great web of bones of all shapes and sizes on the inside. You see a decent sized hole amongst the bones and reach in........",
    "none",
    [
      (store_random_in_range, ":var0", 1, 7),
      (assign, "$random_event", ":var0"),
    ],
    [
      ("choice_01",
      [
        (eq, "$random_event", 6),
      ],
      "and_find_some_gold_as_well_as_an_unexpected_item.",
      [
        (assign, "$random_event", 0),
        (store_random_in_range, ":var0", "itm_potion_healing", "itm_phas_protection"),
        (troop_add_item, "trp_player", ":var0"),
        (store_random_in_range, ":var1", 1, 7),
        (val_mul, ":var1", 50),
        (troop_add_gold, "trp_player", ":var1"),
        (change_screen_return),
      ]
      ),

      ("choice_02",
      [
        (this_or_next|eq, "$random_event", 4),
        (eq, "$random_event", 5),
      ],
      "and_find_some_gold.",
      [
        (store_random_in_range, ":var0", 1, 7),
        (val_mul, ":var0", 50),
        (troop_add_gold, "trp_player", ":var0"),
        (assign, "$random_event", 0),
        (change_screen_return),
      ]
      ),

      ("choice_03",
      [
        (this_or_next|eq, "$random_event", 2),
        (eq, "$random_event", 3),
      ],
      "Suddenly_the_bones_just_disappear_in_front_of_you,_leaving_no_visual_or_physical_trace_at_all._It_was_just_an_illusion.",
      [
        (assign, "$random_event", 0),
        (change_screen_return),
      ]
      ),

      ("choice_04",
      [
        (eq, "$random_event", 1),
      ],
      "Trap!_A_bolt_of_lightening_hurtles_from_the_sky_and_strikes_you_straight_between_the_shoulder_blades.",
      [
        (party_wound_members, "p_main_party", "trp_player", 1),
        (assign, "$random_event", 0),
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("world_event_33", menu_text_color(0xFF000000)|mnf_disable_all_keys,
    "One of your troops asks to leave your army so they can attend to a personal matter. They offer you 750 gold as compensation.",
    "none",
    [
      (party_get_num_companion_stacks, ":var0", "p_main_party"),
      (store_random_in_range, ":var1", 1, ":var0"),
      (party_stack_get_troop_id, ":var2", "p_main_party", ":var1"),
      (str_store_troop_name, s1, ":var2"),
      (assign, "$random_event", ":var2"),
    ],
    [
      ("choice_33_01",
      [
        (neg|troop_is_hero, "$random_event"),
      ],
      "Tell_the_{s1}_that_they_are_free_to_leave_with_your_blessing.",
      [
        (troop_add_gold, "trp_player", 750),
        (party_remove_members, "p_main_party", "$random_event", 1),
        (assign, "$random_event", 0),
        (change_screen_return),
      ]
      ),

      ("choice_33_02",
      [
        (troop_is_hero, "$random_event"),
      ],
      "Tell_the_{s1}_that_they_are_free_to_leave_with_your_blessing_(companions_will_return_later_on_in_time).",
      [
        (troop_add_gold, "trp_player", 750),
        (party_remove_members, "p_main_party", "$random_event", 1),
        (troop_set_slot, "$random_event", 2, 12),
        (assign, "$random_event", 0),
        (change_screen_return),
      ]
      ),

      ("choice_33_03",
      [],
      "Refuse_the_{s1}s_request._Their_presence_is_vital_to_your_cause.",
      [
        (assign, "$random_event", 0),
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("world_event_34", menu_text_color(0xFF000000)|mnf_disable_all_keys,
    "The winds are picking up to immense speeds and your party is finding it hard to keep hold of personal belongings. You try to keep your belongings together but some gold ends up falling from your pockets.",
    "none",
    [
      (store_troop_gold, ":var0", "trp_player"),
      (val_div, ":var0", 5),
      (assign, reg1, ":var0"),
    ],
    [
      ("continue",
      [],
      "Lose_{reg1}_gold.",
      [
        (troop_remove_gold, "trp_player", reg1),
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("world_event_35", menu_text_color(0xFF000000)|mnf_disable_all_keys,
    "You notice some orc runes enscribed on the outside of a local house.",
    "none",
    [
      (store_attribute_level, ":var0", trp_multiplayer_profile_troop_female, "trp_player"),
      (store_random_in_range, ":var1", 1, 31),
      (val_sub, ":var1", ":var0"),
      (assign, "$random_event", ":var1"),
    ],
    [
      ("choice_35_01",
      [
        (troop_get_type, ":var0", "trp_player"),
        (eq, ":var0", 12),
      ],
      "Being_an_orc_you_understand_they_tell_the_location_to_a_nearby_treasure_stash_which_you_swiftly_investigate.",
      [
        (store_random_in_range, ":var0", "itm_potion_healing", "itm_phas_protection"),
        (troop_add_item, "trp_player", ":var0"),
        (store_random_in_range, ":var1", "itm_potion_healing", "itm_phas_protection"),
        (troop_add_item, "trp_player", ":var1"),
        (store_random_in_range, ":var2", "itm_potion_healing", "itm_phas_protection"),
        (troop_add_item, "trp_player", ":var2"),
        (assign, "$random_event", 0),
        (change_screen_return),
      ]
      ),

      ("choice_35_02",
      [
        (troop_get_type, ":var0", "trp_player"),
        (neq, ":var0", 12),
        (le, "$random_event", 0),
      ],
      "You_don't_know_much_orcish_but_you_can_just_about_decipher_that_they_show_the_location_of_a_nearby_treasure_stash._You_swiftly_investigate.",
      [
        (store_random_in_range, ":var0", "itm_potion_healing", "itm_phas_protection"),
        (troop_add_item, "trp_player", ":var0"),
        (store_random_in_range, ":var1", "itm_potion_healing", "itm_phas_protection"),
        (troop_add_item, "trp_player", ":var1"),
        (store_random_in_range, ":var2", "itm_potion_healing", "itm_phas_protection"),
        (troop_add_item, "trp_player", ":var2"),
        (assign, "$random_event", 0),
        (change_screen_return),
      ]
      ),

      ("choice_35_03",
      [
        (troop_get_type, ":var0", "trp_player"),
        (neq, ":var0", 12),
        (gt, "$random_event", 0),
      ],
      "However_you_are_unable_to_read_them.",
      [
        (assign, "$random_event", 0),
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("world_event_36", menu_text_color(0xFF000000)|mnf_disable_all_keys,
    "You cross paths with an old friend from your youth. He has become a great warrior and is very interested to hear tales of your journey so far and what you hope to achieve in the future. He travels with your party for a while so that he can give you some combat training and weapon technique advice.",
    "none",
    [],
    [
      ("continue",
      [],
      "+1_weapon_master.",
      [
        (troop_raise_skill, "trp_player", 27, 1),
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("world_event_37", menu_text_color(0xFF000000)|mnf_disable_all_keys,
    "You cross a small abandoned caravan. It looks like it veered off the side of the path causing a severe impact with some large rocks. There are no signs of life and the bulk of the carriage seems to already be looted although there are some items of food remaining in a small chest which you take to share with your troops.",
    "none",
    [],
    [
      ("continue",
      [],
      "Continue_on_your_journey.",
      [
        (store_random_in_range, ":var0", "itm_wine", "itm_siege_supply"),
        (troop_add_item, "trp_player", ":var0"),
        (store_random_in_range, ":var0", "itm_wine", "itm_siege_supply"),
        (troop_add_item, "trp_player", ":var0"),
        (store_random_in_range, ":var0", "itm_wine", "itm_siege_supply"),
        (troop_add_item, "trp_player", ":var0"),
        (store_random_in_range, ":var0", "itm_wine", "itm_siege_supply"),
        (troop_add_item, "trp_player", ":var0"),
        (store_random_in_range, ":var0", "itm_wine", "itm_siege_supply"),
        (troop_add_item, "trp_player", ":var0"),
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("world_event_38", menu_text_color(0xFF000000)|mnf_disable_all_keys,
    "A large group of Long Drong Slayers demand 1000 gold from you or you will be destroyed. Do you pay or fight?",
    "none",
    [
      (store_troop_gold, ":var0", "trp_player"),
      (assign, "$random_event", ":var0"),
    ],
    [
      ("choice_38_01",
      [],
      "Charge_the_slayers.",
      [
        (assign, "$event_troop", "trp_long_drong_slayer"),
        (call_script, "script_setup_random_scene_event"),
        (store_character_level, ":var0", "trp_player"),
        (store_add, "$event_troop_amount", ":var0", 10),
        (val_mul, "$event_troop_amount", 12),
        (val_div, "$event_troop_amount", 10),
        (modify_visitors_at_site, "$event_scene"),
        (reset_visitors),
        (set_visitors, 0, "$event_troop", "$event_troop_amount"),
        (set_party_battle_mode),
        (set_battle_advantage, 0),
        (assign, "$g_battle_result", 0),
        (set_jump_mission, "mt_village_attack_bandits"),
        (jump_to_scene, "$event_scene"),
        (assign, "$g_next_menu", "mnu_long_drong_event_result"),
        (jump_to_menu, "mnu_battle_debrief"),
        (assign, "$g_mt_mode", 3),
        (change_screen_mission),
      ]
      ),

      ("choice_38_02",
      [
        (ge, "$random_event", 1000),
      ],
      "Pay_their_captain.",
      [
        (troop_remove_gold, "trp_player", 1000),
        (change_screen_return),
      ]
      ),

      ("choice_38_03",
      [
        (lt, "$random_event", 1000),
      ],
      "You_do_not_have_1000_gold._Give_them_what_you_have_and_see_if_they_will_accept_it.",
      [
        (store_troop_gold, ":var0", "trp_player"),
        (store_random_in_range, ":var1", 1, 7),
        (try_begin),
          (ge, ":var1", 4),
          (troop_remove_gold, "trp_player", ":var0"),
          (change_screen_return),
        (else_try),
          (assign, "$event_troop", "trp_long_drong_slayer"),
          (call_script, "script_setup_random_scene_event"),
          (store_character_level, ":var2", "trp_player"),
          (store_add, "$event_troop_amount", ":var2", 10),
          (val_mul, "$event_troop_amount", 12),
          (val_div, "$event_troop_amount", 10),
          (modify_visitors_at_site, "$event_scene"),
          (reset_visitors),
          (set_visitors, 0, "$event_troop", "$event_troop_amount"),
          (set_party_battle_mode),
          (set_battle_advantage, 0),
          (assign, "$g_battle_result", 0),
          (set_jump_mission, "mt_village_attack_bandits"),
          (jump_to_scene, "$event_scene"),
          (assign, "$g_next_menu", "mnu_long_drong_event_result"),
          (jump_to_menu, "mnu_battle_debrief"),
          (assign, "$g_mt_mode", 3),
          (change_screen_mission),
        (try_end),
      ]
      ),
    ],
  ),

  ("world_event_39", menu_text_color(0xFF000000)|mnf_disable_all_keys,
    "You find the remains of a battered caravan with all of the good seemingly stripped by passers by. In closer inspection you find a secret compartment by the wheel containing a bag of gold.",
    "none",
    [],
    [
      ("continue",
      [],
      "Continue.",
      [
        (store_character_level, ":var0", "trp_player"),
        (store_random_in_range, ":var1", 1, 21),
        (val_mul, ":var0", ":var1"),
        (troop_add_gold, "trp_player", ":var0"),
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("world_event_40", menu_text_color(0xFF000000)|mnf_disable_all_keys,
    "You come across a crystal clear pond which is blessed by the winds of magic. Flowing mana of multiple colours shimmer and jump across the surface and through the reeds on the bankside.",
    "none",
    [],
    [
      ("choice_40_01",
      [],
      "Submerge_yourself_in_the_pond",
      [
        (jump_to_menu, "mnu_mana_pond"),
      ]
      ),

      ("choice_40_02",
      [],
      "Walk_on_past_the_pond.",
      [
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("mana_pond", menu_text_color(0xFF000000)|mnf_disable_all_keys,
    "You bring your party to a halt and walk slowly into the pond until all that can be seen is a few bubbles and ripples above your head. ",
    "none",
    [
      (store_random_in_range, ":var0", 1, 7),
      (assign, "$random_event", ":var0"),
    ],
    [
      ("choice_pond_01",
      [
        (ge, "$random_event", 4),
      ],
      "The_mana_flows_through_your_body._Gain_one_point_in_the_magic_skill.",
      [
        (try_begin),
          (store_skill_level, ":var0", 18, "trp_player"),
          (lt, ":var0", 10),
          (troop_raise_skill, "trp_player", 18, 1),
        (try_end),
        (assign, "$random_event", 0),
        (change_screen_return),
      ]
      ),

      ("choice_pond_02",
      [
        (lt, "$random_event", 4),
      ],
      "You_feel_clean_and_refreshed_but_feel_no_other_changes.",
      [
        (assign, "$random_event", 0),
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("world_event_41", menu_text_color(0xFF000000)|mnf_disable_all_keys,
    "You are approached by an aged alchemist who says he can offer you a performance enhancing potion for a good price. Will you hear him out?",
    "none",
    [],
    [
      ("choice_41_01",
      [],
      "Listen_to_his_proposal",
      [
        (jump_to_menu, "mnu_alchemist_potion"),
      ]
      ),

      ("choice_41_02",
      [],
      "Tell_him_you_have_no_time.",
      [
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("alchemist_potion", menu_text_color(0xFF000000)|mnf_disable_all_keys,
    "He says his potions will permanently make you a stronger character and closer to the best that you can be. He offers you 3 choices of potion, will you purchase any?",
    "none",
    [],
    [
      ("choice_alchemist_01",
      [
        (store_troop_gold, ":var0", "trp_player"),
        (ge, ":var0", 2000),
      ],
      "Buy_a_potion_for_2000_gold_which_will_increase_1_characteristic_by_1_point",
      [
        (troop_remove_gold, "trp_player", 2000),
        (store_random_in_range, ":var0", 1, 27),
        (try_begin),
          (eq, ":var0", 1),
          (store_skill_level, ":var1", 0, "trp_player"),
          (lt, ":var1", 10),
          (troop_raise_skill, "trp_player", 0, 1),
          (display_message, "@Your trade skill has increased by 1"),
        (else_try),
          (eq, ":var0", 2),
          (store_skill_level, ":var1", 1, "trp_player"),
          (lt, ":var1", 10),
          (troop_raise_skill, "trp_player", 1, 1),
          (display_message, "@Your leadership skill has increased by 1"),
        (else_try),
          (eq, ":var0", 3),
          (store_skill_level, ":var1", 2, "trp_player"),
          (lt, ":var1", 10),
          (troop_raise_skill, "trp_player", 2, 1),
          (display_message, "@Your prisoner management skill has increased by 1"),
        (else_try),
          (eq, ":var0", 4),
          (store_skill_level, ":var1", 7, "trp_player"),
          (lt, ":var1", 10),
          (troop_raise_skill, "trp_player", 7, 1),
          (display_message, "@Your persuasion skill has increased by 1"),
        (else_try),
          (eq, ":var0", 5),
          (store_skill_level, ":var1", 12, "trp_player"),
          (lt, ":var1", 10),
          (troop_raise_skill, "trp_player", 12, 1),
          (display_message, "@Your inventory managment skill has increased by 1"),
        (else_try),
          (eq, ":var0", 6),
          (store_skill_level, ":var1", 8, "trp_player"),
          (lt, ":var1", 10),
          (troop_raise_skill, "trp_player", 8, 1),
          (display_message, "@Your engineer skill has increased by 1"),
        (else_try),
          (eq, ":var0", 7),
          (store_skill_level, ":var1", 9, "trp_player"),
          (lt, ":var1", 10),
          (troop_raise_skill, "trp_player", 9, 1),
          (display_message, "@Your first aid skill has increased by 1"),
        (else_try),
          (eq, ":var0", 8),
          (store_skill_level, ":var1", 11, "trp_player"),
          (lt, ":var1", 10),
          (troop_raise_skill, "trp_player", 11, 1),
          (display_message, "@Your wound treatment skill has increased by 1"),
        (else_try),
          (eq, ":var0", 9),
          (store_skill_level, ":var1", 10, "trp_player"),
          (lt, ":var1", 10),
          (troop_raise_skill, "trp_player", 10, 1),
          (display_message, "@Your surgery skill has increased by 1"),
        (else_try),
          (eq, ":var0", 10),
          (store_skill_level, ":var1", 13, "trp_player"),
          (lt, ":var1", 10),
          (troop_raise_skill, "trp_player", 13, 1),
          (display_message, "@Your spotting skill has increased by 1"),
        (else_try),
          (eq, ":var0", 11),
          (store_skill_level, ":var1", 14, "trp_player"),
          (lt, ":var1", 10),
          (troop_raise_skill, "trp_player", 14, 1),
          (display_message, "@Your pathfinding skill has increased by 1"),
        (else_try),
          (eq, ":var0", 12),
          (store_skill_level, ":var1", 15, "trp_player"),
          (lt, ":var1", 10),
          (troop_raise_skill, "trp_player", 15, 1),
          (display_message, "@Your tactics skill has increased by 1"),
        (else_try),
          (eq, ":var0", 13),
          (store_skill_level, ":var1", 16, "trp_player"),
          (lt, ":var1", 10),
          (troop_raise_skill, "trp_player", 16, 1),
          (display_message, "@Your tracking skill has increased by 1"),
        (else_try),
          (eq, ":var0", 14),
          (store_skill_level, ":var1", 17, "trp_player"),
          (lt, ":var1", 10),
          (troop_raise_skill, "trp_player", 17, 1),
          (display_message, "@Your trainer skill has increased by 1"),
        (else_try),
          (eq, ":var0", 15),
          (store_skill_level, ":var1", 18, "trp_player"),
          (lt, ":var1", 10),
          (troop_raise_skill, "trp_player", 18, 1),
          (display_message, "@Your magic skill has increased by 1"),
        (else_try),
          (eq, ":var0", 16),
          (store_skill_level, ":var1", 22, "trp_player"),
          (lt, ":var1", 10),
          (troop_raise_skill, "trp_player", 22, 1),
          (display_message, "@Your looting skill has increased by 1"),
        (else_try),
          (eq, ":var0", 17),
          (store_skill_level, ":var1", 23, "trp_player"),
          (lt, ":var1", 10),
          (troop_raise_skill, "trp_player", 23, 1),
          (display_message, "@Your horse archery skill has increased by 1"),
        (else_try),
          (eq, ":var0", 18),
          (store_skill_level, ":var1", 24, "trp_player"),
          (lt, ":var1", 10),
          (troop_raise_skill, "trp_player", 24, 1),
          (display_message, "@Your riding skill has increased by 1"),
        (else_try),
          (eq, ":var0", 19),
          (store_skill_level, ":var1", 25, "trp_player"),
          (lt, ":var1", 10),
          (troop_raise_skill, "trp_player", 25, 1),
          (display_message, "@Your athletics skill has increased by 1"),
        (else_try),
          (eq, ":var0", 20),
          (store_skill_level, ":var1", 26, "trp_player"),
          (lt, ":var1", 10),
          (troop_raise_skill, "trp_player", 26, 1),
          (display_message, "@Your shield skill has increased by 1"),
        (else_try),
          (eq, ":var0", 21),
          (store_skill_level, ":var1", 27, "trp_player"),
          (lt, ":var1", 10),
          (troop_raise_skill, "trp_player", 27, 1),
          (display_message, "@Your weapon master skill has increased by 1"),
        (else_try),
          (eq, ":var0", 22),
          (store_skill_level, ":var1", 33, "trp_player"),
          (lt, ":var1", 10),
          (troop_raise_skill, "trp_player", 33, 1),
          (display_message, "@Your power draw skill has increased by 1"),
        (else_try),
          (eq, ":var0", 23),
          (store_skill_level, ":var1", 34, "trp_player"),
          (lt, ":var1", 10),
          (troop_raise_skill, "trp_player", 34, 1),
          (display_message, "@Your power throw skill has increased by 1"),
        (else_try),
          (eq, ":var0", 24),
          (store_skill_level, ":var1", 35, "trp_player"),
          (lt, ":var1", 15),
          (troop_raise_skill, "trp_player", 35, 1),
          (display_message, "@Your power strike skill has increased by 1"),
        (else_try),
          (eq, ":var0", 25),
          (store_skill_level, ":var1", 36, "trp_player"),
          (lt, ":var1", 15),
          (troop_raise_skill, "trp_player", 36, 1),
          (display_message, "@Your ironflesh skill has increased by 1"),
        (else_try),
          (eq, ":var0", 26),
          (store_skill_level, ":var1", 37, "trp_player"),
          (lt, ":var1", 10),
          (troop_raise_skill, "trp_player", 37, 1),
          (display_message, "@Your constitution skill has increased by 1"),
        (try_end),
        (jump_to_menu, "mnu_alchemist_potion_2"),
      ]
      ),

      ("choice_alchemist_02",
      [
        (store_troop_gold, ":var0", "trp_player"),
        (ge, ":var0", 3000),
      ],
      "Buy_a_potion_for_3000_gold_which_will_increase_2_characteristics_by_1_point",
      [
        (troop_remove_gold, "trp_player", 3000),
        (try_for_range, reg5, 1, 3),
          (store_random_in_range, ":var0", 1, 27),
          (try_begin),
            (eq, ":var0", 1),
            (store_skill_level, ":var1", 0, "trp_player"),
            (lt, ":var1", 10),
            (troop_raise_skill, "trp_player", 0, 1),
            (display_message, "@Your trade skill has increased by 1"),
          (else_try),
            (eq, ":var0", 2),
            (store_skill_level, ":var1", 1, "trp_player"),
            (lt, ":var1", 10),
            (troop_raise_skill, "trp_player", 1, 1),
            (display_message, "@Your leadership skill has increased by 1"),
          (else_try),
            (eq, ":var0", 3),
            (store_skill_level, ":var1", 2, "trp_player"),
            (lt, ":var1", 10),
            (troop_raise_skill, "trp_player", 2, 1),
            (display_message, "@Your prisoner management skill has increased by 1"),
          (else_try),
            (eq, ":var0", 4),
            (store_skill_level, ":var1", 7, "trp_player"),
            (lt, ":var1", 10),
            (troop_raise_skill, "trp_player", 7, 1),
            (display_message, "@Your persuasion skill has increased by 1"),
          (else_try),
            (eq, ":var0", 5),
            (store_skill_level, ":var1", 12, "trp_player"),
            (lt, ":var1", 10),
            (troop_raise_skill, "trp_player", 12, 1),
            (display_message, "@Your inventory managment skill has increased by 1"),
          (else_try),
            (eq, ":var0", 6),
            (store_skill_level, ":var1", 8, "trp_player"),
            (lt, ":var1", 10),
            (troop_raise_skill, "trp_player", 8, 1),
            (display_message, "@Your engineer skill has increased by 1"),
          (else_try),
            (eq, ":var0", 7),
            (store_skill_level, ":var1", 9, "trp_player"),
            (lt, ":var1", 10),
            (troop_raise_skill, "trp_player", 9, 1),
            (display_message, "@Your first aid skill has increased by 1"),
          (else_try),
            (eq, ":var0", 8),
            (store_skill_level, ":var1", 11, "trp_player"),
            (lt, ":var1", 10),
            (troop_raise_skill, "trp_player", 11, 1),
            (display_message, "@Your wound treatment skill has increased by 1"),
          (else_try),
            (eq, ":var0", 9),
            (store_skill_level, ":var1", 10, "trp_player"),
            (lt, ":var1", 10),
            (troop_raise_skill, "trp_player", 10, 1),
            (display_message, "@Your surgery skill has increased by 1"),
          (else_try),
            (eq, ":var0", 10),
            (store_skill_level, ":var1", 13, "trp_player"),
            (lt, ":var1", 10),
            (troop_raise_skill, "trp_player", 13, 1),
            (display_message, "@Your spotting skill has increased by 1"),
          (else_try),
            (eq, ":var0", 11),
            (store_skill_level, ":var1", 14, "trp_player"),
            (lt, ":var1", 10),
            (troop_raise_skill, "trp_player", 14, 1),
            (display_message, "@Your pathfinding skill has increased by 1"),
          (else_try),
            (eq, ":var0", 12),
            (store_skill_level, ":var1", 15, "trp_player"),
            (lt, ":var1", 10),
            (troop_raise_skill, "trp_player", 15, 1),
            (display_message, "@Your tactics skill has increased by 1"),
          (else_try),
            (eq, ":var0", 13),
            (store_skill_level, ":var1", 16, "trp_player"),
            (lt, ":var1", 10),
            (troop_raise_skill, "trp_player", 16, 1),
            (display_message, "@Your tracking skill has increased by 1"),
          (else_try),
            (eq, ":var0", 14),
            (store_skill_level, ":var1", 17, "trp_player"),
            (lt, ":var1", 10),
            (troop_raise_skill, "trp_player", 17, 1),
            (display_message, "@Your trainer skill has increased by 1"),
          (else_try),
            (eq, ":var0", 15),
            (store_skill_level, ":var1", 18, "trp_player"),
            (lt, ":var1", 10),
            (troop_raise_skill, "trp_player", 18, 1),
            (display_message, "@Your magic skill has increased by 1"),
          (else_try),
            (eq, ":var0", 16),
            (store_skill_level, ":var1", 22, "trp_player"),
            (lt, ":var1", 10),
            (troop_raise_skill, "trp_player", 22, 1),
            (display_message, "@Your looting skill has increased by 1"),
          (else_try),
            (eq, ":var0", 17),
            (store_skill_level, ":var1", 23, "trp_player"),
            (lt, ":var1", 10),
            (troop_raise_skill, "trp_player", 23, 1),
            (display_message, "@Your horse archery skill has increased by 1"),
          (else_try),
            (eq, ":var0", 18),
            (store_skill_level, ":var1", 24, "trp_player"),
            (lt, ":var1", 10),
            (troop_raise_skill, "trp_player", 24, 1),
            (display_message, "@Your riding skill has increased by 1"),
          (else_try),
            (eq, ":var0", 19),
            (store_skill_level, ":var1", 25, "trp_player"),
            (lt, ":var1", 10),
            (troop_raise_skill, "trp_player", 25, 1),
            (display_message, "@Your athletics skill has increased by 1"),
          (else_try),
            (eq, ":var0", 20),
            (store_skill_level, ":var1", 26, "trp_player"),
            (lt, ":var1", 10),
            (troop_raise_skill, "trp_player", 26, 1),
            (display_message, "@Your shield skill has increased by 1"),
          (else_try),
            (eq, ":var0", 21),
            (store_skill_level, ":var1", 27, "trp_player"),
            (lt, ":var1", 10),
            (troop_raise_skill, "trp_player", 27, 1),
            (display_message, "@Your weapon master skill has increased by 1"),
          (else_try),
            (eq, ":var0", 22),
            (store_skill_level, ":var1", 33, "trp_player"),
            (lt, ":var1", 10),
            (troop_raise_skill, "trp_player", 33, 1),
            (display_message, "@Your power draw skill has increased by 1"),
          (else_try),
            (eq, ":var0", 23),
            (store_skill_level, ":var1", 34, "trp_player"),
            (lt, ":var1", 10),
            (troop_raise_skill, "trp_player", 34, 1),
            (display_message, "@Your power throw skill has increased by 1"),
          (else_try),
            (eq, ":var0", 24),
            (store_skill_level, ":var1", 35, "trp_player"),
            (lt, ":var1", 15),
            (troop_raise_skill, "trp_player", 35, 1),
            (display_message, "@Your power strike skill has increased by 1"),
          (else_try),
            (eq, ":var0", 25),
            (store_skill_level, ":var1", 36, "trp_player"),
            (lt, ":var1", 15),
            (troop_raise_skill, "trp_player", 36, 1),
            (display_message, "@Your ironflesh skill has increased by 1"),
          (else_try),
            (eq, ":var0", 26),
            (store_skill_level, ":var1", 37, "trp_player"),
            (lt, ":var1", 10),
            (troop_raise_skill, "trp_player", 37, 1),
            (display_message, "@Your constitution skill has increased by 1"),
          (try_end),
        (try_end),
        (jump_to_menu, "mnu_alchemist_potion_2"),
      ]
      ),

      ("choice_alchemist_03",
      [
        (store_troop_gold, ":var0", "trp_player"),
        (ge, ":var0", 5000),
      ],
      "Buy_a_potion_for_5000_gold_which_will_increase_3_characteristics_by_1_point",
      [
        (troop_remove_gold, "trp_player", 5000),
        (try_for_range, reg5, 1, 4),
          (store_random_in_range, ":var0", 1, 27),
          (try_begin),
            (eq, ":var0", 1),
            (store_skill_level, ":var1", 0, "trp_player"),
            (lt, ":var1", 10),
            (troop_raise_skill, "trp_player", 0, 1),
            (display_message, "@Your trade skill has increased by 1"),
          (else_try),
            (eq, ":var0", 2),
            (store_skill_level, ":var1", 1, "trp_player"),
            (lt, ":var1", 10),
            (troop_raise_skill, "trp_player", 1, 1),
            (display_message, "@Your leadership skill has increased by 1"),
          (else_try),
            (eq, ":var0", 3),
            (store_skill_level, ":var1", 2, "trp_player"),
            (lt, ":var1", 10),
            (troop_raise_skill, "trp_player", 2, 1),
            (display_message, "@Your prisoner management skill has increased by 1"),
          (else_try),
            (eq, ":var0", 4),
            (store_skill_level, ":var1", 7, "trp_player"),
            (lt, ":var1", 10),
            (troop_raise_skill, "trp_player", 7, 1),
            (display_message, "@Your persuasion skill has increased by 1"),
          (else_try),
            (eq, ":var0", 5),
            (store_skill_level, ":var1", 12, "trp_player"),
            (lt, ":var1", 10),
            (troop_raise_skill, "trp_player", 12, 1),
            (display_message, "@Your inventory managment skill has increased by 1"),
          (else_try),
            (eq, ":var0", 6),
            (store_skill_level, ":var1", 8, "trp_player"),
            (lt, ":var1", 10),
            (troop_raise_skill, "trp_player", 8, 1),
            (display_message, "@Your engineer skill has increased by 1"),
          (else_try),
            (eq, ":var0", 7),
            (store_skill_level, ":var1", 9, "trp_player"),
            (lt, ":var1", 10),
            (troop_raise_skill, "trp_player", 9, 1),
            (display_message, "@Your first aid skill has increased by 1"),
          (else_try),
            (eq, ":var0", 8),
            (store_skill_level, ":var1", 11, "trp_player"),
            (lt, ":var1", 10),
            (troop_raise_skill, "trp_player", 11, 1),
            (display_message, "@Your wound treatment skill has increased by 1"),
          (else_try),
            (eq, ":var0", 9),
            (store_skill_level, ":var1", 10, "trp_player"),
            (lt, ":var1", 10),
            (troop_raise_skill, "trp_player", 10, 1),
            (display_message, "@Your surgery skill has increased by 1"),
          (else_try),
            (eq, ":var0", 10),
            (store_skill_level, ":var1", 13, "trp_player"),
            (lt, ":var1", 10),
            (troop_raise_skill, "trp_player", 13, 1),
            (display_message, "@Your spotting skill has increased by 1"),
          (else_try),
            (eq, ":var0", 11),
            (store_skill_level, ":var1", 14, "trp_player"),
            (lt, ":var1", 10),
            (troop_raise_skill, "trp_player", 14, 1),
            (display_message, "@Your pathfinding skill has increased by 1"),
          (else_try),
            (eq, ":var0", 12),
            (store_skill_level, ":var1", 15, "trp_player"),
            (lt, ":var1", 10),
            (troop_raise_skill, "trp_player", 15, 1),
            (display_message, "@Your tactics skill has increased by 1"),
          (else_try),
            (eq, ":var0", 13),
            (store_skill_level, ":var1", 16, "trp_player"),
            (lt, ":var1", 10),
            (troop_raise_skill, "trp_player", 16, 1),
            (display_message, "@Your tracking skill has increased by 1"),
          (else_try),
            (eq, ":var0", 14),
            (store_skill_level, ":var1", 17, "trp_player"),
            (lt, ":var1", 10),
            (troop_raise_skill, "trp_player", 17, 1),
            (display_message, "@Your trainer skill has increased by 1"),
          (else_try),
            (eq, ":var0", 15),
            (store_skill_level, ":var1", 18, "trp_player"),
            (lt, ":var1", 10),
            (troop_raise_skill, "trp_player", 18, 1),
            (display_message, "@Your magic skill has increased by 1"),
          (else_try),
            (eq, ":var0", 16),
            (store_skill_level, ":var1", 22, "trp_player"),
            (lt, ":var1", 10),
            (troop_raise_skill, "trp_player", 22, 1),
            (display_message, "@Your looting skill has increased by 1"),
          (else_try),
            (eq, ":var0", 17),
            (store_skill_level, ":var1", 23, "trp_player"),
            (lt, ":var1", 10),
            (troop_raise_skill, "trp_player", 23, 1),
            (display_message, "@Your horse archery skill has increased by 1"),
          (else_try),
            (eq, ":var0", 18),
            (store_skill_level, ":var1", 24, "trp_player"),
            (lt, ":var1", 10),
            (troop_raise_skill, "trp_player", 24, 1),
            (display_message, "@Your riding skill has increased by 1"),
          (else_try),
            (eq, ":var0", 19),
            (store_skill_level, ":var1", 25, "trp_player"),
            (lt, ":var1", 10),
            (troop_raise_skill, "trp_player", 25, 1),
            (display_message, "@Your athletics skill has increased by 1"),
          (else_try),
            (eq, ":var0", 20),
            (store_skill_level, ":var1", 26, "trp_player"),
            (lt, ":var1", 10),
            (troop_raise_skill, "trp_player", 26, 1),
            (display_message, "@Your shield skill has increased by 1"),
          (else_try),
            (eq, ":var0", 21),
            (store_skill_level, ":var1", 27, "trp_player"),
            (lt, ":var1", 10),
            (troop_raise_skill, "trp_player", 27, 1),
            (display_message, "@Your weapon master skill has increased by 1"),
          (else_try),
            (eq, ":var0", 22),
            (store_skill_level, ":var1", 33, "trp_player"),
            (lt, ":var1", 10),
            (troop_raise_skill, "trp_player", 33, 1),
            (display_message, "@Your power draw skill has increased by 1"),
          (else_try),
            (eq, ":var0", 23),
            (store_skill_level, ":var1", 34, "trp_player"),
            (lt, ":var1", 10),
            (troop_raise_skill, "trp_player", 34, 1),
            (display_message, "@Your power throw skill has increased by 1"),
          (else_try),
            (eq, ":var0", 24),
            (store_skill_level, ":var1", 35, "trp_player"),
            (lt, ":var1", 15),
            (troop_raise_skill, "trp_player", 35, 1),
            (display_message, "@Your power strike skill has increased by 1"),
          (else_try),
            (eq, ":var0", 25),
            (store_skill_level, ":var1", 36, "trp_player"),
            (lt, ":var1", 15),
            (troop_raise_skill, "trp_player", 36, 1),
            (display_message, "@Your ironflesh skill has increased by 1"),
          (else_try),
            (eq, ":var0", 26),
            (store_skill_level, ":var1", 37, "trp_player"),
            (lt, ":var1", 10),
            (troop_raise_skill, "trp_player", 37, 1),
            (display_message, "@Your constitution skill has increased by 1"),
          (try_end),
        (try_end),
        (jump_to_menu, "mnu_alchemist_potion_2"),
      ]
      ),

      ("choice_alchemist_04",
      [],
      "Refuse_the_offers_and_carry_on_with_your_journey.",
      [
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("alchemist_potion_2", menu_text_color(0xFF000000)|mnf_disable_all_keys,
    "You feel the power of the potion grip your mind for a few seconds. It is s strange feeling, one you are not sure if you like. But you feel the benefits and hope you meet the seller again.",
    "none",
    [],
    [
      ("continue",
      [],
      "Continue.",
      [
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("change_kingdom_colors", mnf_disable_all_keys,
    "Change your kingdom's colors.",
    "none",
    [],
    [
      ("action_change_colors_1",
      [],
      "Pure_Blue",
      [
        (faction_set_color, "fac_player_supporters_faction", 255),
        (jump_to_menu, "mnu_camp"),
      ]
      ),

      ("action_change_colors_2",
      [],
      "Pure_Red",
      [
        (faction_set_color, "fac_player_supporters_faction", 16711680),
        (jump_to_menu, "mnu_camp"),
      ]
      ),

      ("action_change_colors_3",
      [],
      "Pure_Green",
      [
        (faction_set_color, "fac_player_supporters_faction", 65280),
        (jump_to_menu, "mnu_camp"),
      ]
      ),

      ("action_change_colors_4",
      [],
      "Purple",
      [
        (faction_set_color, "fac_player_supporters_faction", 3342489),
        (jump_to_menu, "mnu_camp"),
      ]
      ),

      ("action_change_colors_5",
      [],
      "Forest_Green",
      [
        (faction_set_color, "fac_player_supporters_faction", 3368448),
        (jump_to_menu, "mnu_camp"),
      ]
      ),

      ("action_change_colors_6",
      [],
      "Steel",
      [
        (faction_set_color, "fac_player_supporters_faction", 14540253),
        (jump_to_menu, "mnu_camp"),
      ]
      ),

      ("action_change_colors_7",
      [],
      "Winter_Blue",
      [
        (faction_set_color, "fac_player_supporters_faction", 39423),
        (jump_to_menu, "mnu_camp"),
      ]
      ),

      ("action_change_colors_8",
      [],
      "Lemon_Green",
      [
        (faction_set_color, "fac_player_supporters_faction", 10092288),
        (jump_to_menu, "mnu_camp"),
      ]
      ),

      ("action_change_colors_9",
      [],
      "Deep_Blue",
      [
        (faction_set_color, "fac_player_supporters_faction", 102),
        (jump_to_menu, "mnu_camp"),
      ]
      ),

      ("action_change_colors_10",
      [],
      "Deep_Red",
      [
        (faction_set_color, "fac_player_supporters_faction", 6684672),
        (jump_to_menu, "mnu_camp"),
      ]
      ),

      ("action_change_colors_10",
      [],
      "Deep_Green",
      [
        (faction_set_color, "fac_player_supporters_faction", 26112),
        (jump_to_menu, "mnu_camp"),
      ]
      ),

      ("action_change_colors_10",
      [],
      "Gold",
      [
        (faction_set_color, "fac_player_supporters_faction", 12237312),
        (jump_to_menu, "mnu_camp"),
      ]
      ),
    ],
  ),

  ("dplmc_manage_loot_pool", mnf_enable_hot_keys,
    "{s10}",
    "none",
    [
      (assign, "$pool_troop", "trp_temp_troop"),
      (call_script, "script_dplmc_initialize_autoloot", 0),
      (assign, reg20, 0),
      (troop_get_inventory_capacity, ":var0", "$pool_troop"),
      (try_for_range, ":var1", 0, ":var0"),
        (troop_get_inventory_slot, ":var2", "$pool_troop", ":var1"),
        (ge, ":var2", 0),
        (neg|troop_has_item_equipped, "$pool_troop", ":var2"),
        (val_add, reg20, 1),
      (try_end),
      (try_begin),
        (eq, reg20, 0),
        (str_store_string, s10, "str_dplmc_item_pool_no_items"),
        (str_store_string, s20, "str_dplmc_item_pool_leave"),
      (else_try),
        (eq, reg20, 1),
        (str_store_string, s10, "str_dplmc_item_pool_one_item"),
        (str_store_string, s20, "str_dplmc_item_pool_abandon"),
      (else_try),
        (str_store_string, s10, "str_dplmc_item_pool_many_items"),
        (str_store_string, s20, "str_dplmc_item_pool_abandon"),
      (try_end),
      (try_begin),
        (str_is_empty, s30),
        (set_fixed_point_multiplier, 100),
        (position_set_x, pos0, 20),
        (position_set_y, pos0, 30),
        (position_set_z, pos0, 80),
        (set_game_menu_tableau_mesh, "tableau_game_character_sheet", "$lord_selected", pos0),
      (try_end),
    ],
    [
      ("dplmc_auto_loot",
      [
        (eq, 1, 0),
        (eq, "$inventory_menu_offset", 0),
        (store_free_inventory_capacity, ":var0", "$pool_troop"),
        (ge, ":var0", 10),
        (gt, reg20, 0),
      ],
      "Let_your_heroes_select_gear_from_the_items_on_the_ground.",
      [
        (call_script, "script_dplmc_initialize_autoloot", 0),
        (jump_to_menu, "mnu_dplmc_auto_loot"),
      ]
      ),

      ("dplmc_auto_loot_no",
      [
        (eq, 1, 0),
        (eq, "$inventory_menu_offset", 0),
        (store_free_inventory_capacity, ":var0", "$pool_troop"),
        (lt, ":var0", 10),
        (disable_menu_option),
      ],
      "Insufficient_item_pool_space_for_auto-upgrade.",
      []
      ),

      ("dplmc_loot",
      [],
      "Access_the_items_on_the_ground.",
      [
        (change_screen_loot, "$pool_troop"),
      ]
      ),

      ("dplmc_loot_player",
      [
        (is_between, "$lord_selected", "trp_npc1", "trp_kingdom_1_lord"),
      ],
      "Access_the_captain's_inventory.",
      [
        (eq, 1, 0),
        (set_player_troop, "trp_player"),
        (change_screen_equip_other, "$lord_selected"),
        (assign, "$lord_selected", "trp_player"),
      ]
      ),

      ("dplmc_loot_spouse",
      [
        (neq, "$lord_selected", "trp_player"),
        (this_or_next|troop_slot_eq, "$lord_selected", 30, "trp_player"),
        (troop_slot_eq, "trp_player", 30, "$lord_selected"),
      ],
      "Access_your_spouse's_inventory.",
      [
        (set_player_troop, "trp_player"),
        (change_screen_equip_other, "$lord_selected"),
        (assign, "$lord_selected", "trp_player"),
      ]
      ),

      ("dplmc_auto_loot_upgrade_management",
      [
        (eq, 1, 0),
      ],
      "Update_management_of_NPC_equipment.",
      [
        (party_get_num_companion_stacks, ":var0", "p_main_party"),
        (try_begin),
          (is_between, "$lord_selected", "trp_npc1", "trp_kingdom_1_lord"),
          (assign, "$temp", "$lord_selected"),
        (else_try),
          (assign, "$temp", -1),
          (try_for_range, ":var1", 0, ":var0"),
            (party_stack_get_troop_id, ":var2", "p_main_party", ":var1"),
            (is_between, ":var2", "trp_npc1", "trp_kingdom_1_lord"),
            (assign, "$temp", ":var2"),
            (assign, ":var0", 0),
          (try_end),
        (try_end),
        (call_script, "script_dplmc_initialize_autoloot", 0),
        (try_begin),
          (ge, "$temp", 1),
          (assign, "$temp_2", -1),
          (try_for_range, ":var3", 0, 9),
            (troop_set_slot, "trp_stack_selection_ids", ":var3", 0),
          (try_end),
          (str_clear, s30),
          (start_presentation, "prsnt_dplmc_autoloot_upgrade_management"),
        (try_end),
      ]
      ),

      ("dplmc_auto_loot_reset_player",
      [
        (neq, "$lord_selected", "trp_player"),
      ],
      "Reset_current_troop_to_the_player",
      [
        (assign, "$lord_selected", "trp_player"),
        (set_player_troop, "$lord_selected"),
      ]
      ),

      ("dplmc_leave",
      [],
      "{s20}",
      [
        (troop_get_inventory_capacity, ":var0", "$pool_troop"),
        (try_for_range, ":var1", 10, ":var0"),
          (troop_get_inventory_slot, ":var2", "$pool_troop", ":var1"),
          (ge, ":var2", 0),
          (neg|troop_has_item_equipped, "$pool_troop", ":var2"),
          (troop_set_inventory_slot, "$pool_troop", ":var1", -1),
          (troop_inventory_slot_set_item_amount, "$pool_troop", ":var1", 0),
        (try_end),
        (set_player_troop, "trp_player"),
        (jump_to_menu, "$dplmc_return_menu"),
        (assign, "$pool_troop", -1),
      ]
      ),

      ("dplmc_leave_and_take_a",
      [
        (store_free_inventory_capacity, ":var0", "trp_player"),
        (lt, ":var0", reg20),
        (gt, reg20, 0),
        (gt, ":var0", 0),
        (assign, reg0, ":var0"),
      ],
      "Gather_{reg0}_of_the_{reg20}_items_on_the_ground_and_leave.",
      [
        (store_free_inventory_capacity, ":var0", "trp_player"),
        (troop_get_inventory_capacity, ":var1", "$pool_troop"),
        (troop_sort_inventory, "$pool_troop"),
        (try_for_range, ":var2", 10, ":var1"),
          (gt, ":var0", 0),
          (troop_get_inventory_slot, ":var3", "$pool_troop", ":var2"),
          (ge, ":var3", 0),
          (neg|troop_has_item_equipped, "$pool_troop", ":var3"),
          (troop_get_inventory_slot_modifier, ":var4", "$pool_troop", ":var2"),
          (troop_add_item, "trp_player", ":var3", ":var4"),
          (val_sub, ":var0", 1),
          (troop_set_inventory_slot, "$pool_troop", ":var2", -1),
          (troop_inventory_slot_set_item_amount, "$pool_troop", ":var2", 0),
        (try_end),
        (set_player_troop, "trp_player"),
        (jump_to_menu, "$dplmc_return_menu"),
        (assign, "$pool_troop", -1),
      ]
      ),

      ("dplmc_leave_and_take_b",
      [
        (store_free_inventory_capacity, ":var0", "trp_player"),
        (ge, ":var0", reg20),
        (gt, reg20, 0),
        (store_sub, reg0, reg20, 1),
      ],
      "Gather_the_remaining_{reg20}_{reg0?items:item}_on_the_ground_and_leave.",
      [
        (store_free_inventory_capacity, ":var0", "trp_player"),
        (troop_get_inventory_capacity, ":var1", "$pool_troop"),
        (try_for_range, ":var2", 10, ":var1"),
          (gt, ":var0", 0),
          (troop_get_inventory_slot, ":var3", "$pool_troop", ":var2"),
          (ge, ":var3", 0),
          (neg|troop_has_item_equipped, "$pool_troop", ":var3"),
          (troop_get_inventory_slot_modifier, ":var4", "$pool_troop", ":var2"),
          (troop_add_item, "trp_player", ":var3", ":var4"),
          (val_sub, ":var0", 1),
          (troop_set_inventory_slot, "$pool_troop", ":var2", -1),
          (troop_inventory_slot_set_item_amount, "$pool_troop", ":var2", 0),
        (try_end),
        (set_player_troop, "trp_player"),
        (jump_to_menu, "$dplmc_return_menu"),
        (assign, "$pool_troop", -1),
      ]
      ),

      ("dplmc_leave_and_take_c",
      [
        (store_free_inventory_capacity, ":var0", "trp_player"),
        (eq, ":var0", 0),
        (gt, reg20, 0),
        (disable_menu_option),
      ],
      "There_is_no_space_left_in_your_bags.",
      []
      ),
    ],
  ),

  ("dplmc_auto_loot", 0,
    "Your heroes will automatically grab items from the loot pool based on their pre-selected upgrade options. Heroes listed first in the party order will have first pick. Any equipment no longer needed will be dropped back into the loot pool. Any items in the loot pool will be lost when you leave.^ Are you sure you wish to do this?",
    "none",
    [],
    [
      ("dplmc_autoloot_no",
      [],
      "No,_I've_changed_my_mind.",
      [
        (jump_to_menu, "mnu_dplmc_manage_loot_pool"),
      ]
      ),

      ("dplmc_autoloot_yes",
      [],
      "Yes,_perform_the_upgrading.",
      [
        (call_script, "script_dplmc_initialize_autoloot", 0),
        (assign, "$pool_troop", "trp_temp_troop"),
        (set_player_troop, "trp_player"),
        (assign, "$lord_selected", "trp_player"),
        (call_script, "script_dplmc_auto_loot_all", "trp_temp_troop", 30),
        (jump_to_menu, "mnu_dplmc_manage_loot_pool"),
      ]
      ),

      ("dplmc_autoloot_personal",
      [
        (is_between, "$lord_selected", "trp_npc1", "trp_kingdom_1_lord"),
        (str_store_troop_name, s1, "$lord_selected"),
      ],
      "Yes,_only_upgrade_{s1}.",
      [
        (assign, "$pool_troop", "trp_temp_troop"),
        (call_script, "script_dplmc_auto_loot_troop", "$lord_selected", "$pool_troop", 30),
        (jump_to_menu, "mnu_dplmc_manage_loot_pool"),
      ]
      ),
    ],
  ),

  ("dplmc_notification_alliance_declared", 0,
    "Alliance Agreement^^{s1} and {s2} have formed an alliance!^{s57}",
    "none",
    [
      (str_clear, s57),
      (str_store_faction_name, s1, "$g_notification_menu_var1"),
      (str_store_faction_name, s2, "$g_notification_menu_var2"),
      (set_fixed_point_multiplier, 100),
      (position_set_x, pos0, 65),
      (position_set_y, pos0, 30),
      (position_set_z, pos0, 170),
      (store_sub, ":var0", "$g_notification_menu_var1", "fac_player_supporters_faction"),
      (store_sub, ":var1", "$g_notification_menu_var2", "fac_player_supporters_faction"),
      (val_mul, ":var0", 128),
      (val_add, ":var0", ":var1"),
      (set_game_menu_tableau_mesh, "tableau_2_factions_mesh", ":var0", pos0),
    ],
    [
      ("dplmc_continue",
      [],
      "Continue...",
      [
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("dplmc_notification_defensive_declared", 0,
    "Defensive Pact^^{s1} and {s2} have agreed to a defensive pact!^{s57}",
    "none",
    [
      (str_clear, s57),
      (str_store_faction_name, s1, "$g_notification_menu_var1"),
      (str_store_faction_name, s2, "$g_notification_menu_var2"),
      (set_fixed_point_multiplier, 100),
      (position_set_x, pos0, 65),
      (position_set_y, pos0, 30),
      (position_set_z, pos0, 170),
      (store_sub, ":var0", "$g_notification_menu_var1", "fac_player_supporters_faction"),
      (store_sub, ":var1", "$g_notification_menu_var2", "fac_player_supporters_faction"),
      (val_mul, ":var0", 128),
      (val_add, ":var0", ":var1"),
      (set_game_menu_tableau_mesh, "tableau_2_factions_mesh", ":var0", pos0),
    ],
    [
      ("dplmc_continue",
      [],
      "Continue...",
      [
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("dplmc_notification_trade_declared", 0,
    "Trade Agreement^^{s1} and {s2} have signed a trade agreement!^{s57}",
    "none",
    [
      (str_clear, s57),
      (str_store_faction_name, s1, "$g_notification_menu_var1"),
      (str_store_faction_name, s2, "$g_notification_menu_var2"),
      (set_fixed_point_multiplier, 100),
      (position_set_x, pos0, 65),
      (position_set_y, pos0, 30),
      (position_set_z, pos0, 170),
      (store_sub, ":var0", "$g_notification_menu_var1", "fac_player_supporters_faction"),
      (store_sub, ":var1", "$g_notification_menu_var2", "fac_player_supporters_faction"),
      (val_mul, ":var0", 128),
      (val_add, ":var0", ":var1"),
      (set_game_menu_tableau_mesh, "tableau_2_factions_mesh", ":var0", pos0),
    ],
    [
      ("dplmc_continue",
      [],
      "Continue...",
      [
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("dplmc_notification_nonaggression_declared", 0,
    "Non-aggression Treaty^^{s1} and {s2} have concluded a non-aggression treaty!^{s57}",
    "none",
    [
      (str_clear, s57),
      (str_store_faction_name, s1, "$g_notification_menu_var1"),
      (str_store_faction_name, s2, "$g_notification_menu_var2"),
      (set_fixed_point_multiplier, 100),
      (position_set_x, pos0, 65),
      (position_set_y, pos0, 30),
      (position_set_z, pos0, 170),
      (store_sub, ":var0", "$g_notification_menu_var1", "fac_player_supporters_faction"),
      (store_sub, ":var1", "$g_notification_menu_var2", "fac_player_supporters_faction"),
      (val_mul, ":var0", 128),
      (val_add, ":var0", ":var1"),
      (set_game_menu_tableau_mesh, "tableau_2_factions_mesh", ":var0", pos0),
    ],
    [
      ("dplmc_continue",
      [],
      "Continue...",
      [
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("dplmc_question_alliance_offer", 0,
    "You Receive an Alliance Offer^^The {s1} wants to form an alliance with you. What is your answer?",
    "none",
    [
      (str_store_faction_name, s1, "$g_notification_menu_var1"),
      (set_fixed_point_multiplier, 100),
      (position_set_x, pos0, 65),
      (position_set_y, pos0, 30),
      (position_set_z, pos0, 170),
      (set_game_menu_tableau_mesh, "tableau_faction_note_mesh_banner", "$g_notification_menu_var1", pos0),
    ],
    [
      ("dplmc_alliance_offer_accept",
      [],
      "Accept",
      [
        (call_script, "script_dplmc_start_alliance_between_kingdoms", "fac_player_supporters_faction", "$g_notification_menu_var1", 1),
        (change_screen_return),
      ]
      ),

      ("dplmc_alliance_offer_reject",
      [],
      "Reject",
      [
        (call_script, "script_change_player_relation_with_faction", "$g_notification_menu_var1", -2),
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("dplmc_question_defensive_offer", 0,
    "You Receive a Pact Offer^^The {s1} offers you a defensive pact. What is your answer?",
    "none",
    [
      (str_store_faction_name, s1, "$g_notification_menu_var1"),
      (set_fixed_point_multiplier, 100),
      (position_set_x, pos0, 65),
      (position_set_y, pos0, 30),
      (position_set_z, pos0, 170),
      (set_game_menu_tableau_mesh, "tableau_faction_note_mesh_banner", "$g_notification_menu_var1", pos0),
    ],
    [
      ("dplmc_defensive_offer_accept",
      [],
      "Accept",
      [
        (call_script, "script_dplmc_start_defensive_between_kingdoms", "fac_player_supporters_faction", "$g_notification_menu_var1", 1),
        (change_screen_return),
      ]
      ),

      ("dplmc_defensive_offer_reject",
      [],
      "Reject",
      [
        (call_script, "script_change_player_relation_with_faction", "$g_notification_menu_var1", -2),
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("dplmc_question_trade_offer", 0,
    "You Receive a Pact Offer^^The {s1} offers you a trade pact. What is your answer?",
    "none",
    [
      (str_store_faction_name, s1, "$g_notification_menu_var1"),
      (set_fixed_point_multiplier, 100),
      (position_set_x, pos0, 65),
      (position_set_y, pos0, 30),
      (position_set_z, pos0, 170),
      (set_game_menu_tableau_mesh, "tableau_faction_note_mesh_banner", "$g_notification_menu_var1", pos0),
    ],
    [
      ("dplmc_trade_offer_accept",
      [],
      "Accept",
      [
        (call_script, "script_dplmc_start_trade_between_kingdoms", "fac_player_supporters_faction", "$g_notification_menu_var1", 1),
        (change_screen_return),
      ]
      ),

      ("dplmc_trade_offer_reject",
      [],
      "Reject",
      [
        (call_script, "script_change_player_relation_with_faction", "$g_notification_menu_var1", -2),
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("dplmc_question_nonaggression_offer", 0,
    "You Receive a Pact Offer^^The {s1} offers you a non-aggression treaty. What is your answer?",
    "none",
    [
      (str_store_faction_name, s1, "$g_notification_menu_var1"),
      (set_fixed_point_multiplier, 100),
      (position_set_x, pos0, 65),
      (position_set_y, pos0, 30),
      (position_set_z, pos0, 170),
      (set_game_menu_tableau_mesh, "tableau_faction_note_mesh_banner", "$g_notification_menu_var1", pos0),
    ],
    [
      ("dplmc_nonaggression_offer_accept",
      [],
      "Accept",
      [
        (call_script, "script_dplmc_start_nonaggression_between_kingdoms", "fac_player_supporters_faction", "$g_notification_menu_var1", 1),
        (change_screen_return),
      ]
      ),

      ("dplmc_nonaggression_offer_reject",
      [],
      "Reject",
      [
        (call_script, "script_change_player_relation_with_faction", "$g_notification_menu_var1", -2),
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("dplmc_notification_alliance_expired", 0,
    "Alliance Has Expired^^The alliance between {s1} and {s2} has expired and was degraded to a defensive pact.",
    "none",
    [
      (str_store_faction_name, s1, "$g_notification_menu_var1"),
      (str_store_faction_name, s2, "$g_notification_menu_var2"),
      (set_fixed_point_multiplier, 100),
      (position_set_x, pos0, 65),
      (position_set_y, pos0, 30),
      (position_set_z, pos0, 170),
      (set_game_menu_tableau_mesh, "tableau_faction_note_mesh_banner", "$g_notification_menu_var1", pos0),
    ],
    [
      ("dplmc_continue",
      [],
      "Continue",
      [
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("dplmc_notification_defensive_expired", 0,
    "Defensive Pact Has Expired^^The defensive pact between {s1} and {s2} has expired and was degraded to a trade agreement.",
    "none",
    [
      (str_store_faction_name, s1, "$g_notification_menu_var1"),
      (str_store_faction_name, s2, "$g_notification_menu_var2"),
      (set_fixed_point_multiplier, 100),
      (position_set_x, pos0, 65),
      (position_set_y, pos0, 30),
      (position_set_z, pos0, 170),
      (set_game_menu_tableau_mesh, "tableau_faction_note_mesh_banner", "$g_notification_menu_var1", pos0),
    ],
    [
      ("dplmc_continue",
      [],
      "Continue",
      [
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("dplmc_notification_trade_expired", 0,
    "Trade Agreement Has Expired^^The trade agreement between {s1} and {s2} has expired and was degraded to a non-aggression treaty.",
    "none",
    [
      (str_store_faction_name, s1, "$g_notification_menu_var1"),
      (str_store_faction_name, s2, "$g_notification_menu_var2"),
      (set_fixed_point_multiplier, 100),
      (position_set_x, pos0, 65),
      (position_set_y, pos0, 30),
      (position_set_z, pos0, 170),
      (set_game_menu_tableau_mesh, "tableau_faction_note_mesh_banner", "$g_notification_menu_var1", pos0),
    ],
    [
      ("dplmc_continue",
      [],
      "Continue",
      [
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("rename_court", 0,
    "{!}This menu jumps to the rename presentation",
    "none",
    [
      (try_begin),
        (store_and, ":var0", "$players_kingdom_name_set", 2),
        (gt, ":var0", 0),
        (change_screen_return),
      (else_try),
        (assign, "$g_presentation_state", 2),
        (start_presentation, "prsnt_name_kingdom"),
        (call_script, "script_add_log_entry", 97, "trp_player", "$g_player_court", -1, -1),
      (try_end),
    ],
    [
    ],
    [],
  ),

  ("dplmc_domestic_policy", 0,
    "You can now shape the domestic policy of your kingdom. Do you want to change your policy now?",
    "none",
    [
      (try_begin),
        (eq, "$g_players_policy_set", 1),
        (change_screen_return),
      (try_end),
      (set_fixed_point_multiplier, 100),
      (position_set_x, pos0, 65),
      (position_set_y, pos0, 30),
      (position_set_z, pos0, 170),
      (set_game_menu_tableau_mesh, "tableau_faction_note_mesh_banner", "fac_player_supporters_faction", pos0),
    ],
    [
      ("dplmc_yes",
      [],
      "Yes,_I_want_to_change_the_domestic_policy.",
      [
        (start_presentation, "prsnt_dplmc_policy_management"),
      ]
      ),

      ("dplmc_no",
      [],
      "No,_I_don't_want_to_change_the_domestic_policy.",
      [
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("lco_presentation", 0,
    "Hidden Text",
    "none",
    [
      (jump_to_menu, "mnu_lco_presentation"),
      (try_begin),
        (eq, "$g_lco_page", 2),
        (start_presentation, "prsnt_equipment_overview"),
      (else_try),
        (start_presentation, "prsnt_companions_overview"),
      (try_end),
    ],
    [
      ("lco_go_back",
      [],
      "{!}Return",
      []
      ),
    ],
  ),

  ("lco_view_character", 0,
    "Hidden Text",
    "none",
    [
      (modify_visitors_at_site, "scn_conversation_scene"),
      (reset_visitors),
      (set_visitor, 0, "trp_player"),
      (set_visitor, 17, "$g_lco_target"),
      (set_jump_mission, "mt_conversation_encounter"),
      (jump_to_scene, "scn_conversation_scene"),
      (change_screen_map_conversation, "$g_lco_target"),
    ],
    [
      ("lco_go_back",
      [],
      "{!}Return",
      []
      ),
    ],
  ),

  ("lco_auto_return", 0,
    "Hidden Text",
    "none",
    [
      (try_begin),
        (gt, "$g_lco_auto_menu", 0),
        (jump_to_menu, "$g_lco_auto_menu"),
        (assign, "$g_lco_auto_menu", 0),
      (else_try),
        (change_screen_return),
      (try_end),
    ],
    [
      ("lco_go_back",
      [],
      "{!}Return",
      []
      ),
    ],
  ),

  ("dplmc_dictate_terms", menu_text_color(0xFF000000)|mnf_disable_all_keys,
    "Dictate your peace terms.",
    "none",
    [
      (set_game_menu_tableau_mesh, "tableau_faction_note_mesh_banner", "$g_notification_menu_var1", pos0),
    ],
    [
      ("dplmc_demand_4000",
      [
        (gt, "$g_player_chamberlain", 0),
      ],
      "Demand_4000_denars",
      [
        (call_script, "script_npc_decision_checklist_peace_or_war", "$g_notification_menu_var1", "fac_player_supporters_faction", -1),
        (assign, ":var0", reg0),
        (store_random_in_range, ":var1", 0, 4),
        (call_script, "script_change_player_relation_with_faction", "$g_notification_menu_var1", -3),
        (try_begin),
          (le, ":var1", ":var0"),
          (call_script, "script_dplmc_pay_into_treasury", 4000),
          (call_script, "script_diplomacy_start_peace_between_kingdoms", "$g_notification_menu_var1", "fac_player_supporters_faction", 1),
          (change_screen_return),
        (else_try),
          (jump_to_menu, "mnu_dplmc_deny_terms"),
        (try_end),
      ]
      ),

      ("dplmc_demand_8000",
      [
        (gt, "$g_player_chamberlain", 0),
      ],
      "Demand_8000_denars",
      [
        (call_script, "script_npc_decision_checklist_peace_or_war", "$g_notification_menu_var1", "fac_player_supporters_faction", -1),
        (assign, ":var0", reg0),
        (val_mul, ":var0", 2),
        (store_random_in_range, ":var1", 0, 10),
        (call_script, "script_change_player_relation_with_faction", "$g_notification_menu_var1", -5),
        (try_begin),
          (le, ":var1", ":var0"),
          (call_script, "script_dplmc_pay_into_treasury", 8000),
          (call_script, "script_diplomacy_start_peace_between_kingdoms", "$g_notification_menu_var1", "fac_player_supporters_faction", 1),
          (change_screen_return),
        (else_try),
          (jump_to_menu, "mnu_dplmc_deny_terms"),
        (try_end),
      ]
      ),

      ("dplmc_demand_castle",
      [
        (assign, ":var0", 100),
        (assign, "$demanded_castle", -1),
        (assign, ":var1", "fac_player_supporters_faction"),
        (try_begin),
          (is_between, "$players_kingdom", "fac_kingdom_1", "fac_kingdoms_end"),
          (call_script, "script_dplmc_get_troop_standing_in_faction", "trp_player", "$players_kingdom"),
          (ge, reg0, 50),
          (assign, ":var1", "$players_kingdom"),
        (try_end),
        (try_for_range, ":var2", "p_castle_1", "p_village_1"),
          (store_faction_of_party, ":var3", ":var2"),
          (eq, ":var3", "$g_notification_menu_var1"),
          (try_for_range, ":var4", "p_town_1", "p_salt_mine"),
            (store_faction_of_party, ":var5", ":var4"),
            (this_or_next|eq, ":var1", ":var5"),
            (eq, ":var5", "fac_player_supporters_faction"),
            (store_distance_to_party_from_party, ":var6", ":var4", ":var2"),
            (lt, ":var6", ":var0"),
            (assign, ":var0", ":var6"),
            (assign, "$demanded_castle", ":var2"),
            (str_store_party_name, s2, ":var2"),
          (try_end),
        (try_end),
        (is_between, "$demanded_castle", "p_castle_1", "p_village_1"),
      ],
      "Demand_{s2}.",
      [
        (call_script, "script_npc_decision_checklist_peace_or_war", "$g_notification_menu_var1", "fac_player_supporters_faction", -1),
        (assign, ":var0", reg0),
        (val_mul, ":var0", 2),
        (store_random_in_range, ":var1", 0, 12),
        (call_script, "script_change_player_relation_with_faction", "$g_notification_menu_var1", -6),
        (try_begin),
          (le, ":var1", ":var0"),
          (assign, ":var2", 0),
          (try_begin),
            (party_get_slot, ":var3", "$demanded_castle", 7),
            (ge, ":var3", 1),
            (neg|troop_slot_ge, ":var3", 8, 0),
            (try_begin),
              (this_or_next|troop_slot_eq, ":var3", 60, "$demanded_castle"),
              (party_slot_eq, "$demanded_castle", 582, ":var3"),
              (store_random_in_range, ":var1", 0, 24),
              (assign, ":var2", 1),
              (le, ":var1", ":var0"),
              (assign, ":var2", 0),
            (else_try),
              (troop_get_slot, ":var4", ":var3", 14),
              (party_slot_eq, "$demanded_castle", 61, ":var4"),
              (store_random_in_range, ":var1", 0, 12),
              (assign, ":var2", 1),
              (le, ":var1", ":var0"),
              (assign, ":var2", 0),
            (try_end),
          (try_end),
          (eq, ":var2", 0),
          (assign, ":var5", "fac_player_supporters_faction"),
          (try_begin),
            (neg|faction_slot_eq, "fac_player_supporters_faction", 21, 0),
            (is_between, "$players_kingdom", "fac_kingdom_1", "fac_kingdoms_end"),
            (call_script, "script_dplmc_get_troop_standing_in_faction", "trp_player", "$players_kingdom"),
            (ge, reg0, 50),
            (assign, ":var5", "$players_kingdom"),
          (try_end),
          (call_script, "script_give_center_to_faction", "$demanded_castle", ":var5"),
          (call_script, "script_diplomacy_start_peace_between_kingdoms", "$g_notification_menu_var1", ":var5", 1),
          (change_screen_return),
        (else_try),
          (jump_to_menu, "mnu_dplmc_deny_terms"),
        (try_end),
      ]
      ),

      ("dplmc_go_back",
      [],
      "Go_back",
      [
        (jump_to_menu, "mnu_question_peace_offer"),
      ]
      ),
    ],
  ),

  ("dplmc_deny_terms", menu_text_color(0xFF000000)|mnf_disable_all_keys,
    "The {s1} refuses your terms and is breaking off of negotiations.",
    "none",
    [
      (set_game_menu_tableau_mesh, "tableau_faction_note_mesh_banner", "$g_notification_menu_var1", pos0),
    ],
    [
      ("dplmc_continue",
      [],
      "Continue",
      [
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("dplmc_village_riot_result", mnf_scale_picture,
    "{s9}",
    "none",
    [
      (try_begin),
        (eq, "$g_battle_result", 1),
        (jump_to_menu, "mnu_dplmc_village_riot_removed"),
      (else_try),
        (set_background_mesh, "mesh_pic_villageriot"),
        (str_store_string, s9, "@Try as you might, you could not defeat the rebelling village."),
      (try_end),
    ],
    [
      ("dplmc_continue",
      [],
      "Continue...",
      [
        (call_script, "script_change_player_relation_with_center", "$g_encountered_party", -3),
        (call_script, "script_change_troop_renown", "trp_player", -5),
        (jump_to_menu, "mnu_village"),
      ]
      ),
    ],
  ),

  ("dplmc_village_riot_removed", mnf_disable_all_keys,
    "In bloody battle you and your men slaughter the rebels and regain control over the village. But there is not much left you can control.",
    "none",
    [
      (set_background_mesh, "mesh_pic_looted_village"),
      (party_set_slot, "$g_encountered_party", 39, 0),
      (call_script, "script_village_set_state", "$current_town", 2),
    ],
    [
      ("dplmc_continue",
      [],
      "Continue...",
      [
        (jump_to_menu, "mnu_village"),
      ]
      ),
    ],
  ),

  ("dplmc_town_riot_removed", mnf_disable_all_keys,
    "In bloody battle you and your men slaughter the rebels and regain control over the town.",
    "none",
    [],
    [
      ("dplmc_continue",
      [],
      "Continue...",
      [
        (party_set_slot, "$g_encountered_party", 39, 0),
        (assign, "$new_encounter", 1),
        (try_begin),
          (party_get_slot, ":var0", "$g_encountered_party", 7),
          (troop_get_slot, ":var1", ":var0", 13),
          (gt, ":var1", 0),
          (val_sub, ":var1", "spr_banner_a"),
          (val_add, ":var1", "icon_banner_01"),
          (party_set_banner_icon, "$g_encountered_party", ":var1"),
        (try_end),
        (jump_to_menu, "mnu_castle_outside"),
      ]
      ),
    ],
  ),

  ("dplmc_riot_negotiate", mnf_disable_all_keys,
    "You approach the angry crowd and begin negotiations. The leader of the riot demands {reg0} denars. He agrees to lay down arms if you are willing to pay.",
    "none",
    [
      (party_get_slot, ":var0", "$g_encountered_party", 26),
      (val_min, ":var0", 0),
      (try_begin),
        (party_slot_eq, "$g_encountered_party", 0, 3),
        (val_sub, ":var0", 75),
        (set_background_mesh, "mesh_pic_townriot"),
      (else_try),
        (val_sub, ":var0", 50),
        (set_background_mesh, "mesh_pic_villageriot"),
      (try_end),
      (store_skill_level, ":var1", "skl_persuasion", "trp_player"),
      (val_add, ":var0", ":var1"),
      (val_mul, ":var0", ":var0"),
      (assign, reg0, ":var0"),
    ],
    [
      ("dplmc_pay_riot_treasury",
      [
        (gt, "$g_player_chamberlain", 0),
        (store_troop_gold, ":var0", "trp_household_possessions"),
        (ge, ":var0", reg0),
      ],
      "Induce_your_chamberlain_to_pay_the_money_from_the_treasury.",
      [
        (call_script, "script_dplmc_withdraw_from_treasury", reg0),
        (party_set_slot, "$g_encountered_party", 39, 0),
        (try_begin),
          (party_slot_eq, "$g_encountered_party", 0, 4),
          (jump_to_menu, "mnu_village"),
        (else_try),
          (jump_to_menu, "mnu_castle_outside"),
        (try_end),
      ]
      ),

      ("dplmc_pay_riot_cash",
      [
        (store_troop_gold, ":var0", "trp_player"),
        (ge, ":var0", reg0),
      ],
      "Pay_cash.",
      [
        (troop_remove_gold, "trp_player", reg0),
        (party_set_slot, "$g_encountered_party", 39, 0),
        (try_begin),
          (party_slot_eq, "$g_encountered_party", 0, 4),
          (jump_to_menu, "mnu_village"),
        (else_try),
          (jump_to_menu, "mnu_castle_outside"),
        (try_end),
      ]
      ),

      ("dplmc_back",
      [],
      "Back...",
      [
        (try_begin),
          (party_slot_eq, "$g_encountered_party", 0, 3),
          (jump_to_menu, "mnu_castle_outside"),
        (else_try),
          (jump_to_menu, "mnu_village"),
        (try_end),
      ]
      ),
    ],
  ),

  ("dplmc_notification_riot", 0,
    "The peasants of {s1} launched a riot against you! In a surprise attack, men loyal to you have been slain. The remainder joined the angry crowd.",
    "none",
    [
      (str_store_party_name, s1, "$g_notification_menu_var1"),
      (try_begin),
        (party_slot_eq, "$g_notification_menu_var1", 0, 3),
        (set_background_mesh, "mesh_pic_townriot"),
      (else_try),
        (set_background_mesh, "mesh_pic_villageriot"),
      (try_end),
    ],
    [
      ("dplmc_continue",
      [],
      "Continue...",
      [
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("dplmc_notification_appoint_chamberlain", 0,
    "As a lord of a fief you can now appoint a chamberlain who resides at your court for a weekly salary of 15 denars. He will handle all financial affairs like collecting and determining taxes, paying wages and managing your estate. In addition he supervises money transfers between kingdoms giving you more diplomatic options.",
    "none",
    [
      (set_fixed_point_multiplier, 100),
      (position_set_x, pos0, 70),
      (position_set_y, pos0, 5),
      (position_set_z, pos0, 75),
      (set_game_menu_tableau_mesh, "tableau_troop_note_mesh", "trp_dplmc_chamberlain", pos0),
    ],
    [
      ("dplmc_appoint_default",
      [],
      "Appoint_a_prominent_nobleman_from_the_area.",
      [
        (call_script, "script_dplmc_appoint_chamberlain"),
        (jump_to_menu, "mnu_dplmc_chamberlain_confirm"),
      ]
      ),

      ("dplmc_continue",
      [],
      "Proceed_without_chamberlain.",
      [
        (assign, "$g_player_chamberlain", -1),
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("dplmc_chamberlain_confirm", 0,
    "Your chamberlain can be found at your court. You should consult him if you want to give him any financial advice or if you need greater amounts of money. You should always make sure that there is enough money in the treasury to pay for political affairs.",
    "none",
    [],
    [
      ("dplmc_continue",
      [],
      "Continue...",
      [
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("dplmc_notification_appoint_constable", 0,
    "As a lord of a fortified center you can now appoint a constable who resides at your court for a weekly salary of 15 denars. He will train new troops and provide information about your army.",
    "none",
    [
      (set_fixed_point_multiplier, 100),
      (position_set_x, pos0, 70),
      (position_set_y, pos0, 5),
      (position_set_z, pos0, 75),
      (set_game_menu_tableau_mesh, "tableau_troop_note_mesh", "trp_dplmc_constable", pos0),
    ],
    [
      ("dplmc_appoint_default",
      [],
      "Appoint_a_prominent_nobleman_from_the_area.",
      [
        (call_script, "script_dplmc_appoint_constable"),
        (jump_to_menu, "mnu_dplmc_constable_confirm"),
      ]
      ),

      ("dplmc_continue",
      [],
      "Proceed_without_constable.",
      [
        (assign, "$g_player_constable", -1),
        (assign, "$g_constable_training_center", -1),
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("dplmc_constable_confirm", 0,
    "Your constable can be found at your court. You should consult him if you want to recruit new troops or get detailed information about your standing army.",
    "none",
    [],
    [
      ("dplmc_continue",
      [],
      "Continue...",
      [
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("dplmc_notification_appoint_chancellor", 0,
    "As a lord of a realm and owner of a city you can now appoint a chancellor who resides at your court for a weekly salary of 20 denars. He will be the keeper of your seal and conduct the correspondence between you and other important persons.",
    "none",
    [
      (set_fixed_point_multiplier, 100),
      (position_set_x, pos0, 70),
      (position_set_y, pos0, 5),
      (position_set_z, pos0, 75),
      (set_game_menu_tableau_mesh, "tableau_troop_note_mesh", "trp_dplmc_chancellor", pos0),
    ],
    [
      ("dplmc_appoint_default",
      [],
      "Appoint_a_prominent_nobleman_from_the_area.",
      [
        (call_script, "script_dplmc_appoint_chancellor"),
        (jump_to_menu, "mnu_dplmc_chancellor_confirm"),
      ]
      ),

      ("dplmc_continue",
      [],
      "Proceed_without_chancellor.",
      [
        (assign, "$g_player_chancellor", -1),
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("dplmc_chancellor_confirm", 0,
    "Your chancellor can be found at your court. You should consult him if you want to send messages or gifts.",
    "none",
    [],
    [
      ("dplmc_continue",
      [],
      "Continue...",
      [
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("dplmc_deserters", 0,
    "Some of your men don't believe that you will pay their wages and desert. Overall you lose: {s11} men.",
    "none",
    [
      (set_background_mesh, "mesh_pic_deserters"),
      (store_random_in_range, ":var0", 1, "$g_notification_menu_var1"),
      (call_script, "script_dplmc_player_troops_leave", ":var0"),
      (str_store_string, s11, "@{reg0}"),
    ],
    [
      ("dplmc_continue",
      [],
      "Continue...",
      [
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("dplmc_negotiate_besieger", 0,
    "You appear with a white flag at the top of the wall. After a while a negotiator of {s11} approaches you. He demands {s6} and all associated villages as well as {reg0} denars for safe conduct.",
    "none",
    [
      (party_get_slot, ":var0", "$current_town", 54),
      (party_stack_get_troop_id, ":var1", ":var0", 0),
      (str_store_troop_name, s11, ":var1"),
      (store_faction_of_troop, ":var2", ":var1"),
      (party_get_num_companions, ":var3", ":var0"),
      (try_for_parties, ":var4"),
        (ge, ":var4", "p_spawn_points_end"),
        (neq, ":var4", ":var0"),
        (store_faction_of_party, ":var5", ":var4"),
        (eq, ":var5", ":var2"),
        (party_is_active, ":var4"),
        (party_slot_eq, ":var4", 4, 11),
        (party_slot_eq, ":var4", 5, ":var0"),
        (party_is_active, ":var0"),
        (store_distance_to_party_from_party, ":var6", ":var4", ":var0"),
        (lt, ":var6", 25),
        (party_get_num_companions, ":var7", ":var4"),
        (val_add, ":var3", ":var7"),
      (try_end),
      (assign, ":var8", 0),
      (party_get_num_companion_stacks, ":var9", "$current_town"),
      (try_for_range, ":var10", 0, ":var9"),
        (party_stack_get_size, ":var11", "$current_town", ":var10"),
        (val_add, ":var8", ":var11"),
      (try_end),
      (val_sub, ":var3", ":var8"),
      (store_skill_level, ":var12", "skl_persuasion", "trp_player"),
      (val_mul, ":var12", 10),
      (store_sub, "$diplomacy_var", ":var3", ":var12"),
      (val_mul, "$diplomacy_var", 4),
      (call_script, "script_calculate_ransom_amount_for_troop", "trp_player"),
      (val_add, "$diplomacy_var", reg0),
      (val_max, "$diplomacy_var", 500),
      (val_div, "$diplomacy_var", 100),
      (val_mul, "$diplomacy_var", 100),
      (assign, reg0, "$diplomacy_var"),
      (str_store_party_name, s6, "$current_town"),
    ],
    [
      ("dplmc_comply_treasury",
      [
        (store_troop_gold, ":var0", "trp_household_possessions"),
        (ge, ":var0", "$diplomacy_var"),
      ],
      "Comply_and_induce_your_chamberlain_to_pay_the_money_from_the_treasury.",
      [
        (call_script, "script_dplmc_withdraw_from_treasury", "$diplomacy_var"),
        (party_get_slot, ":var0", "$current_town", 54),
        (party_stack_get_troop_id, ":var1", ":var0", 0),
        (call_script, "script_dplmc_distribute_gold_to_lord_and_holdings", "$diplomacy_var", ":var1"),
        (call_script, "script_dplmc_player_center_surrender", "$current_town"),
        (change_screen_return),
      ]
      ),

      ("dplmc_comply",
      [
        (store_troop_gold, ":var0", "trp_player"),
        (ge, ":var0", "$diplomacy_var"),
      ],
      "Comply_and_pay_the_gold.",
      [
        (troop_remove_gold, "trp_player", "$diplomacy_var"),
        (party_get_slot, ":var0", "$current_town", 54),
        (party_stack_get_troop_id, ":var1", ":var0", 0),
        (call_script, "script_dplmc_distribute_gold_to_lord_and_holdings", "$diplomacy_var", ":var1"),
        (call_script, "script_dplmc_player_center_surrender", "$current_town"),
        (change_screen_return),
      ]
      ),

      ("dplmc_break_off",
      [],
      "Break_off_negotiations.",
      [
        (jump_to_menu, "mnu_town"),
      ]
      ),
    ],
  ),

  ("dplmc_messenger", 0,
    "Sire, I found {s10} and delivered your message. {reg4?Her:His} answer was {s11}.",
    "none",
    [
      (set_background_mesh, "mesh_pic_messenger"),
      (str_store_troop_name, s10, "$g_notification_menu_var1"),
      (try_begin),
        (eq, "$g_notification_menu_var2", 1),
        (str_store_string, s11, "@positive"),
      (else_try),
        (str_store_string, s11, "@negative"),
      (try_end),
      (try_begin),
        (call_script, "script_cf_dplmc_troop_is_female", "$g_notification_menu_var1"),
        (assign, reg4, 1),
      (else_try),
        (assign, reg4, 0),
      (try_end),
    ],
    [
      ("dplmc_continue",
      [],
      "Continue...",
      [
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("dplmc_scout", 0,
    "Your spy returned from {s10}^^{s11}{s12}",
    "none",
    [
      (set_background_mesh, "mesh_pic_messenger"),
      (str_store_party_name, s10, "$g_notification_menu_var1"),
      (call_script, "script_game_get_center_note", "$g_notification_menu_var1", 0),
      (str_store_string, s11, "@{!}{s0}"),
      (try_begin),
        (this_or_next|is_between, "$g_notification_menu_var1", "p_town_1", "p_castle_1"),
        (is_between, "$g_notification_menu_var1", "p_castle_1", "p_village_1"),
        (party_get_slot, ":var0", "$g_notification_menu_var1", 53),
        (call_script, "script_center_get_food_consumption", "$g_notification_menu_var1"),
        (assign, ":var1", reg0),
        (store_div, reg6, ":var0", ":var1"),
        (store_party_size, reg5, "$g_notification_menu_var1"),
        (str_store_string, s11, "@{s11}^^ The current garrison consists of {reg5} men.^The food stock lasts for {reg6} days."),
      (try_end),
      (str_clear, s12),
      (party_get_num_attached_parties, ":var2", "$g_notification_menu_var1"),
      (try_begin),
        (gt, ":var2", 0),
        (str_store_string, s12, "@^^Additional the following parties are currently inside:^"),
        (try_for_range, ":var3", 0, ":var2"),
          (party_get_attached_party_with_rank, ":var4", "$g_notification_menu_var1", ":var3"),
          (str_store_party_name, s3, ":var4"),
          (store_party_size, reg1, ":var4"),
          (str_store_string, s12, "@{s12} {s3} with {reg1} troops.^"),
        (try_end),
      (try_end),
      (call_script, "script_update_center_recon_notes", "$g_notification_menu_var1"),
    ],
    [
      ("dplmc_continue",
      [],
      "Continue...",
      [
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("dplmc_affiliate_end", 0,
    "{!}{s11}",
    "none",
    [
      (set_background_mesh, "mesh_pic_messenger"),
      (str_store_troop_name, s9, "$g_notification_menu_var1"),
      (try_begin),
        (eq, "$g_notification_menu_var2", "$g_notification_menu_var1"),
        (str_store_string, s11, "@{playername}, ^^I always knew you were a bad egg, since the day you have pledged allegiance to my clan. ^Did you really think you could set my family against me? You've dropped your mask, you snake! You are an infliction, and I will not bear it anymore. ^Hereby, I disown and ban you from my house. I have urged my family to fight you, and I will warn the Old World lords about your infamy. ^Tremble with fear, you have a deadly enemy! ^^{s9}."),
      (else_try),
        (ge, "$g_notification_menu_var2", "trp_tournament_master"),
        (troop_is_hero, "$g_notification_menu_var2"),
        (str_store_troop_name, s10, "$g_notification_menu_var2"),
        (call_script, "script_dplmc_store_troop_is_female", "$g_notification_menu_var1"),
        (assign, reg1, reg0),
        (store_faction_of_troop, ":var0", "$g_notification_menu_var2"),
        (try_begin),
          (gt, ":var0", 0),
          (faction_get_slot, ":var0", ":var0", 11),
          (gt, ":var0", 0),
          (call_script, "script_dplmc_store_troop_is_female", ":var0"),
          (eq, reg0, 1),
          (call_script, "script_dplmc_print_cultural_word_to_sreg", "$g_notification_menu_var2", 5, 11),
          (assign, reg1, 1),
        (else_try),
          (call_script, "script_dplmc_print_cultural_word_to_sreg", "$g_notification_menu_var2", 4, 11),
          (assign, reg1, 0),
        (try_end),
        (str_store_string, s11, "@{playername},^^ I've received a letter from {s9}, telling me about your disgraceful jiggery-pokery. In the present circumstances, {s9} could not provide evidence. But unlike you, {reg1?she:he} is a distinguished member of my family; and since all these years, I never had any reason to distrust {reg1?her:him}. I take {reg1?her:him} charges for granted. ^Hopefully, you failed to breakup my family unit. Hereby I reject your pledge : you are no longer related to my house. Each membership will retaliate against you in all conscience... ^I would be ashamed to confess how you maliciously fooled me, so I will not challenge you, to not be accountable for your death to my {s11}. However I'm not used to telling {reg0?her:him} about every rat I crush in the wilderness, and someday I may find you there ! ^^{s10}"),
      (try_end),
    ],
    [
      ("dplmc_continue",
      [],
      "Continue...",
      [
        (change_screen_return),
      ]
      ),
    ],
  ),

  ("dplmc_preferences", 0,
    "Diplomacy 4.3+ for Steam Preferences{s0}",
    "none",
    [
      (troop_get_slot, reg0, "trp_dplmc_chamberlain", 209),
      (call_script, "script_dplmc_version_checker"),
      (str_clear, s0),
      (try_begin),
        (neq, reg0, 0),
        (store_mod, ":var0", reg0, 128),
        (this_or_next|lt, reg0, 0),
        (neq, ":var0", 68),
        (str_store_string, s0, "@{!}{s0}^^ WARNING: Unexpected version value in slot dplmc slot troop affiliated in trp dplmc chamberlain: {reg0}"),
      (else_try),
        (eq, "$cheat_mode", 1),
        (val_div, reg0, 128),
        (str_store_string, s0, "@{!}{s0}^^ DEBUG: Internal update code for current saved game is {reg0}.  Update code for the current release is 170301."),
      (try_end),
    ],
    [
      ("dplmc_battle_continuation",
      [
        (assign, reg0, "$g_dplmc_battle_continuation"),
      ],
      "{reg0?En:Dis}able_Diplomacy_battle_continuation.",
      [
        (val_clamp, "$g_dplmc_battle_continuation", 0, 2),
        (store_sub, "$g_dplmc_battle_continuation", 1, "$g_dplmc_battle_continuation"),
        (jump_to_menu, "mnu_dplmc_preferences"),
      ]
      ),

      ("dplmc_disable_terrain_advantage",
      [
        (eq, "$g_dplmc_terrain_advantage", 0),
      ],
      "Disable_terrain_advantage_in_Autocalc_battles_(currently_Enabled).",
      [
        (assign, "$g_dplmc_terrain_advantage", -1),
        (jump_to_menu, "mnu_dplmc_preferences"),
      ]
      ),

      ("dplmc_enable_terrain_advantage",
      [
        (eq, "$g_dplmc_terrain_advantage", -1),
      ],
      "Enable_terrain_advantage_in_Autocalc_battles_(currently_Disabled).",
      [
        (assign, "$g_dplmc_terrain_advantage", 0),
        (jump_to_menu, "mnu_dplmc_preferences"),
      ]
      ),

      ("dplmc_reset_terrain_advantage",
      [
        (neq, "$g_dplmc_terrain_advantage", -1),
        (neq, "$g_dplmc_terrain_advantage", 0),
        (assign, reg0, "$g_dplmc_terrain_advantage"),
      ],
      "You_used_a_saved_game_from_another_mod:_g_dplmc_terrain_advantage_=_{reg0}_(click_to_reset)",
      [
        (assign, "$g_dplmc_terrain_advantage", 0),
        (jump_to_menu, "mnu_dplmc_preferences"),
      ]
      ),

      ("dplmc_toggle_lord_recycling_a",
      [
        (eq, "$g_dplmc_lord_recycling", -1),
      ],
      "Enable_lords_returning_from_exile_and_spawning_without_homes_(currently_disabled)",
      [
        (assign, "$g_dplmc_lord_recycling", 0),
      ]
      ),

      ("dplmc_toggle_lord_recycling_b",
      [
        (this_or_next|eq, "$g_dplmc_lord_recycling", 1),
        (eq, "$g_dplmc_lord_recycling", 0),
      ],
      "Disable_lords_returning_from_exile_and_spawning_without_homes_(currently_enabled)",
      [
        (assign, "$g_dplmc_lord_recycling", -1),
      ]
      ),

      ("dplmc_toggle_lord_recycling_reset",
      [
        (neq, "$g_dplmc_lord_recycling", -1),
        (neq, "$g_dplmc_lord_recycling", 0),
        (neq, "$g_dplmc_lord_recycling", 1),
        (assign, reg0, "$g_dplmc_lord_recycling"),
      ],
      "You_used_a_saved_game_from_another_mod:_g_dplmc_lord_recycling_=_{reg0}_(click_to_reset)",
      [
        (assign, "$g_dplmc_lord_recycling", 0),
        (jump_to_menu, "mnu_dplmc_preferences"),
      ]
      ),

      ("dplmc_toggle_ai_changes_a",
      [
        (eq, "$g_dplmc_ai_changes", -1),
      ],
      "Enable_AI_changes_(currently_disabled)",
      [
        (assign, "$g_dplmc_ai_changes", 0),
      ]
      ),

      ("dplmc_toggle_ai_changes_b",
      [
        (eq, "$g_dplmc_ai_changes", 0),
      ],
      "Increase_AI_changes_(currently_low)",
      [
        (assign, "$g_dplmc_ai_changes", 1),
      ]
      ),

      ("dplmc_toggle_ai_changes_c",
      [
        (eq, "$g_dplmc_ai_changes", 1),
      ],
      "Increase_AI_changes_(currently_medium)",
      [
        (assign, "$g_dplmc_ai_changes", 2),
      ]
      ),

      ("dplmc_toggle_ai_changes_d",
      [
        (eq, "$g_dplmc_ai_changes", 2),
      ],
      "Disable_AI_changes_(currently_high/experimental)",
      [
        (assign, "$g_dplmc_ai_changes", -1),
      ]
      ),

      ("dplmc_reset_ai_changes",
      [
        (neq, "$g_dplmc_ai_changes", -1),
        (neq, "$g_dplmc_ai_changes", 0),
        (neq, "$g_dplmc_ai_changes", 1),
        (neq, "$g_dplmc_ai_changes", 2),
        (assign, reg0, "$g_dplmc_ai_changes"),
      ],
      "You_used_a_saved_game_from_another_mod:_g_dplmc_ai_changes_=_{reg0}_(click_to_reset)",
      [
        (assign, "$g_dplmc_ai_changes", 0),
        (jump_to_menu, "mnu_dplmc_preferences"),
      ]
      ),

      ("dplmc_toggle_gold_changes_a",
      [
        (eq, "$g_dplmc_gold_changes", -1),
      ],
      "Set_economic_&_behavioral_changes_to_low_(current_mode:_disabled)",
      [
        (assign, "$g_dplmc_gold_changes", 0),
      ]
      ),

      ("dplmc_toggle_gold_changes_b",
      [
        (eq, "$g_dplmc_gold_changes", 0),
      ],
      "Set_economic_&_behavioral_changes_to_medium_(current_mode:_low)",
      [
        (assign, "$g_dplmc_gold_changes", 1),
      ]
      ),

      ("dplmc_toggle_gold_changes_c",
      [
        (eq, "$g_dplmc_gold_changes", 1),
      ],
      "Set_economic_&_behavioral_changes_to_high/experimental_(current_mode:_medium)",
      [
        (assign, "$g_dplmc_gold_changes", 2),
      ]
      ),

      ("dplmc_toggle_gold_changes_d",
      [
        (eq, "$g_dplmc_gold_changes", 2),
      ],
      "Disable_economic_&_behavioral_changes_(current_mode:_high/experimental)",
      [
        (assign, "$g_dplmc_gold_changes", -1),
      ]
      ),

      ("dplmc_reset_gold_changes",
      [
        (neq, "$g_dplmc_gold_changes", -1),
        (neq, "$g_dplmc_gold_changes", 0),
        (neq, "$g_dplmc_gold_changes", 1),
        (neq, "$g_dplmc_gold_changes", 2),
        (assign, reg0, "$g_dplmc_gold_changes"),
      ],
      "You_used_a_saved_game_from_another_mod:_g_dplmc_gold_changes_=_{reg0}_(click_to_reset)",
      [
        (assign, "$g_dplmc_gold_changes", 0),
        (jump_to_menu, "mnu_dplmc_preferences"),
      ]
      ),

      ("dplmc_switch_woman_prejudice_1",
      [
        (this_or_next|eq, "$g_disable_condescending_comments", 0),
        (eq, "$g_disable_condescending_comments", 1),
      ],
      "Change_prejudice_level_(current_level_is_default)",
      [
        (val_add, "$g_disable_condescending_comments", 2),
        (jump_to_menu, "mnu_dplmc_preferences"),
      ]
      ),

      ("dplmc_switch_woman_prejudice_2",
      [
        (this_or_next|eq, "$g_disable_condescending_comments", 2),
        (eq, "$g_disable_condescending_comments", 3),
      ],
      "Change_prejudice_level_(current_level_is_off)",
      [
        (val_sub, "$g_disable_condescending_comments", 4),
        (jump_to_menu, "mnu_dplmc_preferences"),
      ]
      ),

      ("dplmc_switch_woman_prejudice_3",
      [
        (this_or_next|eq, "$g_disable_condescending_comments", -1),
        (eq, "$g_disable_condescending_comments", -2),
      ],
      "Change_prejudice_level_(current_level_is_high)",
      [
        (val_add, "$g_disable_condescending_comments", 2),
        (jump_to_menu, "mnu_dplmc_preferences"),
      ]
      ),

      ("dplmc_player_disguise",
      [
        (assign, reg0, "$disable_npc_complaints"),
      ],
      "{reg0?En:Dis}able_NPC_complaints.",
      [
        (store_sub, "$disable_npc_complaints", 1, "$disable_npc_complaints"),
      ]
      ),

      ("dplmc_back",
      [],
      "Back...",
      [
        (jump_to_menu, "mnu_camp"),
        (call_script, "script_dplmc_update_info_settings"),
      ]
      ),
    ],
  ),

  ("dplmc_affiliated_family_report", 0,
    "{s0}",
    "none",
    [
      (str_clear, s0),
      (str_clear, s1),
      (try_for_range, ":var0", "trp_kingdom_heroes_including_player_begin", "trp_heroes_end"),
        (try_begin),
          (eq, ":var0", "trp_kingdom_heroes_including_player_begin"),
          (assign, ":var0", "trp_player"),
        (try_end),
        (call_script, "script_dplmc_store_troop_is_eligible_for_affiliate_messages", ":var0"),
        (this_or_next|eq, ":var0", "trp_player"),
        (ge, reg0, 1),
        (str_clear, s1),
        (str_store_string, s0, "str_dplmc_s0_newline_s1"),
        (try_begin),
          (eq, ":var0", "trp_player"),
          (str_store_string, s1, "@{playername}"),
        (else_try),
          (call_script, "script_get_information_about_troops_position", ":var0", 0),
        (try_end),
        (str_store_string, s0, "str_dplmc_s0_newline_s1"),
        (try_begin),
          (neq, "trp_player", ":var0"),
          (call_script, "script_troop_get_player_relation", ":var0"),
          (assign, reg1, reg0),
          (str_store_string, s1, "str_relation_reg1"),
          (str_store_string, s0, "str_dplmc_s0_newline_s1"),
        (try_end),
        (try_begin),
          (neg|troop_slot_ge, ":var0", 8, 0),
          (troop_get_slot, ":var1", ":var0", 10),
          (this_or_next|eq, ":var1", 0),
          (ge, ":var1", "p_spawn_points_end"),
          (this_or_next|eq, ":var0", "trp_player"),
          (neq, ":var1", "p_main_party"),
          (party_is_active, ":var1"),
          (assign, reg0, 0),
          (party_get_num_companions, reg1, ":var1"),
          (str_store_string, s1, "@Troops: {reg1}"),
          (str_store_string, s0, "str_dplmc_s0_newline_s1"),
        (try_end),
      (try_end),
    ],
    [
      ("lord_relations",
      [],
      "View_list_of_all_known_lords_by_relation.",
      [
        (jump_to_menu, "mnu_lord_relations"),
      ]
      ),

      ("continue",
      [],
      "Continue...",
      [
        (jump_to_menu, "mnu_reports"),
      ]
      ),
    ],
  ),

  ("dplmc_start_select_prejudice", menu_text_color(0xFF000000)|mnf_disable_all_keys,
    "In the traditional medieval society depicted in the game, war and politics are usually dominated by male members of the nobility.  Beacuse of this, a female character can face initial prejudice, and some opportunities open to men will not be available (although a woman will also have some opportunities a man will not).  Some players might find distasteful, so if you want you can ignore that aspect of society in the Old World.^^You can later change your mind through the options in the Camp menu.",
    "none",
    [],
    [
      ("dplmc_start_prejudice_yes",
      [],
      "I_do_not_mind_encountering_sexism.",
      [
        (assign, "$g_disable_condescending_comments", 0),
        (jump_to_menu, "mnu_start_character_1"),
      ]
      ),

      ("dplmc_start_prejudice_no",
      [],
      "I_would_prefer_not_to_encounter_as_much_sexism.",
      [
        (assign, "$g_disable_condescending_comments", 2),
        (jump_to_menu, "mnu_start_character_1"),
      ]
      ),

      ("go_back",
      [],
      "Go_back",
      [
        (jump_to_menu, "mnu_start_game_1"),
      ]
      ),
    ],
  ),

  ("dplmc_economic_report", 0,
    "{s0}",
    "none",
    [
      (str_clear, s0),
      (str_clear, s1),
      (assign, reg0, 0),
      (str_store_string, s0, "@Prosperity Report^"),
      (try_for_range, ":var0", 0, "fac_kingdoms_end"),
        (this_or_next|eq, ":var0", 0),
        (is_between, ":var0", "fac_player_supporters_faction", "fac_kingdoms_end"),
        (this_or_next|eq, ":var0", 0),
        (faction_slot_eq, ":var0", 21, 0),
        (try_begin),
          (eq, ":var0", 0),
          (str_store_string, s1, "@Total"),
        (else_try),
          (faction_get_slot, reg0, ":var0", 22),
          (gt, reg0, 0),
          (str_store_string, s1, reg0),
        (else_try),
          (str_store_faction_name, s1, ":var0"),
        (try_end),
        (assign, ":var1", 0),
        (assign, ":var2", 0),
        (assign, ":var3", 0),
        (assign, ":var4", 0),
        (assign, ":var5", 0),
        (assign, ":var6", 0),
        (assign, ":var7", 0),
        (try_for_range, ":var8", "p_town_1", "p_castle_1"),
          (store_faction_of_party, reg0, ":var8"),
          (this_or_next|eq, ":var0", 0),
          (eq, reg0, ":var0"),
          (val_add, ":var7", 1),
          (party_get_slot, reg0, ":var8", 50),
          (val_add, ":var1", reg0),
          (try_begin),
            (lt, reg0, 20),
            (val_add, ":var6", 1),
          (else_try),
            (lt, reg0, 40),
            (val_add, ":var5", 1),
          (else_try),
            (lt, reg0, 60),
            (val_add, ":var4", 1),
          (else_try),
            (lt, reg0, 80),
            (val_add, ":var3", 1),
          (else_try),
            (val_add, ":var2", 1),
          (try_end),
        (try_end),
        (assign, reg0, ":var7"),
        (val_max, reg0, 1),
        (store_div, reg0, ":var1", reg0),
        (str_store_string, s0, "@{s0}^{s1} Average Town Prosperity: {reg0}"),
        (assign, reg0, ":var2"),
        (try_begin),
          (this_or_next|eq, ":var0", 0),
          (gt, reg0, 0),
          (str_store_string, s0, "@{s0}^{s1} towns with prosperity 80-100: {reg0}"),
        (try_end),
        (assign, reg0, ":var3"),
        (try_begin),
          (this_or_next|eq, ":var0", 0),
          (gt, reg0, 0),
          (str_store_string, s0, "@{s0}^{s1} towns with prosperity 60-79: {reg0}"),
        (try_end),
        (assign, reg0, ":var4"),
        (try_begin),
          (this_or_next|eq, ":var0", 0),
          (gt, reg0, 0),
          (str_store_string, s0, "@{s0}^{s1} towns with prosperity 40-59: {reg0}"),
        (try_end),
        (assign, reg0, ":var5"),
        (try_begin),
          (this_or_next|eq, ":var0", 0),
          (gt, reg0, 0),
          (str_store_string, s0, "@{s0}^{s1} towns with prosperity 20-39: {reg0}"),
        (try_end),
        (assign, reg0, ":var6"),
        (try_begin),
          (this_or_next|eq, ":var0", 0),
          (gt, reg0, 0),
          (str_store_string, s0, "@{s0}^{s1} towns with prosperity 0-19: {reg0}"),
        (try_end),
        (str_store_string, s0, "@{!}{s0}^"),
        (assign, ":var1", 0),
        (assign, ":var2", 0),
        (assign, ":var3", 0),
        (assign, ":var4", 0),
        (assign, ":var5", 0),
        (assign, ":var6", 0),
        (assign, ":var7", 0),
        (try_for_range, ":var8", "p_village_1", "p_salt_mine"),
          (store_faction_of_party, reg0, ":var8"),
          (this_or_next|eq, ":var0", 0),
          (eq, reg0, ":var0"),
          (val_add, ":var7", 1),
          (party_get_slot, reg0, ":var8", 50),
          (val_add, ":var1", reg0),
          (try_begin),
            (lt, reg0, 20),
            (val_add, ":var6", 1),
          (else_try),
            (lt, reg0, 40),
            (val_add, ":var5", 1),
          (else_try),
            (lt, reg0, 60),
            (val_add, ":var4", 1),
          (else_try),
            (lt, reg0, 80),
            (val_add, ":var3", 1),
          (else_try),
            (val_add, ":var2", 1),
          (try_end),
        (try_end),
        (assign, reg0, ":var7"),
        (val_max, reg0, 1),
        (store_div, reg0, ":var1", reg0),
        (str_store_string, s0, "@{s0}^{s1} Average Village Prosperity: {reg0}"),
        (try_begin),
          (this_or_next|eq, ":var0", 0),
          (gt, ":var2", 0),
          (assign, reg0, ":var2"),
          (str_store_string, s0, "@{s0}^{s1} villages with prosperity 80-100: {reg0}"),
        (try_end),
        (try_begin),
          (this_or_next|eq, ":var0", 0),
          (gt, ":var3", 0),
          (assign, reg0, ":var3"),
          (str_store_string, s0, "@{s0}^{s1} villages with prosperity 60-79: {reg0}"),
        (try_end),
        (try_begin),
          (this_or_next|eq, ":var0", 0),
          (gt, ":var4", 0),
          (assign, reg0, ":var4"),
          (str_store_string, s0, "@{s0}^{s1} villages with prosperity 40-59: {reg0}"),
        (try_end),
        (try_begin),
          (this_or_next|eq, ":var0", 0),
          (gt, ":var5", 0),
          (assign, reg0, ":var5"),
          (str_store_string, s0, "@{s0}^{s1} villages with prosperity 20-39: {reg0}"),
        (try_end),
        (try_begin),
          (this_or_next|eq, ":var0", 0),
          (gt, ":var6", 0),
          (assign, reg0, ":var6"),
          (str_store_string, s0, "@{s0}^{s1} villages with prosperity 0-19: {reg0}"),
        (try_end),
        (str_store_string, s0, "@{!}{s0}^"),
      (try_end),
    ],
    [
      ("dplmc_back",
      [],
      "Continue...",
      [
        (jump_to_menu, "mnu_reports"),
      ]
      ),
    ],
  ),

  ("town_cheats", 0,
    "Select an option to interact with the town here",
    "none",
    [
      (call_script, "script_set_town_picture"),
    ],
    [
      ("page",
      [],
      "Next_Page.",
      [
        (jump_to_menu, "mnu_town_cheats_2"),
      ]
      ),

      ("host_tournament",
      [
        (party_slot_eq, "$current_town", 0, 3),
      ],
      "Host_a_tournament",
      [
        (call_script, "script_fill_tournament_participants_troop", "$current_town", 1),
        (assign, "$g_tournament_cur_tier", 0),
        (assign, "$g_tournament_player_team_won", -1),
        (assign, "$g_tournament_bet_placed", 0),
        (assign, "$g_tournament_bet_win_amount", 0),
        (assign, "$g_tournament_last_bet_tier", -1),
        (assign, "$g_tournament_next_num_teams", 0),
        (assign, "$g_tournament_next_team_size", 0),
        (jump_to_menu, "mnu_town_tournament"),
      ]
      ),

      ("camp_cheat_gather",
      [
        (party_slot_eq, "$current_town", 0, 3),
      ],
      "Gather_all_inactive_NPCs.",
      [
        (assign, "$npc_to_rejoin_party", -1),
        (try_for_range, ":var0", "trp_npc1", "trp_kingdom_1_lord"),
          (neg|main_party_has_troop, ":var0"),
          (troop_slot_eq, ":var0", 150, 0),
          (troop_slot_eq, ":var0", 2, 0),
          (troop_set_slot, ":var0", 12, "$current_town"),
          (troop_set_slot, ":var0", 81, 0),
        (try_end),
      ]
      ),

      ("summon_drunk",
      [
        (party_slot_eq, "$current_town", 0, 3),
        (try_begin),
          (troop_slot_eq, "trp_belligerent_drunk", 12, "$current_town"),
          (assign, reg10, 1),
        (else_try),
          (assign, reg10, 0),
        (try_end),
      ],
      "{reg10?Dismiss:Get}_a_drunkard.",
      [
        (try_begin),
          (eq, reg10, 1),
          (troop_set_slot, "trp_belligerent_drunk", 12, -1),
        (else_try),
          (troop_set_slot, "trp_belligerent_drunk", 12, "$current_town"),
        (try_end),
      ]
      ),

      ("summon_ass",
      [
        (party_slot_eq, "$current_town", 0, 3),
        (try_begin),
          (troop_slot_eq, "trp_hired_assassin", 12, "$current_town"),
          (assign, reg11, 1),
        (else_try),
          (assign, reg11, 0),
        (try_end),
      ],
      "{reg11?Scare_away:Hire}_an_assassin.",
      [
        (try_begin),
          (eq, reg11, 1),
          (troop_set_slot, "trp_hired_assassin", 12, -1),
        (else_try),
          (troop_set_slot, "trp_hired_assassin", 12, "$current_town"),
        (try_end),
      ]
      ),

      ("summon_bandit",
      [
        (neg|party_slot_eq, "$current_town", 0, 2),
        (party_get_slot, reg12, "$current_town", 165),
        (try_begin),
          (eq, reg12, 0),
          (str_store_string, s12, "str_bandits"),
        (else_try),
          (str_store_troop_name_plural, s12, reg12),
        (try_end),
      ],
      "{reg12?Kick_out:Get_ambushed_by}_some_{s12}.",
      [
        (try_begin),
          (party_slot_ge, "$current_town", 165, 1),
          (party_set_slot, "$current_town", 165, 0),
        (else_try),
          (store_random_in_range, ":var0", "trp_bandit", "trp_black_khergit_horseman"),
          (party_set_slot, "$current_town", 165, ":var0"),
          (assign, "$town_nighttime", 1),
          (assign, "$sneaked_into_town", 0),
          (assign, "$g_defending_against_siege", 0),
          (call_script, "script_cf_enter_center_location_bandit_check"),
        (try_end),
      ]
      ),

      ("summon_village_bandit",
      [
        (party_slot_eq, "$current_town", 0, 4),
        (party_get_slot, reg13, "$current_town", 39),
        (try_begin),
          (le, reg13, 0),
          (str_store_troop_name_plural, s13, "trp_bandit"),
        (else_try),
          (str_store_troop_name_plural, s13, reg13),
        (try_end),
      ],
      "{reg13?Cleanse:Infest}_the_village_{reg13?of:with}_{s13}.",
      [
        (try_begin),
          (party_slot_ge, "$current_town", 39, 1),
          (party_set_slot, "$current_town", 39, 0),
        (else_try),
          (call_script, "script_center_get_bandits", "$current_town", 0),
          (party_set_slot, "$current_town", 39, reg0),
          (jump_to_menu, "mnu_village"),
        (try_end),
      ]
      ),

      ("summon_insurgent",
      [
        (party_slot_eq, "$current_town", 39, 0),
      ],
      "Spearhead_a_peasant_revolution.",
      [
        (party_set_slot, "$current_town", 39, "trp_peasant_woman"),
        (store_character_level, ":var0", "trp_player"),
        (store_div, ":var1", ":var0", 2),
        (store_mul, ":var2", ":var0", 2),
        (try_begin),
          (is_between, "$current_town", "p_village_1", "p_salt_mine"),
          (store_random_in_range, ":var3", 0, ":var0"),
          (party_add_members, "$current_town", "trp_mercenary_swordsman", ":var3"),
          (store_random_in_range, ":var3", 0, ":var1"),
          (party_add_members, "$current_town", "trp_hired_blade", ":var3"),
        (else_try),
          (party_set_banner_icon, "$current_town", icon_player),
          (party_get_num_companion_stacks, ":var4", "$current_town"),
          (try_for_range, ":var5", 0, ":var4"),
            (party_stack_get_size, ":var6", "$current_town", ":var5"),
            (val_div, ":var6", 2),
            (party_stack_get_troop_id, ":var7", "$current_town", ":var5"),
            (party_remove_members, "$current_town", ":var7", ":var6"),
          (try_end),
          (store_random_in_range, ":var3", ":var1", ":var2"),
          (party_add_members, "$current_town", "trp_townsman", ":var3"),
          (store_random_in_range, ":var3", 0, ":var0"),
          (party_add_members, "$current_town", "trp_watchman", ":var3"),
        (try_end),
      ]
      ),

      ("center_refresh",
      [
        (party_slot_eq, "$current_town", 0, 3),
      ],
      "Refresh_merchants_(global).",
      [
        (call_script, "script_refresh_center_weaponsmiths"),
        (call_script, "script_refresh_center_armories"),
        (call_script, "script_refresh_center_stables"),
        (call_script, "script_refresh_center_inventories"),
      ]
      ),

      ("village_refresh",
      [
        (party_slot_eq, "$current_town", 0, 4),
      ],
      "Refresh_village_goods.",
      [
        (call_script, "script_refresh_village_merchant_inventory", "$current_town"),
      ]
      ),

      ("village_recruits",
      [
        (party_slot_eq, "$current_town", 0, 4),
      ],
      "Refresh_recruits.",
      [
        (call_script, "script_update_volunteer_troops_in_village", "$current_town"),
      ]
      ),

      ("center_recruits",
      [
        (party_slot_eq, "$current_town", 0, 3),
      ],
      "Refresh_mercenaries.",
      [
        (store_random_in_range, ":var0", "trp_caravan_guard", "trp_mercenaries_end"),
        (party_set_slot, "$current_town", 90, ":var0"),
        (store_random_in_range, ":var1", 3, 8),
        (try_begin),
          (ge, "$g_dplmc_gold_changes", 2),
          (store_character_level, ":var2", "trp_player"),
          (store_add, ":var3", 80, ":var2"),
          (val_mul, ":var1", ":var3"),
          (val_div, ":var1", 80),
        (try_end),
        (party_set_slot, "$current_town", 91, ":var1"),
      ]
      ),

      ("go_back",
      [
        (neg|party_slot_eq, "$current_town", 0, 4),
      ],
      "Go_Back.",
      [
        (jump_to_menu, "mnu_town"),
      ]
      ),

      ("continue",
      [
        (party_slot_eq, "$current_town", 0, 4),
      ],
      "Continue.",
      [
        (jump_to_menu, "mnu_village"),
      ]
      ),
    ],
  ),

  ("town_cheats_2", 0,
    "Select an option to interact with the center itself. Prosperity is {reg1}, Relation is {reg2}, there are {reg3} parties in town.",
    "none",
    [
      (call_script, "script_set_town_picture"),
      (party_get_slot, reg1, "$current_town", 50),
      (party_get_slot, reg2, "$current_town", 26),
      (assign, ":var0", 0),
      (try_for_parties, ":var1"),
        (party_is_active, ":var1"),
        (party_is_in_town, ":var1", "$current_town"),
        (val_add, ":var0", 1),
      (try_end),
      (assign, reg3, ":var0"),
    ],
    [
      ("page",
      [],
      "Previous_Page.",
      [
        (jump_to_menu, "mnu_town_cheats"),
      ]
      ),

      ("toggle_state",
      [
        (party_slot_eq, "$current_town", 0, 4),
        (party_get_slot, reg1, "$current_town", 35),
      ],
      "{reg1?Restore:Raze}_this_village.",
      [
        (try_begin),
          (party_slot_eq, "$current_town", 35, 0),
          (call_script, "script_village_set_state", "$current_town", 2),
        (else_try),
          (call_script, "script_village_set_state", "$current_town", 0),
        (try_end),
      ]
      ),

      ("village_manage",
      [],
      "Manage_this_center.",
      [
        (assign, "$g_next_menu", "mnu_town_cheats_2"),
        (jump_to_menu, "mnu_center_manage"),
      ]
      ),

      ("increase_rel",
      [],
      "Increase_Relation.",
      [
        (try_begin),
          (this_or_next|key_is_down, key_left_shift),
          (key_is_down, key_right_shift),
          (call_script, "script_change_player_relation_with_center", "$current_town", 1),
        (else_try),
          (call_script, "script_change_player_relation_with_center", "$current_town", 5),
        (try_end),
      ]
      ),

      ("decrease_rel",
      [],
      "Decrease_Relation.",
      [
        (try_begin),
          (this_or_next|key_is_down, key_left_shift),
          (key_is_down, key_right_shift),
          (call_script, "script_change_player_relation_with_center", "$current_town", -1),
        (else_try),
          (call_script, "script_change_player_relation_with_center", "$current_town", -5),
        (try_end),
      ]
      ),

      ("increase_prosp",
      [],
      "Increase_Prosperity.",
      [
        (try_begin),
          (this_or_next|key_is_down, key_left_shift),
          (key_is_down, key_right_shift),
          (call_script, "script_change_center_prosperity", "$current_town", 1),
        (else_try),
          (call_script, "script_change_center_prosperity", "$current_town", 5),
        (try_end),
      ]
      ),

      ("decrease_prosp",
      [],
      "Decrease_Prosperity.",
      [
        (try_begin),
          (this_or_next|key_is_down, key_left_shift),
          (key_is_down, key_right_shift),
          (call_script, "script_change_center_prosperity", "$current_town", -1),
        (else_try),
          (call_script, "script_change_center_prosperity", "$current_town", -5),
        (try_end),
      ]
      ),

      ("castle_cheat_interior",
      [
        (neg|party_slot_eq, "$current_town", 0, 4),
      ],
      "{!}Interior.",
      [
        (set_jump_mission, "mt_ai_training"),
        (party_get_slot, ":var0", "$current_town", 11),
        (jump_to_scene, ":var0"),
        (change_screen_mission),
      ]
      ),

      ("castle_cheat_town_exterior",
      [],
      "{!}Exterior.",
      [
        (party_get_slot, ":var0", "$current_town", 10),
        (set_jump_mission, "mt_ai_training"),
        (jump_to_scene, ":var0"),
        (change_screen_mission),
      ]
      ),

      ("castle_cheat_dungeon",
      [
        (neg|party_slot_eq, "$current_town", 0, 4),
      ],
      "{!}Prison.",
      [
        (set_jump_mission, "mt_ai_training"),
        (party_get_slot, ":var0", "$current_town", 12),
        (jump_to_scene, ":var0"),
        (change_screen_mission),
      ]
      ),

      ("castle_cheat_town_walls",
      [
        (party_slot_eq, "$current_town", 0, 3),
      ],
      "{!}Town_Walls.",
      [
        (party_get_slot, ":var0", "$current_town", 18),
        (set_jump_mission, "mt_ai_training"),
        (jump_to_scene, ":var0"),
        (change_screen_mission),
      ]
      ),

      ("cheat_town_start_siege",
      [
        (neg|party_slot_eq, "$current_town", 0, 4),
        (party_slot_eq, "$g_encountered_party", 54, -1),
        (lt, "$g_encountered_party_2", 1),
      ],
      "Besiege_the_center...",
      [
        (assign, "$g_player_besiege_town", "$g_encountered_party"),
        (jump_to_menu, "mnu_castle_besiege"),
      ]
      ),

      ("center_reports",
      [],
      "Show_reports.",
      [
        (jump_to_menu, "mnu_center_reports"),
      ]
      ),

      ("sail_from_port",
      [
        (party_slot_eq, "$current_town", 0, 3),
        (party_get_position, pos1, "$current_town"),
        (map_get_water_position_around_position, pos2, pos1, 6),
        (get_distance_between_positions, ":var0", pos1, pos2),
        (lt, ":var0", 6),
        (eq, "$cheat_mode", 1),
      ],
      "{!}Sail_from_port.",
      [
        (assign, "$g_player_icon_state", 2),
        (party_set_flags, "p_main_party", pf_is_ship, 1),
        (party_set_position, "p_main_party", pos2),
        (assign, "$g_main_ship_party", -1),
        (change_screen_return),
      ]
      ),

      ("go_back",
      [
        (neg|party_slot_eq, "$current_town", 0, 4),
      ],
      "Go_Back.",
      [
        (jump_to_menu, "mnu_town"),
      ]
      ),

      ("continue",
      [
        (party_slot_eq, "$current_town", 0, 4),
      ],
      "Continue.",
      [
        (jump_to_menu, "mnu_village"),
      ]
      ),
    ],
  ),

  ("export_import", mnf_enable_hot_keys,
    "Press C to access {s1}'s character screen and then the statistics button on the bottom left.",
    "none",
    [
      (set_background_mesh, "mesh_pic_mb_warrior_1"),
      (set_player_troop, "$g_player_troop"),
      (str_store_troop_name_plural, s1, "$g_player_troop"),
    ],
    [
      ("rename",
      [],
      "I_never_liked_the_name_{s1}...",
      [
        (assign, "$g_presentation_state", 4),
        (start_presentation, "prsnt_name_kingdom"),
      ]
      ),

      ("continue",
      [],
      "Continue...",
      [
        (set_player_troop, "trp_player"),
        (jump_to_menu, "$g_next_menu"),
      ]
      ),
    ],
  ),

  ("dplmc_choose_disguise", 0,
    "You are about to sneak into {s1}. Money and items brought in at own risk. {s2}",
    "none",
    [
      (str_store_party_name, s1, "$current_town"),
      (try_begin),
        (eq, "$sneaked_into_town", 0),
        (str_store_string, s2, "@Select a suitable disguise for this occasion."),
        (assign, "$temp", 0),
      (else_try),
        (eq, "$sneaked_into_town", 64),
        (str_store_string, s2, "@As a commoner with a stout stick and a few tricks up your sleeve, you will be able to blend in with the crowds but not bring much of value with you."),
        (assign, "$temp", 6),
      (else_try),
        (eq, "$sneaked_into_town", 128),
        (str_store_string, s2, "@You run and hide from no one. If you are spotted then you are ready to leave bodies in your wake."),
        (assign, "$temp", 15),
      (try_end),
      (set_fixed_point_multiplier, 100),
      (init_position, pos0),
      (try_begin),
        (str_is_empty, s2),
        (position_set_x, pos0, 17),
        (position_set_y, pos0, 30),
        (position_set_z, pos0, 100),
      (else_try),
        (position_set_x, pos0, 60),
        (position_set_y, pos0, 20),
        (position_set_z, pos0, 100),
      (try_end),
      (set_game_menu_tableau_mesh, "tableau_game_inventory_window", "trp_player", pos0),
      (troop_get_slot, "$temp_2", "trp_player", 80),
    ],
    [
      ("continue",
      [
        (gt, "$temp", 0),
        (assign, reg1, "$temp"),
      ],
      "Choose_up_to_{reg1}_items_to_bring.",
      [
        (change_screen_loot, "trp_random_town_sequence"),
      ]
      ),

      ("continue",
      [
        (neq, "$sneaked_into_town", 0),
      ],
      "Select_how_much_gold_to_carry.",
      [
        (assign, "$pool_troop", "trp_random_town_sequence"),
        (start_presentation, "prsnt_deposit_withdraw_money"),
      ]
      ),

      ("continue",
      [
        (neq, "$sneaked_into_town", 0),
      ],
      "Attempt_to_sneak_in...",
      [
        (set_show_messages, 0),
        (troop_clear_inventory, "trp_temp_troop"),
        (call_script, "script_dplmc_copy_inventory", "trp_player", "trp_temp_troop"),
        (call_script, "script_dplmc_copy_inventory", "trp_random_town_sequence", "trp_player"),
        (call_script, "script_dplmc_copy_inventory", "trp_temp_troop", "trp_random_town_sequence"),
        (store_troop_gold, ":var0", "trp_random_town_sequence"),
        (store_troop_gold, ":var1", "trp_player"),
        (troop_remove_gold, "trp_player", ":var1"),
        (troop_remove_gold, "trp_random_town_sequence", ":var0"),
        (troop_add_gold, "trp_player", ":var0"),
        (troop_add_gold, "trp_random_town_sequence", ":var1"),
        (set_show_messages, 1),
        (faction_get_slot, ":var2", "$g_encountered_party_faction", 30),
        (party_get_num_companions, ":var3", "p_main_party"),
        (party_get_num_prisoners, ":var4", "p_main_party"),
        (val_add, ":var3", ":var4"),
        (val_mul, ":var3", 2),
        (val_div, ":var3", 3),
        (store_add, ":var5", ":var2", ":var3"),
        (store_random_in_range, ":var6", 0, 100),
        (try_begin),
          (eq, "$sneaked_into_town", 128),
          (troop_get_slot, ":var7", "trp_player", 7),
          (store_div, ":var8", ":var7", 25),
          (val_sub, ":var6", ":var8"),
          (call_script, "script_ce_get_troop_encumbrance", "trp_player"),
          (assign, ":var9", reg1),
          (try_begin),
            (ge, ":var9", 45),
            (val_sub, ":var6", 5),
          (try_end),
        (try_end),
        (try_begin),
          (troop_slot_eq, "trp_player", 226, 5),
          (store_skill_level, ":var10", "skl_magic_control", "trp_player"),
          (store_mul, ":var11", ":var10", 5),
          (val_add, ":var6", ":var11"),
        (try_end),
        (try_begin),
          (this_or_next|eq, "$cheat_mode", 1),
          (this_or_next|eq, "$disguised", 1),
          (this_or_next|ge, ":var6", ":var5"),
          (eq, "$g_last_defeated_bandits_town", "$g_encountered_party"),
          (assign, "$g_last_defeated_bandits_town", 0),
          (assign, "$town_entered", 1),
          (jump_to_menu, "mnu_sneak_into_town_suceeded"),
          (assign, "$g_mt_mode", 1),
        (else_try),
          (jump_to_menu, "mnu_sneak_into_town_caught"),
        (try_end),
      ]
      ),

      ("disguise_pilgrim",
      [
        (neq, "$sneaked_into_town", 64),
      ],
      "Don_the_attire_of_a_commoner.",
      [
        (assign, "$sneaked_into_town", 64),
      ]
      ),

      ("disguise_yolo",
      [
        (neq, "$sneaked_into_town", 128),
      ],
      "Go_inside_with_your_current_weapons_and_armour_(risks_more_resistance_if_caught).",
      [
        (assign, "$sneaked_into_town", 128),
      ]
      ),

      ("back",
      [],
      "Never_mind...",
      [
        (set_show_messages, 0),
        (call_script, "script_move_inventory_and_gold", "trp_random_town_sequence", "trp_player", -1),
        (set_show_messages, 1),
        (assign, "$sneaked_into_town", 0),
        (jump_to_menu, "mnu_castle_outside"),
      ]
      ),
    ],
  ),

  ("recruit_troops", mnf_disable_all_keys,
    "Recruit some troops belonging to the faction owning this city.",
    "none",
    [],
    [
      ("caravan_town_troops_recruiting",
      [
        (gt, "$g_player_chamberlain", 0),
        (gt, "$g_player_constable", 0),
        (party_slot_eq, "$current_town", 0, 3),
        (party_slot_eq, "$current_town", 7, "trp_player"),
        (neq, "$faction_troops_ready", 0),
      ],
      "Recruit_by_Caravan_from_a_trade_route_town",
      [
        (assign, "$faction_troops_ready", 0),
        (start_presentation, "prsnt_recruiter_troops_available"),
      ]
      ),

      ("recruit_town_troops_back",
      [],
      "Go_back",
      [
        (jump_to_menu, "mnu_town"),
      ]
      ),
    ],
  ),

  ("caravan_town_troops_recruiting2", mnf_disable_all_keys,
    "Choose which trade partner town to recruit from:",
    "none",
    [],
    [
      ("caravan_trade_town0",
      [
        (assign, ":var0", 0),
        (assign, ":var1", reg1),
        (call_script, "script_list_count", "trp_list_06b"),
        (assign, ":var2", reg1),
        (val_div, ":var2", 10),
        (store_mul, ":var3", ":var0", 10),
        (store_add, ":var4", ":var3", 6),
        (call_script, "script_list_at_nc", "trp_list_06b", ":var4"),
        (assign, ":var5", reg1),
        (gt, ":var5", 0),
        (lt, ":var0", ":var2"),
        (assign, reg1, ":var1"),
        (call_script, "script_caravan_recruiting_part2", ":var0"),
      ],
      "I_want_{s11}_troops_from_{s10};_{reg59}_avail_at_per_troop_cost_{reg58}_and_{reg60}_days_travel.",
      [
        (assign, ":var0", 0),
        (call_script, "script_caravan_recruiting_part3", ":var0"),
        (jump_to_menu, "mnu_recruit_caravan_troops_page3"),
      ]
      ),

      ("caravan_trade_town1",
      [
        (assign, ":var0", 1),
        (assign, ":var1", reg1),
        (call_script, "script_list_count", "trp_list_06b"),
        (assign, ":var2", reg1),
        (val_div, ":var2", 10),
        (store_mul, ":var3", ":var0", 10),
        (store_add, ":var4", ":var3", 6),
        (call_script, "script_list_at_nc", "trp_list_06b", ":var4"),
        (assign, ":var5", reg1),
        (gt, ":var5", 0),
        (lt, ":var0", ":var2"),
        (assign, reg1, ":var1"),
        (call_script, "script_caravan_recruiting_part2", ":var0"),
      ],
      "I_want_{s11}_troops_from_{s10};_{reg59}_avail_at_per_troop_cost_{reg58}_and_{reg60}_days_travel.",
      [
        (assign, ":var0", 1),
        (call_script, "script_caravan_recruiting_part3", ":var0"),
        (jump_to_menu, "mnu_recruit_caravan_troops_page3"),
      ]
      ),

      ("caravan_trade_town2",
      [
        (assign, ":var0", 2),
        (assign, ":var1", reg1),
        (call_script, "script_list_count", "trp_list_06b"),
        (assign, ":var2", reg1),
        (val_div, ":var2", 10),
        (store_mul, ":var3", ":var0", 10),
        (store_add, ":var4", ":var3", 6),
        (call_script, "script_list_at_nc", "trp_list_06b", ":var4"),
        (assign, ":var5", reg1),
        (gt, ":var5", 0),
        (lt, ":var0", ":var2"),
        (assign, reg1, ":var1"),
        (call_script, "script_caravan_recruiting_part2", ":var0"),
      ],
      "I_want_{s11}_troops_from_{s10};_{reg59}_avail_at_per_troop_cost_{reg58}_and_{reg60}_days_travel.",
      [
        (assign, ":var0", 2),
        (call_script, "script_caravan_recruiting_part3", ":var0"),
        (jump_to_menu, "mnu_recruit_caravan_troops_page3"),
      ]
      ),

      ("caravan_trade_town3",
      [
        (assign, ":var0", 3),
        (assign, ":var1", reg1),
        (call_script, "script_list_count", "trp_list_06b"),
        (assign, ":var2", reg1),
        (val_div, ":var2", 10),
        (store_mul, ":var3", ":var0", 10),
        (store_add, ":var4", ":var3", 6),
        (call_script, "script_list_at_nc", "trp_list_06b", ":var4"),
        (assign, ":var5", reg1),
        (gt, ":var5", 0),
        (lt, ":var0", ":var2"),
        (assign, reg1, ":var1"),
        (call_script, "script_caravan_recruiting_part2", ":var0"),
      ],
      "I_want_{s11}_troops_from_{s10};_{reg59}_avail_at_per_troop_cost_{reg58}_and_{reg60}_days_travel.",
      [
        (assign, ":var0", 3),
        (call_script, "script_caravan_recruiting_part3", ":var0"),
        (jump_to_menu, "mnu_recruit_caravan_troops_page3"),
      ]
      ),

      ("caravan_trade_town4",
      [
        (assign, ":var0", 4),
        (assign, ":var1", reg1),
        (call_script, "script_list_count", "trp_list_06b"),
        (assign, ":var2", reg1),
        (val_div, ":var2", 10),
        (store_mul, ":var3", ":var0", 10),
        (store_add, ":var4", ":var3", 6),
        (call_script, "script_list_at_nc", "trp_list_06b", ":var4"),
        (assign, ":var5", reg1),
        (gt, ":var5", 0),
        (lt, ":var0", ":var2"),
        (assign, reg1, ":var1"),
        (call_script, "script_caravan_recruiting_part2", ":var0"),
      ],
      "I_want_{s11}_troops_from_{s10};_{reg59}_avail_at_per_troop_cost_{reg58}_and_{reg60}_days_travel.",
      [
        (assign, ":var0", 4),
        (call_script, "script_caravan_recruiting_part3", ":var0"),
        (jump_to_menu, "mnu_recruit_caravan_troops_page3"),
      ]
      ),

      ("caravan_trade_town5",
      [
        (assign, ":var0", 5),
        (assign, ":var1", reg1),
        (call_script, "script_list_count", "trp_list_06b"),
        (assign, ":var2", reg1),
        (val_div, ":var2", 10),
        (store_mul, ":var3", ":var0", 10),
        (store_add, ":var4", ":var3", 6),
        (call_script, "script_list_at_nc", "trp_list_06b", ":var4"),
        (assign, ":var5", reg1),
        (gt, ":var5", 0),
        (lt, ":var0", ":var2"),
        (assign, reg1, ":var1"),
        (call_script, "script_caravan_recruiting_part2", ":var0"),
      ],
      "I_want_{s11}_troops_from_{s10};_{reg59}_avail_at_per_troop_cost_{reg58}_and_{reg60}_days_travel.",
      [
        (assign, ":var0", 5),
        (call_script, "script_caravan_recruiting_part3", ":var0"),
        (jump_to_menu, "mnu_recruit_caravan_troops_page3"),
      ]
      ),

      ("caravan_trade_town6",
      [
        (assign, ":var0", 6),
        (assign, ":var1", reg1),
        (call_script, "script_list_count", "trp_list_06b"),
        (assign, ":var2", reg1),
        (val_div, ":var2", 10),
        (store_mul, ":var3", ":var0", 10),
        (store_add, ":var4", ":var3", 6),
        (call_script, "script_list_at_nc", "trp_list_06b", ":var4"),
        (assign, ":var5", reg1),
        (gt, ":var5", 0),
        (lt, ":var0", ":var2"),
        (assign, reg1, ":var1"),
        (call_script, "script_caravan_recruiting_part2", ":var0"),
      ],
      "I_want_{s11}_troops_from_{s10};_{reg59}_avail_at_per_troop_cost_{reg58}_and_{reg60}_days_travel.",
      [
        (assign, ":var0", 6),
        (call_script, "script_caravan_recruiting_part3", ":var0"),
        (jump_to_menu, "mnu_recruit_caravan_troops_page3"),
      ]
      ),

      ("caravan_trade_town7",
      [
        (assign, ":var0", 7),
        (assign, ":var1", reg1),
        (call_script, "script_list_count", "trp_list_06b"),
        (assign, ":var2", reg1),
        (val_div, ":var2", 10),
        (store_mul, ":var3", ":var0", 10),
        (store_add, ":var4", ":var3", 6),
        (call_script, "script_list_at_nc", "trp_list_06b", ":var4"),
        (assign, ":var5", reg1),
        (gt, ":var5", 0),
        (lt, ":var0", ":var2"),
        (assign, reg1, ":var1"),
        (call_script, "script_caravan_recruiting_part2", ":var0"),
      ],
      "I_want_{s11}_troops_from_{s10};_{reg59}_avail_at_per_troop_cost_{reg58}_and_{reg60}_days_travel.",
      [
        (assign, ":var0", 7),
        (call_script, "script_caravan_recruiting_part3", ":var0"),
        (jump_to_menu, "mnu_recruit_caravan_troops_page3"),
      ]
      ),

      ("caravan_trade_town8",
      [
        (assign, ":var0", 8),
        (assign, ":var1", reg1),
        (call_script, "script_list_count", "trp_list_06b"),
        (assign, ":var2", reg1),
        (val_div, ":var2", 10),
        (store_mul, ":var3", ":var0", 10),
        (store_add, ":var4", ":var3", 6),
        (call_script, "script_list_at_nc", "trp_list_06b", ":var4"),
        (assign, ":var5", reg1),
        (gt, ":var5", 0),
        (lt, ":var0", ":var2"),
        (assign, reg1, ":var1"),
        (call_script, "script_caravan_recruiting_part2", ":var0"),
      ],
      "I_want_{s11}_troops_from_{s10};_{reg59}_avail_at_per_troop_cost_{reg58}_and_{reg60}_days_travel.",
      [
        (assign, ":var0", 8),
        (call_script, "script_caravan_recruiting_part3", ":var0"),
        (jump_to_menu, "mnu_recruit_caravan_troops_page3"),
      ]
      ),

      ("caravan_trade_town9",
      [
        (assign, ":var0", 9),
        (assign, ":var1", reg1),
        (call_script, "script_list_count", "trp_list_06b"),
        (assign, ":var2", reg1),
        (val_div, ":var2", 10),
        (store_mul, ":var3", ":var0", 10),
        (store_add, ":var4", ":var3", 6),
        (call_script, "script_list_at_nc", "trp_list_06b", ":var4"),
        (assign, ":var5", reg1),
        (gt, ":var5", 0),
        (lt, ":var0", ":var2"),
        (assign, reg1, ":var1"),
        (call_script, "script_caravan_recruiting_part2", ":var0"),
      ],
      "I_want_{s11}_troops_from_{s10};_{reg59}_avail_at_per_troop_cost_{reg58}_and_{reg60}_days_travel.",
      [
        (assign, ":var0", 9),
        (call_script, "script_caravan_recruiting_part3", ":var0"),
        (jump_to_menu, "mnu_recruit_caravan_troops_page3"),
      ]
      ),

      ("caravan_trade_town10",
      [
        (assign, ":var0", 10),
        (assign, ":var1", reg1),
        (call_script, "script_list_count", "trp_list_06b"),
        (assign, ":var2", reg1),
        (val_div, ":var2", 10),
        (store_mul, ":var3", ":var0", 10),
        (store_add, ":var4", ":var3", 6),
        (call_script, "script_list_at_nc", "trp_list_06b", ":var4"),
        (assign, ":var5", reg1),
        (gt, ":var5", 0),
        (lt, ":var0", ":var2"),
        (assign, reg1, ":var1"),
        (call_script, "script_caravan_recruiting_part2", ":var0"),
      ],
      "I_want_{s11}_troops_from_{s10};_{reg59}_avail_at_per_troop_cost_{reg58}_and_{reg60}_days_travel.",
      [
        (assign, ":var0", 10),
        (call_script, "script_caravan_recruiting_part3", ":var0"),
        (jump_to_menu, "mnu_recruit_caravan_troops_page3"),
      ]
      ),

      ("caravan_trade_town11",
      [
        (assign, ":var0", 11),
        (assign, ":var1", reg1),
        (call_script, "script_list_count", "trp_list_06b"),
        (assign, ":var2", reg1),
        (val_div, ":var2", 10),
        (store_mul, ":var3", ":var0", 10),
        (store_add, ":var4", ":var3", 6),
        (call_script, "script_list_at_nc", "trp_list_06b", ":var4"),
        (assign, ":var5", reg1),
        (gt, ":var5", 0),
        (lt, ":var0", ":var2"),
        (assign, reg1, ":var1"),
        (call_script, "script_caravan_recruiting_part2", ":var0"),
      ],
      "I_want_{s11}_troops_from_{s10};_{reg59}_avail_at_per_troop_cost_{reg58}_and_{reg60}_days_travel.",
      [
        (assign, ":var0", 11),
        (call_script, "script_caravan_recruiting_part3", ":var0"),
        (jump_to_menu, "mnu_recruit_caravan_troops_page3"),
      ]
      ),

      ("caravan_trade_town12",
      [
        (assign, ":var0", 12),
        (assign, ":var1", reg1),
        (call_script, "script_list_count", "trp_list_06b"),
        (assign, ":var2", reg1),
        (val_div, ":var2", 10),
        (store_mul, ":var3", ":var0", 10),
        (store_add, ":var4", ":var3", 6),
        (call_script, "script_list_at_nc", "trp_list_06b", ":var4"),
        (assign, ":var5", reg1),
        (gt, ":var5", 0),
        (lt, ":var0", ":var2"),
        (assign, reg1, ":var1"),
        (call_script, "script_caravan_recruiting_part2", ":var0"),
      ],
      "I_want_{s11}_troops_from_{s10};_{reg59}_avail_at_per_troop_cost_{reg58}_and_{reg60}_days_travel.",
      [
        (assign, ":var0", 12),
        (call_script, "script_caravan_recruiting_part3", ":var0"),
        (jump_to_menu, "mnu_recruit_caravan_troops_page3"),
      ]
      ),

      ("recruit_caravan_troops_page2_go",
      [
        (call_script, "script_list_count", "trp_list_06b"),
        (assign, ":var0", reg1),
        (val_div, ":var0", 10),
        (gt, ":var0", 13),
      ],
      "second_page",
      [
        (jump_to_menu, "mnu_recruit_caravan_troops_page2"),
      ]
      ),

      ("recruit_town_troops_back2",
      [],
      "Go_back",
      [
        (jump_to_menu, "mnu_town"),
      ]
      ),
    ],
  ),

  ("recruit_caravan_troops_page2", mnf_disable_all_keys,
    "Choose which trade partner town to recruit from:",
    "none",
    [],
    [
      ("caravan_trade_town13",
      [
        (assign, ":var0", 13),
        (assign, ":var1", reg1),
        (call_script, "script_list_count", "trp_list_06b"),
        (assign, ":var2", reg1),
        (val_div, ":var2", 10),
        (store_mul, ":var3", ":var0", 10),
        (store_add, ":var4", ":var3", 6),
        (call_script, "script_list_at_nc", "trp_list_06b", ":var4"),
        (assign, ":var5", reg1),
        (gt, ":var5", 0),
        (lt, ":var0", ":var2"),
        (assign, reg1, ":var1"),
        (call_script, "script_caravan_recruiting_part2", ":var0"),
      ],
      "I_want_{s11}_troops_from_{s10};_{reg59}_avail_at_per_troop_cost_{reg58}_and_{reg60}_days_travel.",
      [
        (assign, ":var0", 13),
        (call_script, "script_caravan_recruiting_part3", ":var0"),
        (jump_to_menu, "mnu_recruit_caravan_troops_page3"),
      ]
      ),

      ("caravan_trade_town14",
      [
        (assign, ":var0", 14),
        (assign, ":var1", reg1),
        (call_script, "script_list_count", "trp_list_06b"),
        (assign, ":var2", reg1),
        (val_div, ":var2", 10),
        (store_mul, ":var3", ":var0", 10),
        (store_add, ":var4", ":var3", 6),
        (call_script, "script_list_at_nc", "trp_list_06b", ":var4"),
        (assign, ":var5", reg1),
        (gt, ":var5", 0),
        (lt, ":var0", ":var2"),
        (assign, reg1, ":var1"),
        (call_script, "script_caravan_recruiting_part2", ":var0"),
      ],
      "I_want_{s11}_troops_from_{s10};_{reg59}_avail_at_per_troop_cost_{reg58}_and_{reg60}_days_travel.",
      [
        (assign, ":var0", 14),
        (call_script, "script_caravan_recruiting_part3", ":var0"),
        (jump_to_menu, "mnu_recruit_caravan_troops_page3"),
      ]
      ),

      ("recruit_town_troops_back3",
      [],
      "Go_back",
      [
        (jump_to_menu, "mnu_town"),
      ]
      ),
    ],
  ),

  ("recruit_caravan_troops_page3", mnf_disable_all_keys,
    "Choose size (and possibly, type) of order:",
    "none",
    [],
    [
      ("caravan_town_recruit_all",
      [
        (assign, ":var0", reg1),
        (str_clear, s10),
        (str_clear, s11),
        (call_script, "script_list_count", "trp_list_06"),
        (assign, ":var1", reg1),
        (val_div, ":var1", 6),
        (assign, ":var2", ":var1"),
        (val_sub, ":var2", 1),
        (val_mul, ":var2", 6),
        (store_add, ":var3", ":var2", 1),
        (call_script, "script_list_at_nc", "trp_list_06", ":var3"),
        (assign, ":var4", reg1),
        (str_store_party_name, s10, ":var4"),
        (store_add, ":var3", ":var2", 2),
        (call_script, "script_list_at_nc", "trp_list_06", ":var3"),
        (assign, ":var5", reg1),
        (assign, ":var6", "trp_merc_halfling_militia"),
        (try_begin),
          (is_between, ":var5", "fac_culture_1", "fac_player_faction"),
          (store_sub, ":var7", "fac_kingdom_1", "fac_culture_1"),
          (store_add, ":var8", ":var5", ":var7"),
          (faction_get_slot, ":var6", ":var8", 41),
        (try_end),
        (str_store_troop_name, s11, ":var6"),
        (store_add, ":var3", ":var2", 3),
        (call_script, "script_list_at_nc", "trp_list_06", ":var3"),
        (assign, ":var9", reg1),
        (assign, reg59, ":var9"),
        (store_add, ":var3", ":var2", 6),
        (call_script, "script_list_at_nc", "trp_list_06", ":var3"),
        (assign, ":var10", reg1),
        (store_mul, ":var11", ":var10", ":var9"),
        (assign, reg58, ":var11"),
        (assign, reg1, ":var0"),
      ],
      "I_want_ALL_{reg59}_avail_{s11}_troops_from_{s10}_at_total_cost_{reg58}.",
      [
        (store_troop_gold, ":var0", "trp_household_possessions"),
        (assign, ":var1", reg1),
        (call_script, "script_list_count", "trp_list_06"),
        (assign, ":var2", reg1),
        (val_div, ":var2", 6),
        (assign, ":var3", ":var2"),
        (val_sub, ":var3", 1),
        (val_mul, ":var3", 6),
        (store_add, ":var4", ":var3", 3),
        (call_script, "script_list_at_nc", "trp_list_06", ":var4"),
        (assign, ":var5", reg1),
        (store_add, ":var4", ":var3", 6),
        (call_script, "script_list_at_nc", "trp_list_06", ":var4"),
        (assign, ":var6", reg1),
        (store_mul, ":var7", ":var6", ":var5"),
        (try_begin),
          (le, ":var7", ":var0"),
          (troop_remove_gold, "trp_household_possessions", ":var7"),
        (else_try),
          (gt, ":var7", ":var0"),
          (troop_remove_gold, "trp_household_possessions", ":var0"),
          (val_sub, ":var7", ":var0"),
          (troop_remove_gold, "trp_player", ":var7"),
        (try_end),
        (store_add, ":var4", ":var3", 6),
        (call_script, "script_list_set", "trp_list_06", 1, ":var4"),
        (assign, reg1, ":var1"),
        (jump_to_menu, "mnu_town"),
      ]
      ),

      ("caravan_town_recruit_half",
      [
        (assign, ":var0", reg1),
        (str_clear, s10),
        (str_clear, s11),
        (call_script, "script_list_count", "trp_list_06"),
        (assign, ":var1", reg1),
        (val_div, ":var1", 6),
        (assign, ":var2", ":var1"),
        (val_sub, ":var2", 1),
        (val_mul, ":var2", 6),
        (store_add, ":var3", ":var2", 1),
        (call_script, "script_list_at_nc", "trp_list_06", ":var3"),
        (assign, ":var4", reg1),
        (str_store_party_name, s10, ":var4"),
        (store_add, ":var3", ":var2", 2),
        (call_script, "script_list_at_nc", "trp_list_06", ":var3"),
        (assign, ":var5", reg1),
        (assign, ":var6", "trp_merc_halfling_militia"),
        (try_begin),
          (is_between, ":var5", "fac_culture_1", "fac_player_faction"),
          (store_sub, ":var7", "fac_kingdom_1", "fac_culture_1"),
          (store_add, ":var8", ":var5", ":var7"),
          (faction_get_slot, ":var6", ":var8", 41),
        (try_end),
        (str_store_troop_name, s11, ":var6"),
        (store_add, ":var3", ":var2", 3),
        (call_script, "script_list_at_nc", "trp_list_06", ":var3"),
        (assign, ":var9", reg1),
        (val_div, ":var9", 2),
        (assign, reg59, ":var9"),
        (store_add, ":var3", ":var2", 6),
        (call_script, "script_list_at_nc", "trp_list_06", ":var3"),
        (assign, ":var10", reg1),
        (store_mul, ":var11", ":var10", ":var9"),
        (assign, reg58, ":var11"),
        (assign, reg1, ":var0"),
      ],
      "I_want_HALF_of_the_troops_avail_{reg59}_{s11}_troops_from_{s10}_at_total_cost_{reg58}.",
      [
        (store_troop_gold, ":var0", "trp_household_possessions"),
        (assign, ":var1", reg1),
        (call_script, "script_list_count", "trp_list_06"),
        (assign, ":var2", reg1),
        (val_div, ":var2", 6),
        (assign, ":var3", ":var2"),
        (val_sub, ":var3", 1),
        (val_mul, ":var3", 6),
        (store_add, ":var4", ":var3", 3),
        (call_script, "script_list_at_nc", "trp_list_06", ":var4"),
        (assign, ":var5", reg1),
        (val_div, ":var5", 2),
        (store_add, ":var4", ":var3", 6),
        (call_script, "script_list_at_nc", "trp_list_06", ":var4"),
        (assign, ":var6", reg1),
        (store_mul, ":var7", ":var6", ":var5"),
        (try_begin),
          (le, ":var7", ":var0"),
          (troop_remove_gold, "trp_household_possessions", ":var7"),
        (else_try),
          (gt, ":var7", ":var0"),
          (troop_remove_gold, "trp_household_possessions", ":var0"),
          (val_sub, ":var7", ":var0"),
          (troop_remove_gold, "trp_player", ":var7"),
        (try_end),
        (store_add, ":var4", ":var3", 3),
        (call_script, "script_list_set", "trp_list_06", ":var5", ":var4"),
        (store_add, ":var4", ":var3", 6),
        (call_script, "script_list_set", "trp_list_06", 1, ":var4"),
        (assign, reg1, ":var1"),
        (jump_to_menu, "mnu_town"),
      ]
      ),

      ("recruit_town_troops_back4",
      [],
      "Oh,_I_have_to_PAY?_[wrings_hands]_Cancel_the_order_and_I'll_wait_a_few_days",
      [
        (try_for_range, ":var0", 1, 7),
          (call_script, "script_list_remove", "trp_list_06"),
          (val_add, ":var0", 0),
        (try_end),
        (jump_to_menu, "mnu_town"),
      ]
      ),
    ],
  ),

  ("choose_scenes_0", 0,
    "Choose a scene: (Page 1 of 86)",
    "none",
    [],
    [
      ("back",
      [],
      "Go_back.",
      [
        (change_screen_quit),
      ]
      ),

      ("next",
      [],
      "Next...",
      [
        (jump_to_menu, "mnu_choose_scenes_13"),
      ]
      ),

      ("choose_scene_0",
      [],
      "camp_scene:_generate|auto_entry_points",
      [
        (jump_to_scene, "scn_camp_scene"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_1",
      [],
      "camp_scene_horse_track:_generate|auto_entry_points",
      [
        (jump_to_scene, "scn_camp_scene_horse_track"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_2",
      [],
      "castle_100_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_100_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_3",
      [],
      "castle_100_interior:_indoors",
      [
        (jump_to_scene, "scn_castle_100_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_4",
      [],
      "castle_100_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_100_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_5",
      [],
      "castle_101_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_101_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_6",
      [],
      "castle_101_interior:_indoors",
      [
        (jump_to_scene, "scn_castle_101_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_7",
      [],
      "castle_101_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_101_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_8",
      [],
      "castle_102_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_102_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_9",
      [],
      "castle_102_interior:_indoors",
      [
        (jump_to_scene, "scn_castle_102_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_10",
      [],
      "castle_102_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_102_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_11",
      [],
      "castle_103_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_103_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_12",
      [],
      "castle_103_interior:_indoors",
      [
        (jump_to_scene, "scn_castle_103_interior"),
        (change_screen_mission),
      ]
      ),
    ],
  ),

  ("choose_scenes_13", 0,
    "Choose a scene: (Page 2 of 86)",
    "none",
    [],
    [
      ("back",
      [],
      "Go_back.",
      [
        (change_screen_quit),
      ]
      ),

      ("next",
      [],
      "Next...",
      [
        (jump_to_menu, "mnu_choose_scenes_26"),
      ]
      ),

      ("previous",
      [],
      "Previous...",
      [
        (jump_to_menu, "mnu_choose_scenes_0"),
      ]
      ),

      ("choose_scene_13",
      [],
      "castle_103_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_103_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_14",
      [],
      "castle_104_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_104_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_15",
      [],
      "castle_104_interior:_indoors",
      [
        (jump_to_scene, "scn_castle_104_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_16",
      [],
      "castle_104_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_104_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_17",
      [],
      "castle_105_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_105_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_18",
      [],
      "castle_105_interior:_indoors",
      [
        (jump_to_scene, "scn_castle_105_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_19",
      [],
      "castle_105_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_105_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_20",
      [],
      "castle_106_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_106_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_21",
      [],
      "castle_106_interior:_indoors",
      [
        (jump_to_scene, "scn_castle_106_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_22",
      [],
      "castle_106_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_106_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_23",
      [],
      "castle_107_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_107_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_24",
      [],
      "castle_107_interior:_indoors",
      [
        (jump_to_scene, "scn_castle_107_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_25",
      [],
      "castle_107_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_107_prison"),
        (change_screen_mission),
      ]
      ),
    ],
  ),

  ("choose_scenes_26", 0,
    "Choose a scene: (Page 3 of 86)",
    "none",
    [],
    [
      ("back",
      [],
      "Go_back.",
      [
        (change_screen_quit),
      ]
      ),

      ("next",
      [],
      "Next...",
      [
        (jump_to_menu, "mnu_choose_scenes_39"),
      ]
      ),

      ("previous",
      [],
      "Previous...",
      [
        (jump_to_menu, "mnu_choose_scenes_13"),
      ]
      ),

      ("choose_scene_26",
      [],
      "castle_108_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_108_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_27",
      [],
      "castle_108_interior:_indoors",
      [
        (jump_to_scene, "scn_castle_108_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_28",
      [],
      "castle_108_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_108_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_29",
      [],
      "castle_109_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_109_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_30",
      [],
      "castle_109_interior:_indoors",
      [
        (jump_to_scene, "scn_castle_109_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_31",
      [],
      "castle_109_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_109_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_32",
      [],
      "castle_10_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_10_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_33",
      [],
      "castle_10_interior:_indoors",
      [
        (jump_to_scene, "scn_castle_10_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_34",
      [],
      "castle_10_prison:_generate",
      [
        (jump_to_scene, "scn_castle_10_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_35",
      [],
      "castle_110_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_110_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_36",
      [],
      "castle_110_interior:_indoors",
      [
        (jump_to_scene, "scn_castle_110_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_37",
      [],
      "castle_110_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_110_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_38",
      [],
      "castle_111_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_111_exterior"),
        (change_screen_mission),
      ]
      ),
    ],
  ),

  ("choose_scenes_39", 0,
    "Choose a scene: (Page 4 of 86)",
    "none",
    [],
    [
      ("back",
      [],
      "Go_back.",
      [
        (change_screen_quit),
      ]
      ),

      ("next",
      [],
      "Next...",
      [
        (jump_to_menu, "mnu_choose_scenes_52"),
      ]
      ),

      ("previous",
      [],
      "Previous...",
      [
        (jump_to_menu, "mnu_choose_scenes_26"),
      ]
      ),

      ("choose_scene_39",
      [],
      "castle_111_interior:_indoors",
      [
        (jump_to_scene, "scn_castle_111_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_40",
      [],
      "castle_111_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_111_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_41",
      [],
      "castle_11_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_11_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_42",
      [],
      "castle_11_interior:_indoors",
      [
        (jump_to_scene, "scn_castle_11_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_43",
      [],
      "castle_11_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_11_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_44",
      [],
      "castle_12_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_12_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_45",
      [],
      "castle_12_interior:_indoors",
      [
        (jump_to_scene, "scn_castle_12_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_46",
      [],
      "castle_12_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_12_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_47",
      [],
      "castle_13_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_13_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_48",
      [],
      "castle_13_interior:_generate",
      [
        (jump_to_scene, "scn_castle_13_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_49",
      [],
      "castle_13_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_13_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_50",
      [],
      "castle_14_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_14_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_51",
      [],
      "castle_14_interior:_indoors",
      [
        (jump_to_scene, "scn_castle_14_interior"),
        (change_screen_mission),
      ]
      ),
    ],
  ),

  ("choose_scenes_52", 0,
    "Choose a scene: (Page 5 of 86)",
    "none",
    [],
    [
      ("back",
      [],
      "Go_back.",
      [
        (change_screen_quit),
      ]
      ),

      ("next",
      [],
      "Next...",
      [
        (jump_to_menu, "mnu_choose_scenes_65"),
      ]
      ),

      ("previous",
      [],
      "Previous...",
      [
        (jump_to_menu, "mnu_choose_scenes_39"),
      ]
      ),

      ("choose_scene_52",
      [],
      "castle_14_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_14_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_53",
      [],
      "castle_15_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_15_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_54",
      [],
      "castle_15_interior:_indoors",
      [
        (jump_to_scene, "scn_castle_15_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_55",
      [],
      "castle_15_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_15_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_56",
      [],
      "castle_16_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_16_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_57",
      [],
      "castle_16_interior:_indoors",
      [
        (jump_to_scene, "scn_castle_16_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_58",
      [],
      "castle_16_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_16_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_59",
      [],
      "castle_17_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_17_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_60",
      [],
      "castle_17_interior:_indoors",
      [
        (jump_to_scene, "scn_castle_17_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_61",
      [],
      "castle_17_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_17_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_62",
      [],
      "castle_18_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_18_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_63",
      [],
      "castle_18_interior:_indoors",
      [
        (jump_to_scene, "scn_castle_18_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_64",
      [],
      "castle_18_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_18_prison"),
        (change_screen_mission),
      ]
      ),
    ],
  ),

  ("choose_scenes_65", 0,
    "Choose a scene: (Page 6 of 86)",
    "none",
    [],
    [
      ("back",
      [],
      "Go_back.",
      [
        (change_screen_quit),
      ]
      ),

      ("next",
      [],
      "Next...",
      [
        (jump_to_menu, "mnu_choose_scenes_78"),
      ]
      ),

      ("previous",
      [],
      "Previous...",
      [
        (jump_to_menu, "mnu_choose_scenes_52"),
      ]
      ),

      ("choose_scene_65",
      [],
      "castle_19_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_19_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_66",
      [],
      "castle_19_interior:_indoors",
      [
        (jump_to_scene, "scn_castle_19_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_67",
      [],
      "castle_19_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_19_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_68",
      [],
      "castle_1_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_1_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_69",
      [],
      "castle_1_interior:_indoors",
      [
        (jump_to_scene, "scn_castle_1_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_70",
      [],
      "castle_1_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_1_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_71",
      [],
      "castle_20_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_20_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_72",
      [],
      "castle_20_interior:_indoors",
      [
        (jump_to_scene, "scn_castle_20_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_73",
      [],
      "castle_20_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_20_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_74",
      [],
      "castle_21_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_21_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_75",
      [],
      "castle_21_interior:_indoors",
      [
        (jump_to_scene, "scn_castle_21_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_76",
      [],
      "castle_21_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_21_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_77",
      [],
      "castle_22_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_22_exterior"),
        (change_screen_mission),
      ]
      ),
    ],
  ),

  ("choose_scenes_78", 0,
    "Choose a scene: (Page 7 of 86)",
    "none",
    [],
    [
      ("back",
      [],
      "Go_back.",
      [
        (change_screen_quit),
      ]
      ),

      ("next",
      [],
      "Next...",
      [
        (jump_to_menu, "mnu_choose_scenes_91"),
      ]
      ),

      ("previous",
      [],
      "Previous...",
      [
        (jump_to_menu, "mnu_choose_scenes_65"),
      ]
      ),

      ("choose_scene_78",
      [],
      "castle_22_interior:_indoors",
      [
        (jump_to_scene, "scn_castle_22_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_79",
      [],
      "castle_22_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_22_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_80",
      [],
      "castle_23_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_23_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_81",
      [],
      "castle_23_interior:_generate",
      [
        (jump_to_scene, "scn_castle_23_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_82",
      [],
      "castle_23_prison:_generate",
      [
        (jump_to_scene, "scn_castle_23_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_83",
      [],
      "castle_24_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_24_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_84",
      [],
      "castle_24_interior:_generate",
      [
        (jump_to_scene, "scn_castle_24_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_85",
      [],
      "castle_24_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_24_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_86",
      [],
      "castle_25_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_25_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_87",
      [],
      "castle_25_interior:_generate",
      [
        (jump_to_scene, "scn_castle_25_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_88",
      [],
      "castle_25_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_25_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_89",
      [],
      "castle_26_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_26_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_90",
      [],
      "castle_26_interior:_generate",
      [
        (jump_to_scene, "scn_castle_26_interior"),
        (change_screen_mission),
      ]
      ),
    ],
  ),

  ("choose_scenes_91", 0,
    "Choose a scene: (Page 8 of 86)",
    "none",
    [],
    [
      ("back",
      [],
      "Go_back.",
      [
        (change_screen_quit),
      ]
      ),

      ("next",
      [],
      "Next...",
      [
        (jump_to_menu, "mnu_choose_scenes_104"),
      ]
      ),

      ("previous",
      [],
      "Previous...",
      [
        (jump_to_menu, "mnu_choose_scenes_78"),
      ]
      ),

      ("choose_scene_91",
      [],
      "castle_26_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_26_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_92",
      [],
      "castle_27_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_27_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_93",
      [],
      "castle_27_interior:_generate",
      [
        (jump_to_scene, "scn_castle_27_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_94",
      [],
      "castle_27_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_27_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_95",
      [],
      "castle_28_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_28_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_96",
      [],
      "castle_28_interior:_indoors",
      [
        (jump_to_scene, "scn_castle_28_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_97",
      [],
      "castle_28_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_28_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_98",
      [],
      "castle_29_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_29_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_99",
      [],
      "castle_29_interior:_indoors",
      [
        (jump_to_scene, "scn_castle_29_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_100",
      [],
      "castle_29_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_29_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_101",
      [],
      "castle_2_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_2_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_102",
      [],
      "castle_2_interior:_generate",
      [
        (jump_to_scene, "scn_castle_2_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_103",
      [],
      "castle_2_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_2_prison"),
        (change_screen_mission),
      ]
      ),
    ],
  ),

  ("choose_scenes_104", 0,
    "Choose a scene: (Page 9 of 86)",
    "none",
    [],
    [
      ("back",
      [],
      "Go_back.",
      [
        (change_screen_quit),
      ]
      ),

      ("next",
      [],
      "Next...",
      [
        (jump_to_menu, "mnu_choose_scenes_117"),
      ]
      ),

      ("previous",
      [],
      "Previous...",
      [
        (jump_to_menu, "mnu_choose_scenes_91"),
      ]
      ),

      ("choose_scene_104",
      [],
      "castle_30_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_30_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_105",
      [],
      "castle_30_interior:_generate",
      [
        (jump_to_scene, "scn_castle_30_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_106",
      [],
      "castle_30_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_30_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_107",
      [],
      "castle_31_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_31_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_108",
      [],
      "castle_31_interior:_indoors",
      [
        (jump_to_scene, "scn_castle_31_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_109",
      [],
      "castle_31_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_31_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_110",
      [],
      "castle_32_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_32_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_111",
      [],
      "castle_32_interior:_indoors",
      [
        (jump_to_scene, "scn_castle_32_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_112",
      [],
      "castle_32_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_32_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_113",
      [],
      "castle_33_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_33_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_114",
      [],
      "castle_33_interior:_indoors",
      [
        (jump_to_scene, "scn_castle_33_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_115",
      [],
      "castle_33_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_33_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_116",
      [],
      "castle_34_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_34_exterior"),
        (change_screen_mission),
      ]
      ),
    ],
  ),

  ("choose_scenes_117", 0,
    "Choose a scene: (Page 10 of 86)",
    "none",
    [],
    [
      ("back",
      [],
      "Go_back.",
      [
        (change_screen_quit),
      ]
      ),

      ("next",
      [],
      "Next...",
      [
        (jump_to_menu, "mnu_choose_scenes_130"),
      ]
      ),

      ("previous",
      [],
      "Previous...",
      [
        (jump_to_menu, "mnu_choose_scenes_104"),
      ]
      ),

      ("choose_scene_117",
      [],
      "castle_34_interior:_generate",
      [
        (jump_to_scene, "scn_castle_34_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_118",
      [],
      "castle_34_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_34_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_119",
      [],
      "castle_35_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_35_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_120",
      [],
      "castle_35_interior:_generate",
      [
        (jump_to_scene, "scn_castle_35_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_121",
      [],
      "castle_35_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_35_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_122",
      [],
      "castle_36_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_36_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_123",
      [],
      "castle_36_interior:_indoors",
      [
        (jump_to_scene, "scn_castle_36_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_124",
      [],
      "castle_36_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_36_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_125",
      [],
      "castle_37_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_37_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_126",
      [],
      "castle_37_interior:_indoors",
      [
        (jump_to_scene, "scn_castle_37_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_127",
      [],
      "castle_37_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_37_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_128",
      [],
      "castle_38_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_38_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_129",
      [],
      "castle_38_interior:_generate",
      [
        (jump_to_scene, "scn_castle_38_interior"),
        (change_screen_mission),
      ]
      ),
    ],
  ),

  ("choose_scenes_130", 0,
    "Choose a scene: (Page 11 of 86)",
    "none",
    [],
    [
      ("back",
      [],
      "Go_back.",
      [
        (change_screen_quit),
      ]
      ),

      ("next",
      [],
      "Next...",
      [
        (jump_to_menu, "mnu_choose_scenes_143"),
      ]
      ),

      ("previous",
      [],
      "Previous...",
      [
        (jump_to_menu, "mnu_choose_scenes_117"),
      ]
      ),

      ("choose_scene_130",
      [],
      "castle_38_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_38_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_131",
      [],
      "castle_39_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_39_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_132",
      [],
      "castle_39_interior:_indoors",
      [
        (jump_to_scene, "scn_castle_39_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_133",
      [],
      "castle_39_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_39_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_134",
      [],
      "castle_3_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_3_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_135",
      [],
      "castle_3_interior:_generate",
      [
        (jump_to_scene, "scn_castle_3_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_136",
      [],
      "castle_3_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_3_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_137",
      [],
      "castle_40_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_40_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_138",
      [],
      "castle_40_interior:_indoors",
      [
        (jump_to_scene, "scn_castle_40_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_139",
      [],
      "castle_40_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_40_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_140",
      [],
      "castle_41_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_41_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_141",
      [],
      "castle_41_interior:_indoors",
      [
        (jump_to_scene, "scn_castle_41_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_142",
      [],
      "castle_41_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_41_prison"),
        (change_screen_mission),
      ]
      ),
    ],
  ),

  ("choose_scenes_143", 0,
    "Choose a scene: (Page 12 of 86)",
    "none",
    [],
    [
      ("back",
      [],
      "Go_back.",
      [
        (change_screen_quit),
      ]
      ),

      ("next",
      [],
      "Next...",
      [
        (jump_to_menu, "mnu_choose_scenes_156"),
      ]
      ),

      ("previous",
      [],
      "Previous...",
      [
        (jump_to_menu, "mnu_choose_scenes_130"),
      ]
      ),

      ("choose_scene_143",
      [],
      "castle_42_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_42_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_144",
      [],
      "castle_42_interior:_indoors",
      [
        (jump_to_scene, "scn_castle_42_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_145",
      [],
      "castle_42_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_42_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_146",
      [],
      "castle_43_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_43_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_147",
      [],
      "castle_43_interior:_indoors",
      [
        (jump_to_scene, "scn_castle_43_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_148",
      [],
      "castle_43_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_43_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_149",
      [],
      "castle_44_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_44_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_150",
      [],
      "castle_44_interior:_indoors",
      [
        (jump_to_scene, "scn_castle_44_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_151",
      [],
      "castle_44_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_44_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_152",
      [],
      "castle_45_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_45_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_153",
      [],
      "castle_45_interior:_indoors",
      [
        (jump_to_scene, "scn_castle_45_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_154",
      [],
      "castle_45_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_45_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_155",
      [],
      "castle_46_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_46_exterior"),
        (change_screen_mission),
      ]
      ),
    ],
  ),

  ("choose_scenes_156", 0,
    "Choose a scene: (Page 13 of 86)",
    "none",
    [],
    [
      ("back",
      [],
      "Go_back.",
      [
        (change_screen_quit),
      ]
      ),

      ("next",
      [],
      "Next...",
      [
        (jump_to_menu, "mnu_choose_scenes_169"),
      ]
      ),

      ("previous",
      [],
      "Previous...",
      [
        (jump_to_menu, "mnu_choose_scenes_143"),
      ]
      ),

      ("choose_scene_156",
      [],
      "castle_46_interior:_indoors",
      [
        (jump_to_scene, "scn_castle_46_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_157",
      [],
      "castle_46_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_46_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_158",
      [],
      "castle_47_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_47_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_159",
      [],
      "castle_47_interior:_indoors",
      [
        (jump_to_scene, "scn_castle_47_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_160",
      [],
      "castle_47_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_47_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_161",
      [],
      "castle_48_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_48_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_162",
      [],
      "castle_48_interior:_indoors",
      [
        (jump_to_scene, "scn_castle_48_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_163",
      [],
      "castle_48_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_48_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_164",
      [],
      "castle_49_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_49_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_165",
      [],
      "castle_49_interior:_indoors",
      [
        (jump_to_scene, "scn_castle_49_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_166",
      [],
      "castle_49_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_49_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_167",
      [],
      "castle_4_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_4_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_168",
      [],
      "castle_4_interior:_indoors",
      [
        (jump_to_scene, "scn_castle_4_interior"),
        (change_screen_mission),
      ]
      ),
    ],
  ),

  ("choose_scenes_169", 0,
    "Choose a scene: (Page 14 of 86)",
    "none",
    [],
    [
      ("back",
      [],
      "Go_back.",
      [
        (change_screen_quit),
      ]
      ),

      ("next",
      [],
      "Next...",
      [
        (jump_to_menu, "mnu_choose_scenes_182"),
      ]
      ),

      ("previous",
      [],
      "Previous...",
      [
        (jump_to_menu, "mnu_choose_scenes_156"),
      ]
      ),

      ("choose_scene_169",
      [],
      "castle_4_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_4_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_170",
      [],
      "castle_50_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_50_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_171",
      [],
      "castle_50_interior:_indoors",
      [
        (jump_to_scene, "scn_castle_50_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_172",
      [],
      "castle_50_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_50_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_173",
      [],
      "castle_51_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_51_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_174",
      [],
      "castle_51_interior:_indoors",
      [
        (jump_to_scene, "scn_castle_51_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_175",
      [],
      "castle_51_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_51_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_176",
      [],
      "castle_52_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_52_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_177",
      [],
      "castle_52_interior:_generate",
      [
        (jump_to_scene, "scn_castle_52_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_178",
      [],
      "castle_52_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_52_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_179",
      [],
      "castle_53_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_53_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_180",
      [],
      "castle_53_interior:_indoors",
      [
        (jump_to_scene, "scn_castle_53_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_181",
      [],
      "castle_53_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_53_prison"),
        (change_screen_mission),
      ]
      ),
    ],
  ),

  ("choose_scenes_182", 0,
    "Choose a scene: (Page 15 of 86)",
    "none",
    [],
    [
      ("back",
      [],
      "Go_back.",
      [
        (change_screen_quit),
      ]
      ),

      ("next",
      [],
      "Next...",
      [
        (jump_to_menu, "mnu_choose_scenes_195"),
      ]
      ),

      ("previous",
      [],
      "Previous...",
      [
        (jump_to_menu, "mnu_choose_scenes_169"),
      ]
      ),

      ("choose_scene_182",
      [],
      "castle_54_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_54_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_183",
      [],
      "castle_54_interior:_indoors",
      [
        (jump_to_scene, "scn_castle_54_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_184",
      [],
      "castle_54_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_54_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_185",
      [],
      "castle_55_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_55_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_186",
      [],
      "castle_55_interior:_indoors",
      [
        (jump_to_scene, "scn_castle_55_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_187",
      [],
      "castle_55_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_55_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_188",
      [],
      "castle_56_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_56_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_189",
      [],
      "castle_56_interior:_indoors",
      [
        (jump_to_scene, "scn_castle_56_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_190",
      [],
      "castle_56_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_56_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_191",
      [],
      "castle_57_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_57_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_192",
      [],
      "castle_57_interior:_generate",
      [
        (jump_to_scene, "scn_castle_57_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_193",
      [],
      "castle_57_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_57_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_194",
      [],
      "castle_58_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_58_exterior"),
        (change_screen_mission),
      ]
      ),
    ],
  ),

  ("choose_scenes_195", 0,
    "Choose a scene: (Page 16 of 86)",
    "none",
    [],
    [
      ("back",
      [],
      "Go_back.",
      [
        (change_screen_quit),
      ]
      ),

      ("next",
      [],
      "Next...",
      [
        (jump_to_menu, "mnu_choose_scenes_208"),
      ]
      ),

      ("previous",
      [],
      "Previous...",
      [
        (jump_to_menu, "mnu_choose_scenes_182"),
      ]
      ),

      ("choose_scene_195",
      [],
      "castle_58_interior:_indoors",
      [
        (jump_to_scene, "scn_castle_58_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_196",
      [],
      "castle_58_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_58_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_197",
      [],
      "castle_59_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_59_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_198",
      [],
      "castle_59_interior:_indoors",
      [
        (jump_to_scene, "scn_castle_59_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_199",
      [],
      "castle_59_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_59_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_200",
      [],
      "castle_5_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_5_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_201",
      [],
      "castle_5_interior:_indoors",
      [
        (jump_to_scene, "scn_castle_5_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_202",
      [],
      "castle_5_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_5_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_203",
      [],
      "castle_60_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_60_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_204",
      [],
      "castle_60_interior:_indoors",
      [
        (jump_to_scene, "scn_castle_60_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_205",
      [],
      "castle_60_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_60_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_206",
      [],
      "castle_61_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_61_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_207",
      [],
      "castle_61_interior:_generate",
      [
        (jump_to_scene, "scn_castle_61_interior"),
        (change_screen_mission),
      ]
      ),
    ],
  ),

  ("choose_scenes_208", 0,
    "Choose a scene: (Page 17 of 86)",
    "none",
    [],
    [
      ("back",
      [],
      "Go_back.",
      [
        (change_screen_quit),
      ]
      ),

      ("next",
      [],
      "Next...",
      [
        (jump_to_menu, "mnu_choose_scenes_221"),
      ]
      ),

      ("previous",
      [],
      "Previous...",
      [
        (jump_to_menu, "mnu_choose_scenes_195"),
      ]
      ),

      ("choose_scene_208",
      [],
      "castle_61_prison:_generate",
      [
        (jump_to_scene, "scn_castle_61_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_209",
      [],
      "castle_62_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_62_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_210",
      [],
      "castle_62_interior:_generate",
      [
        (jump_to_scene, "scn_castle_62_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_211",
      [],
      "castle_62_prison:_generate",
      [
        (jump_to_scene, "scn_castle_62_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_212",
      [],
      "castle_63_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_63_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_213",
      [],
      "castle_63_interior:_generate",
      [
        (jump_to_scene, "scn_castle_63_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_214",
      [],
      "castle_63_prison:_generate",
      [
        (jump_to_scene, "scn_castle_63_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_215",
      [],
      "castle_64_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_64_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_216",
      [],
      "castle_64_interior:_indoors",
      [
        (jump_to_scene, "scn_castle_64_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_217",
      [],
      "castle_64_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_64_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_218",
      [],
      "castle_65_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_65_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_219",
      [],
      "castle_65_interior:_indoors",
      [
        (jump_to_scene, "scn_castle_65_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_220",
      [],
      "castle_65_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_65_prison"),
        (change_screen_mission),
      ]
      ),
    ],
  ),

  ("choose_scenes_221", 0,
    "Choose a scene: (Page 18 of 86)",
    "none",
    [],
    [
      ("back",
      [],
      "Go_back.",
      [
        (change_screen_quit),
      ]
      ),

      ("next",
      [],
      "Next...",
      [
        (jump_to_menu, "mnu_choose_scenes_234"),
      ]
      ),

      ("previous",
      [],
      "Previous...",
      [
        (jump_to_menu, "mnu_choose_scenes_208"),
      ]
      ),

      ("choose_scene_221",
      [],
      "castle_66_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_66_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_222",
      [],
      "castle_66_interior:_indoors",
      [
        (jump_to_scene, "scn_castle_66_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_223",
      [],
      "castle_66_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_66_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_224",
      [],
      "castle_67_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_67_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_225",
      [],
      "castle_67_interior:_indoors",
      [
        (jump_to_scene, "scn_castle_67_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_226",
      [],
      "castle_67_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_67_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_227",
      [],
      "castle_68_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_68_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_228",
      [],
      "castle_68_interior:_indoors",
      [
        (jump_to_scene, "scn_castle_68_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_229",
      [],
      "castle_68_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_68_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_230",
      [],
      "castle_69_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_69_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_231",
      [],
      "castle_69_interior:_indoors",
      [
        (jump_to_scene, "scn_castle_69_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_232",
      [],
      "castle_69_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_69_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_233",
      [],
      "castle_6_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_6_exterior"),
        (change_screen_mission),
      ]
      ),
    ],
  ),

  ("choose_scenes_234", 0,
    "Choose a scene: (Page 19 of 86)",
    "none",
    [],
    [
      ("back",
      [],
      "Go_back.",
      [
        (change_screen_quit),
      ]
      ),

      ("next",
      [],
      "Next...",
      [
        (jump_to_menu, "mnu_choose_scenes_247"),
      ]
      ),

      ("previous",
      [],
      "Previous...",
      [
        (jump_to_menu, "mnu_choose_scenes_221"),
      ]
      ),

      ("choose_scene_234",
      [],
      "castle_6_interior:_generate",
      [
        (jump_to_scene, "scn_castle_6_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_235",
      [],
      "castle_6_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_6_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_236",
      [],
      "castle_70_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_70_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_237",
      [],
      "castle_70_interior:_indoors",
      [
        (jump_to_scene, "scn_castle_70_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_238",
      [],
      "castle_70_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_70_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_239",
      [],
      "castle_71_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_71_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_240",
      [],
      "castle_71_interior:_indoors",
      [
        (jump_to_scene, "scn_castle_71_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_241",
      [],
      "castle_71_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_71_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_242",
      [],
      "castle_72_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_72_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_243",
      [],
      "castle_72_interior:_indoors",
      [
        (jump_to_scene, "scn_castle_72_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_244",
      [],
      "castle_72_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_72_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_245",
      [],
      "castle_73_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_73_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_246",
      [],
      "castle_73_interior:_indoors",
      [
        (jump_to_scene, "scn_castle_73_interior"),
        (change_screen_mission),
      ]
      ),
    ],
  ),

  ("choose_scenes_247", 0,
    "Choose a scene: (Page 20 of 86)",
    "none",
    [],
    [
      ("back",
      [],
      "Go_back.",
      [
        (change_screen_quit),
      ]
      ),

      ("next",
      [],
      "Next...",
      [
        (jump_to_menu, "mnu_choose_scenes_260"),
      ]
      ),

      ("previous",
      [],
      "Previous...",
      [
        (jump_to_menu, "mnu_choose_scenes_234"),
      ]
      ),

      ("choose_scene_247",
      [],
      "castle_73_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_73_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_248",
      [],
      "castle_74_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_74_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_249",
      [],
      "castle_74_interior:_indoors",
      [
        (jump_to_scene, "scn_castle_74_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_250",
      [],
      "castle_74_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_74_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_251",
      [],
      "castle_75_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_75_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_252",
      [],
      "castle_75_interior:_indoors",
      [
        (jump_to_scene, "scn_castle_75_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_253",
      [],
      "castle_75_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_75_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_254",
      [],
      "castle_76_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_76_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_255",
      [],
      "castle_76_interior:_generate",
      [
        (jump_to_scene, "scn_castle_76_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_256",
      [],
      "castle_76_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_76_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_257",
      [],
      "castle_77_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_77_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_258",
      [],
      "castle_77_interior:_indoors",
      [
        (jump_to_scene, "scn_castle_77_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_259",
      [],
      "castle_77_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_77_prison"),
        (change_screen_mission),
      ]
      ),
    ],
  ),

  ("choose_scenes_260", 0,
    "Choose a scene: (Page 21 of 86)",
    "none",
    [],
    [
      ("back",
      [],
      "Go_back.",
      [
        (change_screen_quit),
      ]
      ),

      ("next",
      [],
      "Next...",
      [
        (jump_to_menu, "mnu_choose_scenes_273"),
      ]
      ),

      ("previous",
      [],
      "Previous...",
      [
        (jump_to_menu, "mnu_choose_scenes_247"),
      ]
      ),

      ("choose_scene_260",
      [],
      "castle_78_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_78_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_261",
      [],
      "castle_78_interior:_indoors",
      [
        (jump_to_scene, "scn_castle_78_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_262",
      [],
      "castle_78_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_78_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_263",
      [],
      "castle_79_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_79_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_264",
      [],
      "castle_79_interior:_indoors",
      [
        (jump_to_scene, "scn_castle_79_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_265",
      [],
      "castle_79_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_79_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_266",
      [],
      "castle_7_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_7_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_267",
      [],
      "castle_7_interior:_indoors",
      [
        (jump_to_scene, "scn_castle_7_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_268",
      [],
      "castle_7_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_7_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_269",
      [],
      "castle_80_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_80_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_270",
      [],
      "castle_80_interior:_indoors",
      [
        (jump_to_scene, "scn_castle_80_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_271",
      [],
      "castle_80_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_80_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_272",
      [],
      "castle_81_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_81_exterior"),
        (change_screen_mission),
      ]
      ),
    ],
  ),

  ("choose_scenes_273", 0,
    "Choose a scene: (Page 22 of 86)",
    "none",
    [],
    [
      ("back",
      [],
      "Go_back.",
      [
        (change_screen_quit),
      ]
      ),

      ("next",
      [],
      "Next...",
      [
        (jump_to_menu, "mnu_choose_scenes_286"),
      ]
      ),

      ("previous",
      [],
      "Previous...",
      [
        (jump_to_menu, "mnu_choose_scenes_260"),
      ]
      ),

      ("choose_scene_273",
      [],
      "castle_81_interior:_indoors",
      [
        (jump_to_scene, "scn_castle_81_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_274",
      [],
      "castle_81_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_81_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_275",
      [],
      "castle_82_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_82_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_276",
      [],
      "castle_82_interior:_indoors",
      [
        (jump_to_scene, "scn_castle_82_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_277",
      [],
      "castle_82_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_82_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_278",
      [],
      "castle_83_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_83_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_279",
      [],
      "castle_83_interior:_indoors",
      [
        (jump_to_scene, "scn_castle_83_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_280",
      [],
      "castle_83_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_83_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_281",
      [],
      "castle_84_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_84_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_282",
      [],
      "castle_84_interior:_indoors",
      [
        (jump_to_scene, "scn_castle_84_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_283",
      [],
      "castle_84_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_84_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_284",
      [],
      "castle_85_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_85_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_285",
      [],
      "castle_85_interior:_indoors",
      [
        (jump_to_scene, "scn_castle_85_interior"),
        (change_screen_mission),
      ]
      ),
    ],
  ),

  ("choose_scenes_286", 0,
    "Choose a scene: (Page 23 of 86)",
    "none",
    [],
    [
      ("back",
      [],
      "Go_back.",
      [
        (change_screen_quit),
      ]
      ),

      ("next",
      [],
      "Next...",
      [
        (jump_to_menu, "mnu_choose_scenes_299"),
      ]
      ),

      ("previous",
      [],
      "Previous...",
      [
        (jump_to_menu, "mnu_choose_scenes_273"),
      ]
      ),

      ("choose_scene_286",
      [],
      "castle_85_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_85_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_287",
      [],
      "castle_86_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_86_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_288",
      [],
      "castle_86_interior:_indoors",
      [
        (jump_to_scene, "scn_castle_86_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_289",
      [],
      "castle_86_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_86_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_290",
      [],
      "castle_87_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_87_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_291",
      [],
      "castle_87_interior:_indoors",
      [
        (jump_to_scene, "scn_castle_87_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_292",
      [],
      "castle_87_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_87_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_293",
      [],
      "castle_88_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_88_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_294",
      [],
      "castle_88_interior:_indoors",
      [
        (jump_to_scene, "scn_castle_88_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_295",
      [],
      "castle_88_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_88_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_296",
      [],
      "castle_89_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_89_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_297",
      [],
      "castle_89_interior:_indoors",
      [
        (jump_to_scene, "scn_castle_89_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_298",
      [],
      "castle_89_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_89_prison"),
        (change_screen_mission),
      ]
      ),
    ],
  ),

  ("choose_scenes_299", 0,
    "Choose a scene: (Page 24 of 86)",
    "none",
    [],
    [
      ("back",
      [],
      "Go_back.",
      [
        (change_screen_quit),
      ]
      ),

      ("next",
      [],
      "Next...",
      [
        (jump_to_menu, "mnu_choose_scenes_312"),
      ]
      ),

      ("previous",
      [],
      "Previous...",
      [
        (jump_to_menu, "mnu_choose_scenes_286"),
      ]
      ),

      ("choose_scene_299",
      [],
      "castle_8_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_8_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_300",
      [],
      "castle_8_interior:_indoors",
      [
        (jump_to_scene, "scn_castle_8_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_301",
      [],
      "castle_8_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_8_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_302",
      [],
      "castle_90_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_90_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_303",
      [],
      "castle_90_interior:_indoors",
      [
        (jump_to_scene, "scn_castle_90_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_304",
      [],
      "castle_90_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_90_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_305",
      [],
      "castle_91_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_91_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_306",
      [],
      "castle_91_interior:_indoors",
      [
        (jump_to_scene, "scn_castle_91_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_307",
      [],
      "castle_91_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_91_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_308",
      [],
      "castle_92_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_92_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_309",
      [],
      "castle_92_interior:_indoors",
      [
        (jump_to_scene, "scn_castle_92_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_310",
      [],
      "castle_92_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_92_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_311",
      [],
      "castle_93_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_93_exterior"),
        (change_screen_mission),
      ]
      ),
    ],
  ),

  ("choose_scenes_312", 0,
    "Choose a scene: (Page 25 of 86)",
    "none",
    [],
    [
      ("back",
      [],
      "Go_back.",
      [
        (change_screen_quit),
      ]
      ),

      ("next",
      [],
      "Next...",
      [
        (jump_to_menu, "mnu_choose_scenes_325"),
      ]
      ),

      ("previous",
      [],
      "Previous...",
      [
        (jump_to_menu, "mnu_choose_scenes_299"),
      ]
      ),

      ("choose_scene_312",
      [],
      "castle_93_interior:_indoors",
      [
        (jump_to_scene, "scn_castle_93_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_313",
      [],
      "castle_93_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_93_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_314",
      [],
      "castle_94_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_94_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_315",
      [],
      "castle_94_interior:_indoors",
      [
        (jump_to_scene, "scn_castle_94_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_316",
      [],
      "castle_94_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_94_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_317",
      [],
      "castle_95_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_95_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_318",
      [],
      "castle_95_interior:_indoors",
      [
        (jump_to_scene, "scn_castle_95_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_319",
      [],
      "castle_95_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_95_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_320",
      [],
      "castle_96_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_96_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_321",
      [],
      "castle_96_interior:_indoors",
      [
        (jump_to_scene, "scn_castle_96_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_322",
      [],
      "castle_96_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_96_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_323",
      [],
      "castle_97_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_97_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_324",
      [],
      "castle_97_interior:_indoors",
      [
        (jump_to_scene, "scn_castle_97_interior"),
        (change_screen_mission),
      ]
      ),
    ],
  ),

  ("choose_scenes_325", 0,
    "Choose a scene: (Page 26 of 86)",
    "none",
    [],
    [
      ("back",
      [],
      "Go_back.",
      [
        (change_screen_quit),
      ]
      ),

      ("next",
      [],
      "Next...",
      [
        (jump_to_menu, "mnu_choose_scenes_338"),
      ]
      ),

      ("previous",
      [],
      "Previous...",
      [
        (jump_to_menu, "mnu_choose_scenes_312"),
      ]
      ),

      ("choose_scene_325",
      [],
      "castle_97_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_97_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_326",
      [],
      "castle_98_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_98_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_327",
      [],
      "castle_98_interior:_indoors",
      [
        (jump_to_scene, "scn_castle_98_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_328",
      [],
      "castle_98_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_98_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_329",
      [],
      "castle_99_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_99_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_330",
      [],
      "castle_99_interior:_indoors",
      [
        (jump_to_scene, "scn_castle_99_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_331",
      [],
      "castle_99_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_99_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_332",
      [],
      "castle_9_exterior:_generate",
      [
        (jump_to_scene, "scn_castle_9_exterior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_333",
      [],
      "castle_9_interior:_indoors",
      [
        (jump_to_scene, "scn_castle_9_interior"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_334",
      [],
      "castle_9_prison:_indoors",
      [
        (jump_to_scene, "scn_castle_9_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_335",
      [],
      "conversation_scene",
      [
        (jump_to_scene, "scn_conversation_scene"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_336",
      [],
      "dhorak_keep:_generate",
      [
        (jump_to_scene, "scn_dhorak_keep"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_337",
      [],
      "enterprise_brewery:_indoors",
      [
        (jump_to_scene, "scn_enterprise_brewery"),
        (change_screen_mission),
      ]
      ),
    ],
  ),

  ("choose_scenes_338", 0,
    "Choose a scene: (Page 27 of 86)",
    "none",
    [],
    [
      ("back",
      [],
      "Go_back.",
      [
        (change_screen_quit),
      ]
      ),

      ("next",
      [],
      "Next...",
      [
        (jump_to_menu, "mnu_choose_scenes_351"),
      ]
      ),

      ("previous",
      [],
      "Previous...",
      [
        (jump_to_menu, "mnu_choose_scenes_325"),
      ]
      ),

      ("choose_scene_338",
      [],
      "enterprise_dyeworks:_indoors",
      [
        (jump_to_scene, "scn_enterprise_dyeworks"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_339",
      [],
      "enterprise_linen_weavery:_indoors",
      [
        (jump_to_scene, "scn_enterprise_linen_weavery"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_340",
      [],
      "enterprise_mill:_indoors",
      [
        (jump_to_scene, "scn_enterprise_mill"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_341",
      [],
      "enterprise_oil_press:_indoors",
      [
        (jump_to_scene, "scn_enterprise_oil_press"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_342",
      [],
      "enterprise_smithy:_indoors",
      [
        (jump_to_scene, "scn_enterprise_smithy"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_343",
      [],
      "enterprise_tannery:_generate",
      [
        (jump_to_scene, "scn_enterprise_tannery"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_344",
      [],
      "enterprise_winery:_indoors",
      [
        (jump_to_scene, "scn_enterprise_winery"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_345",
      [],
      "enterprise_wool_weavery:_indoors",
      [
        (jump_to_scene, "scn_enterprise_wool_weavery"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_346",
      [],
      "field_1:_generate",
      [
        (jump_to_scene, "scn_field_1"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_347",
      [],
      "field_2:_generate",
      [
        (jump_to_scene, "scn_field_2"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_348",
      [],
      "field_3:_generate",
      [
        (jump_to_scene, "scn_field_3"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_349",
      [],
      "field_4:_generate",
      [
        (jump_to_scene, "scn_field_4"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_350",
      [],
      "field_5:_generate",
      [
        (jump_to_scene, "scn_field_5"),
        (change_screen_mission),
      ]
      ),
    ],
  ),

  ("choose_scenes_351", 0,
    "Choose a scene: (Page 28 of 86)",
    "none",
    [],
    [
      ("back",
      [],
      "Go_back.",
      [
        (change_screen_quit),
      ]
      ),

      ("next",
      [],
      "Next...",
      [
        (jump_to_menu, "mnu_choose_scenes_364"),
      ]
      ),

      ("previous",
      [],
      "Previous...",
      [
        (jump_to_menu, "mnu_choose_scenes_338"),
      ]
      ),

      ("choose_scene_351",
      [],
      "four_ways_inn:_generate",
      [
        (jump_to_scene, "scn_four_ways_inn"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_352",
      [],
      "lair_desert_bandits:_generate",
      [
        (jump_to_scene, "scn_lair_desert_bandits"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_353",
      [],
      "lair_forest_bandits:_generate",
      [
        (jump_to_scene, "scn_lair_forest_bandits"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_354",
      [],
      "lair_mountain_bandits:_generate",
      [
        (jump_to_scene, "scn_lair_mountain_bandits"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_355",
      [],
      "lair_sea_raiders:_generate",
      [
        (jump_to_scene, "scn_lair_sea_raiders"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_356",
      [],
      "lair_steppe_bandits:_generate",
      [
        (jump_to_scene, "scn_lair_steppe_bandits"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_357",
      [],
      "lair_taiga_bandits:_generate",
      [
        (jump_to_scene, "scn_lair_taiga_bandits"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_358",
      [],
      "meeting_scene_desert",
      [
        (jump_to_scene, "scn_meeting_scene_desert"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_359",
      [],
      "meeting_scene_desert_forest",
      [
        (jump_to_scene, "scn_meeting_scene_desert_forest"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_360",
      [],
      "meeting_scene_plain",
      [
        (jump_to_scene, "scn_meeting_scene_plain"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_361",
      [],
      "meeting_scene_plain_forest",
      [
        (jump_to_scene, "scn_meeting_scene_plain_forest"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_362",
      [],
      "meeting_scene_snow",
      [
        (jump_to_scene, "scn_meeting_scene_snow"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_363",
      [],
      "meeting_scene_snow_forest",
      [
        (jump_to_scene, "scn_meeting_scene_snow_forest"),
        (change_screen_mission),
      ]
      ),
    ],
  ),

  ("choose_scenes_364", 0,
    "Choose a scene: (Page 29 of 86)",
    "none",
    [],
    [
      ("back",
      [],
      "Go_back.",
      [
        (change_screen_quit),
      ]
      ),

      ("next",
      [],
      "Next...",
      [
        (jump_to_menu, "mnu_choose_scenes_377"),
      ]
      ),

      ("previous",
      [],
      "Previous...",
      [
        (jump_to_menu, "mnu_choose_scenes_351"),
      ]
      ),

      ("choose_scene_364",
      [],
      "meeting_scene_steppe",
      [
        (jump_to_scene, "scn_meeting_scene_steppe"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_365",
      [],
      "meeting_scene_steppe_forest",
      [
        (jump_to_scene, "scn_meeting_scene_steppe_forest"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_366",
      [],
      "multi_scene_1:_generate",
      [
        (jump_to_scene, "scn_multi_scene_1"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_367",
      [],
      "multi_scene_10:_generate",
      [
        (jump_to_scene, "scn_multi_scene_10"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_368",
      [],
      "multi_scene_11:_generate",
      [
        (jump_to_scene, "scn_multi_scene_11"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_369",
      [],
      "multi_scene_12:_generate",
      [
        (jump_to_scene, "scn_multi_scene_12"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_370",
      [],
      "multi_scene_13:_generate",
      [
        (jump_to_scene, "scn_multi_scene_13"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_371",
      [],
      "multi_scene_14:_generate",
      [
        (jump_to_scene, "scn_multi_scene_14"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_372",
      [],
      "multi_scene_15:_generate",
      [
        (jump_to_scene, "scn_multi_scene_15"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_373",
      [],
      "multi_scene_16:_generate",
      [
        (jump_to_scene, "scn_multi_scene_16"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_374",
      [],
      "multi_scene_17:_generate",
      [
        (jump_to_scene, "scn_multi_scene_17"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_375",
      [],
      "multi_scene_18:_generate|muddy_water",
      [
        (jump_to_scene, "scn_multi_scene_18"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_376",
      [],
      "multi_scene_19:_generate",
      [
        (jump_to_scene, "scn_multi_scene_19"),
        (change_screen_mission),
      ]
      ),
    ],
  ),

  ("choose_scenes_377", 0,
    "Choose a scene: (Page 30 of 86)",
    "none",
    [],
    [
      ("back",
      [],
      "Go_back.",
      [
        (change_screen_quit),
      ]
      ),

      ("next",
      [],
      "Next...",
      [
        (jump_to_menu, "mnu_choose_scenes_390"),
      ]
      ),

      ("previous",
      [],
      "Previous...",
      [
        (jump_to_menu, "mnu_choose_scenes_364"),
      ]
      ),

      ("choose_scene_377",
      [],
      "multi_scene_2:_generate",
      [
        (jump_to_scene, "scn_multi_scene_2"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_378",
      [],
      "multi_scene_20:_generate",
      [
        (jump_to_scene, "scn_multi_scene_20"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_379",
      [],
      "multi_scene_3:_generate",
      [
        (jump_to_scene, "scn_multi_scene_3"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_380",
      [],
      "multi_scene_4:_generate",
      [
        (jump_to_scene, "scn_multi_scene_4"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_381",
      [],
      "multi_scene_5:_generate",
      [
        (jump_to_scene, "scn_multi_scene_5"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_382",
      [],
      "multi_scene_6:_generate",
      [
        (jump_to_scene, "scn_multi_scene_6"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_383",
      [],
      "multi_scene_7:_generate",
      [
        (jump_to_scene, "scn_multi_scene_7"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_384",
      [],
      "multi_scene_8:_generate",
      [
        (jump_to_scene, "scn_multi_scene_8"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_385",
      [],
      "multi_scene_9:_generate",
      [
        (jump_to_scene, "scn_multi_scene_9"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_386",
      [],
      "multiplayer_maps_end:_generate",
      [
        (jump_to_scene, "scn_multiplayer_maps_end"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_387",
      [],
      "novice_ground:_indoors",
      [
        (jump_to_scene, "scn_novice_ground"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_388",
      [],
      "quick_battle_1:_generate",
      [
        (jump_to_scene, "scn_quick_battle_1"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_389",
      [],
      "quick_battle_2:_generate",
      [
        (jump_to_scene, "scn_quick_battle_2"),
        (change_screen_mission),
      ]
      ),
    ],
  ),

  ("choose_scenes_390", 0,
    "Choose a scene: (Page 31 of 86)",
    "none",
    [],
    [
      ("back",
      [],
      "Go_back.",
      [
        (change_screen_quit),
      ]
      ),

      ("next",
      [],
      "Next...",
      [
        (jump_to_menu, "mnu_choose_scenes_403"),
      ]
      ),

      ("previous",
      [],
      "Previous...",
      [
        (jump_to_menu, "mnu_choose_scenes_377"),
      ]
      ),

      ("choose_scene_390",
      [],
      "quick_battle_3:_generate",
      [
        (jump_to_scene, "scn_quick_battle_3"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_391",
      [],
      "quick_battle_4:_generate",
      [
        (jump_to_scene, "scn_quick_battle_4"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_392",
      [],
      "quick_battle_5:_generate",
      [
        (jump_to_scene, "scn_quick_battle_5"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_393",
      [],
      "quick_battle_6:_generate",
      [
        (jump_to_scene, "scn_quick_battle_6"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_394",
      [],
      "quick_battle_7:_generate",
      [
        (jump_to_scene, "scn_quick_battle_7"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_395",
      [],
      "quick_battle_maps_end:_generate",
      [
        (jump_to_scene, "scn_quick_battle_maps_end"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_396",
      [],
      "quick_battle_scene_1:_generate",
      [
        (jump_to_scene, "scn_quick_battle_scene_1"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_397",
      [],
      "quick_battle_scene_2:_generate",
      [
        (jump_to_scene, "scn_quick_battle_scene_2"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_398",
      [],
      "quick_battle_scene_3:_generate",
      [
        (jump_to_scene, "scn_quick_battle_scene_3"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_399",
      [],
      "quick_battle_scene_4:_generate",
      [
        (jump_to_scene, "scn_quick_battle_scene_4"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_400",
      [],
      "quick_battle_scene_5:_generate",
      [
        (jump_to_scene, "scn_quick_battle_scene_5"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_401",
      [],
      "quick_battle_scene_6:_generate",
      [
        (jump_to_scene, "scn_quick_battle_scene_6"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_402",
      [],
      "random_multi_plain_large:_generate|auto_entry_points|randomize",
      [
        (jump_to_scene, "scn_random_multi_plain_large"),
        (change_screen_mission),
      ]
      ),
    ],
  ),

  ("choose_scenes_403", 0,
    "Choose a scene: (Page 32 of 86)",
    "none",
    [],
    [
      ("back",
      [],
      "Go_back.",
      [
        (change_screen_quit),
      ]
      ),

      ("next",
      [],
      "Next...",
      [
        (jump_to_menu, "mnu_choose_scenes_416"),
      ]
      ),

      ("previous",
      [],
      "Previous...",
      [
        (jump_to_menu, "mnu_choose_scenes_390"),
      ]
      ),

      ("choose_scene_403",
      [],
      "random_multi_plain_medium:_generate|auto_entry_points|randomize",
      [
        (jump_to_scene, "scn_random_multi_plain_medium"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_404",
      [],
      "random_multi_steppe_large:_generate|auto_entry_points|randomize",
      [
        (jump_to_scene, "scn_random_multi_steppe_large"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_405",
      [],
      "random_multi_steppe_medium:_generate|auto_entry_points|randomize",
      [
        (jump_to_scene, "scn_random_multi_steppe_medium"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_406",
      [],
      "random_scene:_generate|auto_entry_points|randomize",
      [
        (jump_to_scene, "scn_random_scene"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_407",
      [],
      "random_scene_desert:_generate|auto_entry_points|randomize",
      [
        (jump_to_scene, "scn_random_scene_desert"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_408",
      [],
      "random_scene_desert_forest:_generate|auto_entry_points|randomize",
      [
        (jump_to_scene, "scn_random_scene_desert_forest"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_409",
      [],
      "random_scene_plain:_generate|auto_entry_points|randomize",
      [
        (jump_to_scene, "scn_random_scene_plain"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_410",
      [],
      "random_scene_plain_forest:_generate|auto_entry_points|randomize",
      [
        (jump_to_scene, "scn_random_scene_plain_forest"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_411",
      [],
      "random_scene_snow:_generate|auto_entry_points|randomize",
      [
        (jump_to_scene, "scn_random_scene_snow"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_412",
      [],
      "random_scene_snow_forest:_generate|auto_entry_points|randomize",
      [
        (jump_to_scene, "scn_random_scene_snow_forest"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_413",
      [],
      "random_scene_steppe:_generate|auto_entry_points|randomize",
      [
        (jump_to_scene, "scn_random_scene_steppe"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_414",
      [],
      "random_scene_steppe_forest:_generate|auto_entry_points|randomize",
      [
        (jump_to_scene, "scn_random_scene_steppe_forest"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_415",
      [],
      "reserved10",
      [
        (jump_to_scene, "scn_reserved10"),
        (change_screen_mission),
      ]
      ),
    ],
  ),

  ("choose_scenes_416", 0,
    "Choose a scene: (Page 33 of 86)",
    "none",
    [],
    [
      ("back",
      [],
      "Go_back.",
      [
        (change_screen_quit),
      ]
      ),

      ("next",
      [],
      "Next...",
      [
        (jump_to_menu, "mnu_choose_scenes_429"),
      ]
      ),

      ("previous",
      [],
      "Previous...",
      [
        (jump_to_menu, "mnu_choose_scenes_403"),
      ]
      ),

      ("choose_scene_416",
      [],
      "reserved11",
      [
        (jump_to_scene, "scn_reserved11"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_417",
      [],
      "reserved12:_indoors",
      [
        (jump_to_scene, "scn_reserved12"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_418",
      [],
      "reserved4:_generate",
      [
        (jump_to_scene, "scn_reserved4"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_419",
      [],
      "reserved5:_generate",
      [
        (jump_to_scene, "scn_reserved5"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_420",
      [],
      "reserved6:_generate",
      [
        (jump_to_scene, "scn_reserved6"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_421",
      [],
      "reserved7:_generate",
      [
        (jump_to_scene, "scn_reserved7"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_422",
      [],
      "reserved8:_generate",
      [
        (jump_to_scene, "scn_reserved8"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_423",
      [],
      "reserved9:_indoors",
      [
        (jump_to_scene, "scn_reserved9"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_424",
      [],
      "salt_mine:_generate",
      [
        (jump_to_scene, "scn_salt_mine"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_425",
      [],
      "sea:_generate|auto_entry_points",
      [
        (jump_to_scene, "scn_sea"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_426",
      [],
      "sea_1:_generate",
      [
        (jump_to_scene, "scn_sea_1"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_427",
      [],
      "sea_2:_generate",
      [
        (jump_to_scene, "scn_sea_2"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_428",
      [],
      "sea_4:_generate",
      [
        (jump_to_scene, "scn_sea_4"),
        (change_screen_mission),
      ]
      ),
    ],
  ),

  ("choose_scenes_429", 0,
    "Choose a scene: (Page 34 of 86)",
    "none",
    [],
    [
      ("back",
      [],
      "Go_back.",
      [
        (change_screen_quit),
      ]
      ),

      ("next",
      [],
      "Next...",
      [
        (jump_to_menu, "mnu_choose_scenes_442"),
      ]
      ),

      ("previous",
      [],
      "Previous...",
      [
        (jump_to_menu, "mnu_choose_scenes_416"),
      ]
      ),

      ("choose_scene_429",
      [],
      "sea_5:_generate",
      [
        (jump_to_scene, "scn_sea_5"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_430",
      [],
      "sea_CD_both:_generate",
      [
        (jump_to_scene, "scn_sea_cd_both"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_431",
      [],
      "sea_CD_enemy:_generate",
      [
        (jump_to_scene, "scn_sea_cd_enemy"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_432",
      [],
      "sea_CD_player:_generate",
      [
        (jump_to_scene, "scn_sea_cd_player"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_433",
      [],
      "shore:_generate|auto_entry_points",
      [
        (jump_to_scene, "scn_shore"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_434",
      [],
      "test2:_generate",
      [
        (jump_to_scene, "scn_test2"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_435",
      [],
      "test3:_generate",
      [
        (jump_to_scene, "scn_test3"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_436",
      [],
      "test_scene:_generate",
      [
        (jump_to_scene, "scn_test_scene"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_437",
      [],
      "the_happy_boar:_indoors",
      [
        (jump_to_scene, "scn_the_happy_boar"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_438",
      [],
      "town_10_alley:_generate",
      [
        (jump_to_scene, "scn_town_10_alley"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_439",
      [],
      "town_10_arena:_generate",
      [
        (jump_to_scene, "scn_town_10_arena"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_440",
      [],
      "town_10_castle:_generate",
      [
        (jump_to_scene, "scn_town_10_castle"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_441",
      [],
      "town_10_center:_generate",
      [
        (jump_to_scene, "scn_town_10_center"),
        (change_screen_mission),
      ]
      ),
    ],
  ),

  ("choose_scenes_442", 0,
    "Choose a scene: (Page 35 of 86)",
    "none",
    [],
    [
      ("back",
      [],
      "Go_back.",
      [
        (change_screen_quit),
      ]
      ),

      ("next",
      [],
      "Next...",
      [
        (jump_to_menu, "mnu_choose_scenes_455"),
      ]
      ),

      ("previous",
      [],
      "Previous...",
      [
        (jump_to_menu, "mnu_choose_scenes_429"),
      ]
      ),

      ("choose_scene_442",
      [],
      "town_10_prison:_indoors",
      [
        (jump_to_scene, "scn_town_10_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_443",
      [],
      "town_10_room:_indoors",
      [
        (jump_to_scene, "scn_town_10_room"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_444",
      [],
      "town_10_store:_indoors",
      [
        (jump_to_scene, "scn_town_10_store"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_445",
      [],
      "town_10_tavern:_generate",
      [
        (jump_to_scene, "scn_town_10_tavern"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_446",
      [],
      "town_10_walls:_generate",
      [
        (jump_to_scene, "scn_town_10_walls"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_447",
      [],
      "town_11_alley:_generate",
      [
        (jump_to_scene, "scn_town_11_alley"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_448",
      [],
      "town_11_arena:_generate",
      [
        (jump_to_scene, "scn_town_11_arena"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_449",
      [],
      "town_11_castle:_indoors",
      [
        (jump_to_scene, "scn_town_11_castle"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_450",
      [],
      "town_11_center:_generate",
      [
        (jump_to_scene, "scn_town_11_center"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_451",
      [],
      "town_11_prison:_indoors",
      [
        (jump_to_scene, "scn_town_11_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_452",
      [],
      "town_11_store:_indoors",
      [
        (jump_to_scene, "scn_town_11_store"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_453",
      [],
      "town_11_tavern:_indoors",
      [
        (jump_to_scene, "scn_town_11_tavern"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_454",
      [],
      "town_11_walls:_generate",
      [
        (jump_to_scene, "scn_town_11_walls"),
        (change_screen_mission),
      ]
      ),
    ],
  ),

  ("choose_scenes_455", 0,
    "Choose a scene: (Page 36 of 86)",
    "none",
    [],
    [
      ("back",
      [],
      "Go_back.",
      [
        (change_screen_quit),
      ]
      ),

      ("next",
      [],
      "Next...",
      [
        (jump_to_menu, "mnu_choose_scenes_468"),
      ]
      ),

      ("previous",
      [],
      "Previous...",
      [
        (jump_to_menu, "mnu_choose_scenes_442"),
      ]
      ),

      ("choose_scene_455",
      [],
      "town_12_alley:_generate",
      [
        (jump_to_scene, "scn_town_12_alley"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_456",
      [],
      "town_12_arena:_generate",
      [
        (jump_to_scene, "scn_town_12_arena"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_457",
      [],
      "town_12_castle:_indoors",
      [
        (jump_to_scene, "scn_town_12_castle"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_458",
      [],
      "town_12_center:_generate",
      [
        (jump_to_scene, "scn_town_12_center"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_459",
      [],
      "town_12_prison:_indoors",
      [
        (jump_to_scene, "scn_town_12_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_460",
      [],
      "town_12_store:_indoors",
      [
        (jump_to_scene, "scn_town_12_store"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_461",
      [],
      "town_12_tavern:_indoors",
      [
        (jump_to_scene, "scn_town_12_tavern"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_462",
      [],
      "town_12_walls:_generate",
      [
        (jump_to_scene, "scn_town_12_walls"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_463",
      [],
      "town_13_alley:_generate",
      [
        (jump_to_scene, "scn_town_13_alley"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_464",
      [],
      "town_13_arena:_generate",
      [
        (jump_to_scene, "scn_town_13_arena"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_465",
      [],
      "town_13_castle:_indoors",
      [
        (jump_to_scene, "scn_town_13_castle"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_466",
      [],
      "town_13_center:_generate",
      [
        (jump_to_scene, "scn_town_13_center"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_467",
      [],
      "town_13_prison:_indoors",
      [
        (jump_to_scene, "scn_town_13_prison"),
        (change_screen_mission),
      ]
      ),
    ],
  ),

  ("choose_scenes_468", 0,
    "Choose a scene: (Page 37 of 86)",
    "none",
    [],
    [
      ("back",
      [],
      "Go_back.",
      [
        (change_screen_quit),
      ]
      ),

      ("next",
      [],
      "Next...",
      [
        (jump_to_menu, "mnu_choose_scenes_481"),
      ]
      ),

      ("previous",
      [],
      "Previous...",
      [
        (jump_to_menu, "mnu_choose_scenes_455"),
      ]
      ),

      ("choose_scene_468",
      [],
      "town_13_store:_indoors",
      [
        (jump_to_scene, "scn_town_13_store"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_469",
      [],
      "town_13_tavern:_indoors",
      [
        (jump_to_scene, "scn_town_13_tavern"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_470",
      [],
      "town_13_walls:_generate",
      [
        (jump_to_scene, "scn_town_13_walls"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_471",
      [],
      "town_14_alley:_generate",
      [
        (jump_to_scene, "scn_town_14_alley"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_472",
      [],
      "town_14_arena:_generate",
      [
        (jump_to_scene, "scn_town_14_arena"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_473",
      [],
      "town_14_castle:_indoors",
      [
        (jump_to_scene, "scn_town_14_castle"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_474",
      [],
      "town_14_center:_generate",
      [
        (jump_to_scene, "scn_town_14_center"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_475",
      [],
      "town_14_prison:_indoors",
      [
        (jump_to_scene, "scn_town_14_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_476",
      [],
      "town_14_store:_indoors",
      [
        (jump_to_scene, "scn_town_14_store"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_477",
      [],
      "town_14_tavern:_indoors",
      [
        (jump_to_scene, "scn_town_14_tavern"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_478",
      [],
      "town_14_walls:_generate",
      [
        (jump_to_scene, "scn_town_14_walls"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_479",
      [],
      "town_15_alley:_generate",
      [
        (jump_to_scene, "scn_town_15_alley"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_480",
      [],
      "town_15_arena:_generate",
      [
        (jump_to_scene, "scn_town_15_arena"),
        (change_screen_mission),
      ]
      ),
    ],
  ),

  ("choose_scenes_481", 0,
    "Choose a scene: (Page 38 of 86)",
    "none",
    [],
    [
      ("back",
      [],
      "Go_back.",
      [
        (change_screen_quit),
      ]
      ),

      ("next",
      [],
      "Next...",
      [
        (jump_to_menu, "mnu_choose_scenes_494"),
      ]
      ),

      ("previous",
      [],
      "Previous...",
      [
        (jump_to_menu, "mnu_choose_scenes_468"),
      ]
      ),

      ("choose_scene_481",
      [],
      "town_15_castle:_indoors",
      [
        (jump_to_scene, "scn_town_15_castle"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_482",
      [],
      "town_15_center:_generate",
      [
        (jump_to_scene, "scn_town_15_center"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_483",
      [],
      "town_15_prison:_indoors",
      [
        (jump_to_scene, "scn_town_15_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_484",
      [],
      "town_15_store:_indoors",
      [
        (jump_to_scene, "scn_town_15_store"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_485",
      [],
      "town_15_tavern:_indoors",
      [
        (jump_to_scene, "scn_town_15_tavern"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_486",
      [],
      "town_15_walls:_generate",
      [
        (jump_to_scene, "scn_town_15_walls"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_487",
      [],
      "town_16_alley:_generate",
      [
        (jump_to_scene, "scn_town_16_alley"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_488",
      [],
      "town_16_arena:_generate",
      [
        (jump_to_scene, "scn_town_16_arena"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_489",
      [],
      "town_16_castle:_indoors",
      [
        (jump_to_scene, "scn_town_16_castle"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_490",
      [],
      "town_16_center:_generate",
      [
        (jump_to_scene, "scn_town_16_center"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_491",
      [],
      "town_16_prison:_generate",
      [
        (jump_to_scene, "scn_town_16_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_492",
      [],
      "town_16_store:_indoors",
      [
        (jump_to_scene, "scn_town_16_store"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_493",
      [],
      "town_16_tavern:_generate",
      [
        (jump_to_scene, "scn_town_16_tavern"),
        (change_screen_mission),
      ]
      ),
    ],
  ),

  ("choose_scenes_494", 0,
    "Choose a scene: (Page 39 of 86)",
    "none",
    [],
    [
      ("back",
      [],
      "Go_back.",
      [
        (change_screen_quit),
      ]
      ),

      ("next",
      [],
      "Next...",
      [
        (jump_to_menu, "mnu_choose_scenes_507"),
      ]
      ),

      ("previous",
      [],
      "Previous...",
      [
        (jump_to_menu, "mnu_choose_scenes_481"),
      ]
      ),

      ("choose_scene_494",
      [],
      "town_16_walls:_generate",
      [
        (jump_to_scene, "scn_town_16_walls"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_495",
      [],
      "town_17_alley:_generate",
      [
        (jump_to_scene, "scn_town_17_alley"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_496",
      [],
      "town_17_arena:_generate",
      [
        (jump_to_scene, "scn_town_17_arena"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_497",
      [],
      "town_17_castle:_generate",
      [
        (jump_to_scene, "scn_town_17_castle"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_498",
      [],
      "town_17_center:_generate",
      [
        (jump_to_scene, "scn_town_17_center"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_499",
      [],
      "town_17_prison:_generate",
      [
        (jump_to_scene, "scn_town_17_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_500",
      [],
      "town_17_store:_indoors",
      [
        (jump_to_scene, "scn_town_17_store"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_501",
      [],
      "town_17_tavern:_generate",
      [
        (jump_to_scene, "scn_town_17_tavern"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_502",
      [],
      "town_17_walls:_generate",
      [
        (jump_to_scene, "scn_town_17_walls"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_503",
      [],
      "town_18_alley:_generate",
      [
        (jump_to_scene, "scn_town_18_alley"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_504",
      [],
      "town_18_arena:_generate",
      [
        (jump_to_scene, "scn_town_18_arena"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_505",
      [],
      "town_18_castle:_generate",
      [
        (jump_to_scene, "scn_town_18_castle"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_506",
      [],
      "town_18_center:_generate",
      [
        (jump_to_scene, "scn_town_18_center"),
        (change_screen_mission),
      ]
      ),
    ],
  ),

  ("choose_scenes_507", 0,
    "Choose a scene: (Page 40 of 86)",
    "none",
    [],
    [
      ("back",
      [],
      "Go_back.",
      [
        (change_screen_quit),
      ]
      ),

      ("next",
      [],
      "Next...",
      [
        (jump_to_menu, "mnu_choose_scenes_520"),
      ]
      ),

      ("previous",
      [],
      "Previous...",
      [
        (jump_to_menu, "mnu_choose_scenes_494"),
      ]
      ),

      ("choose_scene_507",
      [],
      "town_18_prison:_indoors",
      [
        (jump_to_scene, "scn_town_18_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_508",
      [],
      "town_18_store:_indoors",
      [
        (jump_to_scene, "scn_town_18_store"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_509",
      [],
      "town_18_tavern:_generate",
      [
        (jump_to_scene, "scn_town_18_tavern"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_510",
      [],
      "town_18_walls:_generate",
      [
        (jump_to_scene, "scn_town_18_walls"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_511",
      [],
      "town_19_alley:_generate",
      [
        (jump_to_scene, "scn_town_19_alley"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_512",
      [],
      "town_19_arena:_generate",
      [
        (jump_to_scene, "scn_town_19_arena"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_513",
      [],
      "town_19_castle:_generate",
      [
        (jump_to_scene, "scn_town_19_castle"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_514",
      [],
      "town_19_center:_generate",
      [
        (jump_to_scene, "scn_town_19_center"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_515",
      [],
      "town_19_prison:_indoors",
      [
        (jump_to_scene, "scn_town_19_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_516",
      [],
      "town_19_room:_indoors",
      [
        (jump_to_scene, "scn_town_19_room"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_517",
      [],
      "town_19_store:_indoors",
      [
        (jump_to_scene, "scn_town_19_store"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_518",
      [],
      "town_19_tavern:_indoors",
      [
        (jump_to_scene, "scn_town_19_tavern"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_519",
      [],
      "town_19_walls:_generate",
      [
        (jump_to_scene, "scn_town_19_walls"),
        (change_screen_mission),
      ]
      ),
    ],
  ),

  ("choose_scenes_520", 0,
    "Choose a scene: (Page 41 of 86)",
    "none",
    [],
    [
      ("back",
      [],
      "Go_back.",
      [
        (change_screen_quit),
      ]
      ),

      ("next",
      [],
      "Next...",
      [
        (jump_to_menu, "mnu_choose_scenes_533"),
      ]
      ),

      ("previous",
      [],
      "Previous...",
      [
        (jump_to_menu, "mnu_choose_scenes_507"),
      ]
      ),

      ("choose_scene_520",
      [],
      "town_1_alley:_generate",
      [
        (jump_to_scene, "scn_town_1_alley"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_521",
      [],
      "town_1_arena:_generate",
      [
        (jump_to_scene, "scn_town_1_arena"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_522",
      [],
      "town_1_castle:_indoors",
      [
        (jump_to_scene, "scn_town_1_castle"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_523",
      [],
      "town_1_center:_generate",
      [
        (jump_to_scene, "scn_town_1_center"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_524",
      [],
      "town_1_prison:_indoors",
      [
        (jump_to_scene, "scn_town_1_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_525",
      [],
      "town_1_room:_indoors",
      [
        (jump_to_scene, "scn_town_1_room"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_526",
      [],
      "town_1_store:_indoors",
      [
        (jump_to_scene, "scn_town_1_store"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_527",
      [],
      "town_1_tavern:_indoors",
      [
        (jump_to_scene, "scn_town_1_tavern"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_528",
      [],
      "town_1_walls:_generate",
      [
        (jump_to_scene, "scn_town_1_walls"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_529",
      [],
      "town_20_alley:_generate",
      [
        (jump_to_scene, "scn_town_20_alley"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_530",
      [],
      "town_20_arena:_generate",
      [
        (jump_to_scene, "scn_town_20_arena"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_531",
      [],
      "town_20_castle:_indoors",
      [
        (jump_to_scene, "scn_town_20_castle"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_532",
      [],
      "town_20_center:_generate",
      [
        (jump_to_scene, "scn_town_20_center"),
        (change_screen_mission),
      ]
      ),
    ],
  ),

  ("choose_scenes_533", 0,
    "Choose a scene: (Page 42 of 86)",
    "none",
    [],
    [
      ("back",
      [],
      "Go_back.",
      [
        (change_screen_quit),
      ]
      ),

      ("next",
      [],
      "Next...",
      [
        (jump_to_menu, "mnu_choose_scenes_546"),
      ]
      ),

      ("previous",
      [],
      "Previous...",
      [
        (jump_to_menu, "mnu_choose_scenes_520"),
      ]
      ),

      ("choose_scene_533",
      [],
      "town_20_prison:_indoors",
      [
        (jump_to_scene, "scn_town_20_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_534",
      [],
      "town_20_store:_indoors",
      [
        (jump_to_scene, "scn_town_20_store"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_535",
      [],
      "town_20_tavern:_indoors",
      [
        (jump_to_scene, "scn_town_20_tavern"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_536",
      [],
      "town_20_walls:_generate",
      [
        (jump_to_scene, "scn_town_20_walls"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_537",
      [],
      "town_21_alley:_generate",
      [
        (jump_to_scene, "scn_town_21_alley"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_538",
      [],
      "town_21_arena:_generate",
      [
        (jump_to_scene, "scn_town_21_arena"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_539",
      [],
      "town_21_castle:_indoors",
      [
        (jump_to_scene, "scn_town_21_castle"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_540",
      [],
      "town_21_center:_generate",
      [
        (jump_to_scene, "scn_town_21_center"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_541",
      [],
      "town_21_prison:_indoors",
      [
        (jump_to_scene, "scn_town_21_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_542",
      [],
      "town_21_store:_indoors",
      [
        (jump_to_scene, "scn_town_21_store"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_543",
      [],
      "town_21_tavern:_indoors",
      [
        (jump_to_scene, "scn_town_21_tavern"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_544",
      [],
      "town_21_walls:_generate",
      [
        (jump_to_scene, "scn_town_21_walls"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_545",
      [],
      "town_22_alley:_generate",
      [
        (jump_to_scene, "scn_town_22_alley"),
        (change_screen_mission),
      ]
      ),
    ],
  ),

  ("choose_scenes_546", 0,
    "Choose a scene: (Page 43 of 86)",
    "none",
    [],
    [
      ("back",
      [],
      "Go_back.",
      [
        (change_screen_quit),
      ]
      ),

      ("next",
      [],
      "Next...",
      [
        (jump_to_menu, "mnu_choose_scenes_559"),
      ]
      ),

      ("previous",
      [],
      "Previous...",
      [
        (jump_to_menu, "mnu_choose_scenes_533"),
      ]
      ),

      ("choose_scene_546",
      [],
      "town_22_arena:_generate",
      [
        (jump_to_scene, "scn_town_22_arena"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_547",
      [],
      "town_22_castle:_indoors",
      [
        (jump_to_scene, "scn_town_22_castle"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_548",
      [],
      "town_22_center:_generate",
      [
        (jump_to_scene, "scn_town_22_center"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_549",
      [],
      "town_22_prison:_indoors",
      [
        (jump_to_scene, "scn_town_22_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_550",
      [],
      "town_22_store:_indoors",
      [
        (jump_to_scene, "scn_town_22_store"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_551",
      [],
      "town_22_tavern:_indoors",
      [
        (jump_to_scene, "scn_town_22_tavern"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_552",
      [],
      "town_22_walls:_generate",
      [
        (jump_to_scene, "scn_town_22_walls"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_553",
      [],
      "town_23_alley:_generate",
      [
        (jump_to_scene, "scn_town_23_alley"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_554",
      [],
      "town_23_arena:_generate",
      [
        (jump_to_scene, "scn_town_23_arena"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_555",
      [],
      "town_23_castle:_indoors",
      [
        (jump_to_scene, "scn_town_23_castle"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_556",
      [],
      "town_23_center:_generate",
      [
        (jump_to_scene, "scn_town_23_center"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_557",
      [],
      "town_23_prison:_indoors",
      [
        (jump_to_scene, "scn_town_23_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_558",
      [],
      "town_23_store:_indoors",
      [
        (jump_to_scene, "scn_town_23_store"),
        (change_screen_mission),
      ]
      ),
    ],
  ),

  ("choose_scenes_559", 0,
    "Choose a scene: (Page 44 of 86)",
    "none",
    [],
    [
      ("back",
      [],
      "Go_back.",
      [
        (change_screen_quit),
      ]
      ),

      ("next",
      [],
      "Next...",
      [
        (jump_to_menu, "mnu_choose_scenes_572"),
      ]
      ),

      ("previous",
      [],
      "Previous...",
      [
        (jump_to_menu, "mnu_choose_scenes_546"),
      ]
      ),

      ("choose_scene_559",
      [],
      "town_23_tavern:_indoors",
      [
        (jump_to_scene, "scn_town_23_tavern"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_560",
      [],
      "town_23_walls:_generate",
      [
        (jump_to_scene, "scn_town_23_walls"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_561",
      [],
      "town_24_alley:_generate",
      [
        (jump_to_scene, "scn_town_24_alley"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_562",
      [],
      "town_24_arena:_generate",
      [
        (jump_to_scene, "scn_town_24_arena"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_563",
      [],
      "town_24_castle:_generate",
      [
        (jump_to_scene, "scn_town_24_castle"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_564",
      [],
      "town_24_center:_generate",
      [
        (jump_to_scene, "scn_town_24_center"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_565",
      [],
      "town_24_prison:_indoors",
      [
        (jump_to_scene, "scn_town_24_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_566",
      [],
      "town_24_store:_indoors",
      [
        (jump_to_scene, "scn_town_24_store"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_567",
      [],
      "town_24_tavern:_indoors",
      [
        (jump_to_scene, "scn_town_24_tavern"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_568",
      [],
      "town_24_walls:_generate",
      [
        (jump_to_scene, "scn_town_24_walls"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_569",
      [],
      "town_25_alley:_generate",
      [
        (jump_to_scene, "scn_town_25_alley"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_570",
      [],
      "town_25_arena:_generate",
      [
        (jump_to_scene, "scn_town_25_arena"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_571",
      [],
      "town_25_castle:_indoors",
      [
        (jump_to_scene, "scn_town_25_castle"),
        (change_screen_mission),
      ]
      ),
    ],
  ),

  ("choose_scenes_572", 0,
    "Choose a scene: (Page 45 of 86)",
    "none",
    [],
    [
      ("back",
      [],
      "Go_back.",
      [
        (change_screen_quit),
      ]
      ),

      ("next",
      [],
      "Next...",
      [
        (jump_to_menu, "mnu_choose_scenes_585"),
      ]
      ),

      ("previous",
      [],
      "Previous...",
      [
        (jump_to_menu, "mnu_choose_scenes_559"),
      ]
      ),

      ("choose_scene_572",
      [],
      "town_25_center:_generate",
      [
        (jump_to_scene, "scn_town_25_center"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_573",
      [],
      "town_25_prison:_indoors",
      [
        (jump_to_scene, "scn_town_25_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_574",
      [],
      "town_25_store:_indoors",
      [
        (jump_to_scene, "scn_town_25_store"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_575",
      [],
      "town_25_tavern:_indoors",
      [
        (jump_to_scene, "scn_town_25_tavern"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_576",
      [],
      "town_25_walls:_generate",
      [
        (jump_to_scene, "scn_town_25_walls"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_577",
      [],
      "town_26_alley:_generate",
      [
        (jump_to_scene, "scn_town_26_alley"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_578",
      [],
      "town_26_arena:_generate",
      [
        (jump_to_scene, "scn_town_26_arena"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_579",
      [],
      "town_26_castle:_indoors",
      [
        (jump_to_scene, "scn_town_26_castle"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_580",
      [],
      "town_26_center:_generate",
      [
        (jump_to_scene, "scn_town_26_center"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_581",
      [],
      "town_26_prison:_indoors",
      [
        (jump_to_scene, "scn_town_26_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_582",
      [],
      "town_26_store:_indoors",
      [
        (jump_to_scene, "scn_town_26_store"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_583",
      [],
      "town_26_tavern:_generate",
      [
        (jump_to_scene, "scn_town_26_tavern"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_584",
      [],
      "town_26_walls:_generate",
      [
        (jump_to_scene, "scn_town_26_walls"),
        (change_screen_mission),
      ]
      ),
    ],
  ),

  ("choose_scenes_585", 0,
    "Choose a scene: (Page 46 of 86)",
    "none",
    [],
    [
      ("back",
      [],
      "Go_back.",
      [
        (change_screen_quit),
      ]
      ),

      ("next",
      [],
      "Next...",
      [
        (jump_to_menu, "mnu_choose_scenes_598"),
      ]
      ),

      ("previous",
      [],
      "Previous...",
      [
        (jump_to_menu, "mnu_choose_scenes_572"),
      ]
      ),

      ("choose_scene_585",
      [],
      "town_27_alley:_generate",
      [
        (jump_to_scene, "scn_town_27_alley"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_586",
      [],
      "town_27_arena:_generate",
      [
        (jump_to_scene, "scn_town_27_arena"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_587",
      [],
      "town_27_castle:_generate",
      [
        (jump_to_scene, "scn_town_27_castle"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_588",
      [],
      "town_27_center:_generate",
      [
        (jump_to_scene, "scn_town_27_center"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_589",
      [],
      "town_27_prison:_indoors",
      [
        (jump_to_scene, "scn_town_27_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_590",
      [],
      "town_27_store:_indoors",
      [
        (jump_to_scene, "scn_town_27_store"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_591",
      [],
      "town_27_tavern:_generate",
      [
        (jump_to_scene, "scn_town_27_tavern"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_592",
      [],
      "town_27_walls:_generate",
      [
        (jump_to_scene, "scn_town_27_walls"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_593",
      [],
      "town_28_alley:_generate",
      [
        (jump_to_scene, "scn_town_28_alley"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_594",
      [],
      "town_28_arena:_generate",
      [
        (jump_to_scene, "scn_town_28_arena"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_595",
      [],
      "town_28_castle:_indoors",
      [
        (jump_to_scene, "scn_town_28_castle"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_596",
      [],
      "town_28_center:_generate",
      [
        (jump_to_scene, "scn_town_28_center"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_597",
      [],
      "town_28_prison:_indoors",
      [
        (jump_to_scene, "scn_town_28_prison"),
        (change_screen_mission),
      ]
      ),
    ],
  ),

  ("choose_scenes_598", 0,
    "Choose a scene: (Page 47 of 86)",
    "none",
    [],
    [
      ("back",
      [],
      "Go_back.",
      [
        (change_screen_quit),
      ]
      ),

      ("next",
      [],
      "Next...",
      [
        (jump_to_menu, "mnu_choose_scenes_611"),
      ]
      ),

      ("previous",
      [],
      "Previous...",
      [
        (jump_to_menu, "mnu_choose_scenes_585"),
      ]
      ),

      ("choose_scene_598",
      [],
      "town_28_store:_indoors",
      [
        (jump_to_scene, "scn_town_28_store"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_599",
      [],
      "town_28_tavern:_generate",
      [
        (jump_to_scene, "scn_town_28_tavern"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_600",
      [],
      "town_28_walls:_generate",
      [
        (jump_to_scene, "scn_town_28_walls"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_601",
      [],
      "town_29_alley:_generate",
      [
        (jump_to_scene, "scn_town_29_alley"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_602",
      [],
      "town_29_arena:_generate",
      [
        (jump_to_scene, "scn_town_29_arena"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_603",
      [],
      "town_29_castle:_indoors",
      [
        (jump_to_scene, "scn_town_29_castle"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_604",
      [],
      "town_29_center:_generate",
      [
        (jump_to_scene, "scn_town_29_center"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_605",
      [],
      "town_29_prison:_indoors",
      [
        (jump_to_scene, "scn_town_29_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_606",
      [],
      "town_29_store:_indoors",
      [
        (jump_to_scene, "scn_town_29_store"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_607",
      [],
      "town_29_tavern:_indoors",
      [
        (jump_to_scene, "scn_town_29_tavern"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_608",
      [],
      "town_29_walls:_generate",
      [
        (jump_to_scene, "scn_town_29_walls"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_609",
      [],
      "town_2_alley:_generate",
      [
        (jump_to_scene, "scn_town_2_alley"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_610",
      [],
      "town_2_arena:_generate",
      [
        (jump_to_scene, "scn_town_2_arena"),
        (change_screen_mission),
      ]
      ),
    ],
  ),

  ("choose_scenes_611", 0,
    "Choose a scene: (Page 48 of 86)",
    "none",
    [],
    [
      ("back",
      [],
      "Go_back.",
      [
        (change_screen_quit),
      ]
      ),

      ("next",
      [],
      "Next...",
      [
        (jump_to_menu, "mnu_choose_scenes_624"),
      ]
      ),

      ("previous",
      [],
      "Previous...",
      [
        (jump_to_menu, "mnu_choose_scenes_598"),
      ]
      ),

      ("choose_scene_611",
      [],
      "town_2_castle:_indoors",
      [
        (jump_to_scene, "scn_town_2_castle"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_612",
      [],
      "town_2_center:_generate",
      [
        (jump_to_scene, "scn_town_2_center"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_613",
      [],
      "town_2_prison:_generate",
      [
        (jump_to_scene, "scn_town_2_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_614",
      [],
      "town_2_store:_indoors",
      [
        (jump_to_scene, "scn_town_2_store"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_615",
      [],
      "town_2_tavern:_indoors",
      [
        (jump_to_scene, "scn_town_2_tavern"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_616",
      [],
      "town_2_walls:_generate",
      [
        (jump_to_scene, "scn_town_2_walls"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_617",
      [],
      "town_30_alley:_generate",
      [
        (jump_to_scene, "scn_town_30_alley"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_618",
      [],
      "town_30_arena:_generate",
      [
        (jump_to_scene, "scn_town_30_arena"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_619",
      [],
      "town_30_castle:_indoors",
      [
        (jump_to_scene, "scn_town_30_castle"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_620",
      [],
      "town_30_center:_generate",
      [
        (jump_to_scene, "scn_town_30_center"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_621",
      [],
      "town_30_prison:_indoors",
      [
        (jump_to_scene, "scn_town_30_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_622",
      [],
      "town_30_store:_indoors",
      [
        (jump_to_scene, "scn_town_30_store"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_623",
      [],
      "town_30_tavern:_indoors",
      [
        (jump_to_scene, "scn_town_30_tavern"),
        (change_screen_mission),
      ]
      ),
    ],
  ),

  ("choose_scenes_624", 0,
    "Choose a scene: (Page 49 of 86)",
    "none",
    [],
    [
      ("back",
      [],
      "Go_back.",
      [
        (change_screen_quit),
      ]
      ),

      ("next",
      [],
      "Next...",
      [
        (jump_to_menu, "mnu_choose_scenes_637"),
      ]
      ),

      ("previous",
      [],
      "Previous...",
      [
        (jump_to_menu, "mnu_choose_scenes_611"),
      ]
      ),

      ("choose_scene_624",
      [],
      "town_30_walls:_generate",
      [
        (jump_to_scene, "scn_town_30_walls"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_625",
      [],
      "town_31_alley:_generate",
      [
        (jump_to_scene, "scn_town_31_alley"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_626",
      [],
      "town_31_arena:_generate",
      [
        (jump_to_scene, "scn_town_31_arena"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_627",
      [],
      "town_31_castle:_generate",
      [
        (jump_to_scene, "scn_town_31_castle"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_628",
      [],
      "town_31_center:_generate",
      [
        (jump_to_scene, "scn_town_31_center"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_629",
      [],
      "town_31_prison:_indoors",
      [
        (jump_to_scene, "scn_town_31_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_630",
      [],
      "town_31_store:_indoors",
      [
        (jump_to_scene, "scn_town_31_store"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_631",
      [],
      "town_31_tavern:_generate",
      [
        (jump_to_scene, "scn_town_31_tavern"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_632",
      [],
      "town_31_walls:_generate",
      [
        (jump_to_scene, "scn_town_31_walls"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_633",
      [],
      "town_32_alley:_generate",
      [
        (jump_to_scene, "scn_town_32_alley"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_634",
      [],
      "town_32_arena:_generate",
      [
        (jump_to_scene, "scn_town_32_arena"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_635",
      [],
      "town_32_castle:_indoors",
      [
        (jump_to_scene, "scn_town_32_castle"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_636",
      [],
      "town_32_center:_generate",
      [
        (jump_to_scene, "scn_town_32_center"),
        (change_screen_mission),
      ]
      ),
    ],
  ),

  ("choose_scenes_637", 0,
    "Choose a scene: (Page 50 of 86)",
    "none",
    [],
    [
      ("back",
      [],
      "Go_back.",
      [
        (change_screen_quit),
      ]
      ),

      ("next",
      [],
      "Next...",
      [
        (jump_to_menu, "mnu_choose_scenes_650"),
      ]
      ),

      ("previous",
      [],
      "Previous...",
      [
        (jump_to_menu, "mnu_choose_scenes_624"),
      ]
      ),

      ("choose_scene_637",
      [],
      "town_32_prison:_indoors",
      [
        (jump_to_scene, "scn_town_32_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_638",
      [],
      "town_32_store:_indoors",
      [
        (jump_to_scene, "scn_town_32_store"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_639",
      [],
      "town_32_tavern:_indoors",
      [
        (jump_to_scene, "scn_town_32_tavern"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_640",
      [],
      "town_32_walls:_generate",
      [
        (jump_to_scene, "scn_town_32_walls"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_641",
      [],
      "town_33_alley:_generate",
      [
        (jump_to_scene, "scn_town_33_alley"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_642",
      [],
      "town_33_arena:_generate",
      [
        (jump_to_scene, "scn_town_33_arena"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_643",
      [],
      "town_33_castle:_generate",
      [
        (jump_to_scene, "scn_town_33_castle"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_644",
      [],
      "town_33_center:_generate",
      [
        (jump_to_scene, "scn_town_33_center"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_645",
      [],
      "town_33_prison:_indoors",
      [
        (jump_to_scene, "scn_town_33_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_646",
      [],
      "town_33_store:_indoors",
      [
        (jump_to_scene, "scn_town_33_store"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_647",
      [],
      "town_33_tavern:_generate",
      [
        (jump_to_scene, "scn_town_33_tavern"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_648",
      [],
      "town_33_walls:_generate",
      [
        (jump_to_scene, "scn_town_33_walls"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_649",
      [],
      "town_34_alley:_generate",
      [
        (jump_to_scene, "scn_town_34_alley"),
        (change_screen_mission),
      ]
      ),
    ],
  ),

  ("choose_scenes_650", 0,
    "Choose a scene: (Page 51 of 86)",
    "none",
    [],
    [
      ("back",
      [],
      "Go_back.",
      [
        (change_screen_quit),
      ]
      ),

      ("next",
      [],
      "Next...",
      [
        (jump_to_menu, "mnu_choose_scenes_663"),
      ]
      ),

      ("previous",
      [],
      "Previous...",
      [
        (jump_to_menu, "mnu_choose_scenes_637"),
      ]
      ),

      ("choose_scene_650",
      [],
      "town_34_arena:_generate",
      [
        (jump_to_scene, "scn_town_34_arena"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_651",
      [],
      "town_34_castle:_indoors",
      [
        (jump_to_scene, "scn_town_34_castle"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_652",
      [],
      "town_34_center:_generate",
      [
        (jump_to_scene, "scn_town_34_center"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_653",
      [],
      "town_34_prison:_indoors",
      [
        (jump_to_scene, "scn_town_34_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_654",
      [],
      "town_34_store:_indoors",
      [
        (jump_to_scene, "scn_town_34_store"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_655",
      [],
      "town_34_tavern:_indoors",
      [
        (jump_to_scene, "scn_town_34_tavern"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_656",
      [],
      "town_34_walls:_generate",
      [
        (jump_to_scene, "scn_town_34_walls"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_657",
      [],
      "town_35_alley:_generate",
      [
        (jump_to_scene, "scn_town_35_alley"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_658",
      [],
      "town_35_arena:_generate",
      [
        (jump_to_scene, "scn_town_35_arena"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_659",
      [],
      "town_35_castle:_indoors",
      [
        (jump_to_scene, "scn_town_35_castle"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_660",
      [],
      "town_35_center:_generate",
      [
        (jump_to_scene, "scn_town_35_center"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_661",
      [],
      "town_35_prison:_indoors",
      [
        (jump_to_scene, "scn_town_35_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_662",
      [],
      "town_35_store:_indoors",
      [
        (jump_to_scene, "scn_town_35_store"),
        (change_screen_mission),
      ]
      ),
    ],
  ),

  ("choose_scenes_663", 0,
    "Choose a scene: (Page 52 of 86)",
    "none",
    [],
    [
      ("back",
      [],
      "Go_back.",
      [
        (change_screen_quit),
      ]
      ),

      ("next",
      [],
      "Next...",
      [
        (jump_to_menu, "mnu_choose_scenes_676"),
      ]
      ),

      ("previous",
      [],
      "Previous...",
      [
        (jump_to_menu, "mnu_choose_scenes_650"),
      ]
      ),

      ("choose_scene_663",
      [],
      "town_35_tavern:_indoors",
      [
        (jump_to_scene, "scn_town_35_tavern"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_664",
      [],
      "town_35_walls:_generate",
      [
        (jump_to_scene, "scn_town_35_walls"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_665",
      [],
      "town_36_alley:_generate",
      [
        (jump_to_scene, "scn_town_36_alley"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_666",
      [],
      "town_36_arena:_generate",
      [
        (jump_to_scene, "scn_town_36_arena"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_667",
      [],
      "town_36_castle:_indoors",
      [
        (jump_to_scene, "scn_town_36_castle"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_668",
      [],
      "town_36_center:_generate",
      [
        (jump_to_scene, "scn_town_36_center"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_669",
      [],
      "town_36_prison:_generate",
      [
        (jump_to_scene, "scn_town_36_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_670",
      [],
      "town_36_store:_indoors",
      [
        (jump_to_scene, "scn_town_36_store"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_671",
      [],
      "town_36_tavern:_generate",
      [
        (jump_to_scene, "scn_town_36_tavern"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_672",
      [],
      "town_36_walls:_generate",
      [
        (jump_to_scene, "scn_town_36_walls"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_673",
      [],
      "town_37_alley:_generate",
      [
        (jump_to_scene, "scn_town_37_alley"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_674",
      [],
      "town_37_arena:_generate",
      [
        (jump_to_scene, "scn_town_37_arena"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_675",
      [],
      "town_37_castle:_indoors",
      [
        (jump_to_scene, "scn_town_37_castle"),
        (change_screen_mission),
      ]
      ),
    ],
  ),

  ("choose_scenes_676", 0,
    "Choose a scene: (Page 53 of 86)",
    "none",
    [],
    [
      ("back",
      [],
      "Go_back.",
      [
        (change_screen_quit),
      ]
      ),

      ("next",
      [],
      "Next...",
      [
        (jump_to_menu, "mnu_choose_scenes_689"),
      ]
      ),

      ("previous",
      [],
      "Previous...",
      [
        (jump_to_menu, "mnu_choose_scenes_663"),
      ]
      ),

      ("choose_scene_676",
      [],
      "town_37_center:_generate",
      [
        (jump_to_scene, "scn_town_37_center"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_677",
      [],
      "town_37_prison:_indoors",
      [
        (jump_to_scene, "scn_town_37_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_678",
      [],
      "town_37_store:_indoors",
      [
        (jump_to_scene, "scn_town_37_store"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_679",
      [],
      "town_37_tavern:_indoors",
      [
        (jump_to_scene, "scn_town_37_tavern"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_680",
      [],
      "town_37_walls:_generate",
      [
        (jump_to_scene, "scn_town_37_walls"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_681",
      [],
      "town_38_alley:_generate",
      [
        (jump_to_scene, "scn_town_38_alley"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_682",
      [],
      "town_38_arena:_generate",
      [
        (jump_to_scene, "scn_town_38_arena"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_683",
      [],
      "town_38_castle:_generate",
      [
        (jump_to_scene, "scn_town_38_castle"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_684",
      [],
      "town_38_center:_generate",
      [
        (jump_to_scene, "scn_town_38_center"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_685",
      [],
      "town_38_prison:_generate",
      [
        (jump_to_scene, "scn_town_38_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_686",
      [],
      "town_38_store:_generate",
      [
        (jump_to_scene, "scn_town_38_store"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_687",
      [],
      "town_38_tavern:_generate",
      [
        (jump_to_scene, "scn_town_38_tavern"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_688",
      [],
      "town_38_walls:_generate",
      [
        (jump_to_scene, "scn_town_38_walls"),
        (change_screen_mission),
      ]
      ),
    ],
  ),

  ("choose_scenes_689", 0,
    "Choose a scene: (Page 54 of 86)",
    "none",
    [],
    [
      ("back",
      [],
      "Go_back.",
      [
        (change_screen_quit),
      ]
      ),

      ("next",
      [],
      "Next...",
      [
        (jump_to_menu, "mnu_choose_scenes_702"),
      ]
      ),

      ("previous",
      [],
      "Previous...",
      [
        (jump_to_menu, "mnu_choose_scenes_676"),
      ]
      ),

      ("choose_scene_689",
      [],
      "town_39_alley:_generate",
      [
        (jump_to_scene, "scn_town_39_alley"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_690",
      [],
      "town_39_arena:_generate",
      [
        (jump_to_scene, "scn_town_39_arena"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_691",
      [],
      "town_39_castle:_indoors",
      [
        (jump_to_scene, "scn_town_39_castle"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_692",
      [],
      "town_39_center:_generate",
      [
        (jump_to_scene, "scn_town_39_center"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_693",
      [],
      "town_39_prison:_indoors",
      [
        (jump_to_scene, "scn_town_39_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_694",
      [],
      "town_39_store:_indoors",
      [
        (jump_to_scene, "scn_town_39_store"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_695",
      [],
      "town_39_tavern:_indoors",
      [
        (jump_to_scene, "scn_town_39_tavern"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_696",
      [],
      "town_39_walls:_generate",
      [
        (jump_to_scene, "scn_town_39_walls"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_697",
      [],
      "town_3_alley:_generate",
      [
        (jump_to_scene, "scn_town_3_alley"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_698",
      [],
      "town_3_arena:_generate",
      [
        (jump_to_scene, "scn_town_3_arena"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_699",
      [],
      "town_3_castle:_indoors",
      [
        (jump_to_scene, "scn_town_3_castle"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_700",
      [],
      "town_3_center:_generate",
      [
        (jump_to_scene, "scn_town_3_center"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_701",
      [],
      "town_3_prison:_indoors",
      [
        (jump_to_scene, "scn_town_3_prison"),
        (change_screen_mission),
      ]
      ),
    ],
  ),

  ("choose_scenes_702", 0,
    "Choose a scene: (Page 55 of 86)",
    "none",
    [],
    [
      ("back",
      [],
      "Go_back.",
      [
        (change_screen_quit),
      ]
      ),

      ("next",
      [],
      "Next...",
      [
        (jump_to_menu, "mnu_choose_scenes_715"),
      ]
      ),

      ("previous",
      [],
      "Previous...",
      [
        (jump_to_menu, "mnu_choose_scenes_689"),
      ]
      ),

      ("choose_scene_702",
      [],
      "town_3_store:_indoors",
      [
        (jump_to_scene, "scn_town_3_store"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_703",
      [],
      "town_3_tavern:_indoors",
      [
        (jump_to_scene, "scn_town_3_tavern"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_704",
      [],
      "town_3_walls:_generate",
      [
        (jump_to_scene, "scn_town_3_walls"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_705",
      [],
      "town_40_alley:_generate",
      [
        (jump_to_scene, "scn_town_40_alley"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_706",
      [],
      "town_40_arena:_generate",
      [
        (jump_to_scene, "scn_town_40_arena"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_707",
      [],
      "town_40_castle:_indoors",
      [
        (jump_to_scene, "scn_town_40_castle"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_708",
      [],
      "town_40_center:_generate",
      [
        (jump_to_scene, "scn_town_40_center"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_709",
      [],
      "town_40_prison:_indoors",
      [
        (jump_to_scene, "scn_town_40_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_710",
      [],
      "town_40_store:_indoors",
      [
        (jump_to_scene, "scn_town_40_store"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_711",
      [],
      "town_40_tavern:_indoors",
      [
        (jump_to_scene, "scn_town_40_tavern"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_712",
      [],
      "town_40_walls:_generate",
      [
        (jump_to_scene, "scn_town_40_walls"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_713",
      [],
      "town_41_alley:_generate",
      [
        (jump_to_scene, "scn_town_41_alley"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_714",
      [],
      "town_41_arena:_generate",
      [
        (jump_to_scene, "scn_town_41_arena"),
        (change_screen_mission),
      ]
      ),
    ],
  ),

  ("choose_scenes_715", 0,
    "Choose a scene: (Page 56 of 86)",
    "none",
    [],
    [
      ("back",
      [],
      "Go_back.",
      [
        (change_screen_quit),
      ]
      ),

      ("next",
      [],
      "Next...",
      [
        (jump_to_menu, "mnu_choose_scenes_728"),
      ]
      ),

      ("previous",
      [],
      "Previous...",
      [
        (jump_to_menu, "mnu_choose_scenes_702"),
      ]
      ),

      ("choose_scene_715",
      [],
      "town_41_castle:_indoors",
      [
        (jump_to_scene, "scn_town_41_castle"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_716",
      [],
      "town_41_center:_generate",
      [
        (jump_to_scene, "scn_town_41_center"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_717",
      [],
      "town_41_prison:_indoors",
      [
        (jump_to_scene, "scn_town_41_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_718",
      [],
      "town_41_store:_indoors",
      [
        (jump_to_scene, "scn_town_41_store"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_719",
      [],
      "town_41_tavern:_indoors",
      [
        (jump_to_scene, "scn_town_41_tavern"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_720",
      [],
      "town_41_walls:_generate",
      [
        (jump_to_scene, "scn_town_41_walls"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_721",
      [],
      "town_42_alley:_generate",
      [
        (jump_to_scene, "scn_town_42_alley"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_722",
      [],
      "town_42_arena:_generate",
      [
        (jump_to_scene, "scn_town_42_arena"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_723",
      [],
      "town_42_castle:_indoors",
      [
        (jump_to_scene, "scn_town_42_castle"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_724",
      [],
      "town_42_center:_generate",
      [
        (jump_to_scene, "scn_town_42_center"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_725",
      [],
      "town_42_prison:_indoors",
      [
        (jump_to_scene, "scn_town_42_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_726",
      [],
      "town_42_store:_indoors",
      [
        (jump_to_scene, "scn_town_42_store"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_727",
      [],
      "town_42_tavern:_generate",
      [
        (jump_to_scene, "scn_town_42_tavern"),
        (change_screen_mission),
      ]
      ),
    ],
  ),

  ("choose_scenes_728", 0,
    "Choose a scene: (Page 57 of 86)",
    "none",
    [],
    [
      ("back",
      [],
      "Go_back.",
      [
        (change_screen_quit),
      ]
      ),

      ("next",
      [],
      "Next...",
      [
        (jump_to_menu, "mnu_choose_scenes_741"),
      ]
      ),

      ("previous",
      [],
      "Previous...",
      [
        (jump_to_menu, "mnu_choose_scenes_715"),
      ]
      ),

      ("choose_scene_728",
      [],
      "town_42_walls:_generate",
      [
        (jump_to_scene, "scn_town_42_walls"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_729",
      [],
      "town_43_alley:_generate",
      [
        (jump_to_scene, "scn_town_43_alley"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_730",
      [],
      "town_43_arena:_generate",
      [
        (jump_to_scene, "scn_town_43_arena"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_731",
      [],
      "town_43_castle:_generate",
      [
        (jump_to_scene, "scn_town_43_castle"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_732",
      [],
      "town_43_center:_generate",
      [
        (jump_to_scene, "scn_town_43_center"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_733",
      [],
      "town_43_prison:_generate",
      [
        (jump_to_scene, "scn_town_43_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_734",
      [],
      "town_43_store:_generate",
      [
        (jump_to_scene, "scn_town_43_store"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_735",
      [],
      "town_43_tavern:_generate",
      [
        (jump_to_scene, "scn_town_43_tavern"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_736",
      [],
      "town_43_walls:_generate",
      [
        (jump_to_scene, "scn_town_43_walls"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_737",
      [],
      "town_44_alley:_generate",
      [
        (jump_to_scene, "scn_town_44_alley"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_738",
      [],
      "town_44_arena:_generate",
      [
        (jump_to_scene, "scn_town_44_arena"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_739",
      [],
      "town_44_castle:_indoors",
      [
        (jump_to_scene, "scn_town_44_castle"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_740",
      [],
      "town_44_center:_generate",
      [
        (jump_to_scene, "scn_town_44_center"),
        (change_screen_mission),
      ]
      ),
    ],
  ),

  ("choose_scenes_741", 0,
    "Choose a scene: (Page 58 of 86)",
    "none",
    [],
    [
      ("back",
      [],
      "Go_back.",
      [
        (change_screen_quit),
      ]
      ),

      ("next",
      [],
      "Next...",
      [
        (jump_to_menu, "mnu_choose_scenes_754"),
      ]
      ),

      ("previous",
      [],
      "Previous...",
      [
        (jump_to_menu, "mnu_choose_scenes_728"),
      ]
      ),

      ("choose_scene_741",
      [],
      "town_44_prison:_indoors",
      [
        (jump_to_scene, "scn_town_44_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_742",
      [],
      "town_44_store:_indoors",
      [
        (jump_to_scene, "scn_town_44_store"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_743",
      [],
      "town_44_tavern:_indoors",
      [
        (jump_to_scene, "scn_town_44_tavern"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_744",
      [],
      "town_44_walls:_generate",
      [
        (jump_to_scene, "scn_town_44_walls"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_745",
      [],
      "town_45_alley:_generate",
      [
        (jump_to_scene, "scn_town_45_alley"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_746",
      [],
      "town_45_arena:_generate",
      [
        (jump_to_scene, "scn_town_45_arena"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_747",
      [],
      "town_45_castle:_indoors",
      [
        (jump_to_scene, "scn_town_45_castle"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_748",
      [],
      "town_45_center:_generate",
      [
        (jump_to_scene, "scn_town_45_center"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_749",
      [],
      "town_45_prison:_indoors",
      [
        (jump_to_scene, "scn_town_45_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_750",
      [],
      "town_45_store:_indoors",
      [
        (jump_to_scene, "scn_town_45_store"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_751",
      [],
      "town_45_tavern:_indoors",
      [
        (jump_to_scene, "scn_town_45_tavern"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_752",
      [],
      "town_45_walls:_generate",
      [
        (jump_to_scene, "scn_town_45_walls"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_753",
      [],
      "town_46_alley:_generate",
      [
        (jump_to_scene, "scn_town_46_alley"),
        (change_screen_mission),
      ]
      ),
    ],
  ),

  ("choose_scenes_754", 0,
    "Choose a scene: (Page 59 of 86)",
    "none",
    [],
    [
      ("back",
      [],
      "Go_back.",
      [
        (change_screen_quit),
      ]
      ),

      ("next",
      [],
      "Next...",
      [
        (jump_to_menu, "mnu_choose_scenes_767"),
      ]
      ),

      ("previous",
      [],
      "Previous...",
      [
        (jump_to_menu, "mnu_choose_scenes_741"),
      ]
      ),

      ("choose_scene_754",
      [],
      "town_46_arena:_generate",
      [
        (jump_to_scene, "scn_town_46_arena"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_755",
      [],
      "town_46_castle:_generate",
      [
        (jump_to_scene, "scn_town_46_castle"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_756",
      [],
      "town_46_center:_generate",
      [
        (jump_to_scene, "scn_town_46_center"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_757",
      [],
      "town_46_prison:_indoors",
      [
        (jump_to_scene, "scn_town_46_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_758",
      [],
      "town_46_store:_indoors",
      [
        (jump_to_scene, "scn_town_46_store"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_759",
      [],
      "town_46_tavern:_generate",
      [
        (jump_to_scene, "scn_town_46_tavern"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_760",
      [],
      "town_46_walls:_generate",
      [
        (jump_to_scene, "scn_town_46_walls"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_761",
      [],
      "town_47_alley:_generate",
      [
        (jump_to_scene, "scn_town_47_alley"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_762",
      [],
      "town_47_arena:_generate",
      [
        (jump_to_scene, "scn_town_47_arena"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_763",
      [],
      "town_47_castle:_generate",
      [
        (jump_to_scene, "scn_town_47_castle"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_764",
      [],
      "town_47_center:_generate",
      [
        (jump_to_scene, "scn_town_47_center"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_765",
      [],
      "town_47_prison:_indoors",
      [
        (jump_to_scene, "scn_town_47_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_766",
      [],
      "town_47_store:_indoors",
      [
        (jump_to_scene, "scn_town_47_store"),
        (change_screen_mission),
      ]
      ),
    ],
  ),

  ("choose_scenes_767", 0,
    "Choose a scene: (Page 60 of 86)",
    "none",
    [],
    [
      ("back",
      [],
      "Go_back.",
      [
        (change_screen_quit),
      ]
      ),

      ("next",
      [],
      "Next...",
      [
        (jump_to_menu, "mnu_choose_scenes_780"),
      ]
      ),

      ("previous",
      [],
      "Previous...",
      [
        (jump_to_menu, "mnu_choose_scenes_754"),
      ]
      ),

      ("choose_scene_767",
      [],
      "town_47_tavern:_generate",
      [
        (jump_to_scene, "scn_town_47_tavern"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_768",
      [],
      "town_47_walls:_generate",
      [
        (jump_to_scene, "scn_town_47_walls"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_769",
      [],
      "town_48_alley:_generate",
      [
        (jump_to_scene, "scn_town_48_alley"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_770",
      [],
      "town_48_arena:_generate",
      [
        (jump_to_scene, "scn_town_48_arena"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_771",
      [],
      "town_48_castle:_indoors",
      [
        (jump_to_scene, "scn_town_48_castle"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_772",
      [],
      "town_48_center:_generate",
      [
        (jump_to_scene, "scn_town_48_center"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_773",
      [],
      "town_48_prison:_indoors",
      [
        (jump_to_scene, "scn_town_48_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_774",
      [],
      "town_48_store:_indoors",
      [
        (jump_to_scene, "scn_town_48_store"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_775",
      [],
      "town_48_tavern:_indoors",
      [
        (jump_to_scene, "scn_town_48_tavern"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_776",
      [],
      "town_48_walls:_generate",
      [
        (jump_to_scene, "scn_town_48_walls"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_777",
      [],
      "town_49_alley:_generate",
      [
        (jump_to_scene, "scn_town_49_alley"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_778",
      [],
      "town_49_arena:_generate",
      [
        (jump_to_scene, "scn_town_49_arena"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_779",
      [],
      "town_49_castle:_generate",
      [
        (jump_to_scene, "scn_town_49_castle"),
        (change_screen_mission),
      ]
      ),
    ],
  ),

  ("choose_scenes_780", 0,
    "Choose a scene: (Page 61 of 86)",
    "none",
    [],
    [
      ("back",
      [],
      "Go_back.",
      [
        (change_screen_quit),
      ]
      ),

      ("next",
      [],
      "Next...",
      [
        (jump_to_menu, "mnu_choose_scenes_793"),
      ]
      ),

      ("previous",
      [],
      "Previous...",
      [
        (jump_to_menu, "mnu_choose_scenes_767"),
      ]
      ),

      ("choose_scene_780",
      [],
      "town_49_center:_generate",
      [
        (jump_to_scene, "scn_town_49_center"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_781",
      [],
      "town_49_prison:_indoors",
      [
        (jump_to_scene, "scn_town_49_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_782",
      [],
      "town_49_store:_indoors",
      [
        (jump_to_scene, "scn_town_49_store"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_783",
      [],
      "town_49_tavern:_indoors",
      [
        (jump_to_scene, "scn_town_49_tavern"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_784",
      [],
      "town_49_walls:_generate",
      [
        (jump_to_scene, "scn_town_49_walls"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_785",
      [],
      "town_4_alley:_generate",
      [
        (jump_to_scene, "scn_town_4_alley"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_786",
      [],
      "town_4_arena:_generate",
      [
        (jump_to_scene, "scn_town_4_arena"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_787",
      [],
      "town_4_castle:_generate",
      [
        (jump_to_scene, "scn_town_4_castle"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_788",
      [],
      "town_4_center:_generate",
      [
        (jump_to_scene, "scn_town_4_center"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_789",
      [],
      "town_4_prison:_indoors",
      [
        (jump_to_scene, "scn_town_4_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_790",
      [],
      "town_4_store:_indoors",
      [
        (jump_to_scene, "scn_town_4_store"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_791",
      [],
      "town_4_tavern:_indoors",
      [
        (jump_to_scene, "scn_town_4_tavern"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_792",
      [],
      "town_4_walls:_generate",
      [
        (jump_to_scene, "scn_town_4_walls"),
        (change_screen_mission),
      ]
      ),
    ],
  ),

  ("choose_scenes_793", 0,
    "Choose a scene: (Page 62 of 86)",
    "none",
    [],
    [
      ("back",
      [],
      "Go_back.",
      [
        (change_screen_quit),
      ]
      ),

      ("next",
      [],
      "Next...",
      [
        (jump_to_menu, "mnu_choose_scenes_806"),
      ]
      ),

      ("previous",
      [],
      "Previous...",
      [
        (jump_to_menu, "mnu_choose_scenes_780"),
      ]
      ),

      ("choose_scene_793",
      [],
      "town_50_alley:_generate",
      [
        (jump_to_scene, "scn_town_50_alley"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_794",
      [],
      "town_50_arena:_generate",
      [
        (jump_to_scene, "scn_town_50_arena"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_795",
      [],
      "town_50_castle:_generate",
      [
        (jump_to_scene, "scn_town_50_castle"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_796",
      [],
      "town_50_center:_generate",
      [
        (jump_to_scene, "scn_town_50_center"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_797",
      [],
      "town_50_prison:_generate",
      [
        (jump_to_scene, "scn_town_50_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_798",
      [],
      "town_50_store:_generate",
      [
        (jump_to_scene, "scn_town_50_store"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_799",
      [],
      "town_50_tavern:_generate",
      [
        (jump_to_scene, "scn_town_50_tavern"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_800",
      [],
      "town_50_walls:_generate",
      [
        (jump_to_scene, "scn_town_50_walls"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_801",
      [],
      "town_5_alley:_generate",
      [
        (jump_to_scene, "scn_town_5_alley"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_802",
      [],
      "town_5_arena:_generate",
      [
        (jump_to_scene, "scn_town_5_arena"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_803",
      [],
      "town_5_castle:_generate",
      [
        (jump_to_scene, "scn_town_5_castle"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_804",
      [],
      "town_5_center:_generate",
      [
        (jump_to_scene, "scn_town_5_center"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_805",
      [],
      "town_5_prison:_indoors",
      [
        (jump_to_scene, "scn_town_5_prison"),
        (change_screen_mission),
      ]
      ),
    ],
  ),

  ("choose_scenes_806", 0,
    "Choose a scene: (Page 63 of 86)",
    "none",
    [],
    [
      ("back",
      [],
      "Go_back.",
      [
        (change_screen_quit),
      ]
      ),

      ("next",
      [],
      "Next...",
      [
        (jump_to_menu, "mnu_choose_scenes_819"),
      ]
      ),

      ("previous",
      [],
      "Previous...",
      [
        (jump_to_menu, "mnu_choose_scenes_793"),
      ]
      ),

      ("choose_scene_806",
      [],
      "town_5_room:_indoors",
      [
        (jump_to_scene, "scn_town_5_room"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_807",
      [],
      "town_5_store:_indoors",
      [
        (jump_to_scene, "scn_town_5_store"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_808",
      [],
      "town_5_tavern:_generate",
      [
        (jump_to_scene, "scn_town_5_tavern"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_809",
      [],
      "town_5_walls:_generate",
      [
        (jump_to_scene, "scn_town_5_walls"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_810",
      [],
      "town_6_alley:_generate",
      [
        (jump_to_scene, "scn_town_6_alley"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_811",
      [],
      "town_6_arena:_generate",
      [
        (jump_to_scene, "scn_town_6_arena"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_812",
      [],
      "town_6_castle:_indoors",
      [
        (jump_to_scene, "scn_town_6_castle"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_813",
      [],
      "town_6_center:_generate",
      [
        (jump_to_scene, "scn_town_6_center"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_814",
      [],
      "town_6_prison:_indoors",
      [
        (jump_to_scene, "scn_town_6_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_815",
      [],
      "town_6_room:_indoors",
      [
        (jump_to_scene, "scn_town_6_room"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_816",
      [],
      "town_6_store:_indoors",
      [
        (jump_to_scene, "scn_town_6_store"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_817",
      [],
      "town_6_tavern:_indoors",
      [
        (jump_to_scene, "scn_town_6_tavern"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_818",
      [],
      "town_6_walls:_generate",
      [
        (jump_to_scene, "scn_town_6_walls"),
        (change_screen_mission),
      ]
      ),
    ],
  ),

  ("choose_scenes_819", 0,
    "Choose a scene: (Page 64 of 86)",
    "none",
    [],
    [
      ("back",
      [],
      "Go_back.",
      [
        (change_screen_quit),
      ]
      ),

      ("next",
      [],
      "Next...",
      [
        (jump_to_menu, "mnu_choose_scenes_832"),
      ]
      ),

      ("previous",
      [],
      "Previous...",
      [
        (jump_to_menu, "mnu_choose_scenes_806"),
      ]
      ),

      ("choose_scene_819",
      [],
      "town_7_alley:_generate",
      [
        (jump_to_scene, "scn_town_7_alley"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_820",
      [],
      "town_7_arena:_generate",
      [
        (jump_to_scene, "scn_town_7_arena"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_821",
      [],
      "town_7_castle:_generate",
      [
        (jump_to_scene, "scn_town_7_castle"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_822",
      [],
      "town_7_center:_generate",
      [
        (jump_to_scene, "scn_town_7_center"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_823",
      [],
      "town_7_prison:_indoors",
      [
        (jump_to_scene, "scn_town_7_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_824",
      [],
      "town_7_store:_indoors",
      [
        (jump_to_scene, "scn_town_7_store"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_825",
      [],
      "town_7_tavern:_indoors",
      [
        (jump_to_scene, "scn_town_7_tavern"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_826",
      [],
      "town_7_walls:_generate",
      [
        (jump_to_scene, "scn_town_7_walls"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_827",
      [],
      "town_8_alley:_generate",
      [
        (jump_to_scene, "scn_town_8_alley"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_828",
      [],
      "town_8_arena:_generate",
      [
        (jump_to_scene, "scn_town_8_arena"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_829",
      [],
      "town_8_castle:_indoors",
      [
        (jump_to_scene, "scn_town_8_castle"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_830",
      [],
      "town_8_center:_generate",
      [
        (jump_to_scene, "scn_town_8_center"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_831",
      [],
      "town_8_prison:_indoors",
      [
        (jump_to_scene, "scn_town_8_prison"),
        (change_screen_mission),
      ]
      ),
    ],
  ),

  ("choose_scenes_832", 0,
    "Choose a scene: (Page 65 of 86)",
    "none",
    [],
    [
      ("back",
      [],
      "Go_back.",
      [
        (change_screen_quit),
      ]
      ),

      ("next",
      [],
      "Next...",
      [
        (jump_to_menu, "mnu_choose_scenes_845"),
      ]
      ),

      ("previous",
      [],
      "Previous...",
      [
        (jump_to_menu, "mnu_choose_scenes_819"),
      ]
      ),

      ("choose_scene_832",
      [],
      "town_8_room:_indoors",
      [
        (jump_to_scene, "scn_town_8_room"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_833",
      [],
      "town_8_store:_indoors",
      [
        (jump_to_scene, "scn_town_8_store"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_834",
      [],
      "town_8_tavern:_indoors",
      [
        (jump_to_scene, "scn_town_8_tavern"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_835",
      [],
      "town_8_walls:_generate",
      [
        (jump_to_scene, "scn_town_8_walls"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_836",
      [],
      "town_9_alley:_generate",
      [
        (jump_to_scene, "scn_town_9_alley"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_837",
      [],
      "town_9_arena:_generate",
      [
        (jump_to_scene, "scn_town_9_arena"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_838",
      [],
      "town_9_castle:_indoors",
      [
        (jump_to_scene, "scn_town_9_castle"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_839",
      [],
      "town_9_center:_generate",
      [
        (jump_to_scene, "scn_town_9_center"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_840",
      [],
      "town_9_prison:_indoors",
      [
        (jump_to_scene, "scn_town_9_prison"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_841",
      [],
      "town_9_store:_indoors",
      [
        (jump_to_scene, "scn_town_9_store"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_842",
      [],
      "town_9_tavern:_indoors",
      [
        (jump_to_scene, "scn_town_9_tavern"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_843",
      [],
      "town_9_walls:_generate",
      [
        (jump_to_scene, "scn_town_9_walls"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_844",
      [],
      "training_ground:_generate",
      [
        (jump_to_scene, "scn_training_ground"),
        (change_screen_mission),
      ]
      ),
    ],
  ),

  ("choose_scenes_845", 0,
    "Choose a scene: (Page 66 of 86)",
    "none",
    [],
    [
      ("back",
      [],
      "Go_back.",
      [
        (change_screen_quit),
      ]
      ),

      ("next",
      [],
      "Next...",
      [
        (jump_to_menu, "mnu_choose_scenes_858"),
      ]
      ),

      ("previous",
      [],
      "Previous...",
      [
        (jump_to_menu, "mnu_choose_scenes_832"),
      ]
      ),

      ("choose_scene_845",
      [],
      "training_ground_horse_track_1:_generate",
      [
        (jump_to_scene, "scn_training_ground_horse_track_1"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_846",
      [],
      "training_ground_horse_track_2:_generate",
      [
        (jump_to_scene, "scn_training_ground_horse_track_2"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_847",
      [],
      "training_ground_horse_track_3:_generate",
      [
        (jump_to_scene, "scn_training_ground_horse_track_3"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_848",
      [],
      "training_ground_horse_track_4:_generate",
      [
        (jump_to_scene, "scn_training_ground_horse_track_4"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_849",
      [],
      "training_ground_horse_track_5:_generate",
      [
        (jump_to_scene, "scn_training_ground_horse_track_5"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_850",
      [],
      "training_ground_ranged_melee_1:_generate",
      [
        (jump_to_scene, "scn_training_ground_ranged_melee_1"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_851",
      [],
      "training_ground_ranged_melee_2:_generate",
      [
        (jump_to_scene, "scn_training_ground_ranged_melee_2"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_852",
      [],
      "training_ground_ranged_melee_3:_generate",
      [
        (jump_to_scene, "scn_training_ground_ranged_melee_3"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_853",
      [],
      "training_ground_ranged_melee_4:_generate",
      [
        (jump_to_scene, "scn_training_ground_ranged_melee_4"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_854",
      [],
      "training_ground_ranged_melee_5:_generate",
      [
        (jump_to_scene, "scn_training_ground_ranged_melee_5"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_855",
      [],
      "tutorial_1:_indoors",
      [
        (jump_to_scene, "scn_tutorial_1"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_856",
      [],
      "tutorial_2:_indoors",
      [
        (jump_to_scene, "scn_tutorial_2"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_857",
      [],
      "tutorial_3:_indoors",
      [
        (jump_to_scene, "scn_tutorial_3"),
        (change_screen_mission),
      ]
      ),
    ],
  ),

  ("choose_scenes_858", 0,
    "Choose a scene: (Page 67 of 86)",
    "none",
    [],
    [
      ("back",
      [],
      "Go_back.",
      [
        (change_screen_quit),
      ]
      ),

      ("next",
      [],
      "Next...",
      [
        (jump_to_menu, "mnu_choose_scenes_871"),
      ]
      ),

      ("previous",
      [],
      "Previous...",
      [
        (jump_to_menu, "mnu_choose_scenes_845"),
      ]
      ),

      ("choose_scene_858",
      [],
      "tutorial_4:_generate",
      [
        (jump_to_scene, "scn_tutorial_4"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_859",
      [],
      "tutorial_5:_generate",
      [
        (jump_to_scene, "scn_tutorial_5"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_860",
      [],
      "tutorial_training_ground:_generate",
      [
        (jump_to_scene, "scn_tutorial_training_ground"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_861",
      [],
      "village_1:_generate",
      [
        (jump_to_scene, "scn_village_1"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_862",
      [],
      "village_10:_generate",
      [
        (jump_to_scene, "scn_village_10"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_863",
      [],
      "village_100:_generate",
      [
        (jump_to_scene, "scn_village_100"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_864",
      [],
      "village_101:_generate",
      [
        (jump_to_scene, "scn_village_101"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_865",
      [],
      "village_102:_generate",
      [
        (jump_to_scene, "scn_village_102"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_866",
      [],
      "village_103:_generate",
      [
        (jump_to_scene, "scn_village_103"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_867",
      [],
      "village_104:_generate",
      [
        (jump_to_scene, "scn_village_104"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_868",
      [],
      "village_105:_generate",
      [
        (jump_to_scene, "scn_village_105"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_869",
      [],
      "village_106:_generate",
      [
        (jump_to_scene, "scn_village_106"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_870",
      [],
      "village_107:_generate",
      [
        (jump_to_scene, "scn_village_107"),
        (change_screen_mission),
      ]
      ),
    ],
  ),

  ("choose_scenes_871", 0,
    "Choose a scene: (Page 68 of 86)",
    "none",
    [],
    [
      ("back",
      [],
      "Go_back.",
      [
        (change_screen_quit),
      ]
      ),

      ("next",
      [],
      "Next...",
      [
        (jump_to_menu, "mnu_choose_scenes_884"),
      ]
      ),

      ("previous",
      [],
      "Previous...",
      [
        (jump_to_menu, "mnu_choose_scenes_858"),
      ]
      ),

      ("choose_scene_871",
      [],
      "village_108:_generate",
      [
        (jump_to_scene, "scn_village_108"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_872",
      [],
      "village_109:_generate",
      [
        (jump_to_scene, "scn_village_109"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_873",
      [],
      "village_11:_generate",
      [
        (jump_to_scene, "scn_village_11"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_874",
      [],
      "village_110:_generate",
      [
        (jump_to_scene, "scn_village_110"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_875",
      [],
      "village_111:_generate",
      [
        (jump_to_scene, "scn_village_111"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_876",
      [],
      "village_112:_generate",
      [
        (jump_to_scene, "scn_village_112"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_877",
      [],
      "village_113:_generate",
      [
        (jump_to_scene, "scn_village_113"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_878",
      [],
      "village_114:_generate",
      [
        (jump_to_scene, "scn_village_114"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_879",
      [],
      "village_115:_generate",
      [
        (jump_to_scene, "scn_village_115"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_880",
      [],
      "village_116:_generate",
      [
        (jump_to_scene, "scn_village_116"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_881",
      [],
      "village_117:_generate",
      [
        (jump_to_scene, "scn_village_117"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_882",
      [],
      "village_118:_generate",
      [
        (jump_to_scene, "scn_village_118"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_883",
      [],
      "village_119:_generate",
      [
        (jump_to_scene, "scn_village_119"),
        (change_screen_mission),
      ]
      ),
    ],
  ),

  ("choose_scenes_884", 0,
    "Choose a scene: (Page 69 of 86)",
    "none",
    [],
    [
      ("back",
      [],
      "Go_back.",
      [
        (change_screen_quit),
      ]
      ),

      ("next",
      [],
      "Next...",
      [
        (jump_to_menu, "mnu_choose_scenes_897"),
      ]
      ),

      ("previous",
      [],
      "Previous...",
      [
        (jump_to_menu, "mnu_choose_scenes_871"),
      ]
      ),

      ("choose_scene_884",
      [],
      "village_12:_generate",
      [
        (jump_to_scene, "scn_village_12"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_885",
      [],
      "village_120:_generate",
      [
        (jump_to_scene, "scn_village_120"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_886",
      [],
      "village_121:_generate",
      [
        (jump_to_scene, "scn_village_121"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_887",
      [],
      "village_122:_generate",
      [
        (jump_to_scene, "scn_village_122"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_888",
      [],
      "village_123:_generate",
      [
        (jump_to_scene, "scn_village_123"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_889",
      [],
      "village_124:_generate",
      [
        (jump_to_scene, "scn_village_124"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_890",
      [],
      "village_125:_generate",
      [
        (jump_to_scene, "scn_village_125"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_891",
      [],
      "village_126:_generate",
      [
        (jump_to_scene, "scn_village_126"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_892",
      [],
      "village_127:_generate",
      [
        (jump_to_scene, "scn_village_127"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_893",
      [],
      "village_128:_generate",
      [
        (jump_to_scene, "scn_village_128"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_894",
      [],
      "village_129:_generate",
      [
        (jump_to_scene, "scn_village_129"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_895",
      [],
      "village_13:_generate",
      [
        (jump_to_scene, "scn_village_13"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_896",
      [],
      "village_130:_generate",
      [
        (jump_to_scene, "scn_village_130"),
        (change_screen_mission),
      ]
      ),
    ],
  ),

  ("choose_scenes_897", 0,
    "Choose a scene: (Page 70 of 86)",
    "none",
    [],
    [
      ("back",
      [],
      "Go_back.",
      [
        (change_screen_quit),
      ]
      ),

      ("next",
      [],
      "Next...",
      [
        (jump_to_menu, "mnu_choose_scenes_910"),
      ]
      ),

      ("previous",
      [],
      "Previous...",
      [
        (jump_to_menu, "mnu_choose_scenes_884"),
      ]
      ),

      ("choose_scene_897",
      [],
      "village_131:_generate",
      [
        (jump_to_scene, "scn_village_131"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_898",
      [],
      "village_132:_generate",
      [
        (jump_to_scene, "scn_village_132"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_899",
      [],
      "village_133:_generate",
      [
        (jump_to_scene, "scn_village_133"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_900",
      [],
      "village_134:_generate",
      [
        (jump_to_scene, "scn_village_134"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_901",
      [],
      "village_135:_generate",
      [
        (jump_to_scene, "scn_village_135"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_902",
      [],
      "village_136:_generate",
      [
        (jump_to_scene, "scn_village_136"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_903",
      [],
      "village_137:_generate",
      [
        (jump_to_scene, "scn_village_137"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_904",
      [],
      "village_138:_generate",
      [
        (jump_to_scene, "scn_village_138"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_905",
      [],
      "village_139:_generate",
      [
        (jump_to_scene, "scn_village_139"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_906",
      [],
      "village_14:_generate",
      [
        (jump_to_scene, "scn_village_14"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_907",
      [],
      "village_140:_generate",
      [
        (jump_to_scene, "scn_village_140"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_908",
      [],
      "village_141:_generate",
      [
        (jump_to_scene, "scn_village_141"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_909",
      [],
      "village_142:_generate",
      [
        (jump_to_scene, "scn_village_142"),
        (change_screen_mission),
      ]
      ),
    ],
  ),

  ("choose_scenes_910", 0,
    "Choose a scene: (Page 71 of 86)",
    "none",
    [],
    [
      ("back",
      [],
      "Go_back.",
      [
        (change_screen_quit),
      ]
      ),

      ("next",
      [],
      "Next...",
      [
        (jump_to_menu, "mnu_choose_scenes_923"),
      ]
      ),

      ("previous",
      [],
      "Previous...",
      [
        (jump_to_menu, "mnu_choose_scenes_897"),
      ]
      ),

      ("choose_scene_910",
      [],
      "village_143:_generate",
      [
        (jump_to_scene, "scn_village_143"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_911",
      [],
      "village_144:_generate",
      [
        (jump_to_scene, "scn_village_144"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_912",
      [],
      "village_145:_generate",
      [
        (jump_to_scene, "scn_village_145"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_913",
      [],
      "village_146:_generate",
      [
        (jump_to_scene, "scn_village_146"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_914",
      [],
      "village_147:_generate",
      [
        (jump_to_scene, "scn_village_147"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_915",
      [],
      "village_148:_generate",
      [
        (jump_to_scene, "scn_village_148"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_916",
      [],
      "village_149:_generate",
      [
        (jump_to_scene, "scn_village_149"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_917",
      [],
      "village_15:_generate",
      [
        (jump_to_scene, "scn_village_15"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_918",
      [],
      "village_150:_generate",
      [
        (jump_to_scene, "scn_village_150"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_919",
      [],
      "village_151:_generate",
      [
        (jump_to_scene, "scn_village_151"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_920",
      [],
      "village_152:_generate",
      [
        (jump_to_scene, "scn_village_152"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_921",
      [],
      "village_153:_generate",
      [
        (jump_to_scene, "scn_village_153"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_922",
      [],
      "village_154:_generate",
      [
        (jump_to_scene, "scn_village_154"),
        (change_screen_mission),
      ]
      ),
    ],
  ),

  ("choose_scenes_923", 0,
    "Choose a scene: (Page 72 of 86)",
    "none",
    [],
    [
      ("back",
      [],
      "Go_back.",
      [
        (change_screen_quit),
      ]
      ),

      ("next",
      [],
      "Next...",
      [
        (jump_to_menu, "mnu_choose_scenes_936"),
      ]
      ),

      ("previous",
      [],
      "Previous...",
      [
        (jump_to_menu, "mnu_choose_scenes_910"),
      ]
      ),

      ("choose_scene_923",
      [],
      "village_155:_generate",
      [
        (jump_to_scene, "scn_village_155"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_924",
      [],
      "village_156:_generate",
      [
        (jump_to_scene, "scn_village_156"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_925",
      [],
      "village_157:_generate",
      [
        (jump_to_scene, "scn_village_157"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_926",
      [],
      "village_158:_generate",
      [
        (jump_to_scene, "scn_village_158"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_927",
      [],
      "village_159:_generate",
      [
        (jump_to_scene, "scn_village_159"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_928",
      [],
      "village_16:_generate",
      [
        (jump_to_scene, "scn_village_16"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_929",
      [],
      "village_160:_generate",
      [
        (jump_to_scene, "scn_village_160"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_930",
      [],
      "village_161:_generate",
      [
        (jump_to_scene, "scn_village_161"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_931",
      [],
      "village_162:_generate",
      [
        (jump_to_scene, "scn_village_162"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_932",
      [],
      "village_163:_generate",
      [
        (jump_to_scene, "scn_village_163"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_933",
      [],
      "village_164:_generate",
      [
        (jump_to_scene, "scn_village_164"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_934",
      [],
      "village_165:_generate",
      [
        (jump_to_scene, "scn_village_165"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_935",
      [],
      "village_166:_generate",
      [
        (jump_to_scene, "scn_village_166"),
        (change_screen_mission),
      ]
      ),
    ],
  ),

  ("choose_scenes_936", 0,
    "Choose a scene: (Page 73 of 86)",
    "none",
    [],
    [
      ("back",
      [],
      "Go_back.",
      [
        (change_screen_quit),
      ]
      ),

      ("next",
      [],
      "Next...",
      [
        (jump_to_menu, "mnu_choose_scenes_949"),
      ]
      ),

      ("previous",
      [],
      "Previous...",
      [
        (jump_to_menu, "mnu_choose_scenes_923"),
      ]
      ),

      ("choose_scene_936",
      [],
      "village_167:_generate",
      [
        (jump_to_scene, "scn_village_167"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_937",
      [],
      "village_168:_generate",
      [
        (jump_to_scene, "scn_village_168"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_938",
      [],
      "village_169:_generate",
      [
        (jump_to_scene, "scn_village_169"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_939",
      [],
      "village_17:_generate",
      [
        (jump_to_scene, "scn_village_17"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_940",
      [],
      "village_170:_generate",
      [
        (jump_to_scene, "scn_village_170"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_941",
      [],
      "village_171:_generate",
      [
        (jump_to_scene, "scn_village_171"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_942",
      [],
      "village_172:_generate",
      [
        (jump_to_scene, "scn_village_172"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_943",
      [],
      "village_173:_generate",
      [
        (jump_to_scene, "scn_village_173"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_944",
      [],
      "village_174:_generate",
      [
        (jump_to_scene, "scn_village_174"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_945",
      [],
      "village_175:_generate",
      [
        (jump_to_scene, "scn_village_175"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_946",
      [],
      "village_176:_generate",
      [
        (jump_to_scene, "scn_village_176"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_947",
      [],
      "village_177:_generate",
      [
        (jump_to_scene, "scn_village_177"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_948",
      [],
      "village_178:_generate",
      [
        (jump_to_scene, "scn_village_178"),
        (change_screen_mission),
      ]
      ),
    ],
  ),

  ("choose_scenes_949", 0,
    "Choose a scene: (Page 74 of 86)",
    "none",
    [],
    [
      ("back",
      [],
      "Go_back.",
      [
        (change_screen_quit),
      ]
      ),

      ("next",
      [],
      "Next...",
      [
        (jump_to_menu, "mnu_choose_scenes_962"),
      ]
      ),

      ("previous",
      [],
      "Previous...",
      [
        (jump_to_menu, "mnu_choose_scenes_936"),
      ]
      ),

      ("choose_scene_949",
      [],
      "village_179:_generate",
      [
        (jump_to_scene, "scn_village_179"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_950",
      [],
      "village_18:_generate",
      [
        (jump_to_scene, "scn_village_18"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_951",
      [],
      "village_180:_generate",
      [
        (jump_to_scene, "scn_village_180"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_952",
      [],
      "village_181:_generate",
      [
        (jump_to_scene, "scn_village_181"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_953",
      [],
      "village_182:_generate",
      [
        (jump_to_scene, "scn_village_182"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_954",
      [],
      "village_183:_generate",
      [
        (jump_to_scene, "scn_village_183"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_955",
      [],
      "village_184:_generate",
      [
        (jump_to_scene, "scn_village_184"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_956",
      [],
      "village_185:_generate",
      [
        (jump_to_scene, "scn_village_185"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_957",
      [],
      "village_186:_generate",
      [
        (jump_to_scene, "scn_village_186"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_958",
      [],
      "village_187:_generate",
      [
        (jump_to_scene, "scn_village_187"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_959",
      [],
      "village_188:_generate",
      [
        (jump_to_scene, "scn_village_188"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_960",
      [],
      "village_189:_generate",
      [
        (jump_to_scene, "scn_village_189"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_961",
      [],
      "village_19:_generate",
      [
        (jump_to_scene, "scn_village_19"),
        (change_screen_mission),
      ]
      ),
    ],
  ),

  ("choose_scenes_962", 0,
    "Choose a scene: (Page 75 of 86)",
    "none",
    [],
    [
      ("back",
      [],
      "Go_back.",
      [
        (change_screen_quit),
      ]
      ),

      ("next",
      [],
      "Next...",
      [
        (jump_to_menu, "mnu_choose_scenes_975"),
      ]
      ),

      ("previous",
      [],
      "Previous...",
      [
        (jump_to_menu, "mnu_choose_scenes_949"),
      ]
      ),

      ("choose_scene_962",
      [],
      "village_190:_generate",
      [
        (jump_to_scene, "scn_village_190"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_963",
      [],
      "village_191:_generate",
      [
        (jump_to_scene, "scn_village_191"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_964",
      [],
      "village_192:_generate",
      [
        (jump_to_scene, "scn_village_192"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_965",
      [],
      "village_193:_generate",
      [
        (jump_to_scene, "scn_village_193"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_966",
      [],
      "village_194:_generate",
      [
        (jump_to_scene, "scn_village_194"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_967",
      [],
      "village_195:_generate",
      [
        (jump_to_scene, "scn_village_195"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_968",
      [],
      "village_196:_generate",
      [
        (jump_to_scene, "scn_village_196"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_969",
      [],
      "village_197:_generate",
      [
        (jump_to_scene, "scn_village_197"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_970",
      [],
      "village_198:_generate",
      [
        (jump_to_scene, "scn_village_198"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_971",
      [],
      "village_199:_generate",
      [
        (jump_to_scene, "scn_village_199"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_972",
      [],
      "village_2:_generate",
      [
        (jump_to_scene, "scn_village_2"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_973",
      [],
      "village_20:_generate",
      [
        (jump_to_scene, "scn_village_20"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_974",
      [],
      "village_200:_generate",
      [
        (jump_to_scene, "scn_village_200"),
        (change_screen_mission),
      ]
      ),
    ],
  ),

  ("choose_scenes_975", 0,
    "Choose a scene: (Page 76 of 86)",
    "none",
    [],
    [
      ("back",
      [],
      "Go_back.",
      [
        (change_screen_quit),
      ]
      ),

      ("next",
      [],
      "Next...",
      [
        (jump_to_menu, "mnu_choose_scenes_988"),
      ]
      ),

      ("previous",
      [],
      "Previous...",
      [
        (jump_to_menu, "mnu_choose_scenes_962"),
      ]
      ),

      ("choose_scene_975",
      [],
      "village_201:_generate",
      [
        (jump_to_scene, "scn_village_201"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_976",
      [],
      "village_202:_generate",
      [
        (jump_to_scene, "scn_village_202"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_977",
      [],
      "village_203:_generate",
      [
        (jump_to_scene, "scn_village_203"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_978",
      [],
      "village_204:_generate",
      [
        (jump_to_scene, "scn_village_204"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_979",
      [],
      "village_205:_generate",
      [
        (jump_to_scene, "scn_village_205"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_980",
      [],
      "village_206:_generate",
      [
        (jump_to_scene, "scn_village_206"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_981",
      [],
      "village_207:_generate",
      [
        (jump_to_scene, "scn_village_207"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_982",
      [],
      "village_208:_generate",
      [
        (jump_to_scene, "scn_village_208"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_983",
      [],
      "village_209:_generate",
      [
        (jump_to_scene, "scn_village_209"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_984",
      [],
      "village_21:_generate",
      [
        (jump_to_scene, "scn_village_21"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_985",
      [],
      "village_210:_generate",
      [
        (jump_to_scene, "scn_village_210"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_986",
      [],
      "village_211:_generate",
      [
        (jump_to_scene, "scn_village_211"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_987",
      [],
      "village_212:_generate",
      [
        (jump_to_scene, "scn_village_212"),
        (change_screen_mission),
      ]
      ),
    ],
  ),

  ("choose_scenes_988", 0,
    "Choose a scene: (Page 77 of 86)",
    "none",
    [],
    [
      ("back",
      [],
      "Go_back.",
      [
        (change_screen_quit),
      ]
      ),

      ("next",
      [],
      "Next...",
      [
        (jump_to_menu, "mnu_choose_scenes_1001"),
      ]
      ),

      ("previous",
      [],
      "Previous...",
      [
        (jump_to_menu, "mnu_choose_scenes_975"),
      ]
      ),

      ("choose_scene_988",
      [],
      "village_213:_generate",
      [
        (jump_to_scene, "scn_village_213"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_989",
      [],
      "village_214:_generate",
      [
        (jump_to_scene, "scn_village_214"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_990",
      [],
      "village_215:_generate",
      [
        (jump_to_scene, "scn_village_215"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_991",
      [],
      "village_216:_generate",
      [
        (jump_to_scene, "scn_village_216"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_992",
      [],
      "village_217:_generate",
      [
        (jump_to_scene, "scn_village_217"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_993",
      [],
      "village_218:_generate",
      [
        (jump_to_scene, "scn_village_218"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_994",
      [],
      "village_219:_generate",
      [
        (jump_to_scene, "scn_village_219"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_995",
      [],
      "village_22:_generate",
      [
        (jump_to_scene, "scn_village_22"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_996",
      [],
      "village_220:_generate",
      [
        (jump_to_scene, "scn_village_220"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_997",
      [],
      "village_221:_generate",
      [
        (jump_to_scene, "scn_village_221"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_998",
      [],
      "village_222:_generate",
      [
        (jump_to_scene, "scn_village_222"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_999",
      [],
      "village_223:_generate",
      [
        (jump_to_scene, "scn_village_223"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_1000",
      [],
      "village_224:_generate",
      [
        (jump_to_scene, "scn_village_224"),
        (change_screen_mission),
      ]
      ),
    ],
  ),

  ("choose_scenes_1001", 0,
    "Choose a scene: (Page 78 of 86)",
    "none",
    [],
    [
      ("back",
      [],
      "Go_back.",
      [
        (change_screen_quit),
      ]
      ),

      ("next",
      [],
      "Next...",
      [
        (jump_to_menu, "mnu_choose_scenes_1014"),
      ]
      ),

      ("previous",
      [],
      "Previous...",
      [
        (jump_to_menu, "mnu_choose_scenes_988"),
      ]
      ),

      ("choose_scene_1001",
      [],
      "village_225:_generate",
      [
        (jump_to_scene, "scn_village_225"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_1002",
      [],
      "village_226:_generate",
      [
        (jump_to_scene, "scn_village_226"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_1003",
      [],
      "village_227:_generate",
      [
        (jump_to_scene, "scn_village_227"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_1004",
      [],
      "village_228:_generate",
      [
        (jump_to_scene, "scn_village_228"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_1005",
      [],
      "village_229:_generate",
      [
        (jump_to_scene, "scn_village_229"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_1006",
      [],
      "village_23:_generate",
      [
        (jump_to_scene, "scn_village_23"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_1007",
      [],
      "village_230:_generate",
      [
        (jump_to_scene, "scn_village_230"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_1008",
      [],
      "village_231:_generate",
      [
        (jump_to_scene, "scn_village_231"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_1009",
      [],
      "village_232:_generate",
      [
        (jump_to_scene, "scn_village_232"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_1010",
      [],
      "village_233:_generate",
      [
        (jump_to_scene, "scn_village_233"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_1011",
      [],
      "village_234:_generate",
      [
        (jump_to_scene, "scn_village_234"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_1012",
      [],
      "village_235:_generate",
      [
        (jump_to_scene, "scn_village_235"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_1013",
      [],
      "village_236:_generate",
      [
        (jump_to_scene, "scn_village_236"),
        (change_screen_mission),
      ]
      ),
    ],
  ),

  ("choose_scenes_1014", 0,
    "Choose a scene: (Page 79 of 86)",
    "none",
    [],
    [
      ("back",
      [],
      "Go_back.",
      [
        (change_screen_quit),
      ]
      ),

      ("next",
      [],
      "Next...",
      [
        (jump_to_menu, "mnu_choose_scenes_1027"),
      ]
      ),

      ("previous",
      [],
      "Previous...",
      [
        (jump_to_menu, "mnu_choose_scenes_1001"),
      ]
      ),

      ("choose_scene_1014",
      [],
      "village_237:_generate",
      [
        (jump_to_scene, "scn_village_237"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_1015",
      [],
      "village_238:_generate",
      [
        (jump_to_scene, "scn_village_238"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_1016",
      [],
      "village_239:_generate",
      [
        (jump_to_scene, "scn_village_239"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_1017",
      [],
      "village_24:_generate",
      [
        (jump_to_scene, "scn_village_24"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_1018",
      [],
      "village_240:_generate",
      [
        (jump_to_scene, "scn_village_240"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_1019",
      [],
      "village_241:_generate",
      [
        (jump_to_scene, "scn_village_241"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_1020",
      [],
      "village_242:_generate",
      [
        (jump_to_scene, "scn_village_242"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_1021",
      [],
      "village_243:_generate",
      [
        (jump_to_scene, "scn_village_243"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_1022",
      [],
      "village_25:_generate",
      [
        (jump_to_scene, "scn_village_25"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_1023",
      [],
      "village_26:_generate",
      [
        (jump_to_scene, "scn_village_26"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_1024",
      [],
      "village_27:_generate",
      [
        (jump_to_scene, "scn_village_27"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_1025",
      [],
      "village_28:_generate",
      [
        (jump_to_scene, "scn_village_28"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_1026",
      [],
      "village_29:_generate",
      [
        (jump_to_scene, "scn_village_29"),
        (change_screen_mission),
      ]
      ),
    ],
  ),

  ("choose_scenes_1027", 0,
    "Choose a scene: (Page 80 of 86)",
    "none",
    [],
    [
      ("back",
      [],
      "Go_back.",
      [
        (change_screen_quit),
      ]
      ),

      ("next",
      [],
      "Next...",
      [
        (jump_to_menu, "mnu_choose_scenes_1040"),
      ]
      ),

      ("previous",
      [],
      "Previous...",
      [
        (jump_to_menu, "mnu_choose_scenes_1014"),
      ]
      ),

      ("choose_scene_1027",
      [],
      "village_3:_generate",
      [
        (jump_to_scene, "scn_village_3"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_1028",
      [],
      "village_30:_generate",
      [
        (jump_to_scene, "scn_village_30"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_1029",
      [],
      "village_31:_generate",
      [
        (jump_to_scene, "scn_village_31"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_1030",
      [],
      "village_32:_generate",
      [
        (jump_to_scene, "scn_village_32"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_1031",
      [],
      "village_33:_generate",
      [
        (jump_to_scene, "scn_village_33"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_1032",
      [],
      "village_34:_generate",
      [
        (jump_to_scene, "scn_village_34"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_1033",
      [],
      "village_35:_generate",
      [
        (jump_to_scene, "scn_village_35"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_1034",
      [],
      "village_36:_generate",
      [
        (jump_to_scene, "scn_village_36"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_1035",
      [],
      "village_37:_generate",
      [
        (jump_to_scene, "scn_village_37"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_1036",
      [],
      "village_38:_generate",
      [
        (jump_to_scene, "scn_village_38"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_1037",
      [],
      "village_39:_generate",
      [
        (jump_to_scene, "scn_village_39"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_1038",
      [],
      "village_4:_generate",
      [
        (jump_to_scene, "scn_village_4"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_1039",
      [],
      "village_40:_generate",
      [
        (jump_to_scene, "scn_village_40"),
        (change_screen_mission),
      ]
      ),
    ],
  ),

  ("choose_scenes_1040", 0,
    "Choose a scene: (Page 81 of 86)",
    "none",
    [],
    [
      ("back",
      [],
      "Go_back.",
      [
        (change_screen_quit),
      ]
      ),

      ("next",
      [],
      "Next...",
      [
        (jump_to_menu, "mnu_choose_scenes_1053"),
      ]
      ),

      ("previous",
      [],
      "Previous...",
      [
        (jump_to_menu, "mnu_choose_scenes_1027"),
      ]
      ),

      ("choose_scene_1040",
      [],
      "village_41:_generate",
      [
        (jump_to_scene, "scn_village_41"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_1041",
      [],
      "village_42:_generate",
      [
        (jump_to_scene, "scn_village_42"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_1042",
      [],
      "village_43:_generate",
      [
        (jump_to_scene, "scn_village_43"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_1043",
      [],
      "village_44:_generate",
      [
        (jump_to_scene, "scn_village_44"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_1044",
      [],
      "village_45:_generate",
      [
        (jump_to_scene, "scn_village_45"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_1045",
      [],
      "village_46:_generate",
      [
        (jump_to_scene, "scn_village_46"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_1046",
      [],
      "village_47:_generate",
      [
        (jump_to_scene, "scn_village_47"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_1047",
      [],
      "village_48:_generate",
      [
        (jump_to_scene, "scn_village_48"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_1048",
      [],
      "village_49:_generate",
      [
        (jump_to_scene, "scn_village_49"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_1049",
      [],
      "village_5:_generate",
      [
        (jump_to_scene, "scn_village_5"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_1050",
      [],
      "village_50:_generate",
      [
        (jump_to_scene, "scn_village_50"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_1051",
      [],
      "village_51:_generate",
      [
        (jump_to_scene, "scn_village_51"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_1052",
      [],
      "village_52:_generate",
      [
        (jump_to_scene, "scn_village_52"),
        (change_screen_mission),
      ]
      ),
    ],
  ),

  ("choose_scenes_1053", 0,
    "Choose a scene: (Page 82 of 86)",
    "none",
    [],
    [
      ("back",
      [],
      "Go_back.",
      [
        (change_screen_quit),
      ]
      ),

      ("next",
      [],
      "Next...",
      [
        (jump_to_menu, "mnu_choose_scenes_1066"),
      ]
      ),

      ("previous",
      [],
      "Previous...",
      [
        (jump_to_menu, "mnu_choose_scenes_1040"),
      ]
      ),

      ("choose_scene_1053",
      [],
      "village_53:_generate",
      [
        (jump_to_scene, "scn_village_53"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_1054",
      [],
      "village_54:_generate",
      [
        (jump_to_scene, "scn_village_54"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_1055",
      [],
      "village_55:_generate",
      [
        (jump_to_scene, "scn_village_55"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_1056",
      [],
      "village_56:_generate",
      [
        (jump_to_scene, "scn_village_56"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_1057",
      [],
      "village_57:_generate",
      [
        (jump_to_scene, "scn_village_57"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_1058",
      [],
      "village_58:_generate",
      [
        (jump_to_scene, "scn_village_58"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_1059",
      [],
      "village_59:_generate",
      [
        (jump_to_scene, "scn_village_59"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_1060",
      [],
      "village_6:_generate",
      [
        (jump_to_scene, "scn_village_6"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_1061",
      [],
      "village_60:_generate",
      [
        (jump_to_scene, "scn_village_60"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_1062",
      [],
      "village_61:_generate",
      [
        (jump_to_scene, "scn_village_61"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_1063",
      [],
      "village_62:_generate",
      [
        (jump_to_scene, "scn_village_62"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_1064",
      [],
      "village_63:_generate",
      [
        (jump_to_scene, "scn_village_63"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_1065",
      [],
      "village_64:_generate",
      [
        (jump_to_scene, "scn_village_64"),
        (change_screen_mission),
      ]
      ),
    ],
  ),

  ("choose_scenes_1066", 0,
    "Choose a scene: (Page 83 of 86)",
    "none",
    [],
    [
      ("back",
      [],
      "Go_back.",
      [
        (change_screen_quit),
      ]
      ),

      ("next",
      [],
      "Next...",
      [
        (jump_to_menu, "mnu_choose_scenes_1079"),
      ]
      ),

      ("previous",
      [],
      "Previous...",
      [
        (jump_to_menu, "mnu_choose_scenes_1053"),
      ]
      ),

      ("choose_scene_1066",
      [],
      "village_65:_generate",
      [
        (jump_to_scene, "scn_village_65"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_1067",
      [],
      "village_66:_generate",
      [
        (jump_to_scene, "scn_village_66"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_1068",
      [],
      "village_67:_generate",
      [
        (jump_to_scene, "scn_village_67"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_1069",
      [],
      "village_68:_generate",
      [
        (jump_to_scene, "scn_village_68"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_1070",
      [],
      "village_69:_generate",
      [
        (jump_to_scene, "scn_village_69"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_1071",
      [],
      "village_7:_generate",
      [
        (jump_to_scene, "scn_village_7"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_1072",
      [],
      "village_70:_generate",
      [
        (jump_to_scene, "scn_village_70"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_1073",
      [],
      "village_71:_generate",
      [
        (jump_to_scene, "scn_village_71"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_1074",
      [],
      "village_72:_generate",
      [
        (jump_to_scene, "scn_village_72"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_1075",
      [],
      "village_73:_generate",
      [
        (jump_to_scene, "scn_village_73"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_1076",
      [],
      "village_74:_generate",
      [
        (jump_to_scene, "scn_village_74"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_1077",
      [],
      "village_75:_generate",
      [
        (jump_to_scene, "scn_village_75"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_1078",
      [],
      "village_76:_generate",
      [
        (jump_to_scene, "scn_village_76"),
        (change_screen_mission),
      ]
      ),
    ],
  ),

  ("choose_scenes_1079", 0,
    "Choose a scene: (Page 84 of 86)",
    "none",
    [],
    [
      ("back",
      [],
      "Go_back.",
      [
        (change_screen_quit),
      ]
      ),

      ("next",
      [],
      "Next...",
      [
        (jump_to_menu, "mnu_choose_scenes_1092"),
      ]
      ),

      ("previous",
      [],
      "Previous...",
      [
        (jump_to_menu, "mnu_choose_scenes_1066"),
      ]
      ),

      ("choose_scene_1079",
      [],
      "village_77:_generate",
      [
        (jump_to_scene, "scn_village_77"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_1080",
      [],
      "village_78:_generate",
      [
        (jump_to_scene, "scn_village_78"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_1081",
      [],
      "village_79:_generate",
      [
        (jump_to_scene, "scn_village_79"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_1082",
      [],
      "village_8:_generate",
      [
        (jump_to_scene, "scn_village_8"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_1083",
      [],
      "village_80:_generate",
      [
        (jump_to_scene, "scn_village_80"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_1084",
      [],
      "village_81:_generate",
      [
        (jump_to_scene, "scn_village_81"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_1085",
      [],
      "village_82:_generate",
      [
        (jump_to_scene, "scn_village_82"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_1086",
      [],
      "village_83:_generate",
      [
        (jump_to_scene, "scn_village_83"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_1087",
      [],
      "village_84:_generate",
      [
        (jump_to_scene, "scn_village_84"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_1088",
      [],
      "village_85:_generate",
      [
        (jump_to_scene, "scn_village_85"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_1089",
      [],
      "village_86:_generate",
      [
        (jump_to_scene, "scn_village_86"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_1090",
      [],
      "village_87:_generate",
      [
        (jump_to_scene, "scn_village_87"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_1091",
      [],
      "village_88:_generate",
      [
        (jump_to_scene, "scn_village_88"),
        (change_screen_mission),
      ]
      ),
    ],
  ),

  ("choose_scenes_1092", 0,
    "Choose a scene: (Page 85 of 86)",
    "none",
    [],
    [
      ("back",
      [],
      "Go_back.",
      [
        (change_screen_quit),
      ]
      ),

      ("next",
      [],
      "Next...",
      [
        (jump_to_menu, "mnu_choose_scenes_1105"),
      ]
      ),

      ("previous",
      [],
      "Previous...",
      [
        (jump_to_menu, "mnu_choose_scenes_1079"),
      ]
      ),

      ("choose_scene_1092",
      [],
      "village_89:_generate",
      [
        (jump_to_scene, "scn_village_89"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_1093",
      [],
      "village_9:_generate",
      [
        (jump_to_scene, "scn_village_9"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_1094",
      [],
      "village_90:_generate",
      [
        (jump_to_scene, "scn_village_90"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_1095",
      [],
      "village_91:_generate",
      [
        (jump_to_scene, "scn_village_91"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_1096",
      [],
      "village_92:_generate",
      [
        (jump_to_scene, "scn_village_92"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_1097",
      [],
      "village_93:_generate",
      [
        (jump_to_scene, "scn_village_93"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_1098",
      [],
      "village_94:_generate",
      [
        (jump_to_scene, "scn_village_94"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_1099",
      [],
      "village_95:_generate",
      [
        (jump_to_scene, "scn_village_95"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_1100",
      [],
      "village_96:_generate",
      [
        (jump_to_scene, "scn_village_96"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_1101",
      [],
      "village_97:_generate",
      [
        (jump_to_scene, "scn_village_97"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_1102",
      [],
      "village_98:_generate",
      [
        (jump_to_scene, "scn_village_98"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_1103",
      [],
      "village_99:_generate",
      [
        (jump_to_scene, "scn_village_99"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_1104",
      [],
      "water:_generate",
      [
        (jump_to_scene, "scn_water"),
        (change_screen_mission),
      ]
      ),
    ],
  ),

  ("choose_scenes_1105", 0,
    "Choose a scene: (Page 86 of 86)",
    "none",
    [],
    [
      ("back",
      [],
      "Go_back.",
      [
        (change_screen_quit),
      ]
      ),

      ("previous",
      [],
      "Previous...",
      [
        (jump_to_menu, "mnu_choose_scenes_1092"),
      ]
      ),

      ("choose_scene_1105",
      [],
      "wedding:_indoors",
      [
        (jump_to_scene, "scn_wedding"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_1106",
      [],
      "zendar_arena:_generate",
      [
        (jump_to_scene, "scn_zendar_arena"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_1107",
      [],
      "zendar_center:_generate",
      [
        (jump_to_scene, "scn_zendar_center"),
        (change_screen_mission),
      ]
      ),

      ("choose_scene_1108",
      [],
      "zendar_merchant:_indoors",
      [
        (jump_to_scene, "scn_zendar_merchant"),
        (change_screen_mission),
      ]
      ),
    ],
  ),

  ("troop_tree_switch_modes", mnf_disable_all_keys|mnf_scale_picture,
    "I shouldn't see this.  This should automatically be hidden by a new presentation.",
    "none",
    [
      (try_for_range, ":var0", 0, 400),
        (troop_set_slot, "trp_tpe_presobj", ":var0", 0),
      (try_end),
      (try_begin),
        (eq, "$hub_mode", 0),
        (change_screen_return),
        (start_presentation, "prsnt_all_troops"),
      (else_try),
        (eq, "$hub_mode", 2),
        (change_screen_return),
        (start_presentation, "prsnt_all_troops2"),
      (else_try),
        (eq, "$hub_mode", 4),
        (change_screen_return),
        (start_presentation, "prsnt_all_troops3"),
      (else_try),
        (eq, "$hub_mode", 6),
        (change_screen_return),
        (start_presentation, "prsnt_all_troops4"),
      (else_try),
        (eq, "$hub_mode", 1),
        (change_screen_return),
        (assign, "$g_presentation_next_presentation", "prsnt_all_troops"),
        (start_presentation, "prsnt_troop_note"),
      (else_try),
        (eq, "$hub_mode", 3),
        (change_screen_return),
        (assign, "$g_presentation_next_presentation", "prsnt_all_troops2"),
        (start_presentation, "prsnt_troop_note"),
      (else_try),
        (eq, "$hub_mode", 5),
        (change_screen_return),
        (assign, "$g_presentation_next_presentation", "prsnt_all_troops3"),
        (start_presentation, "prsnt_troop_note"),
      (else_try),
        (eq, "$hub_mode", 7),
        (change_screen_return),
        (assign, "$g_presentation_next_presentation", "prsnt_all_troops4"),
        (start_presentation, "prsnt_troop_note"),
      (try_end),
    ],
    [
      ("continue",
      [],
      "Leave...",
      [
        (jump_to_menu, "mnu_town"),
      ]
      ),
    ],
  ),

  ("create_pcamp", 0,
    "{s5}",
    "none",
    [
      (assign, ":var0", -1),
      (assign, "$g_talk_troop_party", -1),
      (assign, ":var1", 0),
      (try_for_range_backwards, ":var2", "trp_player_camp_chest_1", "trp_player_camp_chest_end"),
        (troop_slot_eq, ":var2", 60, 0),
        (val_add, ":var1", 1),
        (assign, "$g_talk_troop_party", ":var2"),
      (try_end),
      (store_sub, ":var3", "trp_player_camp_chest_end", "trp_player_camp_chest_1"),
      (store_sub, ":var4", ":var3", ":var1"),
      (store_skill_level, ":var5", "skl_leadership", "trp_player"),
      (val_sub, ":var5", 1),
      (val_sub, ":var5", ":var4"),
      (val_max, ":var5", 0),
      (val_min, ":var1", ":var5"),
      (party_get_num_companion_stacks, ":var6", "p_main_party"),
      (try_for_range, ":var7", 0, ":var6"),
        (party_stack_get_troop_id, ":var8", "p_main_party", ":var7"),
        (troop_is_hero, ":var8"),
        (is_between, ":var8", "trp_npc1", "trp_kingdom_1_lord"),
        (troop_slot_eq, ":var8", 8, -1),
        (assign, ":var0", ":var8"),
      (try_end),
      (call_script, "script_get_closest_center", "p_main_party"),
      (assign, "$g_talk_troop_faction", reg0),
      (store_distance_to_party_from_party, ":var9", "p_main_party", reg0),
      (assign, reg5, ":var1"),
      (store_troop_gold, reg6, "trp_player"),
      (assign, reg7, 100),
      (str_store_party_name, s0, "$g_talk_troop_faction"),
      (assign, "$g_talk_troop", -1),
      (try_begin),
        (le, "$g_talk_troop_party", 0),
        (str_store_string, s5, "str_pcamp_too_many_camps"),
      (else_try),
        (le, ":var0", 0),
        (str_store_string, s5, "str_pcamp_no_free_companions"),
      (else_try),
        (lt, reg6, reg7),
        (str_store_string, s5, "str_pcamp_no_reg7_denars"),
      (else_try),
        (le, ":var1", 0),
        (str_store_string, s5, "str_pcamp_skill_too_low"),
        (ge, "$cheat_mode", 1),
        (str_store_string, s5, "str_pcamp_s5_cheat_can_do_anyway"),
        (assign, "$g_talk_troop", ":var0"),
      (else_try),
        (gt, ":var9", 10),
        (str_store_string, s5, "str_pcamp_too_far_from_s0"),
        (ge, "$cheat_mode", 1),
        (str_store_string, s5, "str_pcamp_s5_cheat_can_do_anyway"),
        (assign, "$g_talk_troop", ":var0"),
      (else_try),
        (str_store_string, s5, "str_pcamp_can_start_camp_s0_reg5_reg6_reg7"),
        (assign, "$g_talk_troop", ":var0"),
      (try_end),
    ],
    [
      ("build_camp",
      [
        (ge, "$g_talk_troop", 0),
        (assign, reg7, 100),
      ],
      "Yes,_create_a_permanent_camp._({reg7}_denars)",
      [
        (troop_remove_gold, "trp_player", 100),
        (set_spawn_radius, 0),
        (spawn_around_party, "p_main_party", "pt_player_camp"),
        (assign, ":var0", reg0),
        (party_set_slot, ":var0", 0, 33),
        (party_set_slot, ":var0", 4, -1),
        (party_set_ai_behavior, ":var0", ai_bhvr_hold),
        (party_set_ai_initiative, ":var0", 0),
        (party_set_helpfulness, ":var0", 0),
        (party_set_aggressiveness, ":var0", 0),
        (party_set_courage, ":var0", 100),
        (party_set_bandit_attraction, ":var0", 0),
        (assign, ":var1", "$g_talk_troop_party"),
        (call_script, "script_cleanup_player_camp_slot", ":var1"),
        (troop_set_slot, ":var1", 60, ":var0"),
        (troop_set_slot, ":var1", 12, "$g_talk_troop_faction"),
        (party_set_slot, ":var0", 23, ":var1"),
        (call_script, "script_find_closest_town", ":var0"),
        (troop_set_slot, ":var1", 9, reg0),
        (call_script, "script_set_player_camp_commander", ":var0", "$g_talk_troop"),
        (assign, "$auto_enter_town", ":var0"),
        (change_screen_return),
      ]
      ),

      ("camp_cancel",
      [],
      "Return_to_your_regular_camp.",
      [
        (jump_to_menu, "mnu_camp"),
      ]
      ),
    ],
  ),

  ("player_camp", mnf_scale_picture,
    "You have arrived at your camp. It is commanded by {s3}. What do you want to do?",
    "none",
    [
      (assign, "$g_camp_mode", 0),
      (assign, "$g_player_icon_state", 0),
      (set_background_mesh, "mesh_pic_camp"),
      (try_begin),
        (eq, "$g_leave_encounter", 1),
        (assign, "$g_encountered_party_template", -1),
        (change_screen_return),
      (else_try),
        (party_get_slot, "$g_talk_troop", "$g_encountered_party", 25),
        (party_get_slot, ":var0", "$g_encountered_party", 23),
        (store_troop_gold, ":var1", ":var0"),
        (troop_remove_gold, ":var0", ":var1"),
        (troop_add_gold, "trp_player", ":var1"),
        (call_script, "script_calc_player_camp_bandit_attraction", "$g_encountered_party"),
        (call_script, "script_set_pcamp_banner_from_troop", "$g_encountered_party", "trp_player"),
        (str_store_troop_name, s3, "$g_talk_troop"),
        (try_begin),
          (eq, "$new_encounter", 1),
          (assign, "$new_encounter", 0),
          (assign, "$g_mission_result", 0),
        (try_end),
        (try_begin),
          (this_or_next|eq, "$g_mission_result", 1),
          (party_slot_eq, "$g_encountered_party", 26, 0),
          (assign, "$g_mission_result", 0),
          (party_set_slot, "$g_encountered_party", 26, 1),
          (assign, "$talk_context", 2),
          (call_script, "script_setup_party_meeting", "$g_encountered_party"),
        (try_end),
      (try_end),
    ],
    [
      ("camp_manage",
      [],
      "Manage_the_camp.",
      [
        (assign, "$talk_context", 2),
        (call_script, "script_setup_party_meeting", "$g_encountered_party"),
      ]
      ),

      ("camp_action",
      [],
      "Take_an_action.",
      [
        (jump_to_menu, "mnu_camp_action"),
      ]
      ),

      ("camp_cheat",
      [
        (ge, "$cheat_mode", 1),
      ],
      "CHEAT_MENU!",
      [
        (jump_to_menu, "mnu_camp_cheat"),
      ]
      ),

      ("camp_wait_here",
      [],
      "Wait_here_for_some_time.",
      [
        (assign, "$g_camp_mode", 1),
        (assign, "$g_infinite_camping", 0),
        (assign, "$auto_enter_town", "$g_encountered_party"),
        (rest_for_hours_interactive, 168, 5, 1),
        (assign, "$g_encountered_party_template", -1),
        (change_screen_return),
      ]
      ),

      ("resume_travelling",
      [],
      "Resume_travelling.",
      [
        (assign, "$g_encountered_party_template", -1),
        (change_screen_return),
      ]
      ),
    ],
  ),

]